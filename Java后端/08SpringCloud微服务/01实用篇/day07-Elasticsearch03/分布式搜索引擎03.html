<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="http://ahhwxx.51vip.biz:81/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html"><meta property="og:site_name" content="Hades"><meta property="og:title" content="åˆ†å¸ƒå¼æœç´¢å¼•æ“03"><meta property="og:type" content="article"><meta property="og:image" content="http://ahhwxx.51vip.biz:81/"><meta property="og:updated_time" content="2022-12-13T10:18:09.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="åˆ†å¸ƒå¼æœç´¢å¼•æ“03"><meta property="article:modified_time" content="2022-12-13T10:18:09.000Z"><script>
      (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c6cfefc03bedbb2803a5cad020e7faaa";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);})();
     </script><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="VuePress"><meta name="referrer" content="no-referrer"><meta name="apple-mobile-web-app-title" content="VuePress"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="https://www.vuepress.cn/icons/apple-touch-icon-152x152.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>åˆ†å¸ƒå¼æœç´¢å¼•æ“03 | Hades</title><meta name="description" content="è¿™æ˜¯ä¸€æœ¬ç¬”è®°ï¼Œç”¨äºè®°å½•ç¼–ç¨‹è¿‡ç¨‹ä¸­çš„çŸ¥è¯†ç‚¹">
    <link rel="modulepreload" href="/assets/app.166c275a.js"><link rel="modulepreload" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html.50a52a2a.js"><link rel="modulepreload" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html.8f8df2d8.js"><link rel="prefetch" href="/assets/index.html.f8911b23.js"><link rel="prefetch" href="/assets/index.html.a9e81c7e.js"><link rel="prefetch" href="/assets/index.html.443d7f36.js"><link rel="prefetch" href="/assets/Macä¸‹mongodbå®‰è£…å’Œé…ç½®.html.26410259.js"><link rel="prefetch" href="/assets/Macä¸‹å‘½ä»¤è¡Œé…ç½®ç¯å¢ƒå˜é‡.html.819e9133.js"><link rel="prefetch" href="/assets/Macå…¨è‡ªåŠ¨å®‰è£…brewä¸€é”®é…ç½®å›½å†…é•œåƒæº.html.e772a006.js"><link rel="prefetch" href="/assets/Macç»ˆç«¯å‘½ä»¤è®°å½•.html.7783b931.js"><link rel="prefetch" href="/assets/Nginxæ­å»ºHTTPSï¼Œå¹¶åå‘ä»£ç†åˆ°webé¡µé¢_mkcertç”Ÿæˆæœ¬åœ°SSLè¯ä¹¦.html.2ec6bdb0.js"><link rel="prefetch" href="/assets/PDFè½¬Markdownæ–‡ä»¶.html.8d6aa7c7.js"><link rel="prefetch" href="/assets/index.html.287a9117.js"><link rel="prefetch" href="/assets/VSCodeä½¿ç”¨è®°å½•.html.bda23559.js"><link rel="prefetch" href="/assets/docsearchå…¨ç«™æœç´¢.html.49031418.js"><link rel="prefetch" href="/assets/ideaæ’ä»¶åˆ†äº«.html.e58d2459.js"><link rel="prefetch" href="/assets/jetbrainså…¨å®¶æ¡¶æ¿€æ´»ç­–ç•¥.html.df8b794f.js"><link rel="prefetch" href="/assets/ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•.html.2b81f95a.js"><link rel="prefetch" href="/assets/æµ…è°ˆæ–‡è¨€æ–‡ä¸è‹±è¯­è¯­æ³•çš„ç›¸ä¼¼ç‚¹.html.995d875f.js"><link rel="prefetch" href="/assets/é¢å‘AIå¼€å‘.html.5b10e32c.js"><link rel="prefetch" href="/assets/é¸¿è’™3å®‰è£…apkæ— é¡»ç™»å½•.html.022a3044.js"><link rel="prefetch" href="/assets/index.html.fada5771.js"><link rel="prefetch" href="/assets/index.html.991c904f.js"><link rel="prefetch" href="/assets/aboutme.html.69269699.js"><link rel="prefetch" href="/assets/FRPå†…ç½‘ç©¿é€æ­å»º(æ— åŸŸåç‰ˆ).html.35eb25da.js"><link rel="prefetch" href="/assets/index.html.e05a7130.js"><link rel="prefetch" href="/assets/linuxå‰ç«¯é¡¹ç›®éƒ¨ç½².html.c4bd21bc.js"><link rel="prefetch" href="/assets/linuxç¯å¢ƒå˜é‡é…ç½®é”™è¯¯åå‘½ä»¤æ— æ³•ä½¿ç”¨è§£å†³æ–¹æ¡ˆ.html.c691ac65.js"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€å·¥å…·æ¯”è¾ƒ.html.d269d218.js"><link rel="prefetch" href="/assets/åœ¨CentOSä¸Šæ­å»ºSambaæœåŠ¡å™¨.html.128449fb.js"><link rel="prefetch" href="/assets/index.html.f3e49817.js"><link rel="prefetch" href="/assets/ç¬¬01ç« Androidå¼€å‘ç¯å¢ƒæ­å»º.html.f46eddba.js"><link rel="prefetch" href="/assets/ç¬¬02ç« AndroidAppå¼€å‘åŸºç¡€.html.43b79d60.js"><link rel="prefetch" href="/assets/ç¬¬03ç« ç®€å•æ§ä»¶.html.511eb9ca.js"><link rel="prefetch" href="/assets/ç¬¬04ç« æ´»åŠ¨Activity.html.71c6fee4.js"><link rel="prefetch" href="/assets/ç¬¬05ç« ä¸­çº§æ§ä»¶.html.0a00ebf3.js"><link rel="prefetch" href="/assets/ç¬¬06ç« æ•°æ®å­˜å‚¨.html.269fd7a2.js"><link rel="prefetch" href="/assets/ç¬¬07ç« å†…å®¹å…±äº«.html.175369bb.js"><link rel="prefetch" href="/assets/ç¬¬08ç« é«˜çº§æ§ä»¶.html.445f1900.js"><link rel="prefetch" href="/assets/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.html.55914a19.js"><link rel="prefetch" href="/assets/ç¬¬10ç« è‡ªå®šä¹‰æ§ä»¶.html.91afbf6d.js"><link rel="prefetch" href="/assets/AndroidStudioä»£ç†é—®é¢˜Connect.html.dab34393.js"><link rel="prefetch" href="/assets/AndroidStudioæ‰“åŒ…aarä¸¢å¤±è¿œç¨‹ä¾èµ–é—®é¢˜è§£å†³.html.a115c6e1.js"><link rel="prefetch" href="/assets/AndroidStudioç™»å½•googleè´¦å·å¤±è´¥é—®é¢˜.html.d8661fad.js"><link rel="prefetch" href="/assets/Apkåº”ç”¨é‡ç­¾åâ€”ä½¿ç”¨AndroidStudioè‡ªå¸¦å·¥å…·apksigner.html.46bf7dab.js"><link rel="prefetch" href="/assets/ä¸å¸¸ç”¨çš„ADBå‘½ä»¤.html.d0a649da.js"><link rel="prefetch" href="/assets/01MySQLç²¾ç®€ç¬”è®°.html.f3b83ace.js"><link rel="prefetch" href="/assets/02JDBC.html.47dcd1b9.js"><link rel="prefetch" href="/assets/03Maven.html.a6a998b3.js"><link rel="prefetch" href="/assets/04Mybatis.html.4853489e.js"><link rel="prefetch" href="/assets/05ç½‘é¡µä¸‰å‰‘å®¢.html.69ec6918.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.0ba4a96a.js"><link rel="prefetch" href="/assets/07Request_Response.html.75d6284c.js"><link rel="prefetch" href="/assets/08JSP.html.35700bfa.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.6aea4067.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.9dfbf7b9.js"><link rel="prefetch" href="/assets/11Vue_Element.html.1966c648.js"><link rel="prefetch" href="/assets/12ç»¼åˆæ¡ˆä¾‹.html.5f95bc3d.js"><link rel="prefetch" href="/assets/index.html.d212be0c.js"><link rel="prefetch" href="/assets/POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.81be4d59.js"><link rel="prefetch" href="/assets/index.html.424f11e3.js"><link rel="prefetch" href="/assets/index.html.36a503c1.js"><link rel="prefetch" href="/assets/index.html.ceee3cb5.js"><link rel="prefetch" href="/assets/index.html.b0020a33.js"><link rel="prefetch" href="/assets/index.html.c810cee8.js"><link rel="prefetch" href="/assets/index.html.b5c28815.js"><link rel="prefetch" href="/assets/index.html.12a5c12e.js"><link rel="prefetch" href="/assets/index.html.776ff0eb.js"><link rel="prefetch" href="/assets/index.html.aae3b646.js"><link rel="prefetch" href="/assets/index.html.4167b5c2.js"><link rel="prefetch" href="/assets/request.getInputStreamåªèƒ½è¯»å–ä¸€æ¬¡é—®é¢˜.html.bd2c58f7.js"><link rel="prefetch" href="/assets/ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨.html.6944a42c.js"><link rel="prefetch" href="/assets/é”™è¯¯é›†åˆ.html.aa7ecbd5.js"><link rel="prefetch" href="/assets/index.html.d93e5d1b.js"><link rel="prefetch" href="/assets/index.html.6074a4b2.js"><link rel="prefetch" href="/assets/index.html.126230e0.js"><link rel="prefetch" href="/assets/index.html.d984d618.js"><link rel="prefetch" href="/assets/Nodeå¤šç‰ˆæœ¬ç®¡ç†.html.b9ac5171.js"><link rel="prefetch" href="/assets/index.html.1d6f705e.js"><link rel="prefetch" href="/assets/Webè°ƒè¯•å…¥é—¨.html.19e0c86f.js"><link rel="prefetch" href="/assets/å…³äºESLInké…ç½®é—®é¢˜.html.8fde72e0.js"><link rel="prefetch" href="/assets/index.html.80ab1fc5.js"><link rel="prefetch" href="/assets/MySQL-åŸºç¡€ç¯‡.html.983a0f90.js"><link rel="prefetch" href="/assets/Mavené«˜çº§.html.b2a9f6f0.js"><link rel="prefetch" href="/assets/SpringBoot.html.4ff0296d.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.142a22d5.js"><link rel="prefetch" href="/assets/RestTemplate.html.64604077.js"><link rel="prefetch" href="/assets/Dubboè¯¦è§£.html.5962e998.js"><link rel="prefetch" href="/assets/Macä¸‹ZooKeeperå®‰è£…å’Œä½¿ç”¨.html.c1a51bab.js"><link rel="prefetch" href="/assets/Zookeeperé›†ç¾¤æ­å»º.html.0658289e.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬10ç« ï¼‰.html.9c4c35b4.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬11ç« ï¼‰.html.db35024a.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬12ç« ï¼‰.html.d8b70e69.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬13ç« ï¼‰.html.88609c9b.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬1ç« ï¼‰.html.ae3266c6.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬2ç« ï¼‰.html.f1261d89.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬3ç« ï¼‰.html.d3f7bede.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬4ç« ï¼‰.html.0858459d.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬5ç« ï¼‰.html.e5198ebf.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬6ç« ï¼‰.html.b8d47289.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬7ç« ï¼‰.html.f77134ee.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬8ç« ï¼‰.html.70dd80b1.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬9ç« ï¼‰.html.bfca520b.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.83e4fdfd.js"><link rel="prefetch" href="/assets/Linux-Day01.html.253e571d.js"><link rel="prefetch" href="/assets/Linux-Day02.html.63f777ab.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html.f0710ded.js"><link rel="prefetch" href="/assets/Gitè¯¾ç¨‹è®²ä¹‰.html.fc0326a7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day01.html.344d54ae.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day02.html.74ffa222.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day03.html.4c736155.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day04.html.8c5f7db1.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day05.html.14d78f2f.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day06.html.9125ab2f.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day01.html.e9fc7f33.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day02.html.74275047.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day03.html.ce58aedd.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡å¸¸è§é¢è¯•é¢˜.html.70a444e5.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.7f90044a.js"><link rel="prefetch" href="/assets/day01-HTMLåŸºç¡€.html.83b374e8.js"><link rel="prefetch" href="/assets/day02-HTMLè¿›é˜¶.html.4cf33ed8.js"><link rel="prefetch" href="/assets/day03-CSSåŸºç¡€.html.31fc73fd.js"><link rel="prefetch" href="/assets/day04-CSSè¿›é˜¶.html.16c20095.js"><link rel="prefetch" href="/assets/day05-ç›’å­æ¨¡å‹.html.961b8487.js"><link rel="prefetch" href="/assets/day06-Flexå¸ƒå±€.html.75b59be8.js"><link rel="prefetch" href="/assets/day07-å­¦æˆåœ¨çº¿.html.a86b7b85.js"><link rel="prefetch" href="/assets/day08-CSSé«˜çº§.html.27296862.js"><link rel="prefetch" href="/assets/day09-å°å…”é²œå„¿.html.1d86acad.js"><link rel="prefetch" href="/assets/day10-å°å…”é²œå„¿.html.d020dbbe.js"><link rel="prefetch" href="/assets/Day01-é¡¹ç›®ä»‹ç»åŠåˆå§‹åŒ–-ç™»å½•é¡µé¢.html.e11fbd08.js"><link rel="prefetch" href="/assets/Day02-ç™»å½•æ¨¡å—-ä¸»é¡µé‰´æƒ.html.ead08a87.js"><link rel="prefetch" href="/assets/Day03-ä¸»é¡µæ¨¡å—-ä¿®æ”¹å¯†ç .html.9b5309ed.js"><link rel="prefetch" href="/assets/Day04-ç»„ç»‡æ¶æ„.html.88c5500c.js"><link rel="prefetch" href="/assets/Day05-ç»„ç»‡æ¶æ„-è§’è‰²ç®¡ç†.html.9fa7b208.js"><link rel="prefetch" href="/assets/Day06-è§’è‰²ç®¡ç†-å‘˜å·¥ç®¡ç†.html.dde328cc.js"><link rel="prefetch" href="/assets/Day07-å‘˜å·¥ç®¡ç†-ä¸Šä¼ ä¸‹è½½.html.06c2dac0.js"><link rel="prefetch" href="/assets/Day08-Cosä¸Šä¼ å’Œæƒé™æ•°æ®.html.bb1e1952.js"><link rel="prefetch" href="/assets/Day09-æƒé™åº”ç”¨-é¦–é¡µ.html.921e93d9.js"><link rel="prefetch" href="/assets/Day10-é¦–é¡µå›¾è¡¨-Nginxä¸Šçº¿.html.3d9cf349.js"><link rel="prefetch" href="/assets/1.Vue3å…¥é—¨.html.7a3e0d8a.js"><link rel="prefetch" href="/assets/10.è´­ç‰©è½¦.html.20ea2ead.js"><link rel="prefetch" href="/assets/11.è®¢å•é¡µ.html.bc6d8649.js"><link rel="prefetch" href="/assets/12.æ”¯ä»˜é¡µ.html.d40cfeb4.js"><link rel="prefetch" href="/assets/13.ä¼šå‘˜ä¸­å¿ƒ.html.5fe719d8.js"><link rel="prefetch" href="/assets/14.æ‹“å±•éƒ¨åˆ†.html.035d5c83.js"><link rel="prefetch" href="/assets/2.Piniaå…¥é—¨.html.b2c06181.js"><link rel="prefetch" href="/assets/3.é¡¹ç›®èµ·æ­¥.html.dcb305d1.js"><link rel="prefetch" href="/assets/4.Layouté¡µ.html.05996fb4.js"><link rel="prefetch" href="/assets/5.Homeé¡µ.html.d45d0a35.js"><link rel="prefetch" href="/assets/6.ä¸€çº§åˆ†ç±»é¡µ.html.5eea439d.js"><link rel="prefetch" href="/assets/7.äºŒçº§åˆ†ç±»é¡µ.html.fe7411e1.js"><link rel="prefetch" href="/assets/8.å•†å“è¯¦æƒ….html.d409a15f.js"><link rel="prefetch" href="/assets/9.ç™»å½•é¡µ.html.f44613c3.js"><link rel="prefetch" href="/assets/day01.html.fbe0c77d.js"><link rel="prefetch" href="/assets/day02.html.bf57e82f.js"><link rel="prefetch" href="/assets/day03.html.3f87b87d.js"><link rel="prefetch" href="/assets/index.html.ecf4772f.js"><link rel="prefetch" href="/assets/day01.html.351f5439.js"><link rel="prefetch" href="/assets/day02.html.9033a479.js"><link rel="prefetch" href="/assets/day03.html.bc46a39c.js"><link rel="prefetch" href="/assets/day04.html.32a035a0.js"><link rel="prefetch" href="/assets/index.html.13abadda.js"><link rel="prefetch" href="/assets/interview-base.html.d0e3b5ce.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.b2fc38f7.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.73cc0644.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.3411ecb3.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€ç¯‡.html.4f17ecfc.js"><link rel="prefetch" href="/assets/Rediså¿«é€Ÿå…¥é—¨.html.176c3209.js"><link rel="prefetch" href="/assets/Rediså®æˆ˜ç¯‡.html.c0446a1e.js"><link rel="prefetch" href="/assets/RedisåŸç†ç¯‡.html.ff47cd6d.js"><link rel="prefetch" href="/assets/Spring-day01.html.2591c6f9.js"><link rel="prefetch" href="/assets/Spring-day02.html.a3938deb.js"><link rel="prefetch" href="/assets/Spring-day03.html.27a0461c.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.f39177c9.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.92cd2e7a.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.ce11b667.js"><link rel="prefetch" href="/assets/SpringBootStart.html.e28c8523.js"><link rel="prefetch" href="/assets/SpringBootæ•´åˆSSMP.html.0a5bad92.js"><link rel="prefetch" href="/assets/SpringBootç»¼åˆæ¡ˆä¾‹.html.d254b936.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.170aeb64.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.bf5adc8a.js"><link rel="prefetch" href="/assets/Centos8-streamåœ¨çœŸæœºä¸Šå®‰è£…æ’å‘.html.c1b5bffc.js"><link rel="prefetch" href="/assets/Centos9å®‰è£…mysql.html.97318a7b.js"><link rel="prefetch" href="/assets/SpringCloud01.html.4c0913ab.js"><link rel="prefetch" href="/assets/SpringCloudå®ç”¨ç¯‡02.html.6748f69e.js"><link rel="prefetch" href="/assets/Dockerå®ç”¨ç¯‡.html.f390c0e6.js"><link rel="prefetch" href="/assets/RabbitMQ.html.34befdb9.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.e99c3207.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.298d8dd9.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡ä¿æŠ¤.html.fb6f3406.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.8d42dced.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.e5b2328f.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.1109e04b.js"><link rel="prefetch" href="/assets/RabbitMQ-é«˜çº§ç¯‡.html.068e81ba.js"><link rel="prefetch" href="/assets/Mybatisç¬¬ä¸€å¤©.html.d17fcb40.js"><link rel="prefetch" href="/assets/Mybatisç¬¬äºŒå¤©.html.1b60549f.js"><link rel="prefetch" href="/assets/ç§»åŠ¨webç¬¬ä¸€å¤©.html.5386e935.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äºŒå¤©.html.a21706f0.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬ä¸‰å¤©.html.54675ebf.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬å››å¤©.html.f0cfeb65.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äº”å¤©.html.d8a669d2.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸€å¤©.html.891495a2.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸‰å¤©.html.50e03400.js"><link rel="prefetch" href="/assets/javascriptåŸºç¡€ç¬¬äºŒå¤©ç¬”è®°.html.651a1cce.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬äº”å¤©.html.532055f8.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬å››å¤©.html.48f9f757.js"><link rel="prefetch" href="/assets/index.html.2ae2a053.js"><link rel="prefetch" href="/assets/ä¸ªäººå®æˆ˜æ–‡æ¡£.html.a215a567.js"><link rel="prefetch" href="/assets/index.html.a41e5068.js"><link rel="prefetch" href="/assets/index.html.a943c6ed.js"><link rel="prefetch" href="/assets/index.html.f484fa51.js"><link rel="prefetch" href="/assets/index.html.b30fb1f3.js"><link rel="prefetch" href="/assets/index.html.987f5152.js"><link rel="prefetch" href="/assets/JavaScriptè¿›é˜¶ç¬¬ä¸€å¤©.html.ec2e3daf.js"><link rel="prefetch" href="/assets/day03.html.6267d184.js"><link rel="prefetch" href="/assets/day02.html.09d76878.js"><link rel="prefetch" href="/assets/day04.html.0b590623.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.c9d930a9.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.06ba9256.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.a54bfa16.js"><link rel="prefetch" href="/assets/day01.html.d79c2345.js"><link rel="prefetch" href="/assets/day02.html.f509e6ac.js"><link rel="prefetch" href="/assets/day03.html.921fa42c.js"><link rel="prefetch" href="/assets/day04.html.5429aced.js"><link rel="prefetch" href="/assets/day05.html.2ee35e36.js"><link rel="prefetch" href="/assets/day06.html.3e19a000.js"><link rel="prefetch" href="/assets/day07.html.701034e2.js"><link rel="prefetch" href="/assets/æ™ºæ…§å•†åŸé¡¹ç›®.html.2d8a4342.js"><link rel="prefetch" href="/assets/Vue3å…¥é—¨.html.3a51fd0e.js"><link rel="prefetch" href="/assets/Pinia.html.8dd4c37f.js"><link rel="prefetch" href="/assets/å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿ.html.3ae81f5c.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®èµ·æ­¥.html.40242e6f.js"><link rel="prefetch" href="/assets/02-é¦–é¡µæ¨¡å—.html.5c3c430b.js"><link rel="prefetch" href="/assets/03-æ¨èæ¨¡å—.html.ee78b4d8.js"><link rel="prefetch" href="/assets/04-åˆ†ç±»æ¨¡å—.html.0812086c.js"><link rel="prefetch" href="/assets/05-è¯¦æƒ…æ¨¡å—.html.b637efab.js"><link rel="prefetch" href="/assets/06-ç™»å½•æ¨¡å—.html.baebe0ce.js"><link rel="prefetch" href="/assets/07-ç”¨æˆ·æ¨¡å—.html.9843276f.js"><link rel="prefetch" href="/assets/08-åœ°å€æ¨¡å—.html.768b97bc.js"><link rel="prefetch" href="/assets/09-SKUæ¨¡å—.html.fe99e19d.js"><link rel="prefetch" href="/assets/10-è´­ç‰©è½¦æ¨¡å—.html.e30fddab.js"><link rel="prefetch" href="/assets/11-è®¢å•æ¨¡å—.html.8d760634.js"><link rel="prefetch" href="/assets/12-é¡¹ç›®æ‰“åŒ….html.8f746655.js"><link rel="prefetch" href="/assets/index.html.0ef7e9e2.js"><link rel="prefetch" href="/assets/ç¬¬1å¤©.html.5285f02c.js"><link rel="prefetch" href="/assets/ç¬¬2å¤©.html.a31747e8.js"><link rel="prefetch" href="/assets/ç¬¬3å¤©.html.d4a9e617.js"><link rel="prefetch" href="/assets/ç¬¬4å¤©.html.ae52fb77.js"><link rel="prefetch" href="/assets/ç¬¬5å¤©.html.05d1cc31.js"><link rel="prefetch" href="/assets/å°ç¨‹åºè‡ªå®šä¹‰tabBar.html.ef7ea157.js"><link rel="prefetch" href="/assets/ç¬¬6å¤©.html.346be0e3.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.bc54879d.js"><link rel="prefetch" href="/assets/Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.187c57dc.js"><link rel="prefetch" href="/assets/Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.d4751937.js"><link rel="prefetch" href="/assets/Nacoså®‰è£…æŒ‡å—.html.7df3cc60.js"><link rel="prefetch" href="/assets/Nacosé›†ç¾¤æ­å»º.html.fbd16a6a.js"><link rel="prefetch" href="/assets/Centos7å®‰è£…Docker.html.5181da35.js"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html.f7286eb5.js"><link rel="prefetch" href="/assets/å®‰è£…elasticsearch.html.c7bb5c77.js"><link rel="prefetch" href="/assets/Day02_AJAXç»¼åˆæ¡ˆä¾‹.html.f2a65bb1.js"><link rel="prefetch" href="/assets/Day03_AJAXåŸç†.html.d00ba48d.js"><link rel="prefetch" href="/assets/Day04_AJAXè¿›é˜¶.html.cac2ce24.js"><link rel="prefetch" href="/assets/Day01_AJAXå…¥é—¨.html.374298e3.js"><link rel="prefetch" href="/assets/404.html.81c07e69.js"><link rel="prefetch" href="/assets/index.html.92fbf6ff.js"><link rel="prefetch" href="/assets/index.html.e40858f0.js"><link rel="prefetch" href="/assets/index.html.ec1567cc.js"><link rel="prefetch" href="/assets/Macä¸‹mongodbå®‰è£…å’Œé…ç½®.html.736342d9.js"><link rel="prefetch" href="/assets/Macä¸‹å‘½ä»¤è¡Œé…ç½®ç¯å¢ƒå˜é‡.html.7d720e53.js"><link rel="prefetch" href="/assets/Macå…¨è‡ªåŠ¨å®‰è£…brewä¸€é”®é…ç½®å›½å†…é•œåƒæº.html.421fe805.js"><link rel="prefetch" href="/assets/Macç»ˆç«¯å‘½ä»¤è®°å½•.html.5f155e25.js"><link rel="prefetch" href="/assets/Nginxæ­å»ºHTTPSï¼Œå¹¶åå‘ä»£ç†åˆ°webé¡µé¢_mkcertç”Ÿæˆæœ¬åœ°SSLè¯ä¹¦.html.b4ebda6f.js"><link rel="prefetch" href="/assets/PDFè½¬Markdownæ–‡ä»¶.html.638323fb.js"><link rel="prefetch" href="/assets/index.html.9e2c0472.js"><link rel="prefetch" href="/assets/VSCodeä½¿ç”¨è®°å½•.html.e1d97562.js"><link rel="prefetch" href="/assets/docsearchå…¨ç«™æœç´¢.html.68ee7ee4.js"><link rel="prefetch" href="/assets/ideaæ’ä»¶åˆ†äº«.html.99b11191.js"><link rel="prefetch" href="/assets/jetbrainså…¨å®¶æ¡¶æ¿€æ´»ç­–ç•¥.html.49a730a7.js"><link rel="prefetch" href="/assets/ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•.html.901cd5e5.js"><link rel="prefetch" href="/assets/æµ…è°ˆæ–‡è¨€æ–‡ä¸è‹±è¯­è¯­æ³•çš„ç›¸ä¼¼ç‚¹.html.9f127ec3.js"><link rel="prefetch" href="/assets/é¢å‘AIå¼€å‘.html.a0de42d8.js"><link rel="prefetch" href="/assets/é¸¿è’™3å®‰è£…apkæ— é¡»ç™»å½•.html.9ba7e260.js"><link rel="prefetch" href="/assets/index.html.4646d1b3.js"><link rel="prefetch" href="/assets/index.html.ed5f40cf.js"><link rel="prefetch" href="/assets/aboutme.html.80c5e6fb.js"><link rel="prefetch" href="/assets/FRPå†…ç½‘ç©¿é€æ­å»º(æ— åŸŸåç‰ˆ).html.ed427348.js"><link rel="prefetch" href="/assets/index.html.c96fd998.js"><link rel="prefetch" href="/assets/linuxå‰ç«¯é¡¹ç›®éƒ¨ç½².html.4a9e37f3.js"><link rel="prefetch" href="/assets/linuxç¯å¢ƒå˜é‡é…ç½®é”™è¯¯åå‘½ä»¤æ— æ³•ä½¿ç”¨è§£å†³æ–¹æ¡ˆ.html.91152588.js"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€å·¥å…·æ¯”è¾ƒ.html.da1da9c1.js"><link rel="prefetch" href="/assets/åœ¨CentOSä¸Šæ­å»ºSambaæœåŠ¡å™¨.html.3868ccef.js"><link rel="prefetch" href="/assets/index.html.d39227bb.js"><link rel="prefetch" href="/assets/ç¬¬01ç« Androidå¼€å‘ç¯å¢ƒæ­å»º.html.68778f2a.js"><link rel="prefetch" href="/assets/ç¬¬02ç« AndroidAppå¼€å‘åŸºç¡€.html.fc16bfe6.js"><link rel="prefetch" href="/assets/ç¬¬03ç« ç®€å•æ§ä»¶.html.cc1bfff5.js"><link rel="prefetch" href="/assets/ç¬¬04ç« æ´»åŠ¨Activity.html.542e1777.js"><link rel="prefetch" href="/assets/ç¬¬05ç« ä¸­çº§æ§ä»¶.html.c7e7c4be.js"><link rel="prefetch" href="/assets/ç¬¬06ç« æ•°æ®å­˜å‚¨.html.4f083cd8.js"><link rel="prefetch" href="/assets/ç¬¬07ç« å†…å®¹å…±äº«.html.9e0c731b.js"><link rel="prefetch" href="/assets/ç¬¬08ç« é«˜çº§æ§ä»¶.html.947fa527.js"><link rel="prefetch" href="/assets/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.html.577b445d.js"><link rel="prefetch" href="/assets/ç¬¬10ç« è‡ªå®šä¹‰æ§ä»¶.html.b11d240c.js"><link rel="prefetch" href="/assets/AndroidStudioä»£ç†é—®é¢˜Connect.html.66ee72e9.js"><link rel="prefetch" href="/assets/AndroidStudioæ‰“åŒ…aarä¸¢å¤±è¿œç¨‹ä¾èµ–é—®é¢˜è§£å†³.html.ba40c91c.js"><link rel="prefetch" href="/assets/AndroidStudioç™»å½•googleè´¦å·å¤±è´¥é—®é¢˜.html.9eadda3e.js"><link rel="prefetch" href="/assets/Apkåº”ç”¨é‡ç­¾åâ€”ä½¿ç”¨AndroidStudioè‡ªå¸¦å·¥å…·apksigner.html.9255d4fb.js"><link rel="prefetch" href="/assets/ä¸å¸¸ç”¨çš„ADBå‘½ä»¤.html.2301d76a.js"><link rel="prefetch" href="/assets/01MySQLç²¾ç®€ç¬”è®°.html.35bb5798.js"><link rel="prefetch" href="/assets/02JDBC.html.7d234328.js"><link rel="prefetch" href="/assets/03Maven.html.de9c3774.js"><link rel="prefetch" href="/assets/04Mybatis.html.eb63e606.js"><link rel="prefetch" href="/assets/05ç½‘é¡µä¸‰å‰‘å®¢.html.6b60e1a4.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.38b1ef22.js"><link rel="prefetch" href="/assets/07Request_Response.html.e1b24e4e.js"><link rel="prefetch" href="/assets/08JSP.html.194b24dc.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.d1824ae8.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.69e8ab71.js"><link rel="prefetch" href="/assets/11Vue_Element.html.79fd0c2f.js"><link rel="prefetch" href="/assets/12ç»¼åˆæ¡ˆä¾‹.html.63b7cac5.js"><link rel="prefetch" href="/assets/index.html.8b3c8919.js"><link rel="prefetch" href="/assets/POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.097a5d72.js"><link rel="prefetch" href="/assets/index.html.2d04fed8.js"><link rel="prefetch" href="/assets/index.html.a9d0c572.js"><link rel="prefetch" href="/assets/index.html.ad6479e1.js"><link rel="prefetch" href="/assets/index.html.707aa31d.js"><link rel="prefetch" href="/assets/index.html.1843b5e9.js"><link rel="prefetch" href="/assets/index.html.01da62ec.js"><link rel="prefetch" href="/assets/index.html.7e228cd6.js"><link rel="prefetch" href="/assets/index.html.ce0aa146.js"><link rel="prefetch" href="/assets/index.html.ae66a602.js"><link rel="prefetch" href="/assets/index.html.23188331.js"><link rel="prefetch" href="/assets/request.getInputStreamåªèƒ½è¯»å–ä¸€æ¬¡é—®é¢˜.html.94ef0144.js"><link rel="prefetch" href="/assets/ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨.html.adc40fbf.js"><link rel="prefetch" href="/assets/é”™è¯¯é›†åˆ.html.1902771e.js"><link rel="prefetch" href="/assets/index.html.07cc1e7c.js"><link rel="prefetch" href="/assets/index.html.ed46d2b2.js"><link rel="prefetch" href="/assets/index.html.26154657.js"><link rel="prefetch" href="/assets/index.html.a89d59ab.js"><link rel="prefetch" href="/assets/Nodeå¤šç‰ˆæœ¬ç®¡ç†.html.23432454.js"><link rel="prefetch" href="/assets/index.html.3220da42.js"><link rel="prefetch" href="/assets/Webè°ƒè¯•å…¥é—¨.html.32e31997.js"><link rel="prefetch" href="/assets/å…³äºESLInké…ç½®é—®é¢˜.html.601c708b.js"><link rel="prefetch" href="/assets/index.html.81dd64a7.js"><link rel="prefetch" href="/assets/MySQL-åŸºç¡€ç¯‡.html.ea685d4e.js"><link rel="prefetch" href="/assets/Mavené«˜çº§.html.f953be6e.js"><link rel="prefetch" href="/assets/SpringBoot.html.656f5974.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.0618d8d7.js"><link rel="prefetch" href="/assets/RestTemplate.html.e4407e5b.js"><link rel="prefetch" href="/assets/Dubboè¯¦è§£.html.b63868e7.js"><link rel="prefetch" href="/assets/Macä¸‹ZooKeeperå®‰è£…å’Œä½¿ç”¨.html.b7e9aa6d.js"><link rel="prefetch" href="/assets/Zookeeperé›†ç¾¤æ­å»º.html.8710cb4e.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬10ç« ï¼‰.html.866d0852.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬11ç« ï¼‰.html.fe6fc07f.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬12ç« ï¼‰.html.dfedc3a4.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬13ç« ï¼‰.html.c08efd79.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬1ç« ï¼‰.html.fa66e48b.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬2ç« ï¼‰.html.4dfeadd4.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬3ç« ï¼‰.html.63143093.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬4ç« ï¼‰.html.d0567d09.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬5ç« ï¼‰.html.8af710b1.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬6ç« ï¼‰.html.3c364cc8.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬7ç« ï¼‰.html.72ba46fc.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬8ç« ï¼‰.html.c8118794.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬9ç« ï¼‰.html.a0407ad1.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.25cc4594.js"><link rel="prefetch" href="/assets/Linux-Day01.html.116cbab9.js"><link rel="prefetch" href="/assets/Linux-Day02.html.7ba3c82c.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html.8ccd3a80.js"><link rel="prefetch" href="/assets/Gitè¯¾ç¨‹è®²ä¹‰.html.9a252ae7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day01.html.3ef486ec.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day02.html.15ded454.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day03.html.11e5154d.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day04.html.843344a7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day05.html.38768af1.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day06.html.bdbf82e0.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day01.html.78bb75f4.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day02.html.5292a2ce.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day03.html.68069b64.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡å¸¸è§é¢è¯•é¢˜.html.a4dc3b89.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.da1c139d.js"><link rel="prefetch" href="/assets/day01-HTMLåŸºç¡€.html.34459185.js"><link rel="prefetch" href="/assets/day02-HTMLè¿›é˜¶.html.c9732cc4.js"><link rel="prefetch" href="/assets/day03-CSSåŸºç¡€.html.1a5a9f88.js"><link rel="prefetch" href="/assets/day04-CSSè¿›é˜¶.html.d7898ffc.js"><link rel="prefetch" href="/assets/day05-ç›’å­æ¨¡å‹.html.a326bf54.js"><link rel="prefetch" href="/assets/day06-Flexå¸ƒå±€.html.cb931421.js"><link rel="prefetch" href="/assets/day07-å­¦æˆåœ¨çº¿.html.4b5d140d.js"><link rel="prefetch" href="/assets/day08-CSSé«˜çº§.html.1e1fd381.js"><link rel="prefetch" href="/assets/day09-å°å…”é²œå„¿.html.483fba8f.js"><link rel="prefetch" href="/assets/day10-å°å…”é²œå„¿.html.0af78916.js"><link rel="prefetch" href="/assets/Day01-é¡¹ç›®ä»‹ç»åŠåˆå§‹åŒ–-ç™»å½•é¡µé¢.html.5583346a.js"><link rel="prefetch" href="/assets/Day02-ç™»å½•æ¨¡å—-ä¸»é¡µé‰´æƒ.html.4c64d2f9.js"><link rel="prefetch" href="/assets/Day03-ä¸»é¡µæ¨¡å—-ä¿®æ”¹å¯†ç .html.5438e16a.js"><link rel="prefetch" href="/assets/Day04-ç»„ç»‡æ¶æ„.html.05f70f07.js"><link rel="prefetch" href="/assets/Day05-ç»„ç»‡æ¶æ„-è§’è‰²ç®¡ç†.html.5d7edd53.js"><link rel="prefetch" href="/assets/Day06-è§’è‰²ç®¡ç†-å‘˜å·¥ç®¡ç†.html.7c82720b.js"><link rel="prefetch" href="/assets/Day07-å‘˜å·¥ç®¡ç†-ä¸Šä¼ ä¸‹è½½.html.f70ad5c9.js"><link rel="prefetch" href="/assets/Day08-Cosä¸Šä¼ å’Œæƒé™æ•°æ®.html.05a8a948.js"><link rel="prefetch" href="/assets/Day09-æƒé™åº”ç”¨-é¦–é¡µ.html.d6031099.js"><link rel="prefetch" href="/assets/Day10-é¦–é¡µå›¾è¡¨-Nginxä¸Šçº¿.html.64d67e52.js"><link rel="prefetch" href="/assets/1.Vue3å…¥é—¨.html.2f2fdbe0.js"><link rel="prefetch" href="/assets/10.è´­ç‰©è½¦.html.02817c2d.js"><link rel="prefetch" href="/assets/11.è®¢å•é¡µ.html.bd292f6f.js"><link rel="prefetch" href="/assets/12.æ”¯ä»˜é¡µ.html.2c4eff75.js"><link rel="prefetch" href="/assets/13.ä¼šå‘˜ä¸­å¿ƒ.html.e4a42cd2.js"><link rel="prefetch" href="/assets/14.æ‹“å±•éƒ¨åˆ†.html.ca945d4b.js"><link rel="prefetch" href="/assets/2.Piniaå…¥é—¨.html.801fa8da.js"><link rel="prefetch" href="/assets/3.é¡¹ç›®èµ·æ­¥.html.702da6da.js"><link rel="prefetch" href="/assets/4.Layouté¡µ.html.193b1e52.js"><link rel="prefetch" href="/assets/5.Homeé¡µ.html.bc87f5f6.js"><link rel="prefetch" href="/assets/6.ä¸€çº§åˆ†ç±»é¡µ.html.20d3fdc1.js"><link rel="prefetch" href="/assets/7.äºŒçº§åˆ†ç±»é¡µ.html.628a82da.js"><link rel="prefetch" href="/assets/8.å•†å“è¯¦æƒ….html.3ee47103.js"><link rel="prefetch" href="/assets/9.ç™»å½•é¡µ.html.cee6b53d.js"><link rel="prefetch" href="/assets/day01.html.44284e1b.js"><link rel="prefetch" href="/assets/day02.html.682f4e8c.js"><link rel="prefetch" href="/assets/day03.html.fc7e734f.js"><link rel="prefetch" href="/assets/index.html.d8ca12a6.js"><link rel="prefetch" href="/assets/day01.html.06b72e68.js"><link rel="prefetch" href="/assets/day02.html.e3155d4f.js"><link rel="prefetch" href="/assets/day03.html.d55bece0.js"><link rel="prefetch" href="/assets/day04.html.06703f2b.js"><link rel="prefetch" href="/assets/index.html.1db7cafe.js"><link rel="prefetch" href="/assets/interview-base.html.f0d9d148.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.c5a4a893.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.90350a6a.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.c8eb77be.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€ç¯‡.html.8d198d08.js"><link rel="prefetch" href="/assets/Rediså¿«é€Ÿå…¥é—¨.html.29627213.js"><link rel="prefetch" href="/assets/Rediså®æˆ˜ç¯‡.html.ea9a5e16.js"><link rel="prefetch" href="/assets/RedisåŸç†ç¯‡.html.1c41beff.js"><link rel="prefetch" href="/assets/Spring-day01.html.1ddd29f9.js"><link rel="prefetch" href="/assets/Spring-day02.html.2cd4228e.js"><link rel="prefetch" href="/assets/Spring-day03.html.25153ee8.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.d00e8d3b.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.053ca17e.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.478ae0f3.js"><link rel="prefetch" href="/assets/SpringBootStart.html.ecdea1c3.js"><link rel="prefetch" href="/assets/SpringBootæ•´åˆSSMP.html.1fc33c49.js"><link rel="prefetch" href="/assets/SpringBootç»¼åˆæ¡ˆä¾‹.html.35be3f27.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.5aa6947a.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.2ff98050.js"><link rel="prefetch" href="/assets/Centos8-streamåœ¨çœŸæœºä¸Šå®‰è£…æ’å‘.html.78cc33ff.js"><link rel="prefetch" href="/assets/Centos9å®‰è£…mysql.html.7b62ca1b.js"><link rel="prefetch" href="/assets/SpringCloud01.html.60050f3f.js"><link rel="prefetch" href="/assets/SpringCloudå®ç”¨ç¯‡02.html.3c26a7b2.js"><link rel="prefetch" href="/assets/Dockerå®ç”¨ç¯‡.html.faaf4482.js"><link rel="prefetch" href="/assets/RabbitMQ.html.3f620ea8.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.2f9ec22c.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.451e3843.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡ä¿æŠ¤.html.42915502.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.6dd52011.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.085c2312.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.e75749e3.js"><link rel="prefetch" href="/assets/RabbitMQ-é«˜çº§ç¯‡.html.ad030046.js"><link rel="prefetch" href="/assets/Mybatisç¬¬ä¸€å¤©.html.674d710d.js"><link rel="prefetch" href="/assets/Mybatisç¬¬äºŒå¤©.html.3121ba02.js"><link rel="prefetch" href="/assets/ç§»åŠ¨webç¬¬ä¸€å¤©.html.b943ad87.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äºŒå¤©.html.30ef3091.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬ä¸‰å¤©.html.06469be6.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬å››å¤©.html.2aed5da8.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äº”å¤©.html.d67549b0.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸€å¤©.html.ede8ef34.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸‰å¤©.html.35d7938f.js"><link rel="prefetch" href="/assets/javascriptåŸºç¡€ç¬¬äºŒå¤©ç¬”è®°.html.3fd96f35.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬äº”å¤©.html.f0a8a230.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬å››å¤©.html.7135850d.js"><link rel="prefetch" href="/assets/index.html.5f5e0b19.js"><link rel="prefetch" href="/assets/ä¸ªäººå®æˆ˜æ–‡æ¡£.html.631875c9.js"><link rel="prefetch" href="/assets/index.html.1a1f6afc.js"><link rel="prefetch" href="/assets/index.html.4a8ed58a.js"><link rel="prefetch" href="/assets/index.html.6a243c14.js"><link rel="prefetch" href="/assets/index.html.0a7c4cfb.js"><link rel="prefetch" href="/assets/index.html.c428b37f.js"><link rel="prefetch" href="/assets/JavaScriptè¿›é˜¶ç¬¬ä¸€å¤©.html.96e2d1af.js"><link rel="prefetch" href="/assets/day03.html.9eb0747e.js"><link rel="prefetch" href="/assets/day02.html.de03ec98.js"><link rel="prefetch" href="/assets/day04.html.b94fedb2.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.28579a85.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.d087f52f.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.08daabb2.js"><link rel="prefetch" href="/assets/day01.html.e54967f4.js"><link rel="prefetch" href="/assets/day02.html.2eb76045.js"><link rel="prefetch" href="/assets/day03.html.da3117e6.js"><link rel="prefetch" href="/assets/day04.html.8b76ea5b.js"><link rel="prefetch" href="/assets/day05.html.51c17e4d.js"><link rel="prefetch" href="/assets/day06.html.e573259d.js"><link rel="prefetch" href="/assets/day07.html.01aa477e.js"><link rel="prefetch" href="/assets/æ™ºæ…§å•†åŸé¡¹ç›®.html.a2e62d32.js"><link rel="prefetch" href="/assets/Vue3å…¥é—¨.html.50761508.js"><link rel="prefetch" href="/assets/Pinia.html.4cfdc328.js"><link rel="prefetch" href="/assets/å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿ.html.27717e98.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®èµ·æ­¥.html.ad05a9a8.js"><link rel="prefetch" href="/assets/02-é¦–é¡µæ¨¡å—.html.b669b0bb.js"><link rel="prefetch" href="/assets/03-æ¨èæ¨¡å—.html.80203d9c.js"><link rel="prefetch" href="/assets/04-åˆ†ç±»æ¨¡å—.html.7c5363b4.js"><link rel="prefetch" href="/assets/05-è¯¦æƒ…æ¨¡å—.html.bc4b3b74.js"><link rel="prefetch" href="/assets/06-ç™»å½•æ¨¡å—.html.0aa33139.js"><link rel="prefetch" href="/assets/07-ç”¨æˆ·æ¨¡å—.html.a050825a.js"><link rel="prefetch" href="/assets/08-åœ°å€æ¨¡å—.html.5bf806c9.js"><link rel="prefetch" href="/assets/09-SKUæ¨¡å—.html.a08cd14a.js"><link rel="prefetch" href="/assets/10-è´­ç‰©è½¦æ¨¡å—.html.78de12f9.js"><link rel="prefetch" href="/assets/11-è®¢å•æ¨¡å—.html.35819573.js"><link rel="prefetch" href="/assets/12-é¡¹ç›®æ‰“åŒ….html.58acec07.js"><link rel="prefetch" href="/assets/index.html.f91c372f.js"><link rel="prefetch" href="/assets/ç¬¬1å¤©.html.b5d1fd3e.js"><link rel="prefetch" href="/assets/ç¬¬2å¤©.html.8cc04eac.js"><link rel="prefetch" href="/assets/ç¬¬3å¤©.html.9d71fe8e.js"><link rel="prefetch" href="/assets/ç¬¬4å¤©.html.41bcc93c.js"><link rel="prefetch" href="/assets/ç¬¬5å¤©.html.a2468669.js"><link rel="prefetch" href="/assets/å°ç¨‹åºè‡ªå®šä¹‰tabBar.html.b065556c.js"><link rel="prefetch" href="/assets/ç¬¬6å¤©.html.42dedd3e.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.f46bfabf.js"><link rel="prefetch" href="/assets/Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.6124e0fe.js"><link rel="prefetch" href="/assets/Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.fe280cae.js"><link rel="prefetch" href="/assets/Nacoså®‰è£…æŒ‡å—.html.42bd9daf.js"><link rel="prefetch" href="/assets/Nacosé›†ç¾¤æ­å»º.html.b1e61de8.js"><link rel="prefetch" href="/assets/Centos7å®‰è£…Docker.html.63397394.js"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html.7a82d766.js"><link rel="prefetch" href="/assets/å®‰è£…elasticsearch.html.db2054a0.js"><link rel="prefetch" href="/assets/Day02_AJAXç»¼åˆæ¡ˆä¾‹.html.b24bf7ed.js"><link rel="prefetch" href="/assets/Day03_AJAXåŸç†.html.934584d6.js"><link rel="prefetch" href="/assets/Day04_AJAXè¿›é˜¶.html.af5a3f0d.js"><link rel="prefetch" href="/assets/Day01_AJAXå…¥é—¨.html.57fb7c06.js"><link rel="prefetch" href="/assets/404.html.143a0abb.js"><link rel="prefetch" href="/assets/404.af3fcab4.js"><link rel="prefetch" href="/assets/Layout.96a35c1f.js"><link rel="prefetch" href="/assets/index.0e8935cb.js"><link rel="prefetch" href="/assets/giscus.15440425.js">
    <link rel="stylesheet" href="/assets/style.5869c25b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="Hades"><span class="site-name can-hide">Hades</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Android/" class="" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Javaåç«¯/" class="" aria-label="Javaåç«¯"><!--[--><!--]--> Javaåç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Webå‰ç«¯/" class="" aria-label="Webå‰ç«¯"><!--[--><!--]--> Webå‰ç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/æ•°æ®åº“/" class="" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/è¿ç»´æŠ€æœ¯/" class="" aria-label="è¿ç»´æŠ€æœ¯"><!--[--><!--]--> è¿ç»´æŠ€æœ¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tipsâ¤ï¸â€"><!--[--><!--]--> Tipsâ¤ï¸â€ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>æœç´¢</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="ç™¾åº¦ä¸€ä¸‹"><!--[--><!--]--> ç™¾åº¦ä¸€ä¸‹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>å¸¸ç”¨</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="å“”å“©å“”å“©"><!--[--><!--]--> å“”å“©å“”å“© <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepressæ‰“åŒ…é”™è¯¯"><!--[--><!--]--> Vuepressæ‰“åŒ…é”™è¯¯ <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Android/" class="" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Javaåç«¯/" class="" aria-label="Javaåç«¯"><!--[--><!--]--> Javaåç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Webå‰ç«¯/" class="" aria-label="Webå‰ç«¯"><!--[--><!--]--> Webå‰ç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/æ•°æ®åº“/" class="" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/è¿ç»´æŠ€æœ¯/" class="" aria-label="è¿ç»´æŠ€æœ¯"><!--[--><!--]--> è¿ç»´æŠ€æœ¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tipsâ¤ï¸â€"><!--[--><!--]--> Tipsâ¤ï¸â€ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>æœç´¢</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="ç™¾åº¦ä¸€ä¸‹"><!--[--><!--]--> ç™¾åº¦ä¸€ä¸‹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>å¸¸ç”¨</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="å“”å“©å“”å“©"><!--[--><!--]--> å“”å“©å“”å“© <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepressæ‰“åŒ…é”™è¯¯"><!--[--><!--]--> Vuepressæ‰“åŒ…é”™è¯¯ <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">åˆ†å¸ƒå¼æœç´¢å¼•æ“03 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-1-èšåˆçš„ç§ç±»" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1.èšåˆçš„ç§ç±»"><!--[--><!--]--> 1.1.èšåˆçš„ç§ç±» <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-2-dslå®ç°èšåˆ" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.DSLå®ç°èšåˆ"><!--[--><!--]--> 1.2.DSLå®ç°èšåˆ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-2-1-bucketèšåˆè¯­æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.1.Bucketèšåˆè¯­æ³•"><!--[--><!--]--> 1.2.1.Bucketèšåˆè¯­æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-2-2-èšåˆç»“æœæ’åº" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.2.èšåˆç»“æœæ’åº"><!--[--><!--]--> 1.2.2.èšåˆç»“æœæ’åº <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-2-3-é™å®šèšåˆèŒƒå›´" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.3.é™å®šèšåˆèŒƒå›´"><!--[--><!--]--> 1.2.3.é™å®šèšåˆèŒƒå›´ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-2-4-metricèšåˆè¯­æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.4.Metricèšåˆè¯­æ³•"><!--[--><!--]--> 1.2.4.Metricèšåˆè¯­æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-2-5-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.5.å°ç»“"><!--[--><!--]--> 1.2.5.å°ç»“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-3-restapiå®ç°èšåˆ" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3.RestAPIå®ç°èšåˆ"><!--[--><!--]--> 1.3.RestAPIå®ç°èšåˆ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-3-1-apiè¯­æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3.1.APIè¯­æ³•"><!--[--><!--]--> 1.3.1.APIè¯­æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-3-2-ä¸šåŠ¡éœ€æ±‚" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3.2.ä¸šåŠ¡éœ€æ±‚"><!--[--><!--]--> 1.3.2.ä¸šåŠ¡éœ€æ±‚ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_1-3-3-ä¸šåŠ¡å®ç°" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3.3.ä¸šåŠ¡å®ç°"><!--[--><!--]--> 1.3.3.ä¸šåŠ¡å®ç° <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-1-æ‹¼éŸ³åˆ†è¯å™¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1.æ‹¼éŸ³åˆ†è¯å™¨"><!--[--><!--]--> 2.1.æ‹¼éŸ³åˆ†è¯å™¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-2-è‡ªå®šä¹‰åˆ†è¯å™¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.è‡ªå®šä¹‰åˆ†è¯å™¨"><!--[--><!--]--> 2.2.è‡ªå®šä¹‰åˆ†è¯å™¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-3-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3.è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢"><!--[--><!--]--> 2.3.è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-4-å®ç°é…’åº—æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.å®ç°é…’åº—æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨"><!--[--><!--]--> 2.4.å®ç°é…’åº—æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-4-1-ä¿®æ”¹é…’åº—æ˜ å°„ç»“æ„" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.1.ä¿®æ”¹é…’åº—æ˜ å°„ç»“æ„"><!--[--><!--]--> 2.4.1.ä¿®æ”¹é…’åº—æ˜ å°„ç»“æ„ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-4-2-ä¿®æ”¹hoteldocå®ä½“" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.2.ä¿®æ”¹HotelDocå®ä½“"><!--[--><!--]--> 2.4.2.ä¿®æ”¹HotelDocå®ä½“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-4-3-é‡æ–°å¯¼å…¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.3.é‡æ–°å¯¼å…¥"><!--[--><!--]--> 2.4.3.é‡æ–°å¯¼å…¥ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-4-4-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„javaapi" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.4.è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„JavaAPI"><!--[--><!--]--> 2.4.4.è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„JavaAPI <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_2-4-5-å®ç°æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.5.å®ç°æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨"><!--[--><!--]--> 2.4.5.å®ç°æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-1-æ€è·¯åˆ†æ" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.æ€è·¯åˆ†æ"><!--[--><!--]--> 3.1.æ€è·¯åˆ†æ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-1-1-åŒæ­¥è°ƒç”¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.1.åŒæ­¥è°ƒç”¨"><!--[--><!--]--> 3.1.1.åŒæ­¥è°ƒç”¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-1-2-å¼‚æ­¥é€šçŸ¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.2.å¼‚æ­¥é€šçŸ¥"><!--[--><!--]--> 3.1.2.å¼‚æ­¥é€šçŸ¥ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-1-3-ç›‘å¬binlog" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.3.ç›‘å¬binlog"><!--[--><!--]--> 3.1.3.ç›‘å¬binlog <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-1-4-é€‰æ‹©" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.4.é€‰æ‹©"><!--[--><!--]--> 3.1.4.é€‰æ‹© <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-2-å®ç°æ•°æ®åŒæ­¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.å®ç°æ•°æ®åŒæ­¥"><!--[--><!--]--> 3.2.å®ç°æ•°æ®åŒæ­¥ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-2-1-æ€è·¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.1.æ€è·¯"><!--[--><!--]--> 3.2.1.æ€è·¯ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-2-2-å¯¼å…¥demo" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.2.å¯¼å…¥demo"><!--[--><!--]--> 3.2.2.å¯¼å…¥demo <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-2-3-å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ—" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.3.å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ—"><!--[--><!--]--> 3.2.3.å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ— <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-2-4-å‘é€mqæ¶ˆæ¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.4.å‘é€MQæ¶ˆæ¯"><!--[--><!--]--> 3.2.4.å‘é€MQæ¶ˆæ¯ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_3-2-5-æ¥æ”¶mqæ¶ˆæ¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.5.æ¥æ”¶MQæ¶ˆæ¯"><!--[--><!--]--> 3.2.5.æ¥æ”¶MQæ¶ˆæ¯ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-1-æ­å»ºesé›†ç¾¤" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1.æ­å»ºESé›†ç¾¤"><!--[--><!--]--> 4.1.æ­å»ºESé›†ç¾¤ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-2-é›†ç¾¤è„‘è£‚é—®é¢˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.é›†ç¾¤è„‘è£‚é—®é¢˜"><!--[--><!--]--> 4.2.é›†ç¾¤è„‘è£‚é—®é¢˜ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-2-1-é›†ç¾¤èŒè´£åˆ’åˆ†" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.1.é›†ç¾¤èŒè´£åˆ’åˆ†"><!--[--><!--]--> 4.2.1.é›†ç¾¤èŒè´£åˆ’åˆ† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-2-2-è„‘è£‚é—®é¢˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.2.è„‘è£‚é—®é¢˜"><!--[--><!--]--> 4.2.2.è„‘è£‚é—®é¢˜ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-2-3-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.3.å°ç»“"><!--[--><!--]--> 4.2.3.å°ç»“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-3-é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨"><!--[--><!--]--> 4.3.é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-3-1-åˆ†ç‰‡å­˜å‚¨æµ‹è¯•" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.1.åˆ†ç‰‡å­˜å‚¨æµ‹è¯•"><!--[--><!--]--> 4.3.1.åˆ†ç‰‡å­˜å‚¨æµ‹è¯• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-3-2-åˆ†ç‰‡å­˜å‚¨åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.2.åˆ†ç‰‡å­˜å‚¨åŸç†"><!--[--><!--]--> 4.3.2.åˆ†ç‰‡å­˜å‚¨åŸç† <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-4-é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4.é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢"><!--[--><!--]--> 4.4.é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Java%E5%90%8E%E7%AB%AF/08SpringCloud%E5%BE%AE%E6%9C%8D%E5%8A%A1/01%E5%AE%9E%E7%94%A8%E7%AF%87/day07-Elasticsearch03/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html#_4-5-é›†ç¾¤æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.5.é›†ç¾¤æ•…éšœè½¬ç§»"><!--[--><!--]--> 4.5.é›†ç¾¤æ•…éšœè½¬ç§» <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="åˆ†å¸ƒå¼æœç´¢å¼•æ“03" tabindex="-1"><a class="header-anchor" href="#åˆ†å¸ƒå¼æœç´¢å¼•æ“03" aria-hidden="true">#</a> åˆ†å¸ƒå¼æœç´¢å¼•æ“03</h1><h1 id="_0-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#_0-å­¦ä¹ ç›®æ ‡" aria-hidden="true">#</a> 0.å­¦ä¹ ç›®æ ‡</h1><h1 id="_1-æ•°æ®èšåˆ" tabindex="-1"><a class="header-anchor" href="#_1-æ•°æ®èšåˆ" aria-hidden="true">#</a> 1.æ•°æ®èšåˆ</h1><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html" target="_blank" rel="noopener noreferrer">èšåˆaggregations<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å¯ä»¥è®©æˆ‘ä»¬æå…¶æ–¹ä¾¿çš„å®ç°å¯¹æ•°æ®çš„ç»Ÿè®¡ã€åˆ†æã€è¿ç®—ã€‚ä¾‹å¦‚ï¼š</p><ul><li>ä»€ä¹ˆå“ç‰Œçš„æ‰‹æœºæœ€å—æ¬¢è¿ï¼Ÿ</li><li>è¿™äº›æ‰‹æœºçš„å¹³å‡ä»·æ ¼ã€æœ€é«˜ä»·æ ¼ã€æœ€ä½ä»·æ ¼ï¼Ÿ</li><li>è¿™äº›æ‰‹æœºæ¯æœˆçš„é”€å”®æƒ…å†µå¦‚ä½•ï¼Ÿ</li></ul><p>å®ç°è¿™äº›ç»Ÿè®¡åŠŸèƒ½çš„æ¯”æ•°æ®åº“çš„sqlè¦æ–¹ä¾¿çš„å¤šï¼Œè€Œä¸”æŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«ï¼Œå¯ä»¥å®ç°è¿‘å®æ—¶æœç´¢æ•ˆæœã€‚</p><h2 id="_1-1-èšåˆçš„ç§ç±»" tabindex="-1"><a class="header-anchor" href="#_1-1-èšåˆçš„ç§ç±»" aria-hidden="true">#</a> 1.1.èšåˆçš„ç§ç±»</h2><p>èšåˆå¸¸è§çš„æœ‰ä¸‰ç±»ï¼š</p><ul><li><p>**æ¡¶ï¼ˆBucketï¼‰**èšåˆï¼šç”¨æ¥å¯¹æ–‡æ¡£åšåˆ†ç»„</p><ul><li>TermAggregationï¼šæŒ‰ç…§æ–‡æ¡£å­—æ®µå€¼åˆ†ç»„ï¼Œä¾‹å¦‚æŒ‰ç…§å“ç‰Œå€¼åˆ†ç»„ã€æŒ‰ç…§å›½å®¶åˆ†ç»„</li><li>Date Histogramï¼šæŒ‰ç…§æ—¥æœŸé˜¶æ¢¯åˆ†ç»„ï¼Œä¾‹å¦‚ä¸€å‘¨ä¸ºä¸€ç»„ï¼Œæˆ–è€…ä¸€æœˆä¸ºä¸€ç»„</li></ul></li><li><p>**åº¦é‡ï¼ˆMetricï¼‰**èšåˆï¼šç”¨ä»¥è®¡ç®—ä¸€äº›å€¼ï¼Œæ¯”å¦‚ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ç­‰</p><ul><li>Avgï¼šæ±‚å¹³å‡å€¼</li><li>Maxï¼šæ±‚æœ€å¤§å€¼</li><li>Minï¼šæ±‚æœ€å°å€¼</li><li>Statsï¼šåŒæ—¶æ±‚maxã€minã€avgã€sumç­‰</li></ul></li><li><p>**ç®¡é“ï¼ˆpipelineï¼‰**èšåˆï¼šå…¶å®ƒèšåˆçš„ç»“æœä¸ºåŸºç¡€åšèšåˆ</p></li></ul><blockquote><p>**æ³¨æ„ï¼š**å‚åŠ èšåˆçš„å­—æ®µå¿…é¡»æ˜¯keywordã€æ—¥æœŸã€æ•°å€¼ã€å¸ƒå°”ç±»å‹</p></blockquote><h2 id="_1-2-dslå®ç°èšåˆ" tabindex="-1"><a class="header-anchor" href="#_1-2-dslå®ç°èšåˆ" aria-hidden="true">#</a> 1.2.DSLå®ç°èšåˆ</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¦ç»Ÿè®¡æ‰€æœ‰æ•°æ®ä¸­çš„é…’åº—å“ç‰Œæœ‰å‡ ç§ï¼Œå…¶å®å°±æ˜¯æŒ‰ç…§å“ç‰Œå¯¹æ•°æ®åˆ†ç»„ã€‚æ­¤æ—¶å¯ä»¥æ ¹æ®é…’åº—å“ç‰Œçš„åç§°åšèšåˆï¼Œä¹Ÿå°±æ˜¯Bucketèšåˆã€‚</p><h3 id="_1-2-1-bucketèšåˆè¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_1-2-1-bucketèšåˆè¯­æ³•" aria-hidden="true">#</a> 1.2.1.Bucketèšåˆè¯­æ³•</h3><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>GET /hotel/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// è®¾ç½®sizeä¸º0ï¼Œç»“æœä¸­ä¸åŒ…å«æ–‡æ¡£ï¼ŒåªåŒ…å«èšåˆç»“æœ</span>
  <span class="token property">&quot;aggs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// å®šä¹‰èšåˆ</span>
    <span class="token property">&quot;brandAgg&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//ç»™èšåˆèµ·ä¸ªåå­—</span>
      <span class="token property">&quot;terms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// èšåˆçš„ç±»å‹ï¼ŒæŒ‰ç…§å“ç‰Œå€¼èšåˆï¼Œæ‰€ä»¥é€‰æ‹©term</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å‚ä¸èšåˆçš„å­—æ®µ</span>
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token comment">// å¸Œæœ›è·å–çš„èšåˆç»“æœæ•°é‡</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœå¦‚å›¾ï¼š</p><p><img src="/assets/image-20210723171948228.cdbf28e3.png" alt="image-20210723171948228"></p><h3 id="_1-2-2-èšåˆç»“æœæ’åº" tabindex="-1"><a class="header-anchor" href="#_1-2-2-èšåˆç»“æœæ’åº" aria-hidden="true">#</a> 1.2.2.èšåˆç»“æœæ’åº</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒBucketèšåˆä¼šç»Ÿè®¡Bucketå†…çš„æ–‡æ¡£æ•°é‡ï¼Œè®°ä¸º_countï¼Œå¹¶ä¸”æŒ‰ç…§_counté™åºæ’åºã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŒ‡å®šorderå±æ€§ï¼Œè‡ªå®šä¹‰èšåˆçš„æ’åºæ–¹å¼ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>GET /hotel/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;aggs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;brandAgg&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;terms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;_count&quot;</span><span class="token operator">:</span> <span class="token string">&quot;asc&quot;</span> <span class="token comment">// æŒ‰ç…§_countå‡åºæ’åˆ—</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">20</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-3-é™å®šèšåˆèŒƒå›´" tabindex="-1"><a class="header-anchor" href="#_1-2-3-é™å®šèšåˆèŒƒå›´" aria-hidden="true">#</a> 1.2.3.é™å®šèšåˆèŒƒå›´</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒBucketèšåˆæ˜¯å¯¹ç´¢å¼•åº“çš„æ‰€æœ‰æ–‡æ¡£åšèšåˆï¼Œä½†çœŸå®åœºæ™¯ä¸‹ï¼Œç”¨æˆ·ä¼šè¾“å…¥æœç´¢æ¡ä»¶ï¼Œå› æ­¤èšåˆå¿…é¡»æ˜¯å¯¹æœç´¢ç»“æœèšåˆã€‚é‚£ä¹ˆèšåˆå¿…é¡»æ·»åŠ é™å®šæ¡ä»¶ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é™å®šè¦èšåˆçš„æ–‡æ¡£èŒƒå›´ï¼Œåªè¦æ·»åŠ queryæ¡ä»¶å³å¯ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>GET /hotel/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;range&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;lte&quot;</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token comment">// åªå¯¹200å…ƒä»¥ä¸‹çš„æ–‡æ¡£èšåˆ</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;aggs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;brandAgg&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;terms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">20</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¬¡ï¼Œèšåˆå¾—åˆ°çš„å“ç‰Œæ˜æ˜¾å˜å°‘äº†ï¼š</p><p><img src="/assets/image-20210723172404836.4d66f769.png" alt="image-20210723172404836"></p><h3 id="_1-2-4-metricèšåˆè¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_1-2-4-metricèšåˆè¯­æ³•" aria-hidden="true">#</a> 1.2.4.Metricèšåˆè¯­æ³•</h3><p>ä¸ŠèŠ‚è¯¾ï¼Œæˆ‘ä»¬å¯¹é…’åº—æŒ‰ç…§å“ç‰Œåˆ†ç»„ï¼Œå½¢æˆäº†ä¸€ä¸ªä¸ªæ¡¶ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹æ¡¶å†…çš„é…’åº—åšè¿ç®—ï¼Œè·å–æ¯ä¸ªå“ç‰Œçš„ç”¨æˆ·è¯„åˆ†çš„minã€maxã€avgç­‰å€¼ã€‚</p><p>è¿™å°±è¦ç”¨åˆ°Metricèšåˆäº†ï¼Œä¾‹å¦‚statèšåˆï¼šå°±å¯ä»¥è·å–minã€maxã€avgç­‰ç»“æœã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>GET /hotel/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;aggs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;brandAgg&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
      <span class="token property">&quot;terms&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> 
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">20</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;aggs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// æ˜¯brandsèšåˆçš„å­èšåˆï¼Œä¹Ÿå°±æ˜¯åˆ†ç»„åå¯¹æ¯ç»„åˆ†åˆ«è®¡ç®—</span>
        <span class="token property">&quot;score_stats&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// èšåˆåç§°</span>
          <span class="token property">&quot;stats&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// èšåˆç±»å‹ï¼Œè¿™é‡Œstatså¯ä»¥è®¡ç®—minã€maxã€avgç­‰</span>
            <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;score&quot;</span> <span class="token comment">// èšåˆå­—æ®µï¼Œè¿™é‡Œæ˜¯score</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¬¡çš„score_statsèšåˆæ˜¯åœ¨brandAggçš„èšåˆå†…éƒ¨åµŒå¥—çš„å­èšåˆã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨æ¯ä¸ªæ¡¶åˆ†åˆ«è®¡ç®—ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»™èšåˆç»“æœåšä¸ªæ’åºï¼Œä¾‹å¦‚æŒ‰ç…§æ¯ä¸ªæ¡¶çš„é…’åº—å¹³å‡åˆ†åšæ’åºï¼š</p><p><img src="/assets/image-20210723172917636.3b403722.png" alt="image-20210723172917636"></p><h3 id="_1-2-5-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_1-2-5-å°ç»“" aria-hidden="true">#</a> 1.2.5.å°ç»“</h3><p>aggsä»£è¡¨èšåˆï¼Œä¸queryåŒçº§ï¼Œæ­¤æ—¶queryçš„ä½œç”¨æ˜¯ï¼Ÿ</p><ul><li>é™å®šèšåˆçš„çš„æ–‡æ¡£èŒƒå›´</li></ul><p>èšåˆå¿…é¡»çš„ä¸‰è¦ç´ ï¼š</p><ul><li>èšåˆåç§°</li><li>èšåˆç±»å‹</li><li>èšåˆå­—æ®µ</li></ul><p>èšåˆå¯é…ç½®å±æ€§æœ‰ï¼š</p><ul><li>sizeï¼šæŒ‡å®šèšåˆç»“æœæ•°é‡</li><li>orderï¼šæŒ‡å®šèšåˆç»“æœæ’åºæ–¹å¼</li><li>fieldï¼šæŒ‡å®šèšåˆå­—æ®µ</li></ul><h2 id="_1-3-restapiå®ç°èšåˆ" tabindex="-1"><a class="header-anchor" href="#_1-3-restapiå®ç°èšåˆ" aria-hidden="true">#</a> 1.3.RestAPIå®ç°èšåˆ</h2><h3 id="_1-3-1-apiè¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_1-3-1-apiè¯­æ³•" aria-hidden="true">#</a> 1.3.1.APIè¯­æ³•</h3><p>èšåˆæ¡ä»¶ä¸queryæ¡ä»¶åŒçº§åˆ«ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨request.source()æ¥æŒ‡å®šèšåˆæ¡ä»¶ã€‚</p><p>èšåˆæ¡ä»¶çš„è¯­æ³•ï¼š</p><p><img src="/assets/image-20210723173057733.515358b4.png" alt="image-20210723173057733"></p><p>èšåˆçš„ç»“æœä¹Ÿä¸æŸ¥è¯¢ç»“æœä¸åŒï¼ŒAPIä¹Ÿæ¯”è¾ƒç‰¹æ®Šã€‚ä¸è¿‡åŒæ ·æ˜¯JSONé€å±‚è§£æï¼š</p><p><img src="/assets/image-20210723173215728.24840ce1.png" alt="image-20210723173215728"></p><h3 id="_1-3-2-ä¸šåŠ¡éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_1-3-2-ä¸šåŠ¡éœ€æ±‚" aria-hidden="true">#</a> 1.3.2.ä¸šåŠ¡éœ€æ±‚</h3><p>éœ€æ±‚ï¼šæœç´¢é¡µé¢çš„å“ç‰Œã€åŸå¸‚ç­‰ä¿¡æ¯ä¸åº”è¯¥æ˜¯åœ¨é¡µé¢å†™æ­»ï¼Œè€Œæ˜¯é€šè¿‡èšåˆç´¢å¼•åº“ä¸­çš„é…’åº—æ•°æ®å¾—æ¥çš„ï¼š</p><p><img src="/assets/image-20210723192605566.fb6f4c3b.png" alt="image-20210723192605566"></p><p>åˆ†æï¼š</p><p>ç›®å‰ï¼Œé¡µé¢çš„åŸå¸‚åˆ—è¡¨ã€æ˜Ÿçº§åˆ—è¡¨ã€å“ç‰Œåˆ—è¡¨éƒ½æ˜¯å†™æ­»çš„ï¼Œå¹¶ä¸ä¼šéšç€æœç´¢ç»“æœçš„å˜åŒ–è€Œå˜åŒ–ã€‚ä½†æ˜¯ç”¨æˆ·æœç´¢æ¡ä»¶æ”¹å˜æ—¶ï¼Œæœç´¢ç»“æœä¼šè·Ÿç€å˜åŒ–ã€‚</p><p>ä¾‹å¦‚ï¼šç”¨æˆ·æœç´¢â€œä¸œæ–¹æ˜ç â€ï¼Œé‚£æœç´¢çš„é…’åº—è‚¯å®šæ˜¯åœ¨ä¸Šæµ·ä¸œæ–¹æ˜ç é™„è¿‘ï¼Œå› æ­¤ï¼ŒåŸå¸‚åªèƒ½æ˜¯ä¸Šæµ·ï¼Œæ­¤æ—¶åŸå¸‚åˆ—è¡¨ä¸­å°±ä¸åº”è¯¥æ˜¾ç¤ºåŒ—äº¬ã€æ·±åœ³ã€æ­å·è¿™äº›ä¿¡æ¯äº†ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæœç´¢ç»“æœä¸­åŒ…å«å“ªäº›åŸå¸‚ï¼Œé¡µé¢å°±åº”è¯¥åˆ—å‡ºå“ªäº›åŸå¸‚ï¼›æœç´¢ç»“æœä¸­åŒ…å«å“ªäº›å“ç‰Œï¼Œé¡µé¢å°±åº”è¯¥åˆ—å‡ºå“ªäº›å“ç‰Œã€‚</p><p>å¦‚ä½•å¾—çŸ¥æœç´¢ç»“æœä¸­åŒ…å«å“ªäº›å“ç‰Œï¼Ÿå¦‚ä½•å¾—çŸ¥æœç´¢ç»“æœä¸­åŒ…å«å“ªäº›åŸå¸‚ï¼Ÿ</p><p>ä½¿ç”¨èšåˆåŠŸèƒ½ï¼Œåˆ©ç”¨Bucketèšåˆï¼Œå¯¹æœç´¢ç»“æœä¸­çš„æ–‡æ¡£åŸºäºå“ç‰Œåˆ†ç»„ã€åŸºäºåŸå¸‚åˆ†ç»„ï¼Œå°±èƒ½å¾—çŸ¥åŒ…å«å“ªäº›å“ç‰Œã€å“ªäº›åŸå¸‚äº†ã€‚</p><p>å› ä¸ºæ˜¯å¯¹æœç´¢ç»“æœèšåˆï¼Œå› æ­¤èšåˆæ˜¯<strong>é™å®šèŒƒå›´çš„èšåˆ</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´èšåˆçš„é™å®šæ¡ä»¶è·Ÿæœç´¢æ–‡æ¡£çš„æ¡ä»¶ä¸€è‡´ã€‚</p><p>æŸ¥çœ‹æµè§ˆå™¨å¯ä»¥å‘ç°ï¼Œå‰ç«¯å…¶å®å·²ç»å‘å‡ºäº†è¿™æ ·çš„ä¸€ä¸ªè¯·æ±‚ï¼š</p><p><img src="/assets/image-20210723193730799.f8437f6d.png" alt="image-20210723193730799"></p><p>è¯·æ±‚<strong>å‚æ•°ä¸æœç´¢æ–‡æ¡£çš„å‚æ•°å®Œå…¨ä¸€è‡´</strong>ã€‚</p><p>è¿”å›å€¼ç±»å‹å°±æ˜¯é¡µé¢è¦å±•ç¤ºçš„æœ€ç»ˆç»“æœï¼š</p><p><img src="/assets/image-20210723203915982.b78e6394.png" alt="image-20210723203915982"></p><p>ç»“æœæ˜¯ä¸€ä¸ªMapç»“æ„ï¼š</p><ul><li>keyæ˜¯å­—ç¬¦ä¸²ï¼ŒåŸå¸‚ã€æ˜Ÿçº§ã€å“ç‰Œã€ä»·æ ¼</li><li>valueæ˜¯é›†åˆï¼Œä¾‹å¦‚å¤šä¸ªåŸå¸‚çš„åç§°</li></ul><h3 id="_1-3-3-ä¸šåŠ¡å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-3-3-ä¸šåŠ¡å®ç°" aria-hidden="true">#</a> 1.3.3.ä¸šåŠ¡å®ç°</h3><p>åœ¨<code>cn.itcast.hotel.web</code>åŒ…çš„<code>HotelController</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œéµå¾ªä¸‹é¢çš„è¦æ±‚ï¼š</p><ul><li>è¯·æ±‚æ–¹å¼ï¼š<code>POST</code></li><li>è¯·æ±‚è·¯å¾„ï¼š<code>/hotel/filters</code></li><li>è¯·æ±‚å‚æ•°ï¼š<code>RequestParams</code>ï¼Œä¸æœç´¢æ–‡æ¡£çš„å‚æ•°ä¸€è‡´</li><li>è¿”å›å€¼ç±»å‹ï¼š<code>Map&lt;String, List&lt;String&gt;&gt;</code></li></ul><p>ä»£ç ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;filters&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getFilters</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">RequestParams</span> params<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> hotelService<span class="token punctuation">.</span><span class="token function">getFilters</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œè°ƒç”¨äº†IHotelServiceä¸­çš„getFiltersæ–¹æ³•ï¼Œå°šæœªå®ç°ã€‚</p><p>åœ¨<code>cn.itcast.hotel.service.IHotelService</code>ä¸­å®šä¹‰æ–°æ–¹æ³•ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">filters</span><span class="token punctuation">(</span><span class="token class-name">RequestParams</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨<code>cn.itcast.hotel.service.impl.HotelService</code>ä¸­å®ç°è¯¥æ–¹æ³•ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">filters</span><span class="token punctuation">(</span><span class="token class-name">RequestParams</span> params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.å‡†å¤‡Request</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token string">&quot;hotel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.å‡†å¤‡DSL</span>
        <span class="token comment">// 2.1.query</span>
        <span class="token function">buildBasicQuery</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.2.è®¾ç½®size</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.3.èšåˆ</span>
        <span class="token function">buildAggregation</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3.å‘å‡ºè¯·æ±‚</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.è§£æç»“æœ</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Aggregations</span> aggregations <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getAggregations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.1.æ ¹æ®å“ç‰Œåç§°ï¼Œè·å–å“ç‰Œç»“æœ</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> brandList <span class="token operator">=</span> <span class="token function">getAggByName</span><span class="token punctuation">(</span>aggregations<span class="token punctuation">,</span> <span class="token string">&quot;brandAgg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;å“ç‰Œ&quot;</span><span class="token punctuation">,</span> brandList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.2.æ ¹æ®å“ç‰Œåç§°ï¼Œè·å–å“ç‰Œç»“æœ</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> cityList <span class="token operator">=</span> <span class="token function">getAggByName</span><span class="token punctuation">(</span>aggregations<span class="token punctuation">,</span> <span class="token string">&quot;cityAgg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;åŸå¸‚&quot;</span><span class="token punctuation">,</span> cityList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.3.æ ¹æ®å“ç‰Œåç§°ï¼Œè·å–å“ç‰Œç»“æœ</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> starList <span class="token operator">=</span> <span class="token function">getAggByName</span><span class="token punctuation">(</span>aggregations<span class="token punctuation">,</span> <span class="token string">&quot;starAgg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;æ˜Ÿçº§&quot;</span><span class="token punctuation">,</span> starList<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">buildAggregation</span><span class="token punctuation">(</span><span class="token class-name">SearchRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token class-name">AggregationBuilders</span>
                                 <span class="token punctuation">.</span><span class="token function">terms</span><span class="token punctuation">(</span><span class="token string">&quot;brandAgg&quot;</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
                                <span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token class-name">AggregationBuilders</span>
                                 <span class="token punctuation">.</span><span class="token function">terms</span><span class="token punctuation">(</span><span class="token string">&quot;cityAgg&quot;</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;city&quot;</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
                                <span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token class-name">AggregationBuilders</span>
                                 <span class="token punctuation">.</span><span class="token function">terms</span><span class="token punctuation">(</span><span class="token string">&quot;starAgg&quot;</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;starName&quot;</span><span class="token punctuation">)</span>
                                 <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
                                <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAggByName</span><span class="token punctuation">(</span><span class="token class-name">Aggregations</span> aggregations<span class="token punctuation">,</span> <span class="token class-name">String</span> aggName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 4.1.æ ¹æ®èšåˆåç§°è·å–èšåˆç»“æœ</span>
    <span class="token class-name">Terms</span> brandTerms <span class="token operator">=</span> aggregations<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>aggName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4.2.è·å–buckets</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Terms<span class="token punctuation">.</span>Bucket</span><span class="token punctuation">&gt;</span></span> buckets <span class="token operator">=</span> brandTerms<span class="token punctuation">.</span><span class="token function">getBuckets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4.3.éå†</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> brandList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Terms<span class="token punctuation">.</span>Bucket</span> bucket <span class="token operator">:</span> buckets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 4.4.è·å–key</span>
        <span class="token class-name">String</span> key <span class="token operator">=</span> bucket<span class="token punctuation">.</span><span class="token function">getKeyAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        brandList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> brandList<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_2-è‡ªåŠ¨è¡¥å…¨" tabindex="-1"><a class="header-anchor" href="#_2-è‡ªåŠ¨è¡¥å…¨" aria-hidden="true">#</a> 2.è‡ªåŠ¨è¡¥å…¨</h1><p>å½“ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥å­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æç¤ºå‡ºä¸è¯¥å­—ç¬¦æœ‰å…³çš„æœç´¢é¡¹ï¼Œå¦‚å›¾ï¼š</p><p><img src="/assets/image-20210723204936367.1032d13b.png" alt="image-20210723204936367"></p><p>è¿™ç§æ ¹æ®ç”¨æˆ·è¾“å…¥çš„å­—æ¯ï¼Œæç¤ºå®Œæ•´è¯æ¡çš„åŠŸèƒ½ï¼Œå°±æ˜¯è‡ªåŠ¨è¡¥å…¨äº†ã€‚</p><p>å› ä¸ºéœ€è¦æ ¹æ®æ‹¼éŸ³å­—æ¯æ¥æ¨æ–­ï¼Œå› æ­¤è¦ç”¨åˆ°æ‹¼éŸ³åˆ†è¯åŠŸèƒ½ã€‚</p><h2 id="_2-1-æ‹¼éŸ³åˆ†è¯å™¨" tabindex="-1"><a class="header-anchor" href="#_2-1-æ‹¼éŸ³åˆ†è¯å™¨" aria-hidden="true">#</a> 2.1.æ‹¼éŸ³åˆ†è¯å™¨</h2><p>è¦å®ç°æ ¹æ®å­—æ¯åšè¡¥å…¨ï¼Œå°±å¿…é¡»å¯¹æ–‡æ¡£æŒ‰ç…§æ‹¼éŸ³åˆ†è¯ã€‚åœ¨GitHubä¸Šæ°å¥½æœ‰elasticsearchçš„æ‹¼éŸ³åˆ†è¯æ’ä»¶ã€‚åœ°å€ï¼šhttps://github.com/medcl/elasticsearch-analysis-pinyin</p><p><img src="/assets/image-20210723205932746.077c28ff.png" alt="image-20210723205932746"></p><p>è¯¾å‰èµ„æ–™ä¸­ä¹Ÿæä¾›äº†æ‹¼éŸ³åˆ†è¯å™¨çš„å®‰è£…åŒ…ï¼š</p><p><img src="/assets/image-20210723205722303.ca9d12bd.png" alt="image-20210723205722303"></p><p>å®‰è£…æ–¹å¼ä¸IKåˆ†è¯å™¨ä¸€æ ·ï¼Œåˆ†ä¸‰æ­¥ï¼š</p><p>â€‹ â‘ è§£å‹</p><p>â€‹ â‘¡ä¸Šä¼ åˆ°è™šæ‹Ÿæœºä¸­ï¼Œelasticsearchçš„pluginç›®å½•</p><p>â€‹ â‘¢é‡å¯elasticsearch</p><p>â€‹ â‘£æµ‹è¯•</p><p>è¯¦ç»†å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒIKåˆ†è¯å™¨çš„å®‰è£…è¿‡ç¨‹ã€‚</p><p>æµ‹è¯•ç”¨æ³•å¦‚ä¸‹ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>POST /_analyze
<span class="token punctuation">{</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;å¦‚å®¶é…’åº—è¿˜ä¸é”™&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pinyin&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœï¼š</p><p><img src="/assets/image-20210723210126506.84aa76ff.png" alt="image-20210723210126506"></p><h2 id="_2-2-è‡ªå®šä¹‰åˆ†è¯å™¨" tabindex="-1"><a class="header-anchor" href="#_2-2-è‡ªå®šä¹‰åˆ†è¯å™¨" aria-hidden="true">#</a> 2.2.è‡ªå®šä¹‰åˆ†è¯å™¨</h2><p>é»˜è®¤çš„æ‹¼éŸ³åˆ†è¯å™¨ä¼šå°†æ¯ä¸ªæ±‰å­—å•ç‹¬åˆ†ä¸ºæ‹¼éŸ³ï¼Œè€Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯æ¯ä¸ªè¯æ¡å½¢æˆä¸€ç»„æ‹¼éŸ³ï¼Œéœ€è¦å¯¹æ‹¼éŸ³åˆ†è¯å™¨åšä¸ªæ€§åŒ–å®šåˆ¶ï¼Œå½¢æˆè‡ªå®šä¹‰åˆ†è¯å™¨ã€‚</p><p>elasticsearchä¸­åˆ†è¯å™¨ï¼ˆanalyzerï¼‰çš„ç»„æˆåŒ…å«ä¸‰éƒ¨åˆ†ï¼š</p><ul><li>character filtersï¼šåœ¨tokenizerä¹‹å‰å¯¹æ–‡æœ¬è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚åˆ é™¤å­—ç¬¦ã€æ›¿æ¢å­—ç¬¦</li><li>tokenizerï¼šå°†æ–‡æœ¬æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ‡å‰²æˆè¯æ¡ï¼ˆtermï¼‰ã€‚ä¾‹å¦‚keywordï¼Œå°±æ˜¯ä¸åˆ†è¯ï¼›è¿˜æœ‰ik_smart</li><li>tokenizer filterï¼šå°†tokenizerè¾“å‡ºçš„è¯æ¡åšè¿›ä¸€æ­¥å¤„ç†ã€‚ä¾‹å¦‚å¤§å°å†™è½¬æ¢ã€åŒä¹‰è¯å¤„ç†ã€æ‹¼éŸ³å¤„ç†ç­‰</li></ul><p>æ–‡æ¡£åˆ†è¯æ—¶ä¼šä¾æ¬¡ç”±è¿™ä¸‰éƒ¨åˆ†æ¥å¤„ç†æ–‡æ¡£ï¼š</p><p><img src="/assets/image-20210723210427878.d1bbf655.png" alt="image-20210723210427878"></p><p>å£°æ˜è‡ªå®šä¹‰åˆ†è¯å™¨çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>PUT /test
<span class="token punctuation">{</span>
  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è‡ªå®šä¹‰åˆ†è¯å™¨</span>
        <span class="token property">&quot;my_analyzer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// åˆ†è¯å™¨åç§°</span>
          <span class="token property">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;py&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è‡ªå®šä¹‰tokenizer filter</span>
        <span class="token property">&quot;py&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è¿‡æ»¤å™¨åç§°</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pinyin&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¿‡æ»¤å™¨ç±»å‹ï¼Œè¿™é‡Œæ˜¯pinyin</span>
		  <span class="token property">&quot;keep_full_pinyin&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keep_joined_full_pinyin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keep_original&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">&quot;limit_first_letter_length&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
          <span class="token property">&quot;remove_duplicated_term&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">&quot;none_chinese_pinyin_tokenize&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my_analyzer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;search_analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_smart&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ï¼š</p><p><img src="/assets/image-20210723211829150.28c27be3.png" alt="image-20210723211829150"></p><p>æ€»ç»“ï¼š</p><p>å¦‚ä½•ä½¿ç”¨æ‹¼éŸ³åˆ†è¯å™¨ï¼Ÿ</p><ul><li><p>â‘ ä¸‹è½½pinyinåˆ†è¯å™¨</p></li><li><p>â‘¡è§£å‹å¹¶æ”¾åˆ°elasticsearchçš„pluginç›®å½•</p></li><li><p>â‘¢é‡å¯å³å¯</p></li></ul><p>å¦‚ä½•è‡ªå®šä¹‰åˆ†è¯å™¨ï¼Ÿ</p><ul><li><p>â‘ åˆ›å»ºç´¢å¼•åº“æ—¶ï¼Œåœ¨settingsä¸­é…ç½®ï¼Œå¯ä»¥åŒ…å«ä¸‰éƒ¨åˆ†</p></li><li><p>â‘¡character filter</p></li><li><p>â‘¢tokenizer</p></li><li><p>â‘£filter</p></li></ul><p>æ‹¼éŸ³åˆ†è¯å™¨æ³¨æ„äº‹é¡¹ï¼Ÿ</p><ul><li>ä¸ºäº†é¿å…æœç´¢åˆ°åŒéŸ³å­—ï¼Œæœç´¢æ—¶ä¸è¦ä½¿ç”¨æ‹¼éŸ³åˆ†è¯å™¨</li></ul><h2 id="_2-3-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_2-3-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢" aria-hidden="true">#</a> 2.3.è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢</h2><p>elasticsearchæä¾›äº†<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.6/search-suggesters.html" target="_blank" rel="noopener noreferrer">Completion Suggester<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æŸ¥è¯¢æ¥å®ç°è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚è¿™ä¸ªæŸ¥è¯¢ä¼šåŒ¹é…ä»¥ç”¨æˆ·è¾“å…¥å†…å®¹å¼€å¤´çš„è¯æ¡å¹¶è¿”å›ã€‚ä¸ºäº†æé«˜è¡¥å…¨æŸ¥è¯¢çš„æ•ˆç‡ï¼Œå¯¹äºæ–‡æ¡£ä¸­å­—æ®µçš„ç±»å‹æœ‰ä¸€äº›çº¦æŸï¼š</p><ul><li><p>å‚ä¸è¡¥å…¨æŸ¥è¯¢çš„å­—æ®µå¿…é¡»æ˜¯completionç±»å‹ã€‚</p></li><li><p>å­—æ®µçš„å†…å®¹ä¸€èˆ¬æ˜¯ç”¨æ¥è¡¥å…¨çš„å¤šä¸ªè¯æ¡å½¢æˆçš„æ•°ç»„ã€‚</p></li></ul><p>æ¯”å¦‚ï¼Œä¸€ä¸ªè¿™æ ·çš„ç´¢å¼•åº“ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// åˆ›å»ºç´¢å¼•åº“</span>
PUT test
<span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completion&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæ’å…¥ä¸‹é¢çš„æ•°æ®ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// ç¤ºä¾‹æ•°æ®</span>
POST test/_doc
<span class="token punctuation">{</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Sony&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;WH-1000XM3&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
POST test/_doc
<span class="token punctuation">{</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;SK-II&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PITERA&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
POST test/_doc
<span class="token punctuation">{</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Nintendo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;switch&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥è¯¢çš„DSLè¯­å¥å¦‚ä¸‹ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢</span>
GET /test/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;title_suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å…³é”®å­—</span>
      <span class="token property">&quot;completion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;title&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¡¥å…¨æŸ¥è¯¢çš„å­—æ®µ</span>
        <span class="token property">&quot;skip_duplicates&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è·³è¿‡é‡å¤çš„</span>
        <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token comment">// è·å–å‰10æ¡ç»“æœ</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-4-å®ç°é…’åº—æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨" tabindex="-1"><a class="header-anchor" href="#_2-4-å®ç°é…’åº—æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨" aria-hidden="true">#</a> 2.4.å®ç°é…’åº—æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„hotelç´¢å¼•åº“è¿˜æ²¡æœ‰è®¾ç½®æ‹¼éŸ³åˆ†è¯å™¨ï¼Œéœ€è¦ä¿®æ”¹ç´¢å¼•åº“ä¸­çš„é…ç½®ã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ç´¢å¼•åº“æ˜¯æ— æ³•ä¿®æ”¹çš„ï¼Œåªèƒ½åˆ é™¤ç„¶åé‡æ–°åˆ›å»ºã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œç”¨æ¥åšè‡ªåŠ¨è¡¥å…¨ï¼Œå°†brandã€suggestionã€cityç­‰éƒ½æ”¾è¿›å»ï¼Œä½œä¸ºè‡ªåŠ¨è¡¥å…¨çš„æç¤ºã€‚</p><p>å› æ­¤ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…åŒ…æ‹¬ï¼š</p><ol><li><p>ä¿®æ”¹hotelç´¢å¼•åº“ç»“æ„ï¼Œè®¾ç½®è‡ªå®šä¹‰æ‹¼éŸ³åˆ†è¯å™¨</p></li><li><p>ä¿®æ”¹ç´¢å¼•åº“çš„nameã€allå­—æ®µï¼Œä½¿ç”¨è‡ªå®šä¹‰åˆ†è¯å™¨</p></li><li><p>ç´¢å¼•åº“æ·»åŠ ä¸€ä¸ªæ–°å­—æ®µsuggestionï¼Œç±»å‹ä¸ºcompletionç±»å‹ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„åˆ†è¯å™¨</p></li><li><p>ç»™HotelDocç±»æ·»åŠ suggestionå­—æ®µï¼Œå†…å®¹åŒ…å«brandã€business</p></li><li><p>é‡æ–°å¯¼å…¥æ•°æ®åˆ°hotelåº“</p></li></ol><h3 id="_2-4-1-ä¿®æ”¹é…’åº—æ˜ å°„ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_2-4-1-ä¿®æ”¹é…’åº—æ˜ å°„ç»“æ„" aria-hidden="true">#</a> 2.4.1.ä¿®æ”¹é…’åº—æ˜ å°„ç»“æ„</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// é…’åº—æ•°æ®ç´¢å¼•åº“</span>
PUT /hotel
<span class="token punctuation">{</span>
  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;analysis&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;text_anlyzer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;py&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;completion_analyzer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;tokenizer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;py&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;py&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pinyin&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keep_full_pinyin&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keep_joined_full_pinyin&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">&quot;keep_original&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">&quot;limit_first_letter_length&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
          <span class="token property">&quot;remove_duplicated_term&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token property">&quot;none_chinese_pinyin_tokenize&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text_anlyzer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;search_analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_smart&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;score&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;brand&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;city&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;starName&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;business&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;location&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;geo_point&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;pic&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;all&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text_anlyzer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;search_analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_smart&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;suggestion&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completion&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completion_analyzer&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-2-ä¿®æ”¹hoteldocå®ä½“" tabindex="-1"><a class="header-anchor" href="#_2-4-2-ä¿®æ”¹hoteldocå®ä½“" aria-hidden="true">#</a> 2.4.2.ä¿®æ”¹HotelDocå®ä½“</h3><p>HotelDocä¸­è¦æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œç”¨æ¥åšè‡ªåŠ¨è¡¥å…¨ï¼Œå†…å®¹å¯ä»¥æ˜¯é…’åº—å“ç‰Œã€åŸå¸‚ã€å•†åœˆç­‰ä¿¡æ¯ã€‚æŒ‰ç…§è‡ªåŠ¨è¡¥å…¨å­—æ®µçš„è¦æ±‚ï¼Œæœ€å¥½æ˜¯è¿™äº›å­—æ®µçš„æ•°ç»„ã€‚</p><p>å› æ­¤æˆ‘ä»¬åœ¨HotelDocä¸­æ·»åŠ ä¸€ä¸ªsuggestionå­—æ®µï¼Œç±»å‹ä¸º<code>List&lt;String&gt;</code>ï¼Œç„¶åå°†brandã€cityã€businessç­‰ä¿¡æ¯æ”¾åˆ°é‡Œé¢ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HotelDoc</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> price<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> score<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> city<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> starName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> business<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> location<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> pic<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> distance<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> isAD<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> suggestion<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HotelDoc</span><span class="token punctuation">(</span><span class="token class-name">Hotel</span> hotel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>city <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>starName <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getStarName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>business <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getBusiness</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>location <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getLatitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> hotel<span class="token punctuation">.</span><span class="token function">getLongitude</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pic <span class="token operator">=</span> hotel<span class="token punctuation">.</span><span class="token function">getPic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç»„è£…suggestion</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>business<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// businessæœ‰å¤šä¸ªå€¼ï¼Œéœ€è¦åˆ‡å‰²</span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>business<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ·»åŠ å…ƒç´ </span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>suggestion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>suggestion<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>suggestion<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>suggestion <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>brand<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>business<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-3-é‡æ–°å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_2-4-3-é‡æ–°å¯¼å…¥" aria-hidden="true">#</a> 2.4.3.é‡æ–°å¯¼å…¥</h3><p>é‡æ–°æ‰§è¡Œä¹‹å‰ç¼–å†™çš„å¯¼å…¥æ•°æ®åŠŸèƒ½ï¼Œå¯ä»¥çœ‹åˆ°æ–°çš„é…’åº—æ•°æ®ä¸­åŒ…å«äº†suggestionï¼š</p><p><img src="/assets/image-20210723213546183.26294be4.png" alt="image-20210723213546183"></p><h3 id="_2-4-4-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„javaapi" tabindex="-1"><a class="header-anchor" href="#_2-4-4-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„javaapi" aria-hidden="true">#</a> 2.4.4.è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„JavaAPI</h3><p>ä¹‹å‰æˆ‘ä»¬å­¦ä¹ äº†è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢çš„DSLï¼Œè€Œæ²¡æœ‰å­¦ä¹ å¯¹åº”çš„JavaAPIï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªç¤ºä¾‹ï¼š</p><p><img src="/assets/image-20210723213759922.1d060dd8.png" alt="image-20210723213759922"></p><p>è€Œè‡ªåŠ¨è¡¥å…¨çš„ç»“æœä¹Ÿæ¯”è¾ƒç‰¹æ®Šï¼Œè§£æçš„ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="/assets/image-20210723213917524.6cd415fa.png" alt="image-20210723213917524"></p><h3 id="_2-4-5-å®ç°æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨" tabindex="-1"><a class="header-anchor" href="#_2-4-5-å®ç°æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨" aria-hidden="true">#</a> 2.4.5.å®ç°æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨</h3><p>æŸ¥çœ‹å‰ç«¯é¡µé¢ï¼Œå¯ä»¥å‘ç°å½“æˆ‘ä»¬åœ¨è¾“å…¥æ¡†é”®å…¥æ—¶ï¼Œå‰ç«¯ä¼šå‘èµ·ajaxè¯·æ±‚ï¼š</p><p><img src="/assets/image-20210723214021062.1402786a.png" alt="image-20210723214021062"></p><p>è¿”å›å€¼æ˜¯è¡¥å…¨è¯æ¡çš„é›†åˆï¼Œç±»å‹ä¸º<code>List&lt;String&gt;</code></p><p>1ï¼‰åœ¨<code>cn.itcast.hotel.web</code>åŒ…ä¸‹çš„<code>HotelController</code>ä¸­æ·»åŠ æ–°æ¥å£ï¼Œæ¥æ”¶æ–°çš„è¯·æ±‚ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;suggestion&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSuggestions</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> prefix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hotelService<span class="token punctuation">.</span><span class="token function">getSuggestions</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰åœ¨<code>cn.itcast.hotel.service</code>åŒ…ä¸‹çš„<code>IhotelService</code>ä¸­æ·»åŠ æ–¹æ³•ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSuggestions</span><span class="token punctuation">(</span><span class="token class-name">String</span> prefix<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3ï¼‰åœ¨<code>cn.itcast.hotel.service.impl.HotelService</code>ä¸­å®ç°è¯¥æ–¹æ³•ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSuggestions</span><span class="token punctuation">(</span><span class="token class-name">String</span> prefix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.å‡†å¤‡Request</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token string">&quot;hotel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.å‡†å¤‡DSL</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">suggest</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SuggestBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addSuggestion</span><span class="token punctuation">(</span>
            <span class="token string">&quot;suggestions&quot;</span><span class="token punctuation">,</span>
            <span class="token class-name">SuggestBuilders</span><span class="token punctuation">.</span><span class="token function">completionSuggestion</span><span class="token punctuation">(</span><span class="token string">&quot;suggestion&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">prefix</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">skipDuplicates</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3.å‘èµ·è¯·æ±‚</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.è§£æç»“æœ</span>
        <span class="token class-name">Suggest</span> suggest <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getSuggest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.1.æ ¹æ®è¡¥å…¨æŸ¥è¯¢åç§°ï¼Œè·å–è¡¥å…¨ç»“æœ</span>
        <span class="token class-name">CompletionSuggestion</span> suggestions <span class="token operator">=</span> suggest<span class="token punctuation">.</span><span class="token function">getSuggestion</span><span class="token punctuation">(</span><span class="token string">&quot;suggestions&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.2.è·å–options</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompletionSuggestion<span class="token punctuation">.</span>Entry<span class="token punctuation">.</span>Option</span><span class="token punctuation">&gt;</span></span> options <span class="token operator">=</span> suggestions<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4.3.éå†</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">CompletionSuggestion<span class="token punctuation">.</span>Entry<span class="token punctuation">.</span>Option</span> option <span class="token operator">:</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> text <span class="token operator">=</span> option<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_3-æ•°æ®åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#_3-æ•°æ®åŒæ­¥" aria-hidden="true">#</a> 3.æ•°æ®åŒæ­¥</h1><p>elasticsearchä¸­çš„é…’åº—æ•°æ®æ¥è‡ªäºmysqlæ•°æ®åº“ï¼Œå› æ­¤mysqlæ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œelasticsearchä¹Ÿå¿…é¡»è·Ÿç€æ”¹å˜ï¼Œè¿™ä¸ªå°±æ˜¯elasticsearchä¸mysqlä¹‹é—´çš„<strong>æ•°æ®åŒæ­¥</strong>ã€‚</p><p><img src="/assets/image-20210723214758392.71867ecc.png" alt="image-20210723214758392"></p><h2 id="_3-1-æ€è·¯åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_3-1-æ€è·¯åˆ†æ" aria-hidden="true">#</a> 3.1.æ€è·¯åˆ†æ</h2><p>å¸¸è§çš„æ•°æ®åŒæ­¥æ–¹æ¡ˆæœ‰ä¸‰ç§ï¼š</p><ul><li>åŒæ­¥è°ƒç”¨</li><li>å¼‚æ­¥é€šçŸ¥</li><li>ç›‘å¬binlog</li></ul><h3 id="_3-1-1-åŒæ­¥è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_3-1-1-åŒæ­¥è°ƒç”¨" aria-hidden="true">#</a> 3.1.1.åŒæ­¥è°ƒç”¨</h3><p>æ–¹æ¡ˆä¸€ï¼šåŒæ­¥è°ƒç”¨</p><p><img src="/assets/image-20210723214931869.7dfb11bf.png" alt="image-20210723214931869"></p><p>åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>hotel-demoå¯¹å¤–æä¾›æ¥å£ï¼Œç”¨æ¥ä¿®æ”¹elasticsearchä¸­çš„æ•°æ®</li><li>é…’åº—ç®¡ç†æœåŠ¡åœ¨å®Œæˆæ•°æ®åº“æ“ä½œåï¼Œç›´æ¥è°ƒç”¨hotel-demoæä¾›çš„æ¥å£ï¼Œ</li></ul><h3 id="_3-1-2-å¼‚æ­¥é€šçŸ¥" tabindex="-1"><a class="header-anchor" href="#_3-1-2-å¼‚æ­¥é€šçŸ¥" aria-hidden="true">#</a> 3.1.2.å¼‚æ­¥é€šçŸ¥</h3><p>æ–¹æ¡ˆäºŒï¼šå¼‚æ­¥é€šçŸ¥</p><p><img src="/assets/image-20210723215140735.bcee2177.png" alt="image-20210723215140735"></p><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>hotel-adminå¯¹mysqlæ•°æ®åº“æ•°æ®å®Œæˆå¢ã€åˆ ã€æ”¹åï¼Œå‘é€MQæ¶ˆæ¯</li><li>hotel-demoç›‘å¬MQï¼Œæ¥æ”¶åˆ°æ¶ˆæ¯åå®Œæˆelasticsearchæ•°æ®ä¿®æ”¹</li></ul><h3 id="_3-1-3-ç›‘å¬binlog" tabindex="-1"><a class="header-anchor" href="#_3-1-3-ç›‘å¬binlog" aria-hidden="true">#</a> 3.1.3.ç›‘å¬binlog</h3><p>æ–¹æ¡ˆä¸‰ï¼šç›‘å¬binlog</p><p><img src="/assets/image-20210723215518541.24e4fe8c.png" alt="image-20210723215518541"></p><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ç»™mysqlå¼€å¯binlogåŠŸèƒ½</li><li>mysqlå®Œæˆå¢ã€åˆ ã€æ”¹æ“ä½œéƒ½ä¼šè®°å½•åœ¨binlogä¸­</li><li>hotel-demoåŸºäºcanalç›‘å¬binlogå˜åŒ–ï¼Œå®æ—¶æ›´æ–°elasticsearchä¸­çš„å†…å®¹</li></ul><h3 id="_3-1-4-é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#_3-1-4-é€‰æ‹©" aria-hidden="true">#</a> 3.1.4.é€‰æ‹©</h3><p>æ–¹å¼ä¸€ï¼šåŒæ­¥è°ƒç”¨</p><ul><li>ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œç²—æš´</li><li>ç¼ºç‚¹ï¼šä¸šåŠ¡è€¦åˆåº¦é«˜</li></ul><p>æ–¹å¼äºŒï¼šå¼‚æ­¥é€šçŸ¥</p><ul><li>ä¼˜ç‚¹ï¼šä½è€¦åˆï¼Œå®ç°éš¾åº¦ä¸€èˆ¬</li><li>ç¼ºç‚¹ï¼šä¾èµ–mqçš„å¯é æ€§</li></ul><p>æ–¹å¼ä¸‰ï¼šç›‘å¬binlog</p><ul><li>ä¼˜ç‚¹ï¼šå®Œå…¨è§£é™¤æœåŠ¡é—´è€¦åˆ</li><li>ç¼ºç‚¹ï¼šå¼€å¯binlogå¢åŠ æ•°æ®åº“è´Ÿæ‹…ã€å®ç°å¤æ‚åº¦é«˜</li></ul><h2 id="_3-2-å®ç°æ•°æ®åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#_3-2-å®ç°æ•°æ®åŒæ­¥" aria-hidden="true">#</a> 3.2.å®ç°æ•°æ®åŒæ­¥</h2><h3 id="_3-2-1-æ€è·¯" tabindex="-1"><a class="header-anchor" href="#_3-2-1-æ€è·¯" aria-hidden="true">#</a> 3.2.1.æ€è·¯</h3><p>åˆ©ç”¨è¯¾å‰èµ„æ–™æä¾›çš„hotel-adminé¡¹ç›®ä½œä¸ºé…’åº—ç®¡ç†çš„å¾®æœåŠ¡ã€‚å½“é…’åº—æ•°æ®å‘ç”Ÿå¢ã€åˆ ã€æ”¹æ—¶ï¼Œè¦æ±‚å¯¹elasticsearchä¸­æ•°æ®ä¹Ÿè¦å®Œæˆç›¸åŒæ“ä½œã€‚</p><p>æ­¥éª¤ï¼š</p><ul><li><p>å¯¼å…¥è¯¾å‰èµ„æ–™æä¾›çš„hotel-adminé¡¹ç›®ï¼Œå¯åŠ¨å¹¶æµ‹è¯•é…’åº—æ•°æ®çš„CRUD</p></li><li><p>å£°æ˜exchangeã€queueã€RoutingKey</p></li><li><p>åœ¨hotel-adminä¸­çš„å¢ã€åˆ ã€æ”¹ä¸šåŠ¡ä¸­å®Œæˆæ¶ˆæ¯å‘é€</p></li><li><p>åœ¨hotel-demoä¸­å®Œæˆæ¶ˆæ¯ç›‘å¬ï¼Œå¹¶æ›´æ–°elasticsearchä¸­æ•°æ®</p></li><li><p>å¯åŠ¨å¹¶æµ‹è¯•æ•°æ®åŒæ­¥åŠŸèƒ½</p></li></ul><h3 id="_3-2-2-å¯¼å…¥demo" tabindex="-1"><a class="header-anchor" href="#_3-2-2-å¯¼å…¥demo" aria-hidden="true">#</a> 3.2.2.å¯¼å…¥demo</h3><p>å¯¼å…¥è¯¾å‰èµ„æ–™æä¾›çš„hotel-adminé¡¹ç›®ï¼š</p><p><img src="/assets/image-20210723220237930.4b4248c4.png" alt="image-20210723220237930"></p><p>è¿è¡Œåï¼Œè®¿é—® http://localhost:8099</p><p><img src="/assets/image-20210723220354464.4e4b8d69.png" alt="image-20210723220354464"></p><p>å…¶ä¸­åŒ…å«äº†é…’åº—çš„CRUDåŠŸèƒ½ï¼š</p><p><img src="/assets/image-20210723220511090.921dbbe6.png" alt="image-20210723220511090"></p><h3 id="_3-2-3-å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#_3-2-3-å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ—" aria-hidden="true">#</a> 3.2.3.å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ—</h3><p>MQç»“æ„å¦‚å›¾ï¼š</p><p><img src="/assets/image-20210723215850307.198e2280.png" alt="image-20210723215850307"></p><h4 id="_1-å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_1-å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> 1ï¼‰å¼•å…¥ä¾èµ–</h4><p>åœ¨hotel-adminã€hotel-demoä¸­å¼•å…¥rabbitmqçš„ä¾èµ–ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--amqp--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-å£°æ˜é˜Ÿåˆ—äº¤æ¢æœºåç§°" tabindex="-1"><a class="header-anchor" href="#_2-å£°æ˜é˜Ÿåˆ—äº¤æ¢æœºåç§°" aria-hidden="true">#</a> 2ï¼‰å£°æ˜é˜Ÿåˆ—äº¤æ¢æœºåç§°</h4><p>åœ¨hotel-adminå’Œhotel-demoä¸­çš„<code>cn.itcast.hotel.constatnts</code>åŒ…ä¸‹æ–°å»ºä¸€ä¸ªç±»<code>MqConstants</code>ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>constatnts</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MqConstants</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * äº¤æ¢æœº
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">HOTEL_EXCHANGE</span> <span class="token operator">=</span> <span class="token string">&quot;hotel.topic&quot;</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * ç›‘å¬æ–°å¢å’Œä¿®æ”¹çš„é˜Ÿåˆ—
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">HOTEL_INSERT_QUEUE</span> <span class="token operator">=</span> <span class="token string">&quot;hotel.insert.queue&quot;</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * ç›‘å¬åˆ é™¤çš„é˜Ÿåˆ—
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">HOTEL_DELETE_QUEUE</span> <span class="token operator">=</span> <span class="token string">&quot;hotel.delete.queue&quot;</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * æ–°å¢æˆ–ä¿®æ”¹çš„RoutingKey
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">HOTEL_INSERT_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;hotel.insert&quot;</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * åˆ é™¤çš„RoutingKey
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">HOTEL_DELETE_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;hotel.delete&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-å£°æ˜é˜Ÿåˆ—äº¤æ¢æœº" tabindex="-1"><a class="header-anchor" href="#_3-å£°æ˜é˜Ÿåˆ—äº¤æ¢æœº" aria-hidden="true">#</a> 3ï¼‰å£°æ˜é˜Ÿåˆ—äº¤æ¢æœº</h4><p>åœ¨hotel-demoä¸­ï¼Œå®šä¹‰é…ç½®ç±»ï¼Œå£°æ˜é˜Ÿåˆ—ã€äº¤æ¢æœºï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>constants<span class="token punctuation">.</span></span><span class="token class-name">MqConstants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Binding</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">BindingBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Queue</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">TopicExchange</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MqConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">TopicExchange</span> <span class="token function">topicExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TopicExchange</span><span class="token punctuation">(</span><span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_EXCHANGE</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">insertQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_INSERT_QUEUE</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">deleteQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_DELETE_QUEUE</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">insertQueueBinding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">insertQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">topicExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_INSERT_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">deleteQueueBinding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">deleteQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">topicExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_DELETE_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-4-å‘é€mqæ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#_3-2-4-å‘é€mqæ¶ˆæ¯" aria-hidden="true">#</a> 3.2.4.å‘é€MQæ¶ˆæ¯</h3><p>åœ¨hotel-adminä¸­çš„å¢ã€åˆ ã€æ”¹ä¸šåŠ¡ä¸­åˆ†åˆ«å‘é€MQæ¶ˆæ¯ï¼š</p><p><img src="/assets/image-20210723221843816.f513c8b2.png" alt="image-20210723221843816"></p><h3 id="_3-2-5-æ¥æ”¶mqæ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#_3-2-5-æ¥æ”¶mqæ¶ˆæ¯" aria-hidden="true">#</a> 3.2.5.æ¥æ”¶MQæ¶ˆæ¯</h3><p>hotel-demoæ¥æ”¶åˆ°MQæ¶ˆæ¯è¦åšçš„äº‹æƒ…åŒ…æ‹¬ï¼š</p><ul><li>æ–°å¢æ¶ˆæ¯ï¼šæ ¹æ®ä¼ é€’çš„hotelçš„idæŸ¥è¯¢hotelä¿¡æ¯ï¼Œç„¶åæ–°å¢ä¸€æ¡æ•°æ®åˆ°ç´¢å¼•åº“</li><li>åˆ é™¤æ¶ˆæ¯ï¼šæ ¹æ®ä¼ é€’çš„hotelçš„idåˆ é™¤ç´¢å¼•åº“ä¸­çš„ä¸€æ¡æ•°æ®</li></ul><p>1ï¼‰é¦–å…ˆåœ¨hotel-demoçš„<code>cn.itcast.hotel.service</code>åŒ…ä¸‹çš„<code>IHotelService</code>ä¸­æ–°å¢æ–°å¢ã€åˆ é™¤ä¸šåŠ¡</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">insertById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰ç»™hotel-demoä¸­çš„<code>cn.itcast.hotel.service.impl</code>åŒ…ä¸‹çš„HotelServiceä¸­å®ç°ä¸šåŠ¡ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.å‡†å¤‡Request</span>
        <span class="token class-name">DeleteRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteRequest</span><span class="token punctuation">(</span><span class="token string">&quot;hotel&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.å‘é€è¯·æ±‚</span>
        client<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insertById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// 0.æ ¹æ®idæŸ¥è¯¢é…’åº—æ•°æ®</span>
        <span class="token class-name">Hotel</span> hotel <span class="token operator">=</span> <span class="token function">getById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è½¬æ¢ä¸ºæ–‡æ¡£ç±»å‹</span>
        <span class="token class-name">HotelDoc</span> hotelDoc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HotelDoc</span><span class="token punctuation">(</span>hotel<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 1.å‡†å¤‡Requestå¯¹è±¡</span>
        <span class="token class-name">IndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;hotel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>hotel<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.å‡†å¤‡Jsonæ–‡æ¡£</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>hotelDoc<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3.å‘é€è¯·æ±‚</span>
        client<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰ç¼–å†™ç›‘å¬å™¨</p><p>åœ¨hotel-demoä¸­çš„<code>cn.itcast.hotel.mq</code>åŒ…æ–°å¢ä¸€ä¸ªç±»ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>mq</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>constants<span class="token punctuation">.</span></span><span class="token class-name">MqConstants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>hotel<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IHotelService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RabbitListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HotelListener</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">IHotelService</span> hotelService<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * ç›‘å¬é…’åº—æ–°å¢æˆ–ä¿®æ”¹çš„ä¸šåŠ¡
     * <span class="token keyword">@param</span> <span class="token parameter">id</span> é…’åº—id
     */</span>
    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_INSERT_QUEUE</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listenHotelInsertOrUpdate</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        hotelService<span class="token punctuation">.</span><span class="token function">insertById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * ç›‘å¬é…’åº—åˆ é™¤çš„ä¸šåŠ¡
     * <span class="token keyword">@param</span> <span class="token parameter">id</span> é…’åº—id
     */</span>
    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token class-name">MqConstants</span><span class="token punctuation">.</span><span class="token constant">HOTEL_DELETE_QUEUE</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">listenHotelDelete</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        hotelService<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_4-é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-é›†ç¾¤" aria-hidden="true">#</a> 4.é›†ç¾¤</h1><p>å•æœºçš„elasticsearchåšæ•°æ®å­˜å‚¨ï¼Œå¿…ç„¶é¢ä¸´ä¸¤ä¸ªé—®é¢˜ï¼šæµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜ã€å•ç‚¹æ•…éšœé—®é¢˜ã€‚</p><ul><li>æµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜ï¼šå°†ç´¢å¼•åº“ä»é€»è¾‘ä¸Šæ‹†åˆ†ä¸ºNä¸ªåˆ†ç‰‡ï¼ˆshardï¼‰ï¼Œå­˜å‚¨åˆ°å¤šä¸ªèŠ‚ç‚¹</li><li>å•ç‚¹æ•…éšœé—®é¢˜ï¼šå°†åˆ†ç‰‡æ•°æ®åœ¨ä¸åŒèŠ‚ç‚¹å¤‡ä»½ï¼ˆreplica ï¼‰</li></ul><p><strong>ESé›†ç¾¤ç›¸å…³æ¦‚å¿µ</strong>:</p><ul><li><p>é›†ç¾¤ï¼ˆclusterï¼‰ï¼šä¸€ç»„æ‹¥æœ‰å…±åŒçš„ cluster name çš„ èŠ‚ç‚¹ã€‚</p></li><li><p>**èŠ‚ç‚¹ï¼ˆnode) **ï¼šé›†ç¾¤ä¸­çš„ä¸€ä¸ª Elasticearch å®ä¾‹</p></li><li><p><strong>åˆ†ç‰‡ï¼ˆshardï¼‰</strong>ï¼šç´¢å¼•å¯ä»¥è¢«æ‹†åˆ†ä¸ºä¸åŒçš„éƒ¨åˆ†è¿›è¡Œå­˜å‚¨ï¼Œç§°ä¸ºåˆ†ç‰‡ã€‚åœ¨é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªç´¢å¼•çš„ä¸åŒåˆ†ç‰‡å¯ä»¥æ‹†åˆ†åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸­</p><p>è§£å†³é—®é¢˜ï¼šæ•°æ®é‡å¤ªå¤§ï¼Œå•ç‚¹å­˜å‚¨é‡æœ‰é™çš„é—®é¢˜ã€‚</p><p><img src="/assets/image-20200104124440086-5602723.3dcfd7bf.png" alt="image-20200104124440086"></p><blockquote><p>æ­¤å¤„ï¼Œæˆ‘ä»¬æŠŠæ•°æ®åˆ†æˆ3ç‰‡ï¼šshard0ã€shard1ã€shard2</p></blockquote></li><li><p>ä¸»åˆ†ç‰‡ï¼ˆPrimary shardï¼‰ï¼šç›¸å¯¹äºå‰¯æœ¬åˆ†ç‰‡çš„å®šä¹‰ã€‚</p></li><li><p>å‰¯æœ¬åˆ†ç‰‡ï¼ˆReplica shardï¼‰æ¯ä¸ªä¸»åˆ†ç‰‡å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‰¯æœ¬ï¼Œæ•°æ®å’Œä¸»åˆ†ç‰‡ä¸€æ ·ã€‚</p><p>â€‹</p></li></ul><p>æ•°æ®å¤‡ä»½å¯ä»¥ä¿è¯é«˜å¯ç”¨ï¼Œä½†æ˜¯æ¯ä¸ªåˆ†ç‰‡å¤‡ä»½ä¸€ä»½ï¼Œæ‰€éœ€è¦çš„èŠ‚ç‚¹æ•°é‡å°±ä¼šç¿»ä¸€å€ï¼Œæˆæœ¬å®åœ¨æ˜¯å¤ªé«˜äº†ï¼</p><p>ä¸ºäº†åœ¨é«˜å¯ç”¨å’Œæˆæœ¬é—´å¯»æ±‚å¹³è¡¡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p><ul><li>é¦–å…ˆå¯¹æ•°æ®åˆ†ç‰‡ï¼Œå­˜å‚¨åˆ°ä¸åŒèŠ‚ç‚¹</li><li>ç„¶åå¯¹æ¯ä¸ªåˆ†ç‰‡è¿›è¡Œå¤‡ä»½ï¼Œæ”¾åˆ°å¯¹æ–¹èŠ‚ç‚¹ï¼Œå®Œæˆäº’ç›¸å¤‡ä»½</li></ul><p>è¿™æ ·å¯ä»¥å¤§å¤§å‡å°‘æ‰€éœ€è¦çš„æœåŠ¡èŠ‚ç‚¹æ•°é‡ï¼Œå¦‚å›¾ï¼Œæˆ‘ä»¬ä»¥3åˆ†ç‰‡ï¼Œæ¯ä¸ªåˆ†ç‰‡å¤‡ä»½ä¸€ä»½ä¸ºä¾‹ï¼š</p><p><img src="/assets/image-20200104124551912.aec7f182.png" alt="image-20200104124551912"></p><p>ç°åœ¨ï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æœ‰1ä¸ªå¤‡ä»½ï¼Œå­˜å‚¨åœ¨3ä¸ªèŠ‚ç‚¹ï¼š</p><ul><li>node0ï¼šä¿å­˜äº†åˆ†ç‰‡0å’Œ1</li><li>node1ï¼šä¿å­˜äº†åˆ†ç‰‡0å’Œ2</li><li>node2ï¼šä¿å­˜äº†åˆ†ç‰‡1å’Œ2</li></ul><h2 id="_4-1-æ­å»ºesé›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-1-æ­å»ºesé›†ç¾¤" aria-hidden="true">#</a> 4.1.æ­å»ºESé›†ç¾¤</h2><p>å‚è€ƒè¯¾å‰èµ„æ–™çš„æ–‡æ¡£ï¼š</p><p><img src="/assets/image-20210723222732427.63018be6.png" alt="image-20210723222732427"></p><p>å…¶ä¸­çš„ç¬¬å››ç« èŠ‚ï¼š</p><p><img src="/assets/image-20210723222812619.336780ad.png" alt="image-20210723222812619"></p><h2 id="_4-2-é›†ç¾¤è„‘è£‚é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-2-é›†ç¾¤è„‘è£‚é—®é¢˜" aria-hidden="true">#</a> 4.2.é›†ç¾¤è„‘è£‚é—®é¢˜</h2><h3 id="_4-2-1-é›†ç¾¤èŒè´£åˆ’åˆ†" tabindex="-1"><a class="header-anchor" href="#_4-2-1-é›†ç¾¤èŒè´£åˆ’åˆ†" aria-hidden="true">#</a> 4.2.1.é›†ç¾¤èŒè´£åˆ’åˆ†</h3><p>elasticsearchä¸­é›†ç¾¤èŠ‚ç‚¹æœ‰ä¸åŒçš„èŒè´£åˆ’åˆ†ï¼š</p><p><img src="/assets/image-20210723223008967.b37d9539.png" alt="image-20210723223008967"></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤ä¸­çš„ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½åŒæ—¶å…·å¤‡ä¸Šè¿°å››ç§è§’è‰²ã€‚</p><p>ä½†æ˜¯çœŸå®çš„é›†ç¾¤ä¸€å®šè¦å°†é›†ç¾¤èŒè´£åˆ†ç¦»ï¼š</p><ul><li>masterèŠ‚ç‚¹ï¼šå¯¹CPUè¦æ±‚é«˜ï¼Œä½†æ˜¯å†…å­˜è¦æ±‚ç¬¬</li><li>dataèŠ‚ç‚¹ï¼šå¯¹CPUå’Œå†…å­˜è¦æ±‚éƒ½é«˜</li><li>coordinatingèŠ‚ç‚¹ï¼šå¯¹ç½‘ç»œå¸¦å®½ã€CPUè¦æ±‚é«˜</li></ul><p>èŒè´£åˆ†ç¦»å¯ä»¥è®©æˆ‘ä»¬æ ¹æ®ä¸åŒèŠ‚ç‚¹çš„éœ€æ±‚åˆ†é…ä¸åŒçš„ç¡¬ä»¶å»éƒ¨ç½²ã€‚è€Œä¸”é¿å…ä¸šåŠ¡ä¹‹é—´çš„äº’ç›¸å¹²æ‰°ã€‚</p><p>ä¸€ä¸ªå…¸å‹çš„esé›†ç¾¤èŒè´£åˆ’åˆ†å¦‚å›¾ï¼š</p><p><img src="/assets/image-20210723223629142.8a8d56bb.png" alt="image-20210723223629142"></p><h3 id="_4-2-2-è„‘è£‚é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-2-2-è„‘è£‚é—®é¢˜" aria-hidden="true">#</a> 4.2.2.è„‘è£‚é—®é¢˜</h3><p>è„‘è£‚æ˜¯å› ä¸ºé›†ç¾¤ä¸­çš„èŠ‚ç‚¹å¤±è”å¯¼è‡´çš„ã€‚</p><p>ä¾‹å¦‚ä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œä¸»èŠ‚ç‚¹ä¸å…¶å®ƒèŠ‚ç‚¹å¤±è”ï¼š</p><p><img src="/assets/image-20210723223804995.dfe23779.png" alt="image-20210723223804995"></p><p>æ­¤æ—¶ï¼Œnode2å’Œnode3è®¤ä¸ºnode1å®•æœºï¼Œå°±ä¼šé‡æ–°é€‰ä¸»ï¼š</p><p><img src="/assets/image-20210723223845754.d6b6ad13.png" alt="image-20210723223845754"></p><p>å½“node3å½“é€‰åï¼Œé›†ç¾¤ç»§ç»­å¯¹å¤–æä¾›æœåŠ¡ï¼Œnode2å’Œnode3è‡ªæˆé›†ç¾¤ï¼Œnode1è‡ªæˆé›†ç¾¤ï¼Œä¸¤ä¸ªé›†ç¾¤æ•°æ®ä¸åŒæ­¥ï¼Œå‡ºç°æ•°æ®å·®å¼‚ã€‚</p><p>å½“ç½‘ç»œæ¢å¤åï¼Œå› ä¸ºé›†ç¾¤ä¸­æœ‰ä¸¤ä¸ªmasterèŠ‚ç‚¹ï¼Œé›†ç¾¤çŠ¶æ€çš„ä¸ä¸€è‡´ï¼Œå‡ºç°è„‘è£‚çš„æƒ…å†µï¼š</p><p><img src="/assets/image-20210723224000555.509ed117.png" alt="image-20210723224000555"></p><p>è§£å†³è„‘è£‚çš„æ–¹æ¡ˆæ˜¯ï¼Œè¦æ±‚é€‰ç¥¨è¶…è¿‡ ( eligibleèŠ‚ç‚¹æ•°é‡ + 1 ï¼‰/ 2 æ‰èƒ½å½“é€‰ä¸ºä¸»ï¼Œå› æ­¤eligibleèŠ‚ç‚¹æ•°é‡æœ€å¥½æ˜¯å¥‡æ•°ã€‚å¯¹åº”é…ç½®é¡¹æ˜¯discovery.zen.minimum_master_nodesï¼Œåœ¨es7.0ä»¥åï¼Œå·²ç»æˆä¸ºé»˜è®¤é…ç½®ï¼Œå› æ­¤ä¸€èˆ¬ä¸ä¼šå‘ç”Ÿè„‘è£‚é—®é¢˜</p><p>ä¾‹å¦‚ï¼š3ä¸ªèŠ‚ç‚¹å½¢æˆçš„é›†ç¾¤ï¼Œé€‰ç¥¨å¿…é¡»è¶…è¿‡ ï¼ˆ3 + 1ï¼‰ / 2 ï¼Œä¹Ÿå°±æ˜¯2ç¥¨ã€‚node3å¾—åˆ°node2å’Œnode3çš„é€‰ç¥¨ï¼Œå½“é€‰ä¸ºä¸»ã€‚node1åªæœ‰è‡ªå·±1ç¥¨ï¼Œæ²¡æœ‰å½“é€‰ã€‚é›†ç¾¤ä¸­ä¾ç„¶åªæœ‰1ä¸ªä¸»èŠ‚ç‚¹ï¼Œæ²¡æœ‰å‡ºç°è„‘è£‚ã€‚</p><h3 id="_4-2-3-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_4-2-3-å°ç»“" aria-hidden="true">#</a> 4.2.3.å°ç»“</h3><p>master eligibleèŠ‚ç‚¹çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>å‚ä¸é›†ç¾¤é€‰ä¸»</li><li>ä¸»èŠ‚ç‚¹å¯ä»¥ç®¡ç†é›†ç¾¤çŠ¶æ€ã€ç®¡ç†åˆ†ç‰‡ä¿¡æ¯ã€å¤„ç†åˆ›å»ºå’Œåˆ é™¤ç´¢å¼•åº“çš„è¯·æ±‚</li></ul><p>dataèŠ‚ç‚¹çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>æ•°æ®çš„CRUD</li></ul><p>coordinatorèŠ‚ç‚¹çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li><p>è·¯ç”±è¯·æ±‚åˆ°å…¶å®ƒèŠ‚ç‚¹</p></li><li><p>åˆå¹¶æŸ¥è¯¢åˆ°çš„ç»“æœï¼Œè¿”å›ç»™ç”¨æˆ·</p></li></ul><h2 id="_4-3-é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#_4-3-é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨" aria-hidden="true">#</a> 4.3.é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨</h2><p>å½“æ–°å¢æ–‡æ¡£æ—¶ï¼Œåº”è¯¥ä¿å­˜åˆ°ä¸åŒåˆ†ç‰‡ï¼Œä¿è¯æ•°æ®å‡è¡¡ï¼Œé‚£ä¹ˆcoordinating nodeå¦‚ä½•ç¡®å®šæ•°æ®è¯¥å­˜å‚¨åˆ°å“ªä¸ªåˆ†ç‰‡å‘¢ï¼Ÿ</p><h3 id="_4-3-1-åˆ†ç‰‡å­˜å‚¨æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_4-3-1-åˆ†ç‰‡å­˜å‚¨æµ‹è¯•" aria-hidden="true">#</a> 4.3.1.åˆ†ç‰‡å­˜å‚¨æµ‹è¯•</h3><p>æ’å…¥ä¸‰æ¡æ•°æ®ï¼š</p><p><img src="/assets/image-20210723225006058.43bc2afb.png" alt="image-20210723225006058"></p><p><img src="/assets/image-20210723225034637.6dfb9053.png" alt="image-20210723225034637"></p><p><img src="/assets/image-20210723225112029.c88e31c8.png" alt="image-20210723225112029"></p><p>æµ‹è¯•å¯ä»¥çœ‹åˆ°ï¼Œä¸‰æ¡æ•°æ®åˆ†åˆ«åœ¨ä¸åŒåˆ†ç‰‡ï¼š</p><p><img src="/assets/image-20210723225227928.c67247ca.png" alt="image-20210723225227928"></p><p>ç»“æœï¼š</p><p><img src="/assets/image-20210723225342120.d99bde8f.png" alt="image-20210723225342120"></p><h3 id="_4-3-2-åˆ†ç‰‡å­˜å‚¨åŸç†" tabindex="-1"><a class="header-anchor" href="#_4-3-2-åˆ†ç‰‡å­˜å‚¨åŸç†" aria-hidden="true">#</a> 4.3.2.åˆ†ç‰‡å­˜å‚¨åŸç†</h3><p>elasticsearchä¼šé€šè¿‡hashç®—æ³•æ¥è®¡ç®—æ–‡æ¡£åº”è¯¥å­˜å‚¨åˆ°å“ªä¸ªåˆ†ç‰‡ï¼š</p><p><img src="/assets/image-20210723224354904.087ba78d.png" alt="image-20210723224354904"></p><p>è¯´æ˜ï¼š</p><ul><li>_routingé»˜è®¤æ˜¯æ–‡æ¡£çš„id</li><li>ç®—æ³•ä¸åˆ†ç‰‡æ•°é‡æœ‰å…³ï¼Œå› æ­¤ç´¢å¼•åº“ä¸€æ—¦åˆ›å»ºï¼Œåˆ†ç‰‡æ•°é‡ä¸èƒ½ä¿®æ”¹ï¼</li></ul><p>æ–°å¢æ–‡æ¡£çš„æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/assets/image-20210723225436084.9b332f62.png" alt="image-20210723225436084"></p><p>è§£è¯»ï¼š</p><ul><li>1ï¼‰æ–°å¢ä¸€ä¸ªid=1çš„æ–‡æ¡£</li><li>2ï¼‰å¯¹idåšhashè¿ç®—ï¼Œå‡å¦‚å¾—åˆ°çš„æ˜¯2ï¼Œåˆ™åº”è¯¥å­˜å‚¨åˆ°shard-2</li><li>3ï¼‰shard-2çš„ä¸»åˆ†ç‰‡åœ¨node3èŠ‚ç‚¹ï¼Œå°†æ•°æ®è·¯ç”±åˆ°node3</li><li>4ï¼‰ä¿å­˜æ–‡æ¡£</li><li>5ï¼‰åŒæ­¥ç»™shard-2çš„å‰¯æœ¬replica-2ï¼Œåœ¨node2èŠ‚ç‚¹</li><li>6ï¼‰è¿”å›ç»“æœç»™coordinating-nodeèŠ‚ç‚¹</li></ul><h2 id="_4-4-é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_4-4-é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢" aria-hidden="true">#</a> 4.4.é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢</h2><p>elasticsearchçš„æŸ¥è¯¢åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š</p><ul><li><p>scatter phaseï¼šåˆ†æ•£é˜¶æ®µï¼Œcoordinating nodeä¼šæŠŠè¯·æ±‚åˆ†å‘åˆ°æ¯ä¸€ä¸ªåˆ†ç‰‡</p></li><li><p>gather phaseï¼šèšé›†é˜¶æ®µï¼Œcoordinating nodeæ±‡æ€»data nodeçš„æœç´¢ç»“æœï¼Œå¹¶å¤„ç†ä¸ºæœ€ç»ˆç»“æœé›†è¿”å›ç»™ç”¨æˆ·</p></li></ul><p><img src="/assets/image-20210723225809848.645131e1.png" alt="image-20210723225809848"></p><h2 id="_4-5-é›†ç¾¤æ•…éšœè½¬ç§»" tabindex="-1"><a class="header-anchor" href="#_4-5-é›†ç¾¤æ•…éšœè½¬ç§»" aria-hidden="true">#</a> 4.5.é›†ç¾¤æ•…éšœè½¬ç§»</h2><p>é›†ç¾¤çš„masterèŠ‚ç‚¹ä¼šç›‘æ§é›†ç¾¤ä¸­çš„èŠ‚ç‚¹çŠ¶æ€ï¼Œå¦‚æœå‘ç°æœ‰èŠ‚ç‚¹å®•æœºï¼Œä¼šç«‹å³å°†å®•æœºèŠ‚ç‚¹çš„åˆ†ç‰‡æ•°æ®è¿ç§»åˆ°å…¶å®ƒèŠ‚ç‚¹ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ï¼Œè¿™ä¸ªå«åšæ•…éšœè½¬ç§»ã€‚</p><p>1ï¼‰ä¾‹å¦‚ä¸€ä¸ªé›†ç¾¤ç»“æ„å¦‚å›¾ï¼š</p><p><img src="/assets/image-20210723225945963.f91c1c05.png" alt="image-20210723225945963"></p><p>ç°åœ¨ï¼Œnode1æ˜¯ä¸»èŠ‚ç‚¹ï¼Œå…¶å®ƒä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä»èŠ‚ç‚¹ã€‚</p><p>2ï¼‰çªç„¶ï¼Œnode1å‘ç”Ÿäº†æ•…éšœï¼š</p><p><img src="/assets/image-20210723230020574.c4fa214f.png" alt="image-20210723230020574"></p><p>å®•æœºåçš„ç¬¬ä¸€ä»¶äº‹ï¼Œéœ€è¦é‡æ–°é€‰ä¸»ï¼Œä¾‹å¦‚é€‰ä¸­äº†node2ï¼š</p><p><img src="/assets/image-20210723230055974.f7196ed7.png" alt="image-20210723230055974"></p><p>node2æˆä¸ºä¸»èŠ‚ç‚¹åï¼Œä¼šæ£€æµ‹é›†ç¾¤ç›‘æ§çŠ¶æ€ï¼Œå‘ç°ï¼šshard-1ã€shard-0æ²¡æœ‰å‰¯æœ¬èŠ‚ç‚¹ã€‚å› æ­¤éœ€è¦å°†node1ä¸Šçš„æ•°æ®è¿ç§»åˆ°node2ã€node3ï¼š</p><p><img src="/assets/image-20210723230216642.3e030263.png" alt="image-20210723230216642"></p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://gitee.com/xiaweifeng/vuepress-source/edit/master/docs/Javaåç«¯/08SpringCloudå¾®æœåŠ¡/01å®ç”¨ç¯‡/day07-Elasticsearch03/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨Giteeä¸Šç¼–è¾‘æ­¤é¡µ"><!--[--><!--]--> åœ¨Giteeä¸Šç¼–è¾‘æ­¤é¡µ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 769313759@qq.com">å¤ä¸€æ¬¡</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.166c275a.js" defer></script>
  </body>
</html>
