<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="http://ahhwxx.51vip.biz:81/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html"><meta property="og:site_name" content="Hades"><meta property="og:title" content="ç¬¬ 9 ç« ã€€å¹¿æ’­ç»„ä»¶Broadcast"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-08-23T15:30:31.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-08-23T15:30:31.000Z"><script>
      (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c6cfefc03bedbb2803a5cad020e7faaa";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);})();
     </script><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="VuePress"><meta name="referrer" content="no-referrer"><meta name="apple-mobile-web-app-title" content="VuePress"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="https://www.vuepress.cn/icons/apple-touch-icon-152x152.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>ç¬¬ 9 ç« ã€€å¹¿æ’­ç»„ä»¶Broadcast | Hades</title><meta name="description" content="è¿™æ˜¯ä¸€æœ¬ç¬”è®°ï¼Œç”¨äºè®°å½•ç¼–ç¨‹è¿‡ç¨‹ä¸­çš„çŸ¥è¯†ç‚¹">
    <link rel="modulepreload" href="/assets/app.166c275a.js"><link rel="modulepreload" href="/assets/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.html.577b445d.js"><link rel="modulepreload" href="/assets/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.html.55914a19.js"><link rel="prefetch" href="/assets/index.html.f8911b23.js"><link rel="prefetch" href="/assets/index.html.a9e81c7e.js"><link rel="prefetch" href="/assets/index.html.443d7f36.js"><link rel="prefetch" href="/assets/Macä¸‹mongodbå®‰è£…å’Œé…ç½®.html.26410259.js"><link rel="prefetch" href="/assets/Macä¸‹å‘½ä»¤è¡Œé…ç½®ç¯å¢ƒå˜é‡.html.819e9133.js"><link rel="prefetch" href="/assets/Macå…¨è‡ªåŠ¨å®‰è£…brewä¸€é”®é…ç½®å›½å†…é•œåƒæº.html.e772a006.js"><link rel="prefetch" href="/assets/Macç»ˆç«¯å‘½ä»¤è®°å½•.html.7783b931.js"><link rel="prefetch" href="/assets/Nginxæ­å»ºHTTPSï¼Œå¹¶åå‘ä»£ç†åˆ°webé¡µé¢_mkcertç”Ÿæˆæœ¬åœ°SSLè¯ä¹¦.html.2ec6bdb0.js"><link rel="prefetch" href="/assets/PDFè½¬Markdownæ–‡ä»¶.html.8d6aa7c7.js"><link rel="prefetch" href="/assets/index.html.287a9117.js"><link rel="prefetch" href="/assets/VSCodeä½¿ç”¨è®°å½•.html.bda23559.js"><link rel="prefetch" href="/assets/docsearchå…¨ç«™æœç´¢.html.49031418.js"><link rel="prefetch" href="/assets/ideaæ’ä»¶åˆ†äº«.html.e58d2459.js"><link rel="prefetch" href="/assets/jetbrainså…¨å®¶æ¡¶æ¿€æ´»ç­–ç•¥.html.df8b794f.js"><link rel="prefetch" href="/assets/ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•.html.2b81f95a.js"><link rel="prefetch" href="/assets/æµ…è°ˆæ–‡è¨€æ–‡ä¸è‹±è¯­è¯­æ³•çš„ç›¸ä¼¼ç‚¹.html.995d875f.js"><link rel="prefetch" href="/assets/é¢å‘AIå¼€å‘.html.5b10e32c.js"><link rel="prefetch" href="/assets/é¸¿è’™3å®‰è£…apkæ— é¡»ç™»å½•.html.022a3044.js"><link rel="prefetch" href="/assets/index.html.fada5771.js"><link rel="prefetch" href="/assets/index.html.991c904f.js"><link rel="prefetch" href="/assets/aboutme.html.69269699.js"><link rel="prefetch" href="/assets/FRPå†…ç½‘ç©¿é€æ­å»º(æ— åŸŸåç‰ˆ).html.35eb25da.js"><link rel="prefetch" href="/assets/index.html.e05a7130.js"><link rel="prefetch" href="/assets/linuxå‰ç«¯é¡¹ç›®éƒ¨ç½².html.c4bd21bc.js"><link rel="prefetch" href="/assets/linuxç¯å¢ƒå˜é‡é…ç½®é”™è¯¯åå‘½ä»¤æ— æ³•ä½¿ç”¨è§£å†³æ–¹æ¡ˆ.html.c691ac65.js"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€å·¥å…·æ¯”è¾ƒ.html.d269d218.js"><link rel="prefetch" href="/assets/åœ¨CentOSä¸Šæ­å»ºSambaæœåŠ¡å™¨.html.128449fb.js"><link rel="prefetch" href="/assets/index.html.f3e49817.js"><link rel="prefetch" href="/assets/ç¬¬01ç« Androidå¼€å‘ç¯å¢ƒæ­å»º.html.f46eddba.js"><link rel="prefetch" href="/assets/ç¬¬02ç« AndroidAppå¼€å‘åŸºç¡€.html.43b79d60.js"><link rel="prefetch" href="/assets/ç¬¬03ç« ç®€å•æ§ä»¶.html.511eb9ca.js"><link rel="prefetch" href="/assets/ç¬¬04ç« æ´»åŠ¨Activity.html.71c6fee4.js"><link rel="prefetch" href="/assets/ç¬¬05ç« ä¸­çº§æ§ä»¶.html.0a00ebf3.js"><link rel="prefetch" href="/assets/ç¬¬06ç« æ•°æ®å­˜å‚¨.html.269fd7a2.js"><link rel="prefetch" href="/assets/ç¬¬07ç« å†…å®¹å…±äº«.html.175369bb.js"><link rel="prefetch" href="/assets/ç¬¬08ç« é«˜çº§æ§ä»¶.html.445f1900.js"><link rel="prefetch" href="/assets/ç¬¬10ç« è‡ªå®šä¹‰æ§ä»¶.html.91afbf6d.js"><link rel="prefetch" href="/assets/AndroidStudioä»£ç†é—®é¢˜Connect.html.dab34393.js"><link rel="prefetch" href="/assets/AndroidStudioæ‰“åŒ…aarä¸¢å¤±è¿œç¨‹ä¾èµ–é—®é¢˜è§£å†³.html.a115c6e1.js"><link rel="prefetch" href="/assets/AndroidStudioç™»å½•googleè´¦å·å¤±è´¥é—®é¢˜.html.d8661fad.js"><link rel="prefetch" href="/assets/Apkåº”ç”¨é‡ç­¾åâ€”ä½¿ç”¨AndroidStudioè‡ªå¸¦å·¥å…·apksigner.html.46bf7dab.js"><link rel="prefetch" href="/assets/ä¸å¸¸ç”¨çš„ADBå‘½ä»¤.html.d0a649da.js"><link rel="prefetch" href="/assets/01MySQLç²¾ç®€ç¬”è®°.html.f3b83ace.js"><link rel="prefetch" href="/assets/02JDBC.html.47dcd1b9.js"><link rel="prefetch" href="/assets/03Maven.html.a6a998b3.js"><link rel="prefetch" href="/assets/04Mybatis.html.4853489e.js"><link rel="prefetch" href="/assets/05ç½‘é¡µä¸‰å‰‘å®¢.html.69ec6918.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.0ba4a96a.js"><link rel="prefetch" href="/assets/07Request_Response.html.75d6284c.js"><link rel="prefetch" href="/assets/08JSP.html.35700bfa.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.6aea4067.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.9dfbf7b9.js"><link rel="prefetch" href="/assets/11Vue_Element.html.1966c648.js"><link rel="prefetch" href="/assets/12ç»¼åˆæ¡ˆä¾‹.html.5f95bc3d.js"><link rel="prefetch" href="/assets/index.html.d212be0c.js"><link rel="prefetch" href="/assets/POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.81be4d59.js"><link rel="prefetch" href="/assets/index.html.424f11e3.js"><link rel="prefetch" href="/assets/index.html.36a503c1.js"><link rel="prefetch" href="/assets/index.html.ceee3cb5.js"><link rel="prefetch" href="/assets/index.html.b0020a33.js"><link rel="prefetch" href="/assets/index.html.c810cee8.js"><link rel="prefetch" href="/assets/index.html.b5c28815.js"><link rel="prefetch" href="/assets/index.html.12a5c12e.js"><link rel="prefetch" href="/assets/index.html.776ff0eb.js"><link rel="prefetch" href="/assets/index.html.aae3b646.js"><link rel="prefetch" href="/assets/index.html.4167b5c2.js"><link rel="prefetch" href="/assets/request.getInputStreamåªèƒ½è¯»å–ä¸€æ¬¡é—®é¢˜.html.bd2c58f7.js"><link rel="prefetch" href="/assets/ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨.html.6944a42c.js"><link rel="prefetch" href="/assets/é”™è¯¯é›†åˆ.html.aa7ecbd5.js"><link rel="prefetch" href="/assets/index.html.d93e5d1b.js"><link rel="prefetch" href="/assets/index.html.6074a4b2.js"><link rel="prefetch" href="/assets/index.html.126230e0.js"><link rel="prefetch" href="/assets/index.html.d984d618.js"><link rel="prefetch" href="/assets/Nodeå¤šç‰ˆæœ¬ç®¡ç†.html.b9ac5171.js"><link rel="prefetch" href="/assets/index.html.1d6f705e.js"><link rel="prefetch" href="/assets/Webè°ƒè¯•å…¥é—¨.html.19e0c86f.js"><link rel="prefetch" href="/assets/å…³äºESLInké…ç½®é—®é¢˜.html.8fde72e0.js"><link rel="prefetch" href="/assets/index.html.80ab1fc5.js"><link rel="prefetch" href="/assets/MySQL-åŸºç¡€ç¯‡.html.983a0f90.js"><link rel="prefetch" href="/assets/Mavené«˜çº§.html.b2a9f6f0.js"><link rel="prefetch" href="/assets/SpringBoot.html.4ff0296d.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.142a22d5.js"><link rel="prefetch" href="/assets/RestTemplate.html.64604077.js"><link rel="prefetch" href="/assets/Dubboè¯¦è§£.html.5962e998.js"><link rel="prefetch" href="/assets/Macä¸‹ZooKeeperå®‰è£…å’Œä½¿ç”¨.html.c1a51bab.js"><link rel="prefetch" href="/assets/Zookeeperé›†ç¾¤æ­å»º.html.0658289e.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬10ç« ï¼‰.html.9c4c35b4.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬11ç« ï¼‰.html.db35024a.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬12ç« ï¼‰.html.d8b70e69.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬13ç« ï¼‰.html.88609c9b.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬1ç« ï¼‰.html.ae3266c6.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬2ç« ï¼‰.html.f1261d89.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬3ç« ï¼‰.html.d3f7bede.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬4ç« ï¼‰.html.0858459d.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬5ç« ï¼‰.html.e5198ebf.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬6ç« ï¼‰.html.b8d47289.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬7ç« ï¼‰.html.f77134ee.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬8ç« ï¼‰.html.70dd80b1.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬9ç« ï¼‰.html.bfca520b.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.83e4fdfd.js"><link rel="prefetch" href="/assets/Linux-Day01.html.253e571d.js"><link rel="prefetch" href="/assets/Linux-Day02.html.63f777ab.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html.f0710ded.js"><link rel="prefetch" href="/assets/Gitè¯¾ç¨‹è®²ä¹‰.html.fc0326a7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day01.html.344d54ae.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day02.html.74ffa222.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day03.html.4c736155.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day04.html.8c5f7db1.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day05.html.14d78f2f.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day06.html.9125ab2f.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day01.html.e9fc7f33.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day02.html.74275047.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day03.html.ce58aedd.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡å¸¸è§é¢è¯•é¢˜.html.70a444e5.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.7f90044a.js"><link rel="prefetch" href="/assets/day01-HTMLåŸºç¡€.html.83b374e8.js"><link rel="prefetch" href="/assets/day02-HTMLè¿›é˜¶.html.4cf33ed8.js"><link rel="prefetch" href="/assets/day03-CSSåŸºç¡€.html.31fc73fd.js"><link rel="prefetch" href="/assets/day04-CSSè¿›é˜¶.html.16c20095.js"><link rel="prefetch" href="/assets/day05-ç›’å­æ¨¡å‹.html.961b8487.js"><link rel="prefetch" href="/assets/day06-Flexå¸ƒå±€.html.75b59be8.js"><link rel="prefetch" href="/assets/day07-å­¦æˆåœ¨çº¿.html.a86b7b85.js"><link rel="prefetch" href="/assets/day08-CSSé«˜çº§.html.27296862.js"><link rel="prefetch" href="/assets/day09-å°å…”é²œå„¿.html.1d86acad.js"><link rel="prefetch" href="/assets/day10-å°å…”é²œå„¿.html.d020dbbe.js"><link rel="prefetch" href="/assets/Day01-é¡¹ç›®ä»‹ç»åŠåˆå§‹åŒ–-ç™»å½•é¡µé¢.html.e11fbd08.js"><link rel="prefetch" href="/assets/Day02-ç™»å½•æ¨¡å—-ä¸»é¡µé‰´æƒ.html.ead08a87.js"><link rel="prefetch" href="/assets/Day03-ä¸»é¡µæ¨¡å—-ä¿®æ”¹å¯†ç .html.9b5309ed.js"><link rel="prefetch" href="/assets/Day04-ç»„ç»‡æ¶æ„.html.88c5500c.js"><link rel="prefetch" href="/assets/Day05-ç»„ç»‡æ¶æ„-è§’è‰²ç®¡ç†.html.9fa7b208.js"><link rel="prefetch" href="/assets/Day06-è§’è‰²ç®¡ç†-å‘˜å·¥ç®¡ç†.html.dde328cc.js"><link rel="prefetch" href="/assets/Day07-å‘˜å·¥ç®¡ç†-ä¸Šä¼ ä¸‹è½½.html.06c2dac0.js"><link rel="prefetch" href="/assets/Day08-Cosä¸Šä¼ å’Œæƒé™æ•°æ®.html.bb1e1952.js"><link rel="prefetch" href="/assets/Day09-æƒé™åº”ç”¨-é¦–é¡µ.html.921e93d9.js"><link rel="prefetch" href="/assets/Day10-é¦–é¡µå›¾è¡¨-Nginxä¸Šçº¿.html.3d9cf349.js"><link rel="prefetch" href="/assets/1.Vue3å…¥é—¨.html.7a3e0d8a.js"><link rel="prefetch" href="/assets/10.è´­ç‰©è½¦.html.20ea2ead.js"><link rel="prefetch" href="/assets/11.è®¢å•é¡µ.html.bc6d8649.js"><link rel="prefetch" href="/assets/12.æ”¯ä»˜é¡µ.html.d40cfeb4.js"><link rel="prefetch" href="/assets/13.ä¼šå‘˜ä¸­å¿ƒ.html.5fe719d8.js"><link rel="prefetch" href="/assets/14.æ‹“å±•éƒ¨åˆ†.html.035d5c83.js"><link rel="prefetch" href="/assets/2.Piniaå…¥é—¨.html.b2c06181.js"><link rel="prefetch" href="/assets/3.é¡¹ç›®èµ·æ­¥.html.dcb305d1.js"><link rel="prefetch" href="/assets/4.Layouté¡µ.html.05996fb4.js"><link rel="prefetch" href="/assets/5.Homeé¡µ.html.d45d0a35.js"><link rel="prefetch" href="/assets/6.ä¸€çº§åˆ†ç±»é¡µ.html.5eea439d.js"><link rel="prefetch" href="/assets/7.äºŒçº§åˆ†ç±»é¡µ.html.fe7411e1.js"><link rel="prefetch" href="/assets/8.å•†å“è¯¦æƒ….html.d409a15f.js"><link rel="prefetch" href="/assets/9.ç™»å½•é¡µ.html.f44613c3.js"><link rel="prefetch" href="/assets/day01.html.fbe0c77d.js"><link rel="prefetch" href="/assets/day02.html.bf57e82f.js"><link rel="prefetch" href="/assets/day03.html.3f87b87d.js"><link rel="prefetch" href="/assets/index.html.ecf4772f.js"><link rel="prefetch" href="/assets/day01.html.351f5439.js"><link rel="prefetch" href="/assets/day02.html.9033a479.js"><link rel="prefetch" href="/assets/day03.html.bc46a39c.js"><link rel="prefetch" href="/assets/day04.html.32a035a0.js"><link rel="prefetch" href="/assets/index.html.13abadda.js"><link rel="prefetch" href="/assets/interview-base.html.d0e3b5ce.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.b2fc38f7.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.73cc0644.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.3411ecb3.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€ç¯‡.html.4f17ecfc.js"><link rel="prefetch" href="/assets/Rediså¿«é€Ÿå…¥é—¨.html.176c3209.js"><link rel="prefetch" href="/assets/Rediså®æˆ˜ç¯‡.html.c0446a1e.js"><link rel="prefetch" href="/assets/RedisåŸç†ç¯‡.html.ff47cd6d.js"><link rel="prefetch" href="/assets/Spring-day01.html.2591c6f9.js"><link rel="prefetch" href="/assets/Spring-day02.html.a3938deb.js"><link rel="prefetch" href="/assets/Spring-day03.html.27a0461c.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.f39177c9.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.92cd2e7a.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.ce11b667.js"><link rel="prefetch" href="/assets/SpringBootStart.html.e28c8523.js"><link rel="prefetch" href="/assets/SpringBootæ•´åˆSSMP.html.0a5bad92.js"><link rel="prefetch" href="/assets/SpringBootç»¼åˆæ¡ˆä¾‹.html.d254b936.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.170aeb64.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.bf5adc8a.js"><link rel="prefetch" href="/assets/Centos8-streamåœ¨çœŸæœºä¸Šå®‰è£…æ’å‘.html.c1b5bffc.js"><link rel="prefetch" href="/assets/Centos9å®‰è£…mysql.html.97318a7b.js"><link rel="prefetch" href="/assets/SpringCloud01.html.4c0913ab.js"><link rel="prefetch" href="/assets/SpringCloudå®ç”¨ç¯‡02.html.6748f69e.js"><link rel="prefetch" href="/assets/Dockerå®ç”¨ç¯‡.html.f390c0e6.js"><link rel="prefetch" href="/assets/RabbitMQ.html.34befdb9.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.e99c3207.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.298d8dd9.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html.8f8df2d8.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡ä¿æŠ¤.html.fb6f3406.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.8d42dced.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.e5b2328f.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.1109e04b.js"><link rel="prefetch" href="/assets/RabbitMQ-é«˜çº§ç¯‡.html.068e81ba.js"><link rel="prefetch" href="/assets/Mybatisç¬¬ä¸€å¤©.html.d17fcb40.js"><link rel="prefetch" href="/assets/Mybatisç¬¬äºŒå¤©.html.1b60549f.js"><link rel="prefetch" href="/assets/ç§»åŠ¨webç¬¬ä¸€å¤©.html.5386e935.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äºŒå¤©.html.a21706f0.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬ä¸‰å¤©.html.54675ebf.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬å››å¤©.html.f0cfeb65.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äº”å¤©.html.d8a669d2.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸€å¤©.html.891495a2.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸‰å¤©.html.50e03400.js"><link rel="prefetch" href="/assets/javascriptåŸºç¡€ç¬¬äºŒå¤©ç¬”è®°.html.651a1cce.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬äº”å¤©.html.532055f8.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬å››å¤©.html.48f9f757.js"><link rel="prefetch" href="/assets/index.html.2ae2a053.js"><link rel="prefetch" href="/assets/ä¸ªäººå®æˆ˜æ–‡æ¡£.html.a215a567.js"><link rel="prefetch" href="/assets/index.html.a41e5068.js"><link rel="prefetch" href="/assets/index.html.a943c6ed.js"><link rel="prefetch" href="/assets/index.html.f484fa51.js"><link rel="prefetch" href="/assets/index.html.b30fb1f3.js"><link rel="prefetch" href="/assets/index.html.987f5152.js"><link rel="prefetch" href="/assets/JavaScriptè¿›é˜¶ç¬¬ä¸€å¤©.html.ec2e3daf.js"><link rel="prefetch" href="/assets/day03.html.6267d184.js"><link rel="prefetch" href="/assets/day02.html.09d76878.js"><link rel="prefetch" href="/assets/day04.html.0b590623.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.c9d930a9.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.06ba9256.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.a54bfa16.js"><link rel="prefetch" href="/assets/day01.html.d79c2345.js"><link rel="prefetch" href="/assets/day02.html.f509e6ac.js"><link rel="prefetch" href="/assets/day03.html.921fa42c.js"><link rel="prefetch" href="/assets/day04.html.5429aced.js"><link rel="prefetch" href="/assets/day05.html.2ee35e36.js"><link rel="prefetch" href="/assets/day06.html.3e19a000.js"><link rel="prefetch" href="/assets/day07.html.701034e2.js"><link rel="prefetch" href="/assets/æ™ºæ…§å•†åŸé¡¹ç›®.html.2d8a4342.js"><link rel="prefetch" href="/assets/Vue3å…¥é—¨.html.3a51fd0e.js"><link rel="prefetch" href="/assets/Pinia.html.8dd4c37f.js"><link rel="prefetch" href="/assets/å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿ.html.3ae81f5c.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®èµ·æ­¥.html.40242e6f.js"><link rel="prefetch" href="/assets/02-é¦–é¡µæ¨¡å—.html.5c3c430b.js"><link rel="prefetch" href="/assets/03-æ¨èæ¨¡å—.html.ee78b4d8.js"><link rel="prefetch" href="/assets/04-åˆ†ç±»æ¨¡å—.html.0812086c.js"><link rel="prefetch" href="/assets/05-è¯¦æƒ…æ¨¡å—.html.b637efab.js"><link rel="prefetch" href="/assets/06-ç™»å½•æ¨¡å—.html.baebe0ce.js"><link rel="prefetch" href="/assets/07-ç”¨æˆ·æ¨¡å—.html.9843276f.js"><link rel="prefetch" href="/assets/08-åœ°å€æ¨¡å—.html.768b97bc.js"><link rel="prefetch" href="/assets/09-SKUæ¨¡å—.html.fe99e19d.js"><link rel="prefetch" href="/assets/10-è´­ç‰©è½¦æ¨¡å—.html.e30fddab.js"><link rel="prefetch" href="/assets/11-è®¢å•æ¨¡å—.html.8d760634.js"><link rel="prefetch" href="/assets/12-é¡¹ç›®æ‰“åŒ….html.8f746655.js"><link rel="prefetch" href="/assets/index.html.0ef7e9e2.js"><link rel="prefetch" href="/assets/ç¬¬1å¤©.html.5285f02c.js"><link rel="prefetch" href="/assets/ç¬¬2å¤©.html.a31747e8.js"><link rel="prefetch" href="/assets/ç¬¬3å¤©.html.d4a9e617.js"><link rel="prefetch" href="/assets/ç¬¬4å¤©.html.ae52fb77.js"><link rel="prefetch" href="/assets/ç¬¬5å¤©.html.05d1cc31.js"><link rel="prefetch" href="/assets/å°ç¨‹åºè‡ªå®šä¹‰tabBar.html.ef7ea157.js"><link rel="prefetch" href="/assets/ç¬¬6å¤©.html.346be0e3.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.bc54879d.js"><link rel="prefetch" href="/assets/Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.187c57dc.js"><link rel="prefetch" href="/assets/Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.d4751937.js"><link rel="prefetch" href="/assets/Nacoså®‰è£…æŒ‡å—.html.7df3cc60.js"><link rel="prefetch" href="/assets/Nacosé›†ç¾¤æ­å»º.html.fbd16a6a.js"><link rel="prefetch" href="/assets/Centos7å®‰è£…Docker.html.5181da35.js"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html.f7286eb5.js"><link rel="prefetch" href="/assets/å®‰è£…elasticsearch.html.c7bb5c77.js"><link rel="prefetch" href="/assets/Day02_AJAXç»¼åˆæ¡ˆä¾‹.html.f2a65bb1.js"><link rel="prefetch" href="/assets/Day03_AJAXåŸç†.html.d00ba48d.js"><link rel="prefetch" href="/assets/Day04_AJAXè¿›é˜¶.html.cac2ce24.js"><link rel="prefetch" href="/assets/Day01_AJAXå…¥é—¨.html.374298e3.js"><link rel="prefetch" href="/assets/404.html.81c07e69.js"><link rel="prefetch" href="/assets/index.html.92fbf6ff.js"><link rel="prefetch" href="/assets/index.html.e40858f0.js"><link rel="prefetch" href="/assets/index.html.ec1567cc.js"><link rel="prefetch" href="/assets/Macä¸‹mongodbå®‰è£…å’Œé…ç½®.html.736342d9.js"><link rel="prefetch" href="/assets/Macä¸‹å‘½ä»¤è¡Œé…ç½®ç¯å¢ƒå˜é‡.html.7d720e53.js"><link rel="prefetch" href="/assets/Macå…¨è‡ªåŠ¨å®‰è£…brewä¸€é”®é…ç½®å›½å†…é•œåƒæº.html.421fe805.js"><link rel="prefetch" href="/assets/Macç»ˆç«¯å‘½ä»¤è®°å½•.html.5f155e25.js"><link rel="prefetch" href="/assets/Nginxæ­å»ºHTTPSï¼Œå¹¶åå‘ä»£ç†åˆ°webé¡µé¢_mkcertç”Ÿæˆæœ¬åœ°SSLè¯ä¹¦.html.b4ebda6f.js"><link rel="prefetch" href="/assets/PDFè½¬Markdownæ–‡ä»¶.html.638323fb.js"><link rel="prefetch" href="/assets/index.html.9e2c0472.js"><link rel="prefetch" href="/assets/VSCodeä½¿ç”¨è®°å½•.html.e1d97562.js"><link rel="prefetch" href="/assets/docsearchå…¨ç«™æœç´¢.html.68ee7ee4.js"><link rel="prefetch" href="/assets/ideaæ’ä»¶åˆ†äº«.html.99b11191.js"><link rel="prefetch" href="/assets/jetbrainså…¨å®¶æ¡¶æ¿€æ´»ç­–ç•¥.html.49a730a7.js"><link rel="prefetch" href="/assets/ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•.html.901cd5e5.js"><link rel="prefetch" href="/assets/æµ…è°ˆæ–‡è¨€æ–‡ä¸è‹±è¯­è¯­æ³•çš„ç›¸ä¼¼ç‚¹.html.9f127ec3.js"><link rel="prefetch" href="/assets/é¢å‘AIå¼€å‘.html.a0de42d8.js"><link rel="prefetch" href="/assets/é¸¿è’™3å®‰è£…apkæ— é¡»ç™»å½•.html.9ba7e260.js"><link rel="prefetch" href="/assets/index.html.4646d1b3.js"><link rel="prefetch" href="/assets/index.html.ed5f40cf.js"><link rel="prefetch" href="/assets/aboutme.html.80c5e6fb.js"><link rel="prefetch" href="/assets/FRPå†…ç½‘ç©¿é€æ­å»º(æ— åŸŸåç‰ˆ).html.ed427348.js"><link rel="prefetch" href="/assets/index.html.c96fd998.js"><link rel="prefetch" href="/assets/linuxå‰ç«¯é¡¹ç›®éƒ¨ç½².html.4a9e37f3.js"><link rel="prefetch" href="/assets/linuxç¯å¢ƒå˜é‡é…ç½®é”™è¯¯åå‘½ä»¤æ— æ³•ä½¿ç”¨è§£å†³æ–¹æ¡ˆ.html.91152588.js"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€å·¥å…·æ¯”è¾ƒ.html.da1da9c1.js"><link rel="prefetch" href="/assets/åœ¨CentOSä¸Šæ­å»ºSambaæœåŠ¡å™¨.html.3868ccef.js"><link rel="prefetch" href="/assets/index.html.d39227bb.js"><link rel="prefetch" href="/assets/ç¬¬01ç« Androidå¼€å‘ç¯å¢ƒæ­å»º.html.68778f2a.js"><link rel="prefetch" href="/assets/ç¬¬02ç« AndroidAppå¼€å‘åŸºç¡€.html.fc16bfe6.js"><link rel="prefetch" href="/assets/ç¬¬03ç« ç®€å•æ§ä»¶.html.cc1bfff5.js"><link rel="prefetch" href="/assets/ç¬¬04ç« æ´»åŠ¨Activity.html.542e1777.js"><link rel="prefetch" href="/assets/ç¬¬05ç« ä¸­çº§æ§ä»¶.html.c7e7c4be.js"><link rel="prefetch" href="/assets/ç¬¬06ç« æ•°æ®å­˜å‚¨.html.4f083cd8.js"><link rel="prefetch" href="/assets/ç¬¬07ç« å†…å®¹å…±äº«.html.9e0c731b.js"><link rel="prefetch" href="/assets/ç¬¬08ç« é«˜çº§æ§ä»¶.html.947fa527.js"><link rel="prefetch" href="/assets/ç¬¬10ç« è‡ªå®šä¹‰æ§ä»¶.html.b11d240c.js"><link rel="prefetch" href="/assets/AndroidStudioä»£ç†é—®é¢˜Connect.html.66ee72e9.js"><link rel="prefetch" href="/assets/AndroidStudioæ‰“åŒ…aarä¸¢å¤±è¿œç¨‹ä¾èµ–é—®é¢˜è§£å†³.html.ba40c91c.js"><link rel="prefetch" href="/assets/AndroidStudioç™»å½•googleè´¦å·å¤±è´¥é—®é¢˜.html.9eadda3e.js"><link rel="prefetch" href="/assets/Apkåº”ç”¨é‡ç­¾åâ€”ä½¿ç”¨AndroidStudioè‡ªå¸¦å·¥å…·apksigner.html.9255d4fb.js"><link rel="prefetch" href="/assets/ä¸å¸¸ç”¨çš„ADBå‘½ä»¤.html.2301d76a.js"><link rel="prefetch" href="/assets/01MySQLç²¾ç®€ç¬”è®°.html.35bb5798.js"><link rel="prefetch" href="/assets/02JDBC.html.7d234328.js"><link rel="prefetch" href="/assets/03Maven.html.de9c3774.js"><link rel="prefetch" href="/assets/04Mybatis.html.eb63e606.js"><link rel="prefetch" href="/assets/05ç½‘é¡µä¸‰å‰‘å®¢.html.6b60e1a4.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.38b1ef22.js"><link rel="prefetch" href="/assets/07Request_Response.html.e1b24e4e.js"><link rel="prefetch" href="/assets/08JSP.html.194b24dc.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.d1824ae8.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.69e8ab71.js"><link rel="prefetch" href="/assets/11Vue_Element.html.79fd0c2f.js"><link rel="prefetch" href="/assets/12ç»¼åˆæ¡ˆä¾‹.html.63b7cac5.js"><link rel="prefetch" href="/assets/index.html.8b3c8919.js"><link rel="prefetch" href="/assets/POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.097a5d72.js"><link rel="prefetch" href="/assets/index.html.2d04fed8.js"><link rel="prefetch" href="/assets/index.html.a9d0c572.js"><link rel="prefetch" href="/assets/index.html.ad6479e1.js"><link rel="prefetch" href="/assets/index.html.707aa31d.js"><link rel="prefetch" href="/assets/index.html.1843b5e9.js"><link rel="prefetch" href="/assets/index.html.01da62ec.js"><link rel="prefetch" href="/assets/index.html.7e228cd6.js"><link rel="prefetch" href="/assets/index.html.ce0aa146.js"><link rel="prefetch" href="/assets/index.html.ae66a602.js"><link rel="prefetch" href="/assets/index.html.23188331.js"><link rel="prefetch" href="/assets/request.getInputStreamåªèƒ½è¯»å–ä¸€æ¬¡é—®é¢˜.html.94ef0144.js"><link rel="prefetch" href="/assets/ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨.html.adc40fbf.js"><link rel="prefetch" href="/assets/é”™è¯¯é›†åˆ.html.1902771e.js"><link rel="prefetch" href="/assets/index.html.07cc1e7c.js"><link rel="prefetch" href="/assets/index.html.ed46d2b2.js"><link rel="prefetch" href="/assets/index.html.26154657.js"><link rel="prefetch" href="/assets/index.html.a89d59ab.js"><link rel="prefetch" href="/assets/Nodeå¤šç‰ˆæœ¬ç®¡ç†.html.23432454.js"><link rel="prefetch" href="/assets/index.html.3220da42.js"><link rel="prefetch" href="/assets/Webè°ƒè¯•å…¥é—¨.html.32e31997.js"><link rel="prefetch" href="/assets/å…³äºESLInké…ç½®é—®é¢˜.html.601c708b.js"><link rel="prefetch" href="/assets/index.html.81dd64a7.js"><link rel="prefetch" href="/assets/MySQL-åŸºç¡€ç¯‡.html.ea685d4e.js"><link rel="prefetch" href="/assets/Mavené«˜çº§.html.f953be6e.js"><link rel="prefetch" href="/assets/SpringBoot.html.656f5974.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.0618d8d7.js"><link rel="prefetch" href="/assets/RestTemplate.html.e4407e5b.js"><link rel="prefetch" href="/assets/Dubboè¯¦è§£.html.b63868e7.js"><link rel="prefetch" href="/assets/Macä¸‹ZooKeeperå®‰è£…å’Œä½¿ç”¨.html.b7e9aa6d.js"><link rel="prefetch" href="/assets/Zookeeperé›†ç¾¤æ­å»º.html.8710cb4e.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬10ç« ï¼‰.html.866d0852.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬11ç« ï¼‰.html.fe6fc07f.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬12ç« ï¼‰.html.dfedc3a4.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬13ç« ï¼‰.html.c08efd79.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬1ç« ï¼‰.html.fa66e48b.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬2ç« ï¼‰.html.4dfeadd4.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬3ç« ï¼‰.html.63143093.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬4ç« ï¼‰.html.d0567d09.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬5ç« ï¼‰.html.8af710b1.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬6ç« ï¼‰.html.3c364cc8.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬7ç« ï¼‰.html.72ba46fc.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬8ç« ï¼‰.html.c8118794.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬9ç« ï¼‰.html.a0407ad1.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.25cc4594.js"><link rel="prefetch" href="/assets/Linux-Day01.html.116cbab9.js"><link rel="prefetch" href="/assets/Linux-Day02.html.7ba3c82c.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html.8ccd3a80.js"><link rel="prefetch" href="/assets/Gitè¯¾ç¨‹è®²ä¹‰.html.9a252ae7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day01.html.3ef486ec.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day02.html.15ded454.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day03.html.11e5154d.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day04.html.843344a7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day05.html.38768af1.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day06.html.bdbf82e0.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day01.html.78bb75f4.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day02.html.5292a2ce.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day03.html.68069b64.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡å¸¸è§é¢è¯•é¢˜.html.a4dc3b89.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.da1c139d.js"><link rel="prefetch" href="/assets/day01-HTMLåŸºç¡€.html.34459185.js"><link rel="prefetch" href="/assets/day02-HTMLè¿›é˜¶.html.c9732cc4.js"><link rel="prefetch" href="/assets/day03-CSSåŸºç¡€.html.1a5a9f88.js"><link rel="prefetch" href="/assets/day04-CSSè¿›é˜¶.html.d7898ffc.js"><link rel="prefetch" href="/assets/day05-ç›’å­æ¨¡å‹.html.a326bf54.js"><link rel="prefetch" href="/assets/day06-Flexå¸ƒå±€.html.cb931421.js"><link rel="prefetch" href="/assets/day07-å­¦æˆåœ¨çº¿.html.4b5d140d.js"><link rel="prefetch" href="/assets/day08-CSSé«˜çº§.html.1e1fd381.js"><link rel="prefetch" href="/assets/day09-å°å…”é²œå„¿.html.483fba8f.js"><link rel="prefetch" href="/assets/day10-å°å…”é²œå„¿.html.0af78916.js"><link rel="prefetch" href="/assets/Day01-é¡¹ç›®ä»‹ç»åŠåˆå§‹åŒ–-ç™»å½•é¡µé¢.html.5583346a.js"><link rel="prefetch" href="/assets/Day02-ç™»å½•æ¨¡å—-ä¸»é¡µé‰´æƒ.html.4c64d2f9.js"><link rel="prefetch" href="/assets/Day03-ä¸»é¡µæ¨¡å—-ä¿®æ”¹å¯†ç .html.5438e16a.js"><link rel="prefetch" href="/assets/Day04-ç»„ç»‡æ¶æ„.html.05f70f07.js"><link rel="prefetch" href="/assets/Day05-ç»„ç»‡æ¶æ„-è§’è‰²ç®¡ç†.html.5d7edd53.js"><link rel="prefetch" href="/assets/Day06-è§’è‰²ç®¡ç†-å‘˜å·¥ç®¡ç†.html.7c82720b.js"><link rel="prefetch" href="/assets/Day07-å‘˜å·¥ç®¡ç†-ä¸Šä¼ ä¸‹è½½.html.f70ad5c9.js"><link rel="prefetch" href="/assets/Day08-Cosä¸Šä¼ å’Œæƒé™æ•°æ®.html.05a8a948.js"><link rel="prefetch" href="/assets/Day09-æƒé™åº”ç”¨-é¦–é¡µ.html.d6031099.js"><link rel="prefetch" href="/assets/Day10-é¦–é¡µå›¾è¡¨-Nginxä¸Šçº¿.html.64d67e52.js"><link rel="prefetch" href="/assets/1.Vue3å…¥é—¨.html.2f2fdbe0.js"><link rel="prefetch" href="/assets/10.è´­ç‰©è½¦.html.02817c2d.js"><link rel="prefetch" href="/assets/11.è®¢å•é¡µ.html.bd292f6f.js"><link rel="prefetch" href="/assets/12.æ”¯ä»˜é¡µ.html.2c4eff75.js"><link rel="prefetch" href="/assets/13.ä¼šå‘˜ä¸­å¿ƒ.html.e4a42cd2.js"><link rel="prefetch" href="/assets/14.æ‹“å±•éƒ¨åˆ†.html.ca945d4b.js"><link rel="prefetch" href="/assets/2.Piniaå…¥é—¨.html.801fa8da.js"><link rel="prefetch" href="/assets/3.é¡¹ç›®èµ·æ­¥.html.702da6da.js"><link rel="prefetch" href="/assets/4.Layouté¡µ.html.193b1e52.js"><link rel="prefetch" href="/assets/5.Homeé¡µ.html.bc87f5f6.js"><link rel="prefetch" href="/assets/6.ä¸€çº§åˆ†ç±»é¡µ.html.20d3fdc1.js"><link rel="prefetch" href="/assets/7.äºŒçº§åˆ†ç±»é¡µ.html.628a82da.js"><link rel="prefetch" href="/assets/8.å•†å“è¯¦æƒ….html.3ee47103.js"><link rel="prefetch" href="/assets/9.ç™»å½•é¡µ.html.cee6b53d.js"><link rel="prefetch" href="/assets/day01.html.44284e1b.js"><link rel="prefetch" href="/assets/day02.html.682f4e8c.js"><link rel="prefetch" href="/assets/day03.html.fc7e734f.js"><link rel="prefetch" href="/assets/index.html.d8ca12a6.js"><link rel="prefetch" href="/assets/day01.html.06b72e68.js"><link rel="prefetch" href="/assets/day02.html.e3155d4f.js"><link rel="prefetch" href="/assets/day03.html.d55bece0.js"><link rel="prefetch" href="/assets/day04.html.06703f2b.js"><link rel="prefetch" href="/assets/index.html.1db7cafe.js"><link rel="prefetch" href="/assets/interview-base.html.f0d9d148.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.c5a4a893.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.90350a6a.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.c8eb77be.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€ç¯‡.html.8d198d08.js"><link rel="prefetch" href="/assets/Rediså¿«é€Ÿå…¥é—¨.html.29627213.js"><link rel="prefetch" href="/assets/Rediså®æˆ˜ç¯‡.html.ea9a5e16.js"><link rel="prefetch" href="/assets/RedisåŸç†ç¯‡.html.1c41beff.js"><link rel="prefetch" href="/assets/Spring-day01.html.1ddd29f9.js"><link rel="prefetch" href="/assets/Spring-day02.html.2cd4228e.js"><link rel="prefetch" href="/assets/Spring-day03.html.25153ee8.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.d00e8d3b.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.053ca17e.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.478ae0f3.js"><link rel="prefetch" href="/assets/SpringBootStart.html.ecdea1c3.js"><link rel="prefetch" href="/assets/SpringBootæ•´åˆSSMP.html.1fc33c49.js"><link rel="prefetch" href="/assets/SpringBootç»¼åˆæ¡ˆä¾‹.html.35be3f27.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.5aa6947a.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.2ff98050.js"><link rel="prefetch" href="/assets/Centos8-streamåœ¨çœŸæœºä¸Šå®‰è£…æ’å‘.html.78cc33ff.js"><link rel="prefetch" href="/assets/Centos9å®‰è£…mysql.html.7b62ca1b.js"><link rel="prefetch" href="/assets/SpringCloud01.html.60050f3f.js"><link rel="prefetch" href="/assets/SpringCloudå®ç”¨ç¯‡02.html.3c26a7b2.js"><link rel="prefetch" href="/assets/Dockerå®ç”¨ç¯‡.html.faaf4482.js"><link rel="prefetch" href="/assets/RabbitMQ.html.3f620ea8.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.2f9ec22c.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.451e3843.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html.50a52a2a.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡ä¿æŠ¤.html.42915502.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.6dd52011.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.085c2312.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.e75749e3.js"><link rel="prefetch" href="/assets/RabbitMQ-é«˜çº§ç¯‡.html.ad030046.js"><link rel="prefetch" href="/assets/Mybatisç¬¬ä¸€å¤©.html.674d710d.js"><link rel="prefetch" href="/assets/Mybatisç¬¬äºŒå¤©.html.3121ba02.js"><link rel="prefetch" href="/assets/ç§»åŠ¨webç¬¬ä¸€å¤©.html.b943ad87.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äºŒå¤©.html.30ef3091.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬ä¸‰å¤©.html.06469be6.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬å››å¤©.html.2aed5da8.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äº”å¤©.html.d67549b0.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸€å¤©.html.ede8ef34.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸‰å¤©.html.35d7938f.js"><link rel="prefetch" href="/assets/javascriptåŸºç¡€ç¬¬äºŒå¤©ç¬”è®°.html.3fd96f35.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬äº”å¤©.html.f0a8a230.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬å››å¤©.html.7135850d.js"><link rel="prefetch" href="/assets/index.html.5f5e0b19.js"><link rel="prefetch" href="/assets/ä¸ªäººå®æˆ˜æ–‡æ¡£.html.631875c9.js"><link rel="prefetch" href="/assets/index.html.1a1f6afc.js"><link rel="prefetch" href="/assets/index.html.4a8ed58a.js"><link rel="prefetch" href="/assets/index.html.6a243c14.js"><link rel="prefetch" href="/assets/index.html.0a7c4cfb.js"><link rel="prefetch" href="/assets/index.html.c428b37f.js"><link rel="prefetch" href="/assets/JavaScriptè¿›é˜¶ç¬¬ä¸€å¤©.html.96e2d1af.js"><link rel="prefetch" href="/assets/day03.html.9eb0747e.js"><link rel="prefetch" href="/assets/day02.html.de03ec98.js"><link rel="prefetch" href="/assets/day04.html.b94fedb2.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.28579a85.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.d087f52f.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.08daabb2.js"><link rel="prefetch" href="/assets/day01.html.e54967f4.js"><link rel="prefetch" href="/assets/day02.html.2eb76045.js"><link rel="prefetch" href="/assets/day03.html.da3117e6.js"><link rel="prefetch" href="/assets/day04.html.8b76ea5b.js"><link rel="prefetch" href="/assets/day05.html.51c17e4d.js"><link rel="prefetch" href="/assets/day06.html.e573259d.js"><link rel="prefetch" href="/assets/day07.html.01aa477e.js"><link rel="prefetch" href="/assets/æ™ºæ…§å•†åŸé¡¹ç›®.html.a2e62d32.js"><link rel="prefetch" href="/assets/Vue3å…¥é—¨.html.50761508.js"><link rel="prefetch" href="/assets/Pinia.html.4cfdc328.js"><link rel="prefetch" href="/assets/å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿ.html.27717e98.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®èµ·æ­¥.html.ad05a9a8.js"><link rel="prefetch" href="/assets/02-é¦–é¡µæ¨¡å—.html.b669b0bb.js"><link rel="prefetch" href="/assets/03-æ¨èæ¨¡å—.html.80203d9c.js"><link rel="prefetch" href="/assets/04-åˆ†ç±»æ¨¡å—.html.7c5363b4.js"><link rel="prefetch" href="/assets/05-è¯¦æƒ…æ¨¡å—.html.bc4b3b74.js"><link rel="prefetch" href="/assets/06-ç™»å½•æ¨¡å—.html.0aa33139.js"><link rel="prefetch" href="/assets/07-ç”¨æˆ·æ¨¡å—.html.a050825a.js"><link rel="prefetch" href="/assets/08-åœ°å€æ¨¡å—.html.5bf806c9.js"><link rel="prefetch" href="/assets/09-SKUæ¨¡å—.html.a08cd14a.js"><link rel="prefetch" href="/assets/10-è´­ç‰©è½¦æ¨¡å—.html.78de12f9.js"><link rel="prefetch" href="/assets/11-è®¢å•æ¨¡å—.html.35819573.js"><link rel="prefetch" href="/assets/12-é¡¹ç›®æ‰“åŒ….html.58acec07.js"><link rel="prefetch" href="/assets/index.html.f91c372f.js"><link rel="prefetch" href="/assets/ç¬¬1å¤©.html.b5d1fd3e.js"><link rel="prefetch" href="/assets/ç¬¬2å¤©.html.8cc04eac.js"><link rel="prefetch" href="/assets/ç¬¬3å¤©.html.9d71fe8e.js"><link rel="prefetch" href="/assets/ç¬¬4å¤©.html.41bcc93c.js"><link rel="prefetch" href="/assets/ç¬¬5å¤©.html.a2468669.js"><link rel="prefetch" href="/assets/å°ç¨‹åºè‡ªå®šä¹‰tabBar.html.b065556c.js"><link rel="prefetch" href="/assets/ç¬¬6å¤©.html.42dedd3e.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.f46bfabf.js"><link rel="prefetch" href="/assets/Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.6124e0fe.js"><link rel="prefetch" href="/assets/Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.fe280cae.js"><link rel="prefetch" href="/assets/Nacoså®‰è£…æŒ‡å—.html.42bd9daf.js"><link rel="prefetch" href="/assets/Nacosé›†ç¾¤æ­å»º.html.b1e61de8.js"><link rel="prefetch" href="/assets/Centos7å®‰è£…Docker.html.63397394.js"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html.7a82d766.js"><link rel="prefetch" href="/assets/å®‰è£…elasticsearch.html.db2054a0.js"><link rel="prefetch" href="/assets/Day02_AJAXç»¼åˆæ¡ˆä¾‹.html.b24bf7ed.js"><link rel="prefetch" href="/assets/Day03_AJAXåŸç†.html.934584d6.js"><link rel="prefetch" href="/assets/Day04_AJAXè¿›é˜¶.html.af5a3f0d.js"><link rel="prefetch" href="/assets/Day01_AJAXå…¥é—¨.html.57fb7c06.js"><link rel="prefetch" href="/assets/404.html.143a0abb.js"><link rel="prefetch" href="/assets/404.af3fcab4.js"><link rel="prefetch" href="/assets/Layout.96a35c1f.js"><link rel="prefetch" href="/assets/index.0e8935cb.js"><link rel="prefetch" href="/assets/giscus.15440425.js">
    <link rel="stylesheet" href="/assets/style.5869c25b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="Hades"><span class="site-name can-hide">Hades</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Android/" class="router-link-active" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Javaåç«¯/" class="" aria-label="Javaåç«¯"><!--[--><!--]--> Javaåç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Webå‰ç«¯/" class="" aria-label="Webå‰ç«¯"><!--[--><!--]--> Webå‰ç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/æ•°æ®åº“/" class="" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/è¿ç»´æŠ€æœ¯/" class="" aria-label="è¿ç»´æŠ€æœ¯"><!--[--><!--]--> è¿ç»´æŠ€æœ¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tipsâ¤ï¸â€"><!--[--><!--]--> Tipsâ¤ï¸â€ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>æœç´¢</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="ç™¾åº¦ä¸€ä¸‹"><!--[--><!--]--> ç™¾åº¦ä¸€ä¸‹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>å¸¸ç”¨</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="å“”å“©å“”å“©"><!--[--><!--]--> å“”å“©å“”å“© <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepressæ‰“åŒ…é”™è¯¯"><!--[--><!--]--> Vuepressæ‰“åŒ…é”™è¯¯ <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Android/" class="router-link-active" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Javaåç«¯/" class="" aria-label="Javaåç«¯"><!--[--><!--]--> Javaåç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Webå‰ç«¯/" class="" aria-label="Webå‰ç«¯"><!--[--><!--]--> Webå‰ç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/æ•°æ®åº“/" class="" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/è¿ç»´æŠ€æœ¯/" class="" aria-label="è¿ç»´æŠ€æœ¯"><!--[--><!--]--> è¿ç»´æŠ€æœ¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tipsâ¤ï¸â€"><!--[--><!--]--> Tipsâ¤ï¸â€ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>æœç´¢</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="ç™¾åº¦ä¸€ä¸‹"><!--[--><!--]--> ç™¾åº¦ä¸€ä¸‹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>å¸¸ç”¨</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="å“”å“©å“”å“©"><!--[--><!--]--> å“”å“©å“”å“© <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepressæ‰“åŒ…é”™è¯¯"><!--[--><!--]--> Vuepressæ‰“åŒ…é”™è¯¯ <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">ç¬¬ 9 ç« ã€€å¹¿æ’­ç»„ä»¶Broadcast <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-1-æ”¶å‘åº”ç”¨å¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.1ã€€æ”¶å‘åº”ç”¨å¹¿æ’­"><!--[--><!--]--> 9.1ã€€æ”¶å‘åº”ç”¨å¹¿æ’­ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-1-1-æ”¶å‘æ ‡å‡†å¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.1.1ã€€æ”¶å‘æ ‡å‡†å¹¿æ’­"><!--[--><!--]--> 9.1.1ã€€æ”¶å‘æ ‡å‡†å¹¿æ’­ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-1-2-æ”¶å‘æœ‰åºå¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.1.2ã€€æ”¶å‘æœ‰åºå¹¿æ’­"><!--[--><!--]--> 9.1.2ã€€æ”¶å‘æœ‰åºå¹¿æ’­ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-1-3-æ”¶å‘é™æ€å¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.1.3ã€€æ”¶å‘é™æ€å¹¿æ’­"><!--[--><!--]--> 9.1.3ã€€æ”¶å‘é™æ€å¹¿æ’­ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-2-ç›‘å¬ç³»ç»Ÿå¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.2ã€€ç›‘å¬ç³»ç»Ÿå¹¿æ’­"><!--[--><!--]--> 9.2ã€€ç›‘å¬ç³»ç»Ÿå¹¿æ’­ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-2-1-æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.2.1ã€€æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­"><!--[--><!--]--> 9.2.1ã€€æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-2-2-æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.2.2ã€€æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­"><!--[--><!--]--> 9.2.2ã€€æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-2-3-å®šæ—¶ç®¡ç†å™¨alarmmanager" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.2.3ã€€å®šæ—¶ç®¡ç†å™¨AlarmManager"><!--[--><!--]--> 9.2.3ã€€å®šæ—¶ç®¡ç†å™¨AlarmManager <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-3-æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.3ã€€æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶"><!--[--><!--]--> 9.3ã€€æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-3-1-ç«–å±ä¸æ¨ªå±åˆ‡æ¢" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.3.1ã€€ç«–å±ä¸æ¨ªå±åˆ‡æ¢"><!--[--><!--]--> 9.3.1ã€€ç«–å±ä¸æ¨ªå±åˆ‡æ¢ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-3-2-å›åˆ°æ¡Œé¢ä¸åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.3.2ã€€å›åˆ°æ¡Œé¢ä¸åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨"><!--[--><!--]--> 9.3.2ã€€å›åˆ°æ¡Œé¢ä¸åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-4-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.4ã€€å°ç»“"><!--[--><!--]--> 9.4ã€€å°ç»“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC09%E7%AB%A0%E5%B9%BF%E6%92%AD%E7%BB%84%E4%BB%B6Broadcast.html#_9-5-è¯¾åç»ƒä¹ é¢˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="9.5ã€€è¯¾åç»ƒä¹ é¢˜"><!--[--><!--]--> 9.5ã€€è¯¾åç»ƒä¹ é¢˜ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="ç¬¬-9-ç« -å¹¿æ’­ç»„ä»¶broadcast" tabindex="-1"><a class="header-anchor" href="#ç¬¬-9-ç« -å¹¿æ’­ç»„ä»¶broadcast" aria-hidden="true">#</a> ç¬¬ 9 ç« ã€€å¹¿æ’­ç»„ä»¶Broadcast</h1><p>æœ¬ç« ä»‹ç»Android4å¤§ç»„ä»¶ä¹‹ä¸€Broadcastçš„åŸºæœ¬æ¦‚å¿µå’Œå¸¸è§ç”¨æ³•ã€‚ä¸»è¦åŒ…æ‹¬å¦‚ä½•å‘é€å’Œæ¥æ”¶åº”ç”¨è‡ªèº«çš„å¹¿æ’­ã€å¦‚ä½•ç›‘å¬å’Œå¤„ç†è®¾å¤‡å‘å‡ºæ¥çš„ç³»ç»Ÿå¹¿æ’­ã€å¦‚ä½•ç›‘å¬å› ä¸ºå±å¹•å˜æ›´å¯¼è‡´Appç•Œé¢æ”¹å˜çš„çŠ¶æ€äº‹ä»¶ã€‚</p><h2 id="_9-1-æ”¶å‘åº”ç”¨å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-1-æ”¶å‘åº”ç”¨å¹¿æ’­" aria-hidden="true">#</a> 9.1ã€€æ”¶å‘åº”ç”¨å¹¿æ’­</h2><p>æœ¬èŠ‚ä»‹ç»åº”ç”¨å¹¿æ’­çš„å‡ ç§æ”¶å‘å½¢å¼ï¼ŒåŒ…æ‹¬å¦‚ä½•æ”¶å‘æ ‡å‡†å¹¿æ’­ã€å¦‚ä½•æ”¶å‘æœ‰åºå¹¿æ’­ã€å¦‚ä½•æ”¶å‘é™æ€å¹¿æ’­ç­‰ã€‚</p><h3 id="_9-1-1-æ”¶å‘æ ‡å‡†å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-1-1-æ”¶å‘æ ‡å‡†å¹¿æ’­" aria-hidden="true">#</a> 9.1.1ã€€æ”¶å‘æ ‡å‡†å¹¿æ’­</h3><p>Appåœ¨è¿è¡Œçš„æ—¶å€™æœ‰å„ç§å„æ ·çš„æ•°æ®æµè½¬ï¼Œæœ‰çš„æ•°æ®ä»ä¸Šä¸€ä¸ªé¡µé¢æµå‘ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œæ­¤æ—¶å¯é€šè¿‡æ„å›¾åœ¨æ´»åŠ¨ä¹‹é—´ä¼ é€’åŒ…è£¹ï¼›æœ‰çš„æ•°æ®ä»åº”ç”¨å†…å­˜æµå‘å­˜å‚¨å¡ï¼Œæ­¤æ—¶å¯è¿›è¡Œæ–‡ä»¶è¯»å†™æ“ä½œã€‚è¿˜æœ‰çš„æ•°æ®æµå‘åƒå¥‡ç™¾æ€ªï¼Œæ¯”å¦‚æ´»åŠ¨é¡µé¢å‘ç¢ç‰‡ä¼ é€’æ•°æ®ï¼ŒæŒ‰ç…§â€œ8.4.2ã€€ç¢ç‰‡çš„åŠ¨æ€æ³¨å†Œâ€å°èŠ‚çš„æè¿°ï¼Œå°šå¯è°ƒç”¨setArgumentså’ŒgetArgumentsæ–¹æ³•å­˜å–å‚æ•°ï¼›ç„¶è€Œè‹¥æ˜¯ç”±ç¢ç‰‡å‘æ´»åŠ¨é¡µé¢ä¼ é€’æ•°æ®ï¼Œå°±æ²¡æœ‰ç±»ä¼¼setResultè¿™æ ·å›é¦ˆç»“æœçš„æ–¹æ³•äº†ã€‚</p><p>éšç€Appå·¥ç¨‹çš„ä»£ç é‡æ—¥ç›Šå¢é•¿ï¼Œæ‰¿è½½æ•°æ®æµé€šçš„ç®¡é“ä¼šè¶Šå‘ä¸å¤Ÿç”¨ï¼Œå¥½æ¯”è£…ä¿®æˆ¿å­çš„æ—¶å€™ï¼Œç»™æ¯ä¸ªæˆ¿é—´éƒ½é¢„ç•™äº†ç½‘çº¿æ’å£ï¼Œåªæœ‰æ’ä¸Šç½‘çº¿æ‰èƒ½ä¸Šç½‘ã€‚å¯æ˜¯ç°åœ¨è”ç½‘è®¾å¤‡è¶Šæ¥è¶Šå¤šï¼Œé™¤äº†ç”µè„‘ä¹‹å¤–ï¼Œç”µè§†ä¹Ÿè¦è”ç½‘ï¼Œå¹³æ¿ä¹Ÿè¦è”ç½‘ï¼Œä¹ƒè‡³ç©ºè°ƒéƒ½è¦è”ç½‘ï¼Œå¦‚æ­¤ä¸€æ¥ç½‘å£æ—©å°±ä¸å¤Ÿç”¨äº†ã€‚é‚£æ€æ ·è§£å†³ä¼—å¤šè®¾å¤‡çš„è”ç½‘é—®é¢˜å‘¢ï¼ŸåŸæ¥å®¶å®¶æˆ·æˆ·éƒ½é…äº†æ— çº¿è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨å‘å››å‘¨å‘å°„WiFiä¿¡å·ï¼Œå„è®¾å¤‡åªè¦å®‰è£…äº†æ— çº¿ç½‘å¡ï¼Œå°±èƒ½æ¥æ”¶WiFiä¿¡å·ä»è€Œè¿æ¥ä¸Šç½‘ã€‚äºæ˜¯â€œå‘å°„å™¨+æ¥æ”¶å™¨â€çš„æ¨¡å¼å¦è¾Ÿè¹Šå¾„ï¼Œæ¯”èµ·ç½‘çº¿è¿™ç§å›ºå®šç®¡é“è¦çµæ´»å¾—å¤šï¼Œæ— é¡»æ‹‰çº¿å³å¯éšæ—¶éšåœ°ä¼ è¾“æ•°æ®ã€‚</p><p>Androidçš„å¹¿æ’­æœºåˆ¶æ­£æ˜¯å€Ÿé‰´äº†WiFiçš„é€šä¿¡åŸç†ï¼Œä¸å¿…æ­å»ºä¸“é—¨çš„é€šè·¯ï¼Œå°±èƒ½åœ¨å‘é€æ–¹ä¸æ¥æ”¶æ–¹ä¹‹é—´å»ºç«‹è¿æ¥ã€‚åŒæ—¶å¹¿æ’­ï¼ˆBroadcastï¼‰ä¹Ÿæ˜¯Androidçš„å››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒç”¨äºAndroidå„ç»„ä»¶ä¹‹é—´çš„çµæ´»é€šä¿¡ï¼Œä¸æ´»åŠ¨çš„åŒºåˆ«åœ¨äºï¼š</p><p>ï¼ˆ 1 ï¼‰æ´»åŠ¨åªèƒ½ä¸€å¯¹ä¸€é€šä¿¡ï¼›è€Œå¹¿æ’­å¯ä»¥ä¸€å¯¹å¤šï¼Œä¸€äººå‘é€å¹¿æ’­ï¼Œå¤šäººæ¥æ”¶å¤„ç†ã€‚</p><p>ï¼ˆ 2 ï¼‰å¯¹äºå‘é€æ–¹æ¥è¯´ï¼Œå¹¿æ’­ä¸éœ€è¦è€ƒè™‘æ¥æ”¶æ–¹æœ‰æ²¡æœ‰åœ¨å·¥ä½œï¼Œæ¥æ”¶æ–¹åœ¨å·¥ä½œå°±æ¥æ”¶å¹¿æ’­ï¼Œä¸åœ¨å·¥ä½œå°±ä¸¢å¼ƒå¹¿æ’­ã€‚</p><p>ï¼ˆ 3 ï¼‰å¯¹äºæ¥æ”¶æ–¹æ¥è¯´ï¼Œå› ä¸ºå¯èƒ½ä¼šæ”¶åˆ°å„å¼å„æ ·çš„å¹¿æ’­ï¼Œæ‰€ä»¥æ¥æ”¶æ–¹è¦è‡ªè¡Œè¿‡æ»¤ç¬¦åˆæ¡ä»¶çš„å¹¿æ’­ï¼Œä¹‹åå†è§£åŒ…å¤„ç†ã€‚</p><p>ä¸å¹¿æ’­æœ‰å…³çš„æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹ 3 ä¸ªã€‚</p><ul><li><p>sendBroadcastï¼šå‘é€å¹¿æ’­ã€‚</p></li><li><p>registerReceiverï¼šæ³¨å†Œå¹¿æ’­çš„æ¥æ”¶å™¨ï¼Œå¯åœ¨onStartæˆ–onResumeæ–¹æ³•ä¸­æ³¨å†Œæ¥æ”¶å™¨ã€‚</p></li><li><p>unregisterReceiverï¼šæ³¨é”€å¹¿æ’­çš„æ¥æ”¶å™¨ï¼Œå¯åœ¨onStopæˆ–onPauseæ–¹æ³•ä¸­æ³¨é”€æ¥æ”¶å™¨ã€‚</p></li></ul><p>å…·ä½“åˆ°ç¼–ç å®ç°ä¸Šï¼Œå¹¿æ’­çš„æ”¶å‘è¿‡ç¨‹å¯åˆ†ä¸º 3 ä¸ªæ­¥éª¤ï¼šå‘é€æ ‡å‡†å¹¿æ’­ã€å®šä¹‰å¹¿æ’­æ¥æ”¶å™¨ã€å¼€å…³å¹¿æ’­æ¥æ”¶å™¨ï¼Œåˆ†åˆ«è¯´æ˜å¦‚ä¸‹ã€‚</p><p><strong>1 ï¼å‘é€æ ‡å‡†å¹¿æ’­</strong></p><p>å¹¿æ’­çš„å‘é€æ“ä½œå¾ˆç®€å•ï¼Œä¸€å…±åªæœ‰ä¸¤æ­¥ï¼šå…ˆåˆ›å»ºæ„å›¾å¯¹è±¡ï¼Œå†è°ƒç”¨sendBroadcastæ–¹æ³•å‘é€å¹¿æ’­å³å¯ã€‚ ä¸è¿‡è¦æ³¨æ„ï¼Œæ„å›¾å¯¹è±¡éœ€è¦æŒ‡å®šå¹¿æ’­çš„åŠ¨ä½œåç§°ï¼Œå¦‚åŒæ¯ä¸ªè·¯ç”±å™¨éƒ½å¾—ç»™è‡ªå·±çš„WiFièµ·ä¸ªåç§°ä¸€èˆ¬ï¼Œè¿™æ ·æ¥æ”¶æ–¹æ‰èƒ½æ ¹æ®åŠ¨ä½œåç§°åˆ¤æ–­æ¥çš„æ˜¯æé€µè€Œä¸æ˜¯æé¬¼ã€‚ä¸‹é¢æ˜¯é€šè¿‡ç‚¹å‡»æŒ‰é’®å‘é€å¹¿æ’­çš„æ´»åŠ¨é¡µé¢ä»£ç ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\BroadStandardActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BroadStandardActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> 
<span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">TAG</span> <span class="token operator">=</span> <span class="token string">&quot;BroadStandardActivity&quot;</span><span class="token punctuation">;</span> 
   <span class="token comment">// è¿™æ˜¯å¹¿æ’­çš„åŠ¨ä½œåç§°ï¼Œå‘é€å¹¿æ’­å’Œæ¥æ”¶å¹¿æ’­éƒ½ä»¥å®ƒä½œä¸ºæ¥å¤´æš—å·</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">STANDARD_ACTION</span> <span class="token operator">=</span> 
<span class="token string">&quot;com.example.chapter09.standard&quot;</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv_standard<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªæ–‡æœ¬è§†å›¾å¯¹è±¡</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> mDesc <span class="token operator">=</span> <span class="token string">&quot;è¿™é‡ŒæŸ¥çœ‹æ ‡å‡†å¹¿æ’­çš„æ”¶å¬ä¿¡æ¯&quot;</span><span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_broad_standard<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_standard <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_standard<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_standard<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_send_standard<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_send_standard<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token constant">STANDARD_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºæŒ‡å®šåŠ¨ä½œçš„æ„å›¾</span>
           <span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘é€æ ‡å‡†å¹¿æ’­</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2 ï¼å®šä¹‰å¹¿æ’­æ¥æ”¶å™¨</strong></p><p>å¹¿æ’­å‘å‡ºæ¥ä¹‹åï¼Œè¿˜å¾—æœ‰è®¾å¤‡å»æ¥æ”¶å¹¿æ’­ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å¹¿æ’­æ¥æ”¶å™¨ã€‚æ¥æ”¶å™¨ä¸»è¦è§„å®šä¸¤ä¸ªäº‹æƒ…ï¼Œä¸€ä¸ªæ˜¯æ¥æ”¶ä»€ä¹ˆæ ·çš„å¹¿æ’­ï¼Œå¦ä¸€ä¸ªæ˜¯æ”¶åˆ°å¹¿æ’­ä»¥åè¦åšä»€ä¹ˆã€‚ç”±äºæ¥æ”¶å™¨çš„å¤„ç†é€»è¾‘å¤§åŒå°å¼‚ï¼Œå› æ­¤Androidæä¾›äº†æŠ½è±¡ä¹‹åçš„æ¥æ”¶å™¨åŸºç±»BroadcastReceiverï¼Œå¼€å‘è€…è‡ªå®šä¹‰çš„æ¥æ”¶å™¨éƒ½ä»BroadcastReceiveræ´¾ç”Ÿè€Œæ¥ã€‚æ–°å®šä¹‰çš„æ¥æ”¶å™¨éœ€è¦é‡å†™onReceiveæ–¹æ³•ï¼Œæ–¹æ³•å†…éƒ¨å…ˆåˆ¤æ–­å½“å‰å¹¿æ’­æ˜¯å¦ç¬¦åˆå¾…æ¥æ”¶çš„å¹¿æ’­åç§°ï¼Œæ ¡éªŒé€šè¿‡å†å¼€å±•åç»­çš„ä¸šåŠ¡é€»è¾‘ã€‚ä¸‹é¢æ˜¯å¹¿æ’­æ¥æ”¶å™¨çš„ä¸€ä¸ªå®šä¹‰ä»£ç ä¾‹å­ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å®šä¹‰ä¸€ä¸ªæ ‡å‡†å¹¿æ’­çš„æ¥æ”¶å™¨</span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">StandardReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span> 
   <span class="token comment">// ä¸€æ—¦æ¥æ”¶åˆ°æ ‡å‡†å¹¿æ’­ï¼Œé©¬ä¸Šè§¦å‘æ¥æ”¶å™¨çš„onReceiveæ–¹æ³•</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       <span class="token comment">// å¹¿æ’­æ„å›¾éç©ºï¼Œä¸”æ¥å¤´æš—å·æ­£ç¡®</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> intent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">STANDARD_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
           mDesc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n%s æ”¶åˆ°ä¸€ä¸ªæ ‡å‡†å¹¿æ’­&quot;</span><span class="token punctuation">,</span> mDesc<span class="token punctuation">,</span>
<span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_standard<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDesc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3 ï¼å¼€å…³å¹¿æ’­æ¥æ”¶å™¨</strong></p><p>ä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œè¿˜è¦æ±‚åˆç†ä½¿ç”¨æ¥æ”¶å™¨ã€‚å°±åƒWiFiä¸Šç½‘ï¼Œéœ€è¦ä¸Šç½‘æ—¶æ‰æ‰“å¼€WiFiï¼Œä¸éœ€è¦ä¸Šç½‘æ—¶å°±å…³é—­WiFiã€‚å¹¿æ’­æ¥æ”¶å™¨ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ´»åŠ¨é¡µé¢å¯åŠ¨ä¹‹åæ‰æ³¨å†Œæ¥æ”¶å™¨ï¼Œæ´»åŠ¨é¡µé¢åœæ­¢ä¹‹é™…å°±æ³¨é”€æ¥æ”¶å™¨ã€‚åœ¨æ³¨å†Œæ¥æ”¶å™¨çš„æ—¶å€™ï¼Œå…è®¸äº‹å…ˆæŒ‡å®šåªæ¥æ”¶æŸç§ç±»å‹çš„å¹¿æ’­ï¼Œå³é€šè¿‡æ„å›¾è¿‡æ»¤å™¨æŒ‘é€‰åŠ¨ä½œåç§°ä¸€è‡´çš„å¹¿æ’­ã€‚æ¥æ”¶å™¨çš„æ³¨å†Œä¸æ³¨é”€ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">StandardReceiver</span> standardReceiver<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªæ ‡å‡†å¹¿æ’­çš„æ¥æ”¶å™¨å®ä¾‹ </span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   standardReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StandardReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ ‡å‡†å¹¿æ’­çš„æ¥æ”¶å™¨ </span>
   <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨ï¼Œåªå¤„ç†STANDARD_ACTIONçš„å¹¿æ’­</span>
   <span class="token class-name">IntentFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token constant">STANDARD_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">registerReceiver</span><span class="token punctuation">(</span>standardReceiver<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨ï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­ </span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">unregisterReceiver</span><span class="token punctuation">(</span>standardReceiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨é”€æ¥æ”¶å™¨ï¼Œæ³¨é”€ä¹‹åå°±ä¸å†æ¥æ”¶å¹¿æ’­ </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæˆä¸Šè¿° 3 ä¸ªæ­¥éª¤åï¼Œä¾¿æ„å»ºäº†å¹¿æ’­ä»å‘é€åˆ°æ¥æ”¶çš„å®Œæ•´æµç¨‹ã€‚è¿è¡Œæµ‹è¯•Appï¼Œåˆå§‹çš„å¹¿æ’­ç•Œé¢å¦‚å›¾9-1æ‰€ç¤ºï¼Œç‚¹å‡»å‘é€æŒ‰é’®è§¦å‘å¹¿æ’­ï¼Œç•Œé¢ä¸‹æ–¹ç«‹åˆ»åˆ·æ–°å¹¿æ’­æ—¥å¿—ï¼Œå¦‚å›¾9-2æ‰€ç¤ºï¼Œå¯è§æ¥æ”¶å™¨æ­£ç¡®æ”¶åˆ°å¹¿æ’­å¹¶æˆåŠŸæ‰“å°æ—¥å¿—ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207112022846.png" alt="image-20220711202259772" style="zoom:50%;"><p>å›¾9-1ã€€å‡†å¤‡æ¥æ”¶æ ‡å‡†å¹¿æ’­</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207112023868.png" alt="image-20220711202326800" style="zoom:50%;"><p>å›¾9-2ã€€æ”¶å¬åˆ°äº†æ ‡å‡†å¹¿æ’­</p><h3 id="_9-1-2-æ”¶å‘æœ‰åºå¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-1-2-æ”¶å‘æœ‰åºå¹¿æ’­" aria-hidden="true">#</a> 9.1.2ã€€æ”¶å‘æœ‰åºå¹¿æ’­</h3><p>ç”±äºå¹¿æ’­æ²¡æŒ‡å®šå”¯ä¸€çš„æ¥æ”¶è€…ï¼Œå› æ­¤å¯èƒ½å­˜åœ¨å¤šä¸ªæ¥æ”¶å™¨ï¼Œæ¯ä¸ªæ¥æ”¶å™¨éƒ½æ‹¥æœ‰è‡ªå·±çš„å¤„ç†é€»è¾‘ã€‚è¿™ç§æœºåˆ¶å›ºç„¶çµæ´»ï¼Œå´ä¸å¤Ÿä¸¥è°¨ï¼Œå› ä¸ºä¸åŒæ¥æ”¶å™¨ä¹‹é—´ä¹Ÿè®¸æœ‰çŸ›ç›¾ã€‚æ¯”å¦‚åªè¦åŠäº†å€Ÿä¹¦è¯ï¼Œå¤§å®¶éƒ½èƒ½å€Ÿé˜…å›¾ä¹¦é¦†çš„è—ä¹¦ï¼Œä¸è¿‡ä¸€æœ¬ä¹¦è¢«è¯»è€…ç”²å€Ÿå‡ºå»ä¹‹åï¼Œè¯»è€…ä¹™å°±ä¸èƒ½å†å€Ÿè¿™æœ¬ä¹¦äº†ï¼Œå¿…é¡»ç­‰åˆ°è¯»è€…ç”²å½’è¿˜äº†è¯¥ä¹¦ä¹‹åï¼Œè¯»è€…ä¹™æ–¹å¯ç»§ç»­å€Ÿé˜…æ­¤ä¹¦ã€‚è¿™ä¸ªå€Ÿä¹¦åœºæ™¯ä½“ç°äº†ä¸€ç§æœ‰åºæ€§ï¼Œå³å›¾ä¹¦æ˜¯è½®æµå€Ÿé˜…ç€çš„ï¼Œä¸”åŒæ—¶åˆ»ä»…èƒ½å€Ÿç»™ä¸€ä½è¯»è€…ï¼Œåªæœ‰å‰é¢çš„è¯»è€…å€Ÿå®Œå½’è¿˜ï¼Œæ‰è½®åˆ°åé¢çš„è¯»è€…å€Ÿé˜…ã€‚å¦å¤–ï¼Œè¯»è€…ç”²ä¸€å®šä¼šå½’è¿˜æ­¤ä¹¦å—ï¼Ÿå¯èƒ½è¯»è€…ç”²å¯¹è¯¥ä¹¦çˆ±ä¸é‡Šæ‰‹ï¼Œä»å›¾ä¹¦é¦†é«˜ä»·ä¹°æ–­äº†è¿™æœ¬ä¹¦ï¼›ä¹Ÿå¯èƒ½è¯»è€…ç”²ç²—å¿ƒå¤§æ„ï¼Œä¸å°å¿ƒå¼„ä¸¢äº†è¿™æœ¬ä¹¦ã€‚ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œè¯»è€…ç”²éƒ½æ— æ³•è¿˜ä¹¦ï¼Œå¯¼è‡´æ­£åœ¨æ’é˜Ÿçš„è¯»è€…ä¹™æ— ä¹¦å¯å€Ÿã€‚è¿™ç§å€Ÿä¸åˆ°ä¹¦çš„åœºæ™¯ä½“ç°äº†ä¸€ç§ä¾èµ–å…³ç³»ï¼Œå³ä½¿è¯»è€…ä¹™è¿«ä¸åŠå¾…åœ°æƒ³å€Ÿåˆ°ä¹¦ï¼Œä¹Ÿå¾—çœ‹è¯»è€…ç”²çš„å¿ƒæƒ…ï¼Œè¦æ˜¯è¯»è€…ç”²å› ä¸ºå„ç§ç†ç”±æ²¡èƒ½è¿˜ä¹¦ï¼Œé‚£ä¹ˆè¯»è€…ä¹™å°±ç™½ç™½æ’é˜Ÿäº†ã€‚ä¸Šè¿°çš„å€Ÿä¹¦ä¸šåŠ¡å¯¹åº”åˆ°å¹¿æ’­çš„æ¥æ”¶åŠŸèƒ½ï¼Œåˆ™è¦æ±‚å®ç°ä¸‹åˆ—çš„å¤„ç†é€»è¾‘ï¼š</p><p>ï¼ˆ 1 ï¼‰ä¸€ä¸ªå¹¿æ’­å­˜åœ¨å¤šä¸ªæ¥æ”¶å™¨ï¼Œè¿™äº›æ¥æ”¶å™¨éœ€è¦æ’é˜Ÿæ”¶å¬å¹¿æ’­ï¼Œè¿™æ„å‘³ç€è¯¥å¹¿æ’­æ˜¯æ¡æœ‰åºå¹¿æ’­ã€‚</p><p>ï¼ˆ 2 ï¼‰å…ˆæ”¶åˆ°å¹¿æ’­çš„æ¥æ”¶å™¨Aï¼Œæ—¢å¯ä»¥è®©å…¶ä»–æ¥æ”¶å™¨ç»§ç»­æ”¶å¬å¹¿æ’­ï¼Œä¹Ÿå¯ä»¥ä¸­æ–­å¹¿æ’­ä¸è®©å…¶ä»–æ¥æ”¶å™¨æ”¶å¬ã€‚</p><p>è‡³äºå¦‚ä½•å®ç°æœ‰åºå¹¿æ’­çš„æ”¶å‘ï¼Œåˆ™éœ€å®Œæˆä»¥ä¸‹çš„ 3 ä¸ªç¼–ç æ­¥éª¤ï¼š</p><p><strong>1 ï¼å‘é€å¹¿æ’­æ—¶è¦æ³¨æ˜è¿™æ˜¯ä¸ªæœ‰åºå¹¿æ’­</strong></p><p>ä¹‹å‰å‘é€æ ‡å‡†å¹¿æ’­ç”¨åˆ°äº†sendBroadcastæ–¹æ³•ï¼Œå¯æ˜¯è¯¥æ–¹æ³•å‘å‡ºæ¥çš„å¹¿æ’­æ˜¯æ— åºçš„ã€‚åªæœ‰è°ƒç”¨sendOrderedBroadcastæ–¹æ³•æ‰èƒ½å‘é€æœ‰åºå¹¿æ’­ï¼Œå…·ä½“çš„å‘é€ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\BroadOrderActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token constant">ORDER_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ›å»ºä¸€ä¸ªæŒ‡å®šåŠ¨ä½œçš„æ„å›¾ </span>
<span class="token function">sendOrderedBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å‘é€æœ‰åºå¹¿æ’­</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2 ï¼å®šä¹‰æœ‰åºå¹¿æ’­çš„æ¥æ”¶å™¨</strong></p><p>æ¥æ”¶å™¨çš„å®šä¹‰ä»£ç åŸºæœ¬ä¸å˜ï¼Œä¹Ÿè¦ä»BroadcastReceiverç»§æ‰¿è€Œæ¥ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯æœ‰åºå¹¿æ’­çš„æ¥æ”¶å™¨å…è®¸ä¸­æ–­å¹¿æ’­ã€‚å€˜è‹¥åœ¨æ¥æ”¶å™¨çš„å†…éƒ¨ä»£ç è°ƒç”¨abortBroadcastæ–¹æ³•ï¼Œå°±ä¼šä¸­æ–­æœ‰åºå¹¿æ’­ï¼Œä½¿å¾—åé¢çš„æ¥æ”¶å™¨ä¸èƒ½å†æ¥æ”¶è¯¥å¹¿æ’­ã€‚ä¸‹é¢æ˜¯æœ‰åºå¹¿æ’­çš„ä¸¤ä¸ªæ¥æ”¶å™¨ä»£ç ä¾‹å­ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">OrderAReceiver</span> orderAReceiver<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜æœ‰åºå¹¿æ’­æ¥æ”¶å™¨Açš„å®ä¾‹ </span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªæœ‰åºå¹¿æ’­çš„æ¥æ”¶å™¨A</span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">OrderAReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span> 
   <span class="token comment">// ä¸€æ—¦æ¥æ”¶åˆ°æœ‰åºå¹¿æ’­ï¼Œé©¬ä¸Šè§¦å‘æ¥æ”¶å™¨çš„onReceiveæ–¹æ³•</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> intent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">ORDER_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
           <span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s%s æ¥æ”¶å™¨Aæ”¶åˆ°ä¸€ä¸ªæœ‰åºå¹¿æ’­\n&quot;</span><span class="token punctuation">,</span>
                                       tv_order<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_order<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
           <span class="token keyword">if</span> <span class="token punctuation">(</span>ck_abort<span class="token punctuation">.</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token function">abortBroadcast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸­æ–­å¹¿æ’­ï¼Œæ­¤æ—¶åé¢çš„æ¥æ”¶å™¨æ— æ³•æ”¶åˆ°è¯¥å¹¿æ’­ </span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">private</span> <span class="token class-name">OrderBReceiver</span> orderBReceiver<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜æœ‰åºå¹¿æ’­æ¥æ”¶å™¨Bçš„å®ä¾‹ </span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªæœ‰åºå¹¿æ’­çš„æ¥æ”¶å™¨B</span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">OrderBReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span> 
   <span class="token comment">// ä¸€æ—¦æ¥æ”¶åˆ°æœ‰åºå¹¿æ’­Bï¼Œé©¬ä¸Šè§¦å‘æ¥æ”¶å™¨çš„onReceiveæ–¹æ³•</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> intent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">ORDER_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
           <span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s%s æ¥æ”¶å™¨Bæ”¶åˆ°ä¸€ä¸ªæœ‰åºå¹¿æ’­\n&quot;</span><span class="token punctuation">,</span> 
                                       tv_order<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_order<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
           <span class="token keyword">if</span> <span class="token punctuation">(</span>ck_abort<span class="token punctuation">.</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token function">abortBroadcast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸­æ–­å¹¿æ’­ï¼Œæ­¤æ—¶åé¢çš„æ¥æ”¶å™¨æ— æ³•æ”¶åˆ°è¯¥å¹¿æ’­ </span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3 ï¼æ³¨å†Œæœ‰åºå¹¿æ’­çš„å¤šä¸ªæ¥æ”¶å™¨</strong></p><p>æ¥æ”¶å™¨çš„æ³¨å†Œæ“ä½œåŒæ ·è°ƒç”¨registerReceiveræ–¹æ³•ï¼Œä¸ºäº†ç»™æ¥æ”¶å™¨æ’é˜Ÿï¼Œè¿˜éœ€è°ƒç”¨æ„å›¾è¿‡æ»¤å™¨çš„setPriorityæ–¹æ³•è®¾ç½®ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šå¤§çš„æ¥æ”¶å™¨ï¼Œè¶Šå…ˆæ”¶åˆ°æœ‰åºå¹¿æ’­ã€‚å¦‚æœä¸è®¾ç½®ä¼˜å…ˆçº§ï¼Œæˆ–è€…ä¸¤ä¸ªæ¥æ”¶å™¨çš„ä¼˜å…ˆçº§ç›¸ç­‰ï¼Œé‚£ä¹ˆè¶Šæ—©æ³¨å†Œçš„æ¥æ”¶å™¨ï¼Œä¼šè¶Šå…ˆæ”¶åˆ°æœ‰åºå¹¿æ’­ã€‚è­¬å¦‚ä»¥ä¸‹çš„å¹¿æ’­æ³¨å†Œä»£ç ï¼Œå°½ç®¡æ¥æ”¶å™¨Aæ›´æ—©æ³¨å†Œï¼Œä½†æ¥æ”¶å™¨Bçš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œç»“æœå…ˆæ”¶åˆ°å¹¿æ’­çš„åº”å½“æ˜¯æ¥æ”¶å™¨Bã€‚</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>orderAReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderAReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªæœ‰åºå¹¿æ’­çš„æ¥æ”¶å™¨A </span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨Aï¼Œåªå¤„ç†ORDER_ACTIONçš„å¹¿æ’­</span>
<span class="token class-name">IntentFilter</span> filterA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token constant">ORDER_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
filterA<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è¿‡æ»¤å™¨Açš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</span>
<span class="token function">registerReceiver</span><span class="token punctuation">(</span>orderAReceiver<span class="token punctuation">,</span> filterA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨Aï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­ </span>
orderBReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrderBReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªæœ‰åºå¹¿æ’­çš„æ¥æ”¶å™¨B</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨Aï¼Œåªå¤„ç†ORDER_ACTIONçš„å¹¿æ’­</span>
<span class="token class-name">IntentFilter</span> filterB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token constant">ORDER_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
filterB<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è¿‡æ»¤å™¨Bçš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</span>
<span class="token function">registerReceiver</span><span class="token punctuation">(</span>orderBReceiver<span class="token punctuation">,</span> filterB<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨Bï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥é€šè¿‡æµ‹è¯•é¡µé¢æ¼”ç¤ºæœ‰åºå¹¿æ’­çš„æ”¶å‘ï¼Œå¦‚æœæ²¡è¦æ±‚ä¸­æ–­å¹¿æ’­ï¼Œåˆ™æœ‰åºå¹¿æ’­çš„æ¥æ”¶ç•Œé¢å¦‚å›¾9-3æ‰€ç¤ºï¼Œæ­¤æ—¶æ¥æ”¶å™¨Bå’Œæ¥æ”¶å™¨Aä¾æ¬¡æ”¶åˆ°äº†å¹¿æ’­ï¼›å¦‚æœè¦æ±‚ä¸­æ–­å¹¿æ’­ï¼Œåˆ™æœ‰åºå¹¿æ’­çš„æ¥æ”¶ç•Œé¢å¦‚å›¾9-4æ‰€ç¤ºï¼Œæ­¤æ—¶åªæœ‰æ¥æ”¶å™¨Bæ”¶åˆ°äº†å¹¿æ’­ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207112028025.png" alt="image-20220711202806950" style="zoom:50%;"><p>å›¾9-3ã€€ä¾æ¬¡æ¥æ”¶æœ‰åºå¹¿æ’­</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207112028438.png" alt="image-20220711202819353" style="zoom:50%;"><p>å›¾9-4ã€€ä¸­é€”æ‰“æ–­æœ‰åºå¹¿æ’­</p><h3 id="_9-1-3-æ”¶å‘é™æ€å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-1-3-æ”¶å‘é™æ€å¹¿æ’­" aria-hidden="true">#</a> 9.1.3ã€€æ”¶å‘é™æ€å¹¿æ’­</h3><p>å‰é¢å‡ èŠ‚ä½¿ç”¨å¹¿æ’­ä¹‹æ—¶ï¼Œæ— ä¸€ä¾‹å¤–åœ¨ä»£ç ä¸­æ³¨å†Œæ¥æ”¶å™¨ã€‚å¯æ˜¯åŒä¸º 4 å¤§ç»„ä»¶ï¼Œæ´»åŠ¨ï¼ˆactivityï¼‰ã€æœåŠ¡ï¼ˆserviceï¼‰ã€å†…å®¹æä¾›å™¨ï¼ˆproviderï¼‰éƒ½èƒ½åœ¨AndroidManifest.xmlæ³¨å†Œï¼Œä¸ºå•¥å¹¿æ’­åªèƒ½åœ¨ä»£ç ä¸­æ³¨å†Œå‘¢ï¼Ÿå…¶å®å¹¿æ’­æ¥æ”¶å™¨ä¹Ÿèƒ½åœ¨AndroidManifest.xmlæ³¨å†Œï¼Œå¹¶ä¸”æ³¨å†Œæ—¶å€™çš„èŠ‚ç‚¹åä¸ºreceiverï¼Œä¸€æ—¦æ¥æ”¶å™¨åœ¨AndroidManifest.xmlæ³¨å†Œï¼Œå°±æ— é¡»åœ¨ä»£ç ä¸­æ³¨å†Œäº†ã€‚åœ¨AndroidManifest.xmlä¸­æ³¨å†Œæ¥æ”¶å™¨ï¼Œè¯¥æ–¹å¼è¢«ç§°ä½œé™æ€æ³¨å†Œï¼›è€Œåœ¨ä»£ç ä¸­æ³¨å†Œæ¥æ”¶å™¨ï¼Œè¯¥æ–¹å¼è¢«ç§°ä½œåŠ¨æ€æ³¨å†Œã€‚ä¹‹æ‰€ä»¥ç½•è§é™æ€æ³¨å†Œï¼Œæ˜¯å› ä¸ºé™æ€æ³¨å†Œå®¹æ˜“å¯¼è‡´å®‰å…¨é—®é¢˜ï¼Œæ•…è€ŒAndroid 8.0ä¹‹ååºŸå¼ƒäº†å¤§å¤šæ•°é™æ€æ³¨å†Œã€‚è¯è™½å¦‚æ­¤ï¼ŒAndroidå€’ä¹Ÿæ²¡æœ‰å½»åº•ç¦æ­¢é™æ€æ³¨å†Œï¼Œåªè¦æ»¡è¶³ç‰¹å®šçš„ç¼–ç æ¡ä»¶ï¼Œé‚£ä¹ˆä¾ç„¶èƒ½å¤Ÿé€šè¿‡é™æ€æ–¹å¼æ³¨å†Œæ¥æ”¶å™¨ã€‚å…·ä½“æ³¨å†Œæ­¥éª¤è¯´æ˜å¦‚ä¸‹ã€‚</p><p>é¦–å…ˆå³å‡»å½“å‰æ¨¡å—çš„é»˜è®¤åŒ…ï¼Œä¾æ¬¡é€‰æ‹©å³é”®èœå•çš„Newâ†’Packageï¼Œåˆ›å»ºåä¸ºreceiverçš„æ–°åŒ…ï¼Œç”¨äºå­˜æ”¾é™æ€æ³¨å†Œçš„æ¥æ”¶å™¨ä»£ç ã€‚å…¶æ¬¡å³å‡»åˆšåˆ›å»ºçš„receiveråŒ…ï¼Œä¾æ¬¡é€‰æ‹©å³é”®èœå•çš„Newâ†’Otherâ†’Broadcast Receiverï¼Œå¼¹å‡ºå¦‚å›¾9-5æ‰€ç¤ºçš„ç»„ä»¶åˆ›å»ºå¯¹è¯æ¡†ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207112058872.png" alt="image-20220711205854786" style="zoom:70%;"><p>å›¾9-5ã€€å¹¿æ’­ç»„ä»¶çš„åˆ›å»ºå¯¹è¯æ¡†</p><p>åœ¨ç»„ä»¶åˆ›å»ºå¯¹è¯æ¡†çš„Class Nameä¸€æ å¡«å†™æ¥æ”¶å™¨çš„ç±»åï¼Œæ¯”å¦‚ShockReceiverï¼Œå†å•å‡»å¯¹è¯æ¡†å³ä¸‹è§’çš„FinishæŒ‰é’®ã€‚ä¹‹åAndroid Studioè‡ªåŠ¨åœ¨receiveråŒ…å†…åˆ›å»ºä»£ç æ–‡ä»¶ShockReceiver.javaï¼Œä¸”æ¥æ”¶å™¨çš„é»˜è®¤ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShockReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span> 
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>         
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ—¶AndroidManifest.xmlè‡ªåŠ¨æ·»åŠ æ¥æ”¶å™¨çš„èŠ‚ç‚¹é…ç½®ï¼Œé»˜è®¤çš„receiveré…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span>
<span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.receiver.ShockReceiver<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶è€Œè‡ªåŠ¨ç”Ÿæˆçš„æ¥æ”¶å™¨ä¸ä»…å•¥éƒ½æ²¡å¹²ï¼Œè¿˜ä¸¢å‡ºä¸€ä¸ªå¼‚å¸¸UnsupportedOperationExceptionã€‚æ˜æ˜¾è¿™ä¸ªæ¥æ”¶å™¨æ²¡æ³•ç”¨ï¼Œä¸ºäº†æ„ŸçŸ¥åˆ°æ¥æ”¶å™¨æ­£åœ¨å·¥ä½œï¼Œå¯ä»¥è€ƒè™‘åœ¨onReceiveæ–¹æ³•ä¸­è®°å½•æ—¥å¿—ï¼Œä¹Ÿå¯åœ¨è¯¥æ–¹æ³•ä¸­éœ‡åŠ¨æ‰‹æœºã€‚å› ä¸ºShockReceiveræœªä¾é™„äºä»»ä½•æ´»åŠ¨ï¼Œè‡ªç„¶æ— æ³•ç›´æ¥æ“ä½œç•Œé¢æ§ä»¶ï¼Œæ‰€ä»¥åªèƒ½è§‚å¯Ÿç¨‹åºæ—¥å¿—ï¼Œæˆ–è€…å¹²è„†è®©æ‰‹æœºæ‘‡æ™ƒèµ·æ¥ã€‚å®ç°æ‰‹æœºéœ‡åŠ¨ä¹‹æ—¶ï¼Œè¦è°ƒç”¨getSystemServiceæ–¹æ³•ï¼Œå…ˆä»ç³»ç»ŸæœåŠ¡VIBRATOR_SERVICEè·å–éœ‡åŠ¨ç®¡ç†å™¨Vibratorï¼Œå†è°ƒç”¨éœ‡åŠ¨ç®¡ç†å™¨çš„vibrateæ–¹æ³•éœ‡åŠ¨æ‰‹æœºã€‚åŒ…å«æ‰‹æœºéœ‡åŠ¨åŠŸèƒ½çš„æ¥æ”¶å™¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\receiver\ShockReceiver.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShockReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TAG</span> <span class="token operator">=</span> <span class="token string">&quot;ShockReceiver&quot;</span><span class="token punctuation">;</span>
   <span class="token comment">// é™æ€æ³¨å†Œæ—¶å€™çš„actionã€å‘é€å¹¿æ’­æ—¶çš„actionã€æ¥æ”¶å¹¿æ’­æ—¶çš„actionï¼Œä¸‰è€…éœ€è¦ä¿æŒä¸€è‡´</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SHOCK_ACTION</span> <span class="token operator">=</span> <span class="token string">&quot;com.example.chapter09.shock&quot;</span><span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onReceive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">ShockReceiver</span><span class="token punctuation">.</span><span class="token constant">SHOCK_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token comment">// ä»ç³»ç»ŸæœåŠ¡ä¸­è·å–éœ‡åŠ¨ç®¡ç†å™¨</span>
           <span class="token class-name">Vibrator</span> vb <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Vibrator</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">VIBRATOR_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           vb<span class="token punctuation">.</span><span class="token function">vibrate</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘½ä»¤éœ‡åŠ¨å™¨å±å±ä¸ªè‹¥å¹²ç§’ï¼Œè¿™é‡Œçš„500è¡¨ç¤º500æ¯«ç§’ </span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºéœ‡åŠ¨æ‰‹æœºéœ€è¦ç”³è¯·å¯¹åº”çš„æƒé™ï¼Œå› æ­¤æ‰“å¼€AndroidManifest.xmlæ·»åŠ ä»¥ä¸‹çš„æƒé™ç”³è¯·é…ç½®ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- éœ‡åŠ¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.VIBRATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œæ¥æ”¶å™¨ä»£ç å®šä¹‰äº†ä¸€ä¸ªåŠ¨ä½œåç§°ï¼Œå…¶å€¼ä¸ºâ€œcom.example.chapter09.shockâ€ï¼Œè¡¨ç¤ºonReceiveæ–¹æ³•åªå¤„ç†è¿‡æ»¤è¯¥åŠ¨ä½œä¹‹åçš„å¹¿æ’­ï¼Œä»è€Œæé«˜æ¥æ”¶æ•ˆç‡ã€‚é™¤äº†åœ¨ä»£ç ä¸­è¿‡æ»¤ä¹‹å¤–ï¼Œè¿˜èƒ½ä¿®æ”¹AndroidManifest.xmlï¼Œåœ¨receiverèŠ‚ç‚¹å†…éƒ¨å¢åŠ intent-filteræ ‡ç­¾åŠ ä»¥è¿‡æ»¤ï¼Œæ·»åŠ è¿‡æ»¤é…ç½®åçš„receiverèŠ‚ç‚¹ä¿¡æ¯å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>receiver</span>
<span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.receiver.ShockReceiver<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>enabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>exported</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.example.chapter09.shock<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>receiver</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»ˆäºåˆ°äº†å‘é€å¹¿æ’­è¿™æ­¥ï¼Œç”±äºAndroid 8.0ä¹‹ååˆ é™¤äº†å¤§éƒ¨åˆ†é™æ€æ³¨å†Œï¼Œé˜²æ­¢Appé€€å‡ºåä»åœ¨æ”¶å¬å¹¿æ’­ï¼Œå› æ­¤ä¸ºäº†è®©åº”ç”¨èƒ½å¤Ÿç»§ç»­æ¥æ”¶é™æ€å¹¿æ’­ï¼Œéœ€è¦ç»™é™æ€å¹¿æ’­æŒ‡å®šåŒ…åï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨æ„å›¾å¯¹è±¡çš„setComponentæ–¹æ³•è®¾ç½®ç»„ä»¶è·¯å¾„ã€‚è¯¦ç»†çš„é™æ€å¹¿æ’­å‘é€ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\BroadStaticActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> receiverPath <span class="token operator">=</span> <span class="token string">&quot;com.example.chapter09.receiver.ShockReceiver&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">ShockReceiver</span><span class="token punctuation">.</span><span class="token constant">SHOCK_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªæŒ‡å®šåŠ¨ä½œçš„æ„å›¾ </span>
<span class="token comment">// å‘é€é™æ€å¹¿æ’­ä¹‹æ—¶ï¼Œéœ€è¦é€šè¿‡setComponentæ–¹æ³•æŒ‡å®šæ¥æ”¶å™¨çš„å®Œæ•´è·¯å¾„</span>
<span class="token class-name">ComponentName</span> componentName  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComponentName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> receiverPath<span class="token punctuation">)</span><span class="token punctuation">;</span> 
intent<span class="token punctuation">.</span><span class="token function">setComponent</span><span class="token punctuation">(</span>componentName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®æ„å›¾çš„ç»„ä»¶ä¿¡æ¯ </span>
<span class="token function">sendBroadcast</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘é€é™æ€å¹¿æ’­</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»è¿‡ä¸Šè¿°çš„ç¼–ç ä»¥åŠé…ç½®å·¥ä½œï¼Œæ€»ç®—å®Œæˆäº†é™æ€å¹¿æ’­çš„å‘é€ä¸æ¥æ”¶æµç¨‹ã€‚ç‰¹åˆ«æ³¨æ„ï¼Œç»è¿‡æ•´æ”¹çš„é™æ€æ³¨å†Œåªé€‚ç”¨äºæ¥æ”¶Appè‡ªèº«çš„å¹¿æ’­ï¼Œä¸èƒ½æ¥æ”¶ç³»ç»Ÿå¹¿æ’­ï¼Œä¹Ÿä¸èƒ½æ¥æ”¶å…¶ä»–åº”ç”¨çš„å¹¿æ’­ã€‚è¿è¡Œæµ‹è¯•Appï¼Œåˆå§‹çš„å¹¿æ’­å‘é€ç•Œé¢å¦‚å›¾9-6æ‰€ç¤ºï¼Œç‚¹å‡»å‘é€æŒ‰é’®è§¦å‘é™æ€å¹¿æ’­ï¼Œæ¥ç€æ¥æ”¶å™¨æ”¶åˆ°å¹¿æ’­ä¿¡æ¯ï¼Œæ‰‹æœºéšä¹‹éœ‡åŠ¨äº†è‹¥å¹²æ—¶é—´ï¼Œè¯´æ˜é™æ€æ³¨å†Œçš„æ¥æ”¶å™¨å¥æ•ˆäº†ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207112104771.png" alt="image-20220711210456686" style="zoom:50%;"><p>å›¾9-6ã€€æ”¶åˆ°é™æ€æ³¨å†Œçš„éœ‡åŠ¨å¹¿æ’­</p><h2 id="_9-2-ç›‘å¬ç³»ç»Ÿå¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-2-ç›‘å¬ç³»ç»Ÿå¹¿æ’­" aria-hidden="true">#</a> 9.2ã€€ç›‘å¬ç³»ç»Ÿå¹¿æ’­</h2><p>æœ¬èŠ‚ä»‹ç»äº†å‡ ç§ç³»ç»Ÿå¹¿æ’­çš„ç›‘å¬åŠæ³•ï¼ŒåŒ…æ‹¬å¦‚ä½•æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­ã€å¦‚ä½•æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­ã€å¦‚ä½•ç›‘å¬å®šæ—¶ç®¡ç†å™¨å‘å‡ºçš„ç³»ç»Ÿé—¹é’Ÿå¹¿æ’­ç­‰ã€‚</p><h3 id="_9-2-1-æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-2-1-æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­" aria-hidden="true">#</a> 9.2.1ã€€æ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­</h3><p>é™¤äº†åº”ç”¨è‡ªèº«çš„å¹¿æ’­ï¼Œç³»ç»Ÿä¹Ÿä¼šå‘å‡ºå„å¼å„æ ·çš„å¹¿æ’­ï¼Œé€šè¿‡ç›‘å¬è¿™äº›ç³»ç»Ÿå¹¿æ’­ï¼ŒAppèƒ½å¤Ÿå¾—çŸ¥å‘¨å›´ç¯å¢ƒå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Œä»è€ŒæŒ‰ç…§æœ€æ–°ç¯å¢ƒè°ƒæ•´è¿è¡Œé€»è¾‘ã€‚åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­ä¾¿æ˜¯ç³»ç»Ÿå¹¿æ’­ä¹‹ä¸€ï¼Œæ¯å½“æ—¶é’Ÿåˆ°è¾¾æŸåˆ†é›¶ç§’ï¼Œä¹Ÿå°±æ˜¯è·³åˆ°æ–°çš„åˆ†é’Ÿæ—¶åˆ»ï¼Œç³»ç»Ÿå°±é€šè¿‡å…¨å±€å¤§å–‡å­æ’­æŠ¥åˆ†é’Ÿå¹¿æ’­ã€‚Appåªè¦åœ¨è¿è¡Œæ—¶ä¾¦å¬åˆ†é’Ÿå¹¿æ’­Intent.ACTION_TIME_TICKï¼Œå³å¯åœ¨åˆ†é’Ÿåˆ‡æ¢ä¹‹é™…æ”¶åˆ°å¹¿æ’­ä¿¡æ¯ã€‚ç”±äºåˆ†é’Ÿå¹¿æ’­å±äºç³»ç»Ÿå¹¿æ’­ï¼Œå‘é€æ“ä½œå·²ç»äº¤ç»™ç³»ç»Ÿäº†ï¼Œå› æ­¤è‹¥è¦ä¾¦å¬åˆ†é’Ÿå¹¿æ’­ï¼ŒAppåªéœ€å®ç°è¯¥å¹¿æ’­çš„æ¥æ”¶æ“ä½œã€‚å…·ä½“åˆ°ç¼–ç ä¸Šï¼Œæ¥æ”¶åˆ†é’Ÿå¹¿æ’­å¯åˆ†è§£ä¸ºä¸‹é¢ 3 ä¸ªæ­¥éª¤ï¼š</p><p>æ­¥éª¤ä¸€ï¼Œå®šä¹‰ä¸€ä¸ªåˆ†é’Ÿå¹¿æ’­çš„æ¥æ”¶å™¨ï¼Œå¹¶é‡å†™æ¥æ”¶å™¨çš„onReceiveæ–¹æ³•ï¼Œè¡¥å……æ”¶åˆ°å¹¿æ’­ä¹‹åçš„å¤„ç†é€»è¾‘ã€‚</p><p>æ­¥éª¤äºŒï¼Œé‡å†™æ´»åŠ¨é¡µé¢çš„onStartæ–¹æ³•ï¼Œæ·»åŠ å¹¿æ’­æ¥æ”¶å™¨çš„æ³¨å†Œä»£ç ï¼Œæ³¨æ„è¦è®©æ¥æ”¶å™¨è¿‡æ»¤åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­Intent.ACTION_TIME_TICKã€‚</p><p>æ­¥éª¤ä¸‰ï¼Œé‡å†™æ´»åŠ¨é¡µé¢çš„onStopæ–¹æ³•ï¼Œæ·»åŠ å¹¿æ’­æ¥æ”¶å™¨çš„æ³¨é”€ä»£ç ã€‚</p><p>æ ¹æ®ä¸Šè¿°é€»è¾‘ç¼–å†™æ´»åŠ¨ä»£ç ï¼Œä½¿ä¹‹ç›‘å¬ç³»ç»Ÿå‘æ¥çš„åˆ†é’Ÿå¹¿æ’­ï¼Œä¸‹é¢æ˜¯æ¼”ç¤ºé¡µé¢çš„æ´»åŠ¨ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\SystemMinuteActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SystemMinuteActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv_minute<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªæ–‡æœ¬è§†å›¾å¯¹è±¡</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token string">&quot;å¼€å§‹ä¾¦å¬åˆ†é’Ÿå¹¿æ’­ï¼Œè¯·ç¨ç­‰ã€‚æ³¨æ„è¦ä¿æŒå±å¹•äº®ç€ï¼Œæ‰èƒ½æ­£å¸¸æ”¶åˆ°å¹¿æ’­&quot;</span><span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_system_minute<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_minute <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_minute<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_minute<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       timeReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimeReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªåˆ†é’Ÿå˜æ›´çš„å¹¿æ’­æ¥æ”¶å™¨</span>
       <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨ï¼Œåªå¤„ç†ç³»ç»Ÿåˆ†é’Ÿå˜åŒ–çš„å¹¿æ’­</span>
       <span class="token class-name">IntentFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_TIME_TICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">registerReceiver</span><span class="token punctuation">(</span>timeReceiver<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨ï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">unregisterReceiver</span><span class="token punctuation">(</span>timeReceiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨é”€æ¥æ”¶å™¨ï¼Œæ³¨é”€ä¹‹åå°±ä¸å†æ¥æ”¶å¹¿æ’­</span>
 <span class="token punctuation">}</span>
   <span class="token keyword">private</span> <span class="token class-name">TimeReceiver</span> timeReceiver<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªåˆ†é’Ÿå¹¿æ’­çš„æ¥æ”¶å™¨å®ä¾‹</span>
   <span class="token comment">// å®šä¹‰ä¸€ä¸ªåˆ†é’Ÿå¹¿æ’­çš„æ¥æ”¶å™¨</span>
   <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">TimeReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span>
       <span class="token comment">// ä¸€æ—¦æ¥æ”¶åˆ°åˆ†é’Ÿå˜æ›´çš„å¹¿æ’­ï¼Œé©¬ä¸Šè§¦å‘æ¥æ”¶å™¨çš„onReceiveæ–¹æ³•</span>
       <span class="token annotation punctuation">@Override</span>
       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n%s æ”¶åˆ°ä¸€ä¸ªåˆ†é’Ÿåˆ°è¾¾å¹¿æ’­%s&quot;</span><span class="token punctuation">,</span> desc<span class="token punctuation">,</span>
                       <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> intent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               tv_minute<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæµ‹è¯•Appï¼Œåˆå§‹ç•Œé¢å¦‚å›¾9-7æ‰€ç¤ºï¼Œç¨ç­‰ç‰‡åˆ»ç›´åˆ°ä¸‹ä¸€åˆ†é’Ÿåˆ°æ¥ï¼Œç•Œé¢é©¬ä¸Šå¤šäº†å¹¿æ’­æ—¥å¿—ï¼Œå¦‚å›¾9-8æ‰€ç¤ºï¼Œå¯è§æ­¤æ—¶å‡†ç‚¹æ”¶åˆ°äº†ç³»ç»Ÿå‘å‡ºçš„åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207120945614.png" alt="image-20220712094555507" style="zoom:50%;"><p>å›¾9-7ã€€å‡†å¤‡æ¥æ”¶åˆ†é’Ÿå¹¿æ’­</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207120946514.png" alt="image-20220712094619433" style="zoom:50%;"><p>å›¾9-8ã€€æ”¶å¬åˆ°äº†åˆ†é’Ÿå¹¿æ’­</p><h3 id="_9-2-2-æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#_9-2-2-æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­" aria-hidden="true">#</a> 9.2.2ã€€æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­</h3><p>é™¤äº†åˆ†é’Ÿå¹¿æ’­ï¼Œç½‘ç»œå˜æ›´å¹¿æ’­ä¹Ÿå¾ˆå¸¸è§ï¼Œå› ä¸ºæ‰‹æœºå¯èƒ½ä½¿ç”¨WiFiä¸Šç½‘ï¼Œä¹Ÿå¯èƒ½ä½¿ç”¨æ•°æ®è¿æ¥ä¸Šç½‘ï¼Œè€Œåè€…ä¼šäº§ç”Ÿæµé‡è´¹ç”¨ï¼Œæ‰€ä»¥æ‰‹æœºæµè§ˆå™¨éƒ½æä¾›äº†â€œæ™ºèƒ½æ— å›¾â€çš„åŠŸèƒ½ï¼Œè¿ä¸ŠWiFiç½‘ç»œæ—¶æ‰æ˜¾ç¤ºç½‘é¡µä¸Šçš„å›¾ç‰‡ï¼Œæ²¡è¿ä¸ŠWiFiå°±ä¸æ˜¾ç¤ºå›¾ç‰‡ã€‚è¿™ç±»ä¸šåŠ¡åœºæ™¯å°±è¦æ±‚ä¾¦å¬ç½‘ç»œå˜æ›´å¹¿æ’­ï¼Œå¯¹äºå½“å‰ç½‘ç»œå˜æˆWiFiè¿æ¥ã€å˜æˆæ•°æ®è¿æ¥çš„ä¸¤ç§æƒ…å†µï¼Œéœ€è¦åˆ†åˆ«åˆ¤æ–­å¹¶åŠ ä»¥å¤„ç†ã€‚</p><p>æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­å¯åˆ†è§£ä¸ºä¸‹é¢ 3 ä¸ªæ­¥éª¤ï¼š</p><p>æ­¥éª¤ä¸€ï¼Œå®šä¹‰ä¸€ä¸ªç½‘ç»œå¹¿æ’­çš„æ¥æ”¶å™¨ï¼Œå¹¶é‡å†™æ¥æ”¶å™¨çš„onReceiveæ–¹æ³•ï¼Œè¡¥å……æ”¶åˆ°å¹¿æ’­ä¹‹åçš„å¤„ç†é€»è¾‘ã€‚</p><p>æ­¥éª¤äºŒï¼Œé‡å†™æ´»åŠ¨é¡µé¢çš„onStartæ–¹æ³•ï¼Œæ·»åŠ å¹¿æ’­æ¥æ”¶å™¨çš„æ³¨å†Œä»£ç ï¼Œæ³¨æ„è¦è®©æ¥æ”¶å™¨è¿‡æ»¤ç½‘ç»œå˜æ›´å¹¿æ’­ android.net.conn.CONNECTIVITY_CHANGEã€‚</p><p>æ­¥éª¤ä¸‰ï¼Œé‡å†™æ´»åŠ¨é¡µé¢çš„onStopæ–¹æ³•ï¼Œæ·»åŠ å¹¿æ’­æ¥æ”¶å™¨çš„æ³¨é”€ä»£ç ã€‚</p><p>ä¸Šè¿° 3 ä¸ªæ­¥éª¤ä¸­ï¼Œå°¤ä¸ºæ³¨æ„ç¬¬ä¸€æ­¥éª¤ï¼Œå› ä¸ºonReceiveæ–¹æ³•åªè¡¨ç¤ºæ”¶åˆ°äº†ç½‘ç»œå¹¿æ’­ï¼Œè‡³äºå˜æˆå“ªç§ç½‘ç»œï¼Œè¿˜å¾—æŠŠå¹¿æ’­æ¶ˆæ¯è§£åŒ…æ‰çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹ã€‚ç½‘ç»œå¹¿æ’­æºå¸¦çš„åŒ…è£¹ä¸­æœ‰ä¸ªåä¸ºnetworkInfoçš„å¯¹è±¡ï¼Œå…¶æ•°æ®ç±»å‹ä¸ºNetworkInfoï¼Œäºæ˜¯è°ƒç”¨NetworkInfoå¯¹è±¡çš„ç›¸å…³æ–¹æ³•ï¼Œå³å¯è·å–è¯¦ç»†çš„ç½‘ç»œä¿¡æ¯ã€‚ä¸‹é¢æ˜¯NetworkInfoçš„å¸¸ç”¨æ–¹æ³•è¯´æ˜ï¼š</p><ul><li><p>getTypeï¼šè·å–ç½‘ç»œç±»å‹ã€‚ç½‘ç»œç±»å‹çš„å–å€¼è¯´æ˜è§è¡¨9-1ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207120949439.png" alt="image-20220712094927352"></p></li><li><p>getTypeNameï¼šè·å–ç½‘ç»œç±»å‹çš„åç§°ã€‚</p></li><li><p>getSubtypeï¼šè·å–ç½‘ç»œå­ç±»å‹ã€‚å½“ç½‘ç»œç±»å‹ä¸ºæ•°æ®è¿æ¥æ—¶ï¼Œå­ç±»å‹ä¸º2G/3G/4Gçš„ç»†åˆ†ç±»å‹ï¼Œå¦‚CDMAã€EVDOã€HSDPAã€LTEç­‰ã€‚ç½‘ç»œå­ç±»å‹çš„å–å€¼è¯´æ˜è§è¡¨9-2ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/image-20220712094957631.png" alt=""></p></li><li><p>getSubtypeNameï¼šè·å–ç½‘ç»œå­ç±»å‹çš„åç§°ã€‚</p></li><li><p>getStateï¼šè·å–ç½‘ç»œçŠ¶æ€ã€‚ç½‘ç»œçŠ¶æ€çš„å–å€¼è¯´æ˜è§è¡¨9-3ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207120951303.png" alt="image-20220712095128207"></p><p>æ ¹æ®æ¢³ç†åçš„è§£åŒ…é€»è¾‘ç¼–å†™æ´»åŠ¨ä»£ç ï¼Œä½¿ä¹‹ç›‘å¬ç³»ç»Ÿå‘æ¥çš„ç½‘ç»œå˜æ›´å¹¿æ’­ï¼Œä¸‹é¢æ˜¯æ¼”ç¤ºé¡µé¢çš„ä»£ç ç‰‡æ®µï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\SystemNetworkActivity.javaï¼‰</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   networkReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NetworkReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªç½‘ç»œå˜æ›´çš„å¹¿æ’­æ¥æ”¶å™¨ </span>
   <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨ï¼Œåªå¤„ç†ç½‘ç»œçŠ¶æ€å˜åŒ–çš„å¹¿æ’­</span>
   <span class="token class-name">IntentFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span>
<span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">registerReceiver</span><span class="token punctuation">(</span>networkReceiver<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨ï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­ </span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">unregisterReceiver</span><span class="token punctuation">(</span>networkReceiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨é”€æ¥æ”¶å™¨ï¼Œæ³¨é”€ä¹‹åå°±ä¸å†æ¥æ”¶å¹¿æ’­ </span>
<span class="token punctuation">}</span>
<span class="token keyword">private</span> <span class="token class-name">NetworkReceiver</span> networkReceiver<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªç½‘ç»œå˜æ›´çš„å¹¿æ’­æ¥æ”¶å™¨å®ä¾‹ </span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªç½‘ç»œå˜æ›´çš„å¹¿æ’­æ¥æ”¶å™¨</span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">NetworkReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span> 
   <span class="token comment">// ä¸€æ—¦æ¥æ”¶åˆ°ç½‘ç»œå˜æ›´çš„å¹¿æ’­ï¼Œé©¬ä¸Šè§¦å‘æ¥æ”¶å™¨çš„onReceiveæ–¹æ³• </span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token class-name">NetworkInfo</span> networkInfo <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getParcelableExtra</span><span class="token punctuation">(</span><span class="token string">&quot;networkInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
           <span class="token class-name">String</span> networkClass <span class="token operator">=</span>
<span class="token class-name">NetworkUtil</span><span class="token punctuation">.</span><span class="token function">getNetworkClass</span><span class="token punctuation">(</span>networkInfo<span class="token punctuation">.</span><span class="token function">getSubtype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n%s æ”¶åˆ°ä¸€ä¸ªç½‘ç»œå˜æ›´å¹¿æ’­ï¼Œç½‘ç»œå¤§ç±»ä¸º%sï¼Œ&quot;</span> <span class="token operator">+</span> 
                                <span class="token string">&quot;ç½‘ç»œå°ç±»ä¸º%sï¼Œç½‘ç»œåˆ¶å¼ä¸º%sï¼Œç½‘ç»œçŠ¶æ€ä¸º%s&quot;</span><span class="token punctuation">,</span> 
                                desc<span class="token punctuation">,</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
networkInfo<span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                networkInfo<span class="token punctuation">.</span><span class="token function">getSubtypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> networkClass<span class="token punctuation">,</span> 
                                networkInfo<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_network<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæµ‹è¯•Appï¼Œåˆå§‹ç•Œé¢å¦‚å›¾9-9æ‰€ç¤ºï¼Œè¯´æ˜æ‰‹æœºæ­£åœ¨ä½¿ç”¨æ•°æ®è¿æ¥ã€‚ç„¶åå…³é—­æ•°æ®è¿æ¥ï¼Œå†å¼€å¯WLANï¼Œæ­¤æ—¶ç•Œé¢æ—¥å¿—å¦‚å›¾9-10æ‰€ç¤ºï¼Œå¯è§Appæœç„¶æ”¶åˆ°äº†ç½‘ç»œå¹¿æ’­ï¼Œå¹¶ä¸”æ­£ç¡®ä»å¹¿æ’­ä¿¡æ¯ä¸­å¾—çŸ¥å·²ç»åˆ‡æ¢åˆ°äº†WiFiç½‘ç»œã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207120955124.png" alt="image-20220712095514037" style="zoom:50%;"><p>å›¾9-9ã€€æ”¶åˆ°æ•°æ®è¿æ¥çš„ç½‘ç»œå¹¿æ’­</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207120955229.png" alt="image-20220712095528133" style="zoom:50%;"><p>å›¾9-10ã€€åˆ‡æ¢åˆ°WiFiçš„ç½‘ç»œå¹¿æ’­</p><h3 id="_9-2-3-å®šæ—¶ç®¡ç†å™¨alarmmanager" tabindex="-1"><a class="header-anchor" href="#_9-2-3-å®šæ—¶ç®¡ç†å™¨alarmmanager" aria-hidden="true">#</a> 9.2.3ã€€å®šæ—¶ç®¡ç†å™¨AlarmManager</h3><p>å°½ç®¡ç³»ç»Ÿçš„åˆ†é’Ÿå¹¿æ’­èƒ½å¤Ÿå®ç°å®šæ—¶åŠŸèƒ½ï¼ˆæ¯åˆ†é’Ÿä¸€æ¬¡ï¼‰ï¼Œä½†æ˜¯è¿™ç§å®šæ—¶åŠŸèƒ½å¤ªä½çº§äº†ï¼Œæ—¢ä¸èƒ½å®šåˆ¶å¯é•¿å¯çŸ­çš„æ—¶é—´é—´éš”ï¼Œä¹Ÿä¸èƒ½é™åˆ¶å®šæ—¶å¹¿æ’­çš„æ¬¡æ•°ã€‚ä¸ºæ­¤Androidæä¾›äº†ä¸“é—¨çš„å®šæ—¶ç®¡ç†å™¨AlarmManagerï¼Œå®ƒåˆ©ç”¨ç³»ç»Ÿé—¹é’Ÿå®šæ—¶å‘é€å¹¿æ’­ï¼Œæ¯”åˆ†é’Ÿå¹¿æ’­æ‹¥æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½ã€‚ç”±äºé—¹é’Ÿä¸éœ‡åŠ¨å™¨åŒå±ç³»ç»ŸæœåŠ¡ï¼Œä¸”é—¹é’Ÿçš„æœåŠ¡åç§°ä¸ºALARM_SERVICEï¼Œå› æ­¤ä¾ç„¶è°ƒç”¨getSystemServiceæ–¹æ³•è·å–é—¹é’Ÿç®¡ç†å™¨çš„å®ä¾‹ï¼Œä¸‹é¢æ˜¯ä»ç³»ç»ŸæœåŠ¡ä¸­è·å–é—¹é’Ÿç®¡ç†å™¨çš„ä»£ç ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»ç³»ç»ŸæœåŠ¡ä¸­è·å–é—¹é’Ÿç®¡ç†å™¨</span>
<span class="token class-name">AlarmManager</span> alarmMgr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token constant">ALARM_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾—åˆ°é—¹é’Ÿå®ä¾‹åï¼Œå³å¯è°ƒç”¨å®ƒçš„å„ç§æ–¹æ³•è®¾ç½®é—¹é’Ÿè§„åˆ™äº†ï¼ŒAlarmManagerçš„å¸¸è§æ–¹æ³•è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><p>setï¼šè®¾ç½®ä¸€æ¬¡æ€§å®šæ—¶å™¨ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå®šæ—¶å™¨ç±»å‹ï¼Œé€šå¸¸å¡«AlarmManager.RTC_WAKEUPï¼›ç¬¬äºŒä¸ªå‚æ•°ä¸ºæœŸæœ›çš„æ‰§è¡Œæ—¶åˆ»ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå¾…æ‰§è¡Œçš„å»¶è¿Ÿæ„å›¾ï¼ˆPendingIntentç±»å‹ï¼‰ã€‚</p></li><li><p>setAndAllowWhileIdleï¼šè®¾ç½®ä¸€æ¬¡æ€§å®šæ—¶å™¨ï¼Œå‚æ•°è¯´æ˜åŒsetæ–¹æ³•ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼šå³ä½¿è®¾å¤‡å¤„äºç©ºé—²çŠ¶æ€ï¼Œä¹Ÿä¼šä¿è¯æ‰§è¡Œå®šæ—¶å™¨ã€‚å› ä¸ºä»Android 6.0å¼€å§‹ï¼Œsetæ–¹æ³•åœ¨æš—å±æ—¶ä¸ä¿è¯å‘é€å¹¿æ’­ï¼Œå¿…é¡»è°ƒç”¨setAndAllowWhileIdleæ–¹æ³•æ‰èƒ½ä¿è¯å‘é€å¹¿æ’­ã€‚</p></li><li><p>setRepeatingï¼šè®¾ç½®é‡å¤å®šæ—¶å™¨ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå®šæ—¶å™¨ç±»å‹ï¼›ç¬¬äºŒä¸ªå‚æ•°ä¸ºé¦–æ¬¡æ‰§è¡Œæ—¶é—´ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºä¸‹æ¬¡æ‰§è¡Œçš„é—´éš”æ—¶é—´ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰ï¼›ç¬¬å››ä¸ªå‚æ•°ä¸ºå¾…æ‰§è¡Œçš„å»¶è¿Ÿæ„å›¾ï¼ˆPendingIntentç±»å‹ï¼‰ã€‚ç„¶è€Œä»Android 4.4å¼€å§‹ï¼ŒsetRepeatingæ–¹æ³•ä¸ä¿è¯æŒ‰æ—¶å‘é€å¹¿æ’­ï¼Œåªèƒ½é€šè¿‡setAndAllowWhileIdleæ–¹æ³•é—´æ¥å®ç°é‡å¤å®šæ—¶åŠŸèƒ½ã€‚</p></li><li><p>cancelï¼šå–æ¶ˆæŒ‡å®šå»¶è¿Ÿæ„å›¾çš„å®šæ—¶å™¨ã€‚</p></li></ul><p>ä»¥ä¸Šçš„æ–¹æ³•è¯´æ˜å‡ºç°äº†æ–°åè¯â€”å»¶è¿Ÿæ„å›¾ï¼Œå®ƒæ˜¯PendingIntentç±»å‹ï¼Œé¡¾åæ€ä¹‰ï¼Œå»¶è¿Ÿæ„å›¾ä¸æ˜¯é©¬ä¸Šæ‰§è¡Œçš„æ„å›¾ï¼Œè€Œæ˜¯å»¶è¿Ÿè‹¥å¹²æ—¶é—´æ‰æ‰§è¡Œçš„æ„å›¾ã€‚åƒä¹‹å‰çš„æ´»åŠ¨é¡µé¢è·³è½¬ï¼Œè°ƒç”¨startActivityæ–¹æ³•è·³åˆ°ä¸‹ä¸ªé¡µé¢ï¼Œæ­¤æ—¶è·³è½¬åŠ¨ä½œæ˜¯ç«‹åˆ»å‘ç”Ÿçš„ï¼Œæ‰€ä»¥è¦ä¼ å…¥Intentå¯¹è±¡ã€‚ç”±äºå®šæ—¶å™¨çš„å¹¿æ’­ä¸æ˜¯ç«‹åˆ»å‘é€çš„ï¼Œè€Œæ˜¯æ—¶åˆ»åˆ°è¾¾äº†æ‰å‘é€å¹¿æ’­ï¼Œå› æ­¤ä¸èƒ½ä¼ Intentå¯¹è±¡åªèƒ½ä¼ PendingIntentå¯¹è±¡ã€‚å½“ç„¶æ„å›¾ä¸å»¶è¿Ÿæ„å›¾ä¸æ­¢ä¸€å¤„åŒºåˆ«ï¼Œå®ƒä»¬çš„å·®å¼‚ä¸»è¦æœ‰ä¸‹åˆ— 3 ç‚¹ï¼š</p><p>ï¼ˆ 1 ï¼‰PendingIntentä»£è¡¨å»¶è¿Ÿçš„æ„å›¾ï¼Œå®ƒæŒ‡å‘çš„ç»„ä»¶ä¸ä¼šé©¬ä¸Šæ¿€æ´»ï¼›è€ŒIntentä»£è¡¨å®æ—¶çš„æ„å›¾ï¼Œä¸€æ—¦è¢«å¯åŠ¨ï¼Œå®ƒæŒ‡å‘çš„ç»„ä»¶å°±ä¼šé©¬ä¸Šæ¿€æ´»ã€‚</p><p>ï¼ˆ 2 ï¼‰PendingIntentæ˜¯ä¸€ç±»æ¶ˆæ¯çš„ç»„åˆï¼Œä¸ä½†åŒ…å«ç›®æ ‡çš„Intentå¯¹è±¡ï¼Œè¿˜åŒ…å«è¯·æ±‚ä»£ç ã€è¯·æ±‚æ–¹å¼ç­‰ä¿¡æ¯ã€‚</p><p>ï¼ˆ 3 ï¼‰PendingIntentå¯¹è±¡åœ¨åˆ›å»ºä¹‹æ—¶ä¾¿å·²çŸ¥æ™“å°†è¦ç”¨äºæ´»åŠ¨è¿˜æ˜¯å¹¿æ’­ï¼Œä¾‹å¦‚è°ƒç”¨getActivityæ–¹æ³•å¾—åˆ°çš„æ˜¯æ´»åŠ¨è·³è½¬çš„å»¶è¿Ÿæ„å›¾ï¼Œè°ƒç”¨getBroadcastæ–¹æ³•å¾—åˆ°çš„æ˜¯å¹¿æ’­å‘é€çš„å»¶è¿Ÿæ„å›¾ã€‚</p><p>å°±é—¹é’Ÿå¹¿æ’­çš„æ”¶å‘è¿‡ç¨‹è€Œè¨€ï¼Œéœ€è¦å®ç° 3 ä¸ªç¼–ç æ­¥éª¤ï¼šå®šä¹‰å®šæ—¶å™¨çš„å¹¿æ’­æ¥æ”¶å™¨ã€å¼€å…³å®šæ—¶å™¨çš„å¹¿æ’­æ¥æ”¶å™¨ã€è®¾ç½®å®šæ—¶å™¨çš„æ’­æŠ¥è§„åˆ™ï¼Œåˆ†åˆ«å™è¿°å¦‚ä¸‹ã€‚</p><p><strong>1 ï¼å®šä¹‰å®šæ—¶å™¨çš„å¹¿æ’­æ¥æ”¶å™¨</strong></p><p>é—¹é’Ÿå¹¿æ’­çš„æ¥æ”¶å™¨é‡‡ç”¨åŠ¨æ€æ³¨å†Œæ–¹å¼ï¼Œå®ƒçš„å®ç°é€”å¾„ä¸æ ‡å‡†å¹¿æ’­ç±»ä¼¼ï¼Œéƒ½è¦ä»BroadcastReceiveræ´¾ç”Ÿæ–°çš„æ¥æ”¶å™¨ï¼Œå¹¶é‡å†™onReceiveæ–¹æ³•ã€‚é—¹é’Ÿå¹¿æ’­æ¥æ”¶å™¨çš„å®šä¹‰ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\AlarmActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å£°æ˜ä¸€ä¸ªé—¹é’Ÿå¹¿æ’­äº‹ä»¶çš„æ ‡è¯†ä¸²</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token constant">ALARM_ACTION</span> <span class="token operator">=</span> <span class="token string">&quot;com.example.chapter09.alarm&quot;</span><span class="token punctuation">;</span> 
<span class="token keyword">private</span> <span class="token class-name">String</span> mDesc <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// é—¹é’Ÿæ—¶é—´åˆ°è¾¾çš„è¿°</span>
<span class="token comment">// å®šä¹‰ä¸€ä¸ªé—¹é’Ÿå¹¿æ’­çš„æ¥æ”¶å™¨</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AlarmReceiver</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span> 
   <span class="token comment">// ä¸€æ—¦æ¥æ”¶åˆ°é—¹é’Ÿæ—¶é—´åˆ°è¾¾çš„å¹¿æ’­ï¼Œé©¬ä¸Šè§¦å‘æ¥æ”¶å™¨çš„onReceiveæ–¹æ³• </span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           mDesc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n%s é—¹é’Ÿæ—¶é—´åˆ°è¾¾&quot;</span><span class="token punctuation">,</span> mDesc<span class="token punctuation">,</span> 
<span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_alarm<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDesc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
           <span class="token comment">// ä»ç³»ç»ŸæœåŠ¡ä¸­è·å–éœ‡åŠ¨ç®¡ç†å™¨ </span>
           <span class="token class-name">Vibrator</span> vb <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Vibrator</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">VIBRATOR_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           vb<span class="token punctuation">.</span><span class="token function">vibrate</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘½ä»¤éœ‡åŠ¨å™¨å±å±ä¸ªè‹¥å¹²ç§’             </span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2 ï¼å¼€å…³å®šæ—¶å™¨çš„å¹¿æ’­æ¥æ”¶å™¨</strong></p><p>å®šæ—¶æ¥æ”¶å™¨çš„å¼€å…³æµç¨‹å‚ç…§æ ‡å‡†å¹¿æ’­ï¼Œå¯ä»¥åœ¨æ´»åŠ¨é¡µé¢çš„onStartæ–¹æ³•ä¸­æ³¨å†Œæ¥æ”¶å™¨ï¼Œåœ¨æ´»åŠ¨é¡µé¢çš„onStopæ–¹æ³•ä¸­æ³¨é”€æ¥æ”¶å™¨ã€‚ç›¸åº”çš„æ¥æ”¶å™¨å¼€å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">AlarmReceiver</span> alarmReceiver<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªé—¹é’Ÿçš„å¹¿æ’­æ¥æ”¶å™¨ </span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   alarmReceiver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlarmReceiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªé—¹é’Ÿçš„å¹¿æ’­æ¥æ”¶å™¨ </span>
   <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨ï¼Œåªå¤„ç†æŒ‡å®šäº‹ä»¶æ¥æºçš„å¹¿æ’­</span>
   <span class="token class-name">IntentFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token constant">ALARM_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">registerReceiver</span><span class="token punctuation">(</span>alarmReceiver<span class="token punctuation">,</span> filter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨ï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­ </span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">unregisterReceiver</span><span class="token punctuation">(</span>alarmReceiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨é”€æ¥æ”¶å™¨ï¼Œæ³¨é”€ä¹‹åå°±ä¸å†æ¥æ”¶å¹¿æ’­ </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3 ï¼è®¾ç½®å®šæ—¶å™¨çš„æ’­æŠ¥è§„åˆ™</strong></p><p>é¦–å…ˆä»ç³»ç»ŸæœåŠ¡ä¸­è·å–é—¹é’Ÿç®¡ç†å™¨ï¼Œç„¶åè°ƒç”¨ç®¡ç†å™¨çš„set***æ–¹æ³•ï¼ŒæŠŠäº‹å…ˆåˆ›å»ºçš„å»¶è¿Ÿæ„å›¾å¡«åˆ°æ’­æŠ¥è§„åˆ™å½“ä¸­ã€‚ä¸‹é¢æ˜¯å‘é€é—¹é’Ÿå¹¿æ’­çš„ä»£ç ä¾‹å­ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å‘é€é—¹é’Ÿå¹¿æ’­</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">sendAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token constant">ALARM_ACTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªå¹¿æ’­äº‹ä»¶çš„æ„å›¾ </span>
   <span class="token comment">// åˆ›å»ºä¸€ä¸ªç”¨äºå¹¿æ’­çš„å»¶è¿Ÿæ„å›¾</span>
   <span class="token class-name">PendingIntent</span> pIntent <span class="token operator">=</span> <span class="token class-name">PendingIntent</span><span class="token punctuation">.</span><span class="token function">getBroadcast</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> 
                                                      intent<span class="token punctuation">,</span> 
<span class="token class-name">PendingIntent</span><span class="token punctuation">.</span><span class="token constant">FLAG_UPDATE_CURRENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// ä»ç³»ç»ŸæœåŠ¡ä¸­è·å–é—¹é’Ÿç®¡ç†å™¨</span>
   <span class="token class-name">AlarmManager</span> alarmMgr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">)</span> <span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token constant">ALARM_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">long</span> delayTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> mDelay<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// ç»™å½“å‰æ—¶é—´åŠ ä¸Šè‹¥å¹² </span>
ç§’
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>M</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       <span class="token comment">// å…è®¸åœ¨ç©ºé—²æ—¶å‘é€å¹¿æ’­ï¼ŒAndroid6.0ä¹‹åæ–°å¢çš„æ–¹æ³•</span>
       alarmMgr<span class="token punctuation">.</span><span class="token function">setAndAllowWhileIdle</span><span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">.</span><span class="token constant">RTC_WAKEUP</span><span class="token punctuation">,</span> delayTime<span class="token punctuation">,</span> 
pIntent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token comment">// è®¾ç½®ä¸€æ¬¡æ€§é—¹é’Ÿï¼Œå»¶è¿Ÿè‹¥å¹²ç§’åï¼Œæºå¸¦å»¶è¿Ÿæ„å›¾å‘é€é—¹é’Ÿå¹¿æ’­ï¼ˆä½†Android6.0ä¹‹åï¼Œsetæ–¹æ³•åœ¨æš—å±æ—¶ä¸ä¿è¯å‘é€å¹¿æ’­ï¼Œå¿…é¡»è°ƒç”¨setAndAllowWhileIdleæ–¹æ³•ï¼‰</span>
       alarmMgr<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">AlarmManager</span><span class="token punctuation">.</span><span class="token constant">RTC_WAKEUP</span><span class="token punctuation">,</span> delayTime<span class="token punctuation">,</span> pIntent<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæˆä¸Šè¿°çš„ 3 ä¸ªæ­¥éª¤ä¹‹åï¼Œè¿è¡Œæµ‹è¯•Appï¼Œç‚¹å‡»â€œè®¾ç½®é—¹é’Ÿâ€æŒ‰é’®ï¼Œç•Œé¢ä¸‹æ–¹å›æ˜¾é—¹é’Ÿçš„è®¾ç½®ä¿¡æ¯ï¼Œå¦‚å›¾9-11 æ‰€ç¤ºã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œå‘ç°å›æ˜¾æ–‡æœ¬å¤šäº†ä¸€è¡Œæ—¥å¿—ï¼Œå¦‚å›¾9-12æ‰€ç¤ºï¼ŒåŒæ—¶æ‰‹æœºä¹Ÿå—¡å—¡éœ‡åŠ¨äº†ä¸€ä¼šï¼Œå¯¹æ¯”æ—¥å¿—æ—¶é—´å¯çŸ¥ï¼Œé—¹é’Ÿå¹¿æ’­æœç„¶åœ¨è®¾å®šçš„æ—¶åˆ»è§¦å‘ä¸”æ”¶å¬äº†ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121001426.png" alt="image-20220712100153332" style="zoom:50%;"><p>å›¾9-11 åˆšåˆšè®¾ç½®é—¹é’Ÿ</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121002297.png" alt="image-20220712100214203" style="zoom:50%;"><p>å›¾9-12 æ”¶åˆ°é—¹é’Ÿå¹¿æ’­</p><p>è‡³äºé—¹é’Ÿçš„é‡å¤æ’­æŠ¥é—®é¢˜ï¼Œå› ä¸ºsetRepeatingæ–¹æ³•ä¸å†å¯é ï¼Œæ‰€ä»¥è¦ä¿®æ”¹é—¹é’Ÿçš„æ”¶å¬é€»è¾‘ï¼Œåœ¨onReceiveæœ«å°¾è¡¥å……è°ƒç”¨sendAlarmæ–¹æ³•ï¼Œç¡®ä¿æ¯æ¬¡æ”¶åˆ°å¹¿æ’­ä¹‹åç«‹å³å‡†å¤‡ä¸‹ä¸€ä¸ªå¹¿æ’­ã€‚è°ƒæ•´ä»¥åçš„onReceiveæ–¹æ³•ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">if</span> <span class="token punctuation">(</span>intent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        
       <span class="token keyword">if</span> <span class="token punctuation">(</span>ck_repeate<span class="token punctuation">.</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// éœ€è¦é‡å¤é—¹é’Ÿå¹¿æ’­ </span>
           <span class="token function">sendAlarm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘é€é—¹é’Ÿå¹¿æ’­</span>
    <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-3-æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#_9-3-æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶" aria-hidden="true">#</a> 9.3ã€€æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶</h2><p>æœ¬èŠ‚ä»‹ç»å‡ ç§å±å¹•å˜æ›´äº‹ä»¶çš„æ•è·åŠæ³•ï¼ŒåŒ…æ‹¬å¦‚ä½•ç›‘å¬ç«–å±ä¸æ¨ªå±ä¹‹é—´çš„åˆ‡æ¢äº‹ä»¶ã€å¦‚ä½•ç›‘å¬ä»Appç•Œé¢å›åˆ°æ¡Œé¢çš„äº‹ä»¶ã€å¦‚ä½•ç›‘å¬ä»Appç•Œé¢åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨çš„äº‹ä»¶ç­‰ã€‚</p><h3 id="_9-3-1-ç«–å±ä¸æ¨ªå±åˆ‡æ¢" tabindex="-1"><a class="header-anchor" href="#_9-3-1-ç«–å±ä¸æ¨ªå±åˆ‡æ¢" aria-hidden="true">#</a> 9.3.1ã€€ç«–å±ä¸æ¨ªå±åˆ‡æ¢</h3><p>é™¤äº†ç³»ç»Ÿå¹¿æ’­ä¹‹å¤–ï¼ŒAppæ‰€å¤„çš„ç¯å¢ƒä¹Ÿä¼šå½±å“è¿è¡Œï¼Œæ¯”å¦‚æ‰‹æœºæœ‰ç«–å±ä¸æ¨ªå±ä¸¤ç§æ¨¡å¼ï¼Œç«–å±æ—¶æ°´å¹³æ–¹å‘è¾ƒçŸ­è€Œå‚ç›´æ–¹å‘è¾ƒé•¿ï¼Œæ¨ªå±æ—¶æ°´å¹³æ–¹å‘è¾ƒé•¿è€Œå‚ç›´æ–¹å‘è¾ƒçŸ­ã€‚ä¸¤ç§å±å¹•æ–¹å‘ä¸ä½†é€ æˆAppç•Œé¢çš„å±•ç¤ºå·®å¼‚ï¼Œè€Œä¸”ç«–å±å’Œæ¨ªå±åˆ‡æ¢ä¹‹é™…ï¼Œç”šè‡³ä¼šæ‰“ä¹±Appçš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p>æ¥ä¸‹æ¥åšä¸ªå®éªŒè§‚å¯Ÿå±å¹•æ–¹å‘åˆ‡æ¢ç»™ç”Ÿå‘½å‘¨æœŸå¸¦æ¥çš„å½±å“ï¼Œç°æœ‰ä¸€ä¸ªæµ‹è¯•é¡µé¢ActTestActivity.javaï¼Œå‚è€ƒç¬¬ 4 ç« çš„â€œ4.1.2 Activityçš„ç”Ÿå‘½å‘¨æœŸâ€ï¼Œå®ƒçš„æ´»åŠ¨ä»£ç é‡å†™äº†ä¸»è¦çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåœ¨æ¯ä¸ªå‘¨æœŸæ–¹æ³•ä¸­éƒ½æ‰“å°çŠ¶æ€æ—¥å¿—ï¼Œå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\ActTestActivity.javaã€‚è¿è¡Œæµ‹è¯•Appï¼Œåˆå§‹çš„ç«–å±ç•Œé¢å¦‚å›¾9-13æ‰€ç¤ºï¼›æ¥ç€æ—‹è½¬æ‰‹æœºä½¿ä¹‹å¤„äºæ¨ªå±ï¼Œæµ‹è¯•Appä¹Ÿè·Ÿç€è½¬è¿‡æ¥ï¼Œæ­¤æ—¶æ¨ªå±ç•Œé¢å¦‚å›¾9-14æ‰€ç¤ºã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121004688.png" alt="image-20220712100446593" style="zoom:50%;"><p>å›¾9-13ã€€åˆå§‹çš„ç«–å±ç•Œé¢</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121005914.png" alt="image-20220712100507818" style="zoom:50%;"><p>å›¾9-14ã€€åˆ‡æ¢åˆ°æ¨ªå±ç•Œé¢</p><p>å¯¹æ¯”å›¾9-13çš„ç«–å±ç•Œé¢å’Œå›¾9-14çš„æ¨ªå±ç•Œé¢ï¼Œå‘ç°äºŒè€…æ‰“å°çš„ç”Ÿå‘½å‘¨æœŸæ—¶é—´å±…ç„¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œä¸”æ¨ªå±ç•Œé¢çš„æ—¥å¿—æ—¶é—´å…¨éƒ¨åœ¨ç«–å±ç•Œé¢çš„æ—¥å¿—æ—¶é—´åé¢ï¼Œè¯´æ˜Appä»ç«–å±å˜ä¸ºæ¨ªå±çš„æ—¶å€™ï¼Œæ•´ä¸ªæ´»åŠ¨é¡µé¢åˆé‡å¤´åˆ›å»ºäº†ä¸€éã€‚å¯æ˜¯è¿™ä¸ªé€»è¾‘æ˜æ˜¾ä¸å¯¹åŠ²å•Šï¼Œä»ç«–å±å˜ä¸ºæ¨ªå±ï¼ŒAppç•Œé¢å°±å¾—é‡æ–°åŠ è½½ï¼›å†ä»æ¨ªå±å˜å›ç«–å±ï¼ŒAppç•Œé¢åˆå¾—é‡æ–°åŠ è½½ï¼Œå¦‚æ­¤åå¤é‡å¯é¡µé¢ï¼Œæ— ç–‘éå¸¸æµªè´¹ç³»ç»Ÿèµ„æºã€‚</p><p>ä¸ºäº†é¿å…æ¨ªç«–å±åˆ‡æ¢æ—¶é‡æ–°åŠ è½½ç•Œé¢çš„æƒ…å†µï¼ŒAndroidè®¾è®¡äº†ä¸€ç§é…ç½®å˜æ›´æœºåˆ¶ï¼Œåœ¨æŒ‡å®šçš„ç¯å¢ƒé…ç½®å‘ç”Ÿå˜æ›´ä¹‹æ—¶ï¼Œæ— é¡»é‡å¯æ´»åŠ¨é¡µé¢ï¼Œåªéœ€æ‰§è¡Œç‰¹å®šçš„å˜æ›´è¡Œä¸ºã€‚è¯¥æœºåˆ¶çš„ç¼–ç è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼šä¿®æ”¹</p><p>AndroidManifest.xmlã€ä¿®æ”¹æ´»åŠ¨é¡µé¢çš„Javaä»£ç ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä¸‹ã€‚</p><p>1 ï¼ä¿®æ”¹AndroidManifest.xml</p><p>é¦–å…ˆåˆ›å»ºæ–°çš„æ´»åŠ¨é¡µé¢ChangeDirectionActivityï¼Œå†æ‰“å¼€AndroidManifest.xmlï¼Œçœ‹åˆ°è¯¥æ´»åŠ¨å¯¹åº”çš„èŠ‚ç‚¹é…ç½®æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.ChangeDirectionActivity<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç»™è¿™ä¸ªactivityèŠ‚ç‚¹å¢åŠ android:configChangeså±æ€§ï¼Œå¹¶å°†å±æ€§å€¼è®¾â€œorientation|screenLayout|screenSizeâ€ï¼Œä¿®æ”¹åçš„èŠ‚ç‚¹é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span>
<span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.ChangeDirectionActivity<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation|screenLayout|screenSize<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–°å±æ€§configChangesçš„æ„æ€æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¹‹ä¸‹ï¼Œé…ç½®é¡¹å˜æ›´ä¸ç”¨é‡å¯æ´»åŠ¨é¡µé¢ï¼Œåªéœ€è°ƒç”¨onConfigurationChangedæ–¹æ³•é‡æ–°è®¾å®šæ˜¾ç¤ºæ–¹å¼ã€‚æ•…è€Œåªè¦ç»™è¯¥å±æ€§æŒ‡å®šè‹¥å¹²è±å…æƒ…å†µï¼Œå°±èƒ½é¿å…æ— è°“çš„é¡µé¢é‡å¯æ“ä½œäº†ï¼Œé…ç½®å˜æ›´è±å…æƒ…å†µçš„å–å€¼è¯´æ˜è§è¡¨9-4ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121007164.png" alt="image-20220712100709066"></p><p>2 ï¼ä¿®æ”¹æ´»åŠ¨é¡µé¢çš„Javaä»£ç </p><p>æ‰“å¼€ChangeDirectionActivityçš„Javaä»£ç ï¼Œé‡å†™æ´»åŠ¨çš„onConfigurationChangedæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„è¾“å…¥å‚æ•°ä¸ºConfigurationç±»å‹çš„é…ç½®å¯¹è±¡ï¼Œæ ¹æ®é…ç½®å¯¹è±¡çš„orientationå±æ€§ï¼Œå³å¯åˆ¤æ–­å±å¹•çš„å½“å‰æ–¹å‘æ˜¯ç«–å±è¿˜æ˜¯æ¨ªå±ï¼Œå†è¡¥å……å¯¹åº”çš„ä»£ç å¤„ç†é€»è¾‘ã€‚ä¸‹é¢æ˜¯é‡å†™äº†onConfigurationChangedæ–¹æ³•çš„æ´»åŠ¨ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\ChangeDirectionActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChangeDirectionActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv_monitor<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªæ–‡æœ¬è§†å›¾å¯¹è±¡</span>
   <span class="token keyword">private</span> <span class="token class-name">String</span> mDesc <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// å±å¹•å˜æ›´çš„è¿°è¯´æ˜</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_change_direction<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_monitor <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_monitor<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// åœ¨é…ç½®é¡¹å˜æ›´æ—¶è§¦å‘ã€‚æ¯”å¦‚å±å¹•æ–¹å‘å‘ç”Ÿå˜æ›´ç­‰ç­‰</span>
   <span class="token comment">// æœ‰çš„æ‰‹æœºéœ€è¦åœ¨ç³»ç»Ÿçš„â€œè®¾ç½®â†’æ˜¾ç¤ºâ€èœå•å¼€å¯â€œè‡ªåŠ¨æ—‹è½¬å±å¹•â€ï¼Œæˆ–è€…ä»é¡¶éƒ¨ä¸‹æ‹‰ï¼Œæ‰¾åˆ°â€œè‡ªåŠ¨æ—‹è½¬â€å›¾æ ‡å¹¶å¼€å¯</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span> newConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span>newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">switch</span> <span class="token punctuation">(</span>newConfig<span class="token punctuation">.</span>orientation<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// åˆ¤æ–­å½“å‰çš„å±å¹•æ–¹å‘</span>
           <span class="token keyword">case</span> <span class="token class-name">Configuration</span><span class="token punctuation">.</span><span class="token constant">ORIENTATION_PORTRAIT</span><span class="token operator">:</span> <span class="token comment">// åˆ‡æ¢åˆ°ç«–å±</span>
               mDesc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s%s %s\n&quot;</span><span class="token punctuation">,</span> mDesc<span class="token punctuation">,</span>
                       <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;å½“å‰å±å¹•ä¸ºç«–å±æ–¹å‘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               tv_monitor<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token keyword">break</span><span class="token punctuation">;</span>
           <span class="token keyword">case</span> <span class="token class-name">Configuration</span><span class="token punctuation">.</span><span class="token constant">ORIENTATION_LANDSCAPE</span><span class="token operator">:</span> <span class="token comment">// åˆ‡æ¢åˆ°æ¨ªå±</span>
               mDesc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s%s %s\n&quot;</span><span class="token punctuation">,</span> mDesc<span class="token punctuation">,</span>
                       <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;å½“å‰å±å¹•ä¸ºæ¨ªå±æ–¹å‘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               tv_monitor<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token keyword">break</span><span class="token punctuation">;</span>
           <span class="token keyword">default</span><span class="token operator">:</span>
               <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæµ‹è¯•Appï¼Œä¸€å¼€å§‹æ‰‹æœºå¤„äºç«–å±ç•Œé¢ï¼Œæ—‹è½¬æ‰‹æœºä½¿ä¹‹åˆ‡ä¸ºæ¨ªå±çŠ¶æ€ï¼Œæ­¤æ—¶Appç•Œé¢å¦‚å›¾9-15æ‰€ç¤ºï¼Œå¯è§AppæˆåŠŸè·çŸ¥äº†å˜æ›´åçš„å±å¹•æ–¹å‘ã€‚åå‘æ—‹è½¬æ‰‹æœºä½¿ä¹‹åˆ‡å›ç«–å±çŠ¶æ€ï¼Œæ­¤æ—¶Appç•Œé¢å¦‚å›¾9-16æ‰€ç¤ºï¼Œå¯è§AppåŒæ ·ç›‘å¬åˆ°äº†æœ€æ–°çš„å±å¹•æ–¹å‘ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121008387.png" alt="image-20220712100808285"></p><p>å›¾9-15ã€€åˆ‡ä¸ºæ¨ªå±çŠ¶æ€çš„ç•Œé¢</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121008993.png" alt="image-20220712100814893"></p><p>å›¾9-16ã€€åˆ‡å›ç«–å±çŠ¶æ€çš„ç•Œé¢</p><p>ç»è¿‡ä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤çš„æ”¹é€ ï¼Œæ¯æ¬¡æ¨ªç«–å±çš„åˆ‡æ¢æ“ä½œéƒ½ä¸å†é‡å¯ç•Œé¢ï¼Œåªä¼šæ‰§è¡ŒonConfigurationChangedæ–¹æ³•çš„ä»£ç é€»è¾‘ï¼Œä»è€ŒèŠ‚çœäº†ç³»ç»Ÿçš„èµ„æºå¼€é”€ã€‚å¦‚æœå¸Œæœ›Appå§‹ç»ˆä¿æŒç«–å±ç•Œé¢ï¼Œå³ä½¿æ‰‹æœºæ—‹è½¬ä¸ºæ¨ªå±ä¹Ÿä¸æ”¹å˜Appçš„ç•Œé¢æ–¹å‘ï¼Œå¯ä»¥ä¿®æ”¹ AndroidManifest.xmlï¼Œç»™activityèŠ‚ç‚¹æ·»åŠ android:screenOrientationå±æ€§ï¼Œå¹¶å°†è¯¥å±æ€§è®¾ç½®ä¸ºportraitè¡¨ç¤ºå‚ç›´æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¿æŒç«–å±ç•Œé¢ï¼›è‹¥è¯¥å±æ€§ä¸ºlandscapeåˆ™è¡¨ç¤ºæ°´å¹³æ–¹å‘ï¼Œä¹Ÿå°±æ˜¯ä¿æŒæ¨ªå±ç•Œé¢ã€‚ä¿®æ”¹åçš„activityèŠ‚ç‚¹ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.ActTestActivity<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>screenOrientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>portrait<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-2-å›åˆ°æ¡Œé¢ä¸åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#_9-3-2-å›åˆ°æ¡Œé¢ä¸åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨" aria-hidden="true">#</a> 9.3.2ã€€å›åˆ°æ¡Œé¢ä¸åˆ‡æ¢åˆ°ä»»åŠ¡åˆ—è¡¨</h3><p>Appä¸ä½†èƒ½ç›‘æµ‹æ‰‹æœºå±å¹•çš„æ–¹å‘å˜æ›´ï¼Œè¿˜èƒ½è·çŸ¥å›åˆ°æ¡Œé¢çš„äº‹ä»¶ï¼Œè¿æ‰“å¼€ä»»åŠ¡åˆ—è¡¨çš„äº‹ä»¶ä¹Ÿèƒ½å®æ—¶å¾—çŸ¥ã€‚å›åˆ°æ¡Œé¢ä¸æ‰“å¼€ä»»åŠ¡åˆ—è¡¨éƒ½ç”±æŒ‰é”®è§¦å‘ï¼Œä¾‹å¦‚æŒ‰ä¸‹ä¸»é¡µé”®ä¼šå›åˆ°æ¡Œé¢ï¼ŒæŒ‰ä¸‹ä»»åŠ¡é”®ä¼šæ‰“å¼€ä»»åŠ¡åˆ—è¡¨ã€‚è™½ç„¶è¿™ä¸¤ä¸ªæ“ä½œçœ‹èµ·æ¥å±äºæŒ‰é”®äº‹ä»¶ï¼Œä½†ç³»ç»Ÿå¹¶æœªæä¾›ç›¸åº”çš„æŒ‰é”®å¤„ç†æ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡å¹¿æ’­å‘å‡ºäº‹ä»¶ä¿¡æ¯ã€‚å› æ­¤ï¼Œè‹¥æƒ³çŸ¥æ™“æ˜¯å¦å›åˆ°æ¡Œé¢ï¼Œä»¥åŠæ˜¯å¦æ‰“å¼€ä»»åŠ¡åˆ—è¡¨ï¼Œå‡éœ€æ”¶å¬ç³»ç»Ÿå¹¿æ’­Intent.ACTION_CLOSE_SYSTEM_DIALOGSã€‚è‡³äºå¦‚ä½•åŒºåˆ†å½“å‰å¹¿æ’­ç©¶ç«Ÿæ˜¯å›åˆ°æ¡Œé¢è¿˜æ˜¯æ‰“å¼€ä»»åŠ¡åˆ—è¡¨ï¼Œåˆ™è¦ä»å¹¿æ’­æ„å›¾ä¸­è·å–åŸå› reasonå­—æ®µï¼Œè¯¥å­—æ®µå€¼ä¸ºhomekeyæ—¶è¡¨ç¤ºå›åˆ°æ¡Œé¢ï¼Œå€¼ä¸ºrecentappsæ—¶è¡¨ç¤ºæ‰“å¼€ä»»åŠ¡åˆ—è¡¨ã€‚æ¥ä¸‹æ¥æ¼”ç¤ºä¸€ä¸‹æ­¤ç±»å¹¿æ’­çš„æ¥æ”¶è¿‡ç¨‹ã€‚é¦–å…ˆå®šä¹‰ä¸€ä¸ªå¹¿æ’­æ¥æ”¶å™¨ï¼Œåªå¤„ç†åŠ¨ä½œä¸ºIntent.ACTION_CLOSE_SYSTEM_DIALOGSçš„ç³»ç»Ÿå¹¿æ’­ï¼Œå¹¶åˆ¤æ–­å®ƒæ˜¯ä¸»é¡µé”®æ¥æºè¿˜æ˜¯ä»»åŠ¡é”®æ¥æºã€‚è¯¥æ¥æ”¶å™¨çš„ä»£ç å®šä¹‰ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter09\src\main\java\com\example\chapter09\ReturnDesktopActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å®šä¹‰ä¸€ä¸ªè¿”å›åˆ°æ¡Œé¢çš„å¹¿æ’­æ¥æ”¶å™¨</span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">DesktopRecevier</span> <span class="token keyword">extends</span> <span class="token class-name">BroadcastReceiver</span> <span class="token punctuation">{</span>
   <span class="token comment">// åœ¨æ”¶åˆ°è¿”å›æ¡Œé¢å¹¿æ’­æ—¶è§¦å‘</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceive</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">Intent</span> intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>intent<span class="token punctuation">.</span><span class="token function">getAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_CLOSE_SYSTEM_DIALOGS</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token class-name">String</span> reason <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getStringExtra</span><span class="token punctuation">(</span><span class="token string">&quot;reason&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–å˜æ›´åŸå› </span>
           <span class="token comment">// æŒ‰ä¸‹äº†ä¸»é¡µé”®æˆ–è€…ä»»åŠ¡é”®</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>reason<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;homekey&quot;</span><span class="token punctuation">)</span>
                                              <span class="token operator">||</span> reason<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;recentapps&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
               <span class="token function">showChangeStatus</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ˜¾ç¤ºå˜æ›´çš„çŠ¶æ€ </span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€åœ¨æ´»åŠ¨é¡µé¢çš„onCreateæ–¹æ³•ä¸­æ³¨å†Œæ¥æ”¶å™¨ï¼Œåœ¨onDestroyæ–¹æ³•ä¸­æ³¨é”€æ¥æ”¶å™¨ï¼Œå…¶ä¸­æ¥æ”¶å™¨çš„æ³¨å†Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">DesktopRecevier</span> desktopRecevier<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªè¿”å›æ¡Œé¢çš„å¹¿æ’­æ¥æ”¶å™¨å¯¹è±¡ </span>
<span class="token comment">// åˆå§‹åŒ–æ¡Œé¢å¹¿æ’­</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">initDesktopRecevier</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   desktopRecevier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DesktopRecevier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªè¿”å›æ¡Œé¢çš„å¹¿æ’­æ¥æ”¶å™¨ </span>
   <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨ï¼Œåªæ¥æ”¶å…³é—­ç³»ç»Ÿå¯¹è¯æ¡†ï¼ˆå³è¿”å›æ¡Œé¢ï¼‰çš„å¹¿æ’­</span>
   <span class="token class-name">IntentFilter</span> intentFilter <span class="token operator">=</span> <span class="token keyword">new</span>
<span class="token class-name">IntentFilter</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">ACTION_CLOSE_SYSTEM_DIALOGS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">registerReceiver</span><span class="token punctuation">(</span>desktopRecevier<span class="token punctuation">,</span> intentFilter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œæ¥æ”¶å™¨ï¼Œæ³¨å†Œä¹‹åæ‰èƒ½æ­£å¸¸æ¥æ”¶å¹¿æ’­</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯æ˜¯ç›‘å¬å›åˆ°æ¡Œé¢çš„å¹¿æ’­èƒ½ç”¨æ¥å¹²ä»€ä¹ˆå‘¢ï¼Ÿä¸€ç§ç”¨å¤„æ˜¯å¼€å¯Appçš„ç”»ä¸­ç”»æ¨¡å¼ï¼Œæ¯”å¦‚åŸå…ˆåº”ç”¨æ­£åœ¨æ’­æ”¾è§†é¢‘ï¼Œå›åˆ°æ¡Œé¢æ—¶åŠ¿å¿…è¦æš‚åœæ’­æ”¾ï¼Œæœ‰äº†ç”»ä¸­ç”»æ¨¡å¼ä¹‹åï¼Œå¯å°†æ’­æ”¾ç•Œé¢ç¼©å°ä¸ºå±å¹•ä¸Šçš„ä¸€ä¸ªå°æ–¹å—ï¼Œè¿™æ ·å³ä½¿å›åˆ°æ¡Œé¢ä¹Ÿèƒ½ç»§ç»­è§‚çœ‹è§†é¢‘ã€‚æ³¨æ„ä»Android 8.0å¼€å§‹æ‰æä¾›ç”»ä¸­ç”»æ¨¡å¼ï¼Œæ•…è€Œä»£ç éœ€è¦åˆ¤æ–­ç³»ç»Ÿç‰ˆæœ¬ï¼Œä¸‹é¢æ˜¯è¿›å…¥ç”»ä¸­ç”»æ¨¡å¼çš„ä»£ç ä¾‹å­ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// æ˜¾ç¤ºå˜æ›´çš„çŠ¶æ€</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">showChangeStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   mDesc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s%s æŒ‰ä¸‹äº†%sé”®\n&quot;</span><span class="token punctuation">,</span> mDesc<span class="token punctuation">,</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
   tv_monitor<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>O</span>
       <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isInPictureInPictureMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å½“å‰æœªå¼€å¯ç”»ä¸­ç”»ï¼Œåˆ™å¼€å¯ç”»ä¸­ç”»æ¨¡å¼ </span>
       <span class="token comment">// åˆ›å»ºç”»ä¸­ç”»æ¨¡å¼çš„å‚æ•°æ„å»ºå™¨</span>
       <span class="token class-name">PictureInPictureParams<span class="token punctuation">.</span>Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> 
<span class="token class-name">PictureInPictureParams<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// è®¾ç½®å®½é«˜æ¯”ä¾‹å€¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåˆ†å­ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºåˆ†æ¯ </span>
       <span class="token comment">// ä¸‹é¢çš„10/5=2ï¼Œè¡¨ç¤ºç”»ä¸­ç”»çª—å£çš„å®½åº¦æ˜¯é«˜åº¦çš„ä¸¤å€</span>
       <span class="token class-name">Rational</span> aspectRatio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rational</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       builder<span class="token punctuation">.</span><span class="token function">setAspectRatio</span><span class="token punctuation">(</span>aspectRatio<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®ç”»ä¸­ç”»çª—å£çš„å®½é«˜æ¯”ä¾‹</span>
       <span class="token comment">// è¿›å…¥ç”»ä¸­ç”»æ¨¡å¼ï¼Œæ³¨æ„enterPictureInPictureModeæ˜¯Android8.0ä¹‹åæ–°å¢çš„æ–¹æ³• </span>
       <span class="token function">enterPictureInPictureMode</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸Šä»£ç ç”¨äºå¼€å¯ç”»ä¸­ç”»æ¨¡å¼ï¼Œä½†æœ‰æ—¶å¸Œæœ›åœ¨è¿›å…¥ç”»ä¸­ç”»ä¹‹é™…è°ƒæ•´ç•Œé¢ï¼Œåˆ™éœ€é‡å†™æ´»åŠ¨çš„onPictureInPictureModeChangedæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨åº”ç”¨è¿›å…¥ç”»ä¸­ç”»æ¨¡å¼æˆ–é€€å‡ºç”»ä¸­ç”»æ¨¡å¼æ—¶è§¦å‘ï¼Œåœ¨æ­¤å¯è¡¥å……ç›¸åº”çš„å¤„ç†é€»è¾‘ã€‚é‡å†™åçš„æ–¹æ³•ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// åœ¨è¿›å…¥ç”»ä¸­ç”»æ¨¡å¼æˆ–é€€å‡ºç”»ä¸­ç”»æ¨¡å¼æ—¶è§¦å‘</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPictureInPictureModeChanged</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> isInPicInPicMode<span class="token punctuation">,</span> 
<span class="token class-name">Configuration</span> newConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> &quot;onPictureInPictureModeChanged 
isInPicInPicMode<span class="token operator">=</span>&quot;<span class="token operator">+</span>isInPicInPicMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPictureInPictureModeChanged</span><span class="token punctuation">(</span>isInPicInPicMode<span class="token punctuation">,</span> newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span> <span class="token punctuation">(</span>isInPicInPicMode<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// è¿›å…¥ç”»ä¸­ç”»æ¨¡å¼</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// é€€å‡ºç”»ä¸­ç”»æ¨¡å¼ </span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦å¤–ï¼Œç”»ä¸­ç”»æ¨¡å¼è¦æ±‚åœ¨AndroidManifest.xmlä¸­å¼€å¯ç”»ä¸­ç”»æ”¯æŒï¼Œä¹Ÿå°±æ˜¯ç»™activityèŠ‚ç‚¹æ·»åŠ supportsPictureInPictureå±æ€§å¹¶è®¾ä¸ºtrueï¼Œæ·»åŠ æ–°å±æ€§ä¹‹åçš„activityé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span>
         <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.ReturnDesktopActivity<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation|screenLayout|screenSize<span class="token punctuation">&quot;</span></span> 
         <span class="token attr-name"><span class="token namespace">android:</span>supportsPictureInPicture</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/AppCompatTheme<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæµ‹è¯•Appï¼Œæ­£å¸¸çš„ç«–å±ç•Œé¢å¦‚å›¾9-17æ‰€ç¤ºã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121013193.png" alt="image-20220712101349084" style="zoom:50%;"><p>å›¾9-17 Appæ­£å¸¸çš„ç«–å±ç•Œé¢</p><p>ç„¶åæŒ‰ä¸‹ä¸»é¡µé”®ï¼Œåœ¨å›åˆ°æ¡Œé¢çš„åŒæ—¶ï¼Œè¯¥åº”ç”¨è‡ªåŠ¨å¼€å¯ç”»ä¸­ç”»æ¨¡å¼ï¼Œå˜æˆæ‚¬æµ®äºæ¡Œé¢çš„å°çª—ï¼Œå¦‚å›¾9-18æ‰€ç¤ºã€‚ç‚¹å‡»å°çª—ä¼šå˜æˆå¤§çª—ï¼Œå¦‚å›¾9-19æ‰€ç¤ºï¼Œå†æ¬¡ç‚¹å‡»å¤§çª—æ‰é€€å‡ºç”»ä¸­ç”»æ¨¡å¼ï¼Œé‡æ–°æ‰“å¼€åº”ç”¨çš„å®Œæ•´ç•Œé¢ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121014426.png" alt="image-20220712101400317" style="zoom:50%;"><p>å›¾9-18ã€€å¼€å¯äº†ç”»ä¸­ç”»æ¨¡å¼çš„å°çª—</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207121014447.png" alt="image-20220712101414334" style="zoom:50%;"><p>å›¾9-19ã€€ç‚¹å‡»å°çª—å˜æˆå¤§çª—</p><h2 id="_9-4-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_9-4-å°ç»“" aria-hidden="true">#</a> 9.4ã€€å°ç»“</h2><p>æœ¬ç« ä¸»è¦ä»‹ç»å¹¿æ’­ç»„ä»¶â€”Broadcastçš„å¸¸è§ç”¨æ³•ï¼ŒåŒ…æ‹¬ï¼šæ­£ç¡®æ”¶å‘åº”ç”¨å¹¿æ’­ï¼ˆæ”¶å‘æ ‡å‡†å¹¿æ’­ã€æ”¶å‘æœ‰åºå¹¿æ’­ã€æ”¶å‘é™æ€å¹¿æ’­ï¼‰ã€æ­£ç¡®ç›‘å¬ç³»ç»Ÿå¹¿æ’­ï¼ˆæ¥æ”¶åˆ†é’Ÿåˆ°è¾¾å¹¿æ’­ã€æ¥æ”¶ç½‘ç»œå˜æ›´å¹¿æ’­ã€å®šæ—¶ç®¡ç†å™¨AlarmManagerï¼‰ã€æ­£ç¡®æ•è·å±å¹•çš„å˜æ›´äº‹ä»¶ï¼ˆç«–å±ä¸æ¨ªå±åˆ‡æ¢ã€å›åˆ°æ¡Œé¢ä¸åˆ‡åˆ°ä»»åŠ¡åˆ—è¡¨ï¼‰ã€‚</p><p>é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½æŒæ¡ä»¥ä¸‹ 3 ç§å¼€å‘æŠ€èƒ½ï¼š</p><p>ï¼ˆ 1 ï¼‰äº†è§£å¹¿æ’­çš„åº”ç”¨åœºæ™¯ï¼Œå¹¶å­¦ä¼šæ­£ç¡®æ”¶å‘åº”ç”¨å¹¿æ’­ã€‚</p><p>ï¼ˆ 2 ï¼‰äº†è§£å¸¸è§çš„ç³»ç»Ÿå¹¿æ’­ï¼Œå¹¶å­¦ä¼šæ­£ç¡®ç›‘å¬ç³»ç»Ÿå¹¿æ’­ã€‚</p><p>ï¼ˆ 3 ï¼‰äº†è§£å±å¹•å˜æ›´çš„äº§ç”Ÿæ¡ä»¶ï¼Œå¹¶å­¦ä¼šæ•æ‰å±å¹•å˜æ›´äº‹ä»¶ã€‚</p><h2 id="_9-5-è¯¾åç»ƒä¹ é¢˜" tabindex="-1"><a class="header-anchor" href="#_9-5-è¯¾åç»ƒä¹ é¢˜" aria-hidden="true">#</a> 9.5ã€€è¯¾åç»ƒä¹ é¢˜</h2><p>ä¸€ã€å¡«ç©ºé¢˜</p><p>1 ï¼æ´»åŠ¨åªèƒ½ä¸€å¯¹ä¸€é€šä¿¡ï¼Œè€Œå¹¿æ’­å¯ä»¥_é€šä¿¡ã€‚</p><p>2 ï¼é€šè¿‡é™æ€æ–¹å¼æ³¨å†Œå¹¿æ’­ï¼Œå°±è¦åœ¨AndroidManifest.xmlä¸­æ·»åŠ åä¸ºâ€”çš„æ¥æ”¶å™¨æ ‡ç­¾ã€‚</p><p>3 ï¼â€”ä»£è¡¨å»¶è¿Ÿçš„æ„å›¾ï¼Œå®ƒæŒ‡å‘çš„ç»„ä»¶ä¸ä¼šé©¬ä¸Šæ¿€æ´»ã€‚</p><p>4 ï¼æ‰‹æœºçš„å±å¹•æ–¹å‘é»˜è®¤æ˜¯â€”ã€‚</p><p>5 ï¼å¼€å¯â€”æ¨¡å¼ä¹‹åï¼Œå¯å°†Appç•Œé¢ç¼©å°ä¸ºå±å¹•ä¸Šçš„ä¸€ä¸ªæ–¹å—ã€‚</p><p>äºŒã€åˆ¤æ–­é¢˜ï¼ˆæ­£ç¡®æ‰“âˆšï¼Œé”™è¯¯æ‰“Ã—ï¼‰</p><p>1 ï¼æ ‡å‡†å¹¿æ’­æ˜¯æ— åºçš„ï¼Œæœ‰å¯èƒ½åé¢æ³¨å†Œçš„æ¥æ”¶å™¨åè€Œæ¯”å‰é¢æ³¨å†Œçš„æ¥æ”¶å™¨å…ˆæ”¶åˆ°å¹¿æ’­ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>2 ï¼é€šè¿‡setPriorityæ–¹æ³•è®¾ç½®ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šå°çš„æ¥æ”¶å™¨ï¼Œè¶Šå…ˆæ”¶åˆ°æœ‰åºå¹¿æ’­ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>3 ï¼æ™®é€šåº”ç”¨èƒ½å¤Ÿé€šè¿‡é™æ€æ³¨å†Œæ–¹å¼æ¥ç›‘å¬ç³»ç»Ÿå¹¿æ’­ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>4 ï¼é—¹é’Ÿç®¡ç†å™¨AlarmManagerçš„setRepeatingæ–¹æ³•ä¿è¯èƒ½å¤ŸæŒ‰æ—¶å‘é€å¹¿æ’­ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>5 ï¼æ—‹è½¬æ‰‹æœºä½¿å¾—å±å¹•ç”±ç«–å±å˜ä¸ºæ¨ªå±ï¼ŒAppé»˜è®¤ä¼šé‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼ˆå…ˆé”€æ¯åŸé¡µé¢å†åˆ›å»ºæ–°é¡µé¢ï¼‰ã€‚</p><p>ï¼ˆã€€ã€€ï¼‰</p><p>ä¸‰ã€é€‰æ‹©é¢˜</p><p>1 ï¼åœ¨æ¥æ”¶å™¨å†…éƒ¨è°ƒç”¨ï¼ˆã€€ã€€ï¼‰æ–¹æ³•ï¼Œå°±ä¼šä¸­æ–­æœ‰åºå¹¿æ’­ã€‚</p><p>Aï¼abortBroadcast</p><p>Bï¼cancelBroadcast</p><p>Cï¼interrupt</p><p>Dï¼sendBroadcast</p><p>2 ï¼android.permission.VIBRATEè¡¨è¾¾çš„æ˜¯ï¼ˆã€€ã€€ï¼‰æƒé™ã€‚</p><p>Aï¼å‘¼å¸ç¯</p><p>Bï¼éº¦å…‹é£</p><p>Cï¼é—¹é’Ÿ</p><p>Dï¼éœ‡åŠ¨å™¨</p><p>3 ï¼ç½‘ç»œç±»å‹ï¼ˆã€€ã€€ï¼‰è¡¨ç¤ºæ‰‹æœºçš„æ•°æ®è¿æ¥ï¼ˆå«2G/3G/4G/5Gï¼‰ã€‚</p><p>Aï¼TYPE_WIFI</p><p>Bï¼TYPE_MOBILE</p><p>Cï¼TYPE_WIMAX</p><p>Dï¼TYPE_ETHERNET</p><p>4 ï¼ç½‘ç»œçŠ¶æ€ï¼ˆã€€ã€€ï¼‰è¡¨ç¤ºå·²ç»è¿æ¥ã€‚</p><p>Aï¼CONNECTING</p><p>Bï¼CONNECTED</p><p>Cï¼SUSPENDED</p><p>Dï¼DISCONNECTED</p><p>5 ï¼ï¼ˆã€€ã€€ï¼‰å±äºconfigChangeså±æ€§é…ç½®çš„æ˜¾ç¤ºå˜æ›´è±å…æƒ…å†µã€‚</p><p>Aï¼orientation</p><p>Bï¼screenLayout</p><p>Cï¼screenSize</p><p>Dï¼keyboard</p><p>å››ã€ç®€ç­”é¢˜</p><p>è¯·ç®€è¦æè¿°æ”¶å‘æ ‡å‡†å¹¿æ’­çš„ä¸»è¦æ­¥éª¤ã€‚</p><p>äº”ã€åŠ¨æ‰‹ç»ƒä¹ </p><p>è¯·ä¸Šæœºå®éªŒä¸‹åˆ— 3 é¡¹ç»ƒä¹ ï¼š</p><p>1 ï¼é€šè¿‡è®¾ç½®ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œå®ç°æœ‰åºå¹¿æ’­çš„æ­£ç¡®æ”¶å‘ã€‚</p><p>2 ï¼é€šè¿‡ç›‘å¬ç½‘ç»œå˜æ›´å¹¿æ’­ï¼Œåˆ¤æ–­å½“å‰ä½äºå“ªç§ç½‘ç»œã€‚</p><p>3 ï¼é€šè¿‡ç›‘å¬å›åˆ°æ¡Œé¢å¹¿æ’­ï¼Œå®ç°Appçš„ç”»ä¸­ç”»æ¨¡å¼ã€‚</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://gitee.com/xiaweifeng/vuepress-source/edit/master/docs/Android/AndroidBasic/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨Giteeä¸Šç¼–è¾‘æ­¤é¡µ"><!--[--><!--]--> åœ¨Giteeä¸Šç¼–è¾‘æ­¤é¡µ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaweifeng@live.cn">å¤ä¸€æ¬¡</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.166c275a.js" defer></script>
  </body>
</html>
