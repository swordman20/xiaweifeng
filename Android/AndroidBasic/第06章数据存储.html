<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="https://tommyi.netlify.app/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html"><meta property="og:site_name" content="Hades"><meta property="og:title" content="ç¬¬ 6 ç« ã€€æ•°æ®å­˜å‚¨"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-08-23T15:30:31.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-08-23T15:30:31.000Z"><script>
      (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c6cfefc03bedbb2803a5cad020e7faaa";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);})();
     </script><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="VuePress"><meta name="referrer" content="no-referrer"><meta name="apple-mobile-web-app-title" content="VuePress"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="https://www.vuepress.cn/icons/apple-touch-icon-152x152.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>ç¬¬ 6 ç« ã€€æ•°æ®å­˜å‚¨ | Hades</title><meta name="description" content="è¿™æ˜¯ä¸€æœ¬ç¬”è®°ï¼Œç”¨äºè®°å½•ç¼–ç¨‹è¿‡ç¨‹ä¸­çš„çŸ¥è¯†ç‚¹">
    <link rel="modulepreload" href="/assets/app.3222cd28.js"><link rel="modulepreload" href="/assets/ç¬¬06ç« æ•°æ®å­˜å‚¨.html.fc4b6bd1.js"><link rel="modulepreload" href="/assets/ç¬¬06ç« æ•°æ®å­˜å‚¨.html.c29220e0.js"><link rel="prefetch" href="/assets/index.html.3fba8fa2.js"><link rel="prefetch" href="/assets/index.html.4d596f1b.js"><link rel="prefetch" href="/assets/index.html.ac0d3ff8.js"><link rel="prefetch" href="/assets/Macä¸‹mongodbå®‰è£…å’Œé…ç½®.html.19173e70.js"><link rel="prefetch" href="/assets/Macä¸‹å‘½ä»¤è¡Œé…ç½®ç¯å¢ƒå˜é‡.html.c2873a5f.js"><link rel="prefetch" href="/assets/Macå…¨è‡ªåŠ¨å®‰è£…brewä¸€é”®é…ç½®å›½å†…é•œåƒæº.html.8866f2df.js"><link rel="prefetch" href="/assets/Macç»ˆç«¯å‘½ä»¤è®°å½•.html.75e46e91.js"><link rel="prefetch" href="/assets/Nginxæ­å»ºHTTPSï¼Œå¹¶åå‘ä»£ç†åˆ°webé¡µé¢_mkcertç”Ÿæˆæœ¬åœ°SSLè¯ä¹¦.html.f67c5203.js"><link rel="prefetch" href="/assets/PDFè½¬Markdownæ–‡ä»¶.html.dc7ca7bb.js"><link rel="prefetch" href="/assets/index.html.f2e8c2ba.js"><link rel="prefetch" href="/assets/VSCodeä½¿ç”¨è®°å½•.html.3b0db4ce.js"><link rel="prefetch" href="/assets/docsearchå…¨ç«™æœç´¢.html.105a6071.js"><link rel="prefetch" href="/assets/ideaæ’ä»¶åˆ†äº«.html.841f8833.js"><link rel="prefetch" href="/assets/jetbrainså…¨å®¶æ¡¶æ¿€æ´»ç­–ç•¥.html.daa401c8.js"><link rel="prefetch" href="/assets/ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•.html.6b4a5117.js"><link rel="prefetch" href="/assets/æµ…è°ˆæ–‡è¨€æ–‡ä¸è‹±è¯­è¯­æ³•çš„ç›¸ä¼¼ç‚¹.html.96535ae8.js"><link rel="prefetch" href="/assets/é¢å‘AIå¼€å‘.html.06a44d4c.js"><link rel="prefetch" href="/assets/é¸¿è’™3å®‰è£…apkæ— é¡»ç™»å½•.html.7ceb3fbf.js"><link rel="prefetch" href="/assets/index.html.f4857994.js"><link rel="prefetch" href="/assets/aboutme.html.03b08c9b.js"><link rel="prefetch" href="/assets/index.html.7d5c183e.js"><link rel="prefetch" href="/assets/index.html.62929ac9.js"><link rel="prefetch" href="/assets/FRPå†…ç½‘ç©¿é€æ­å»º(æ— åŸŸåç‰ˆ).html.6029f667.js"><link rel="prefetch" href="/assets/index.html.5fd246dd.js"><link rel="prefetch" href="/assets/linuxå‰ç«¯é¡¹ç›®éƒ¨ç½².html.0029fa36.js"><link rel="prefetch" href="/assets/linuxç¯å¢ƒå˜é‡é…ç½®é”™è¯¯åå‘½ä»¤æ— æ³•ä½¿ç”¨è§£å†³æ–¹æ¡ˆ.html.e194e944.js"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€å·¥å…·æ¯”è¾ƒ.html.a6564717.js"><link rel="prefetch" href="/assets/åœ¨CentOSä¸Šæ­å»ºSambaæœåŠ¡å™¨.html.5dc34a00.js"><link rel="prefetch" href="/assets/ç¬¬01ç« Androidå¼€å‘ç¯å¢ƒæ­å»º.html.4ea72447.js"><link rel="prefetch" href="/assets/ç¬¬02ç« AndroidAppå¼€å‘åŸºç¡€.html.24ac8732.js"><link rel="prefetch" href="/assets/ç¬¬03ç« ç®€å•æ§ä»¶.html.3128fa37.js"><link rel="prefetch" href="/assets/ç¬¬04ç« æ´»åŠ¨Activity.html.9169add5.js"><link rel="prefetch" href="/assets/ç¬¬05ç« ä¸­çº§æ§ä»¶.html.75bd951e.js"><link rel="prefetch" href="/assets/ç¬¬07ç« å†…å®¹å…±äº«.html.ef3fb778.js"><link rel="prefetch" href="/assets/ç¬¬08ç« é«˜çº§æ§ä»¶.html.a4ef2f0d.js"><link rel="prefetch" href="/assets/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.html.7130bec3.js"><link rel="prefetch" href="/assets/ç¬¬10ç« è‡ªå®šä¹‰æ§ä»¶.html.1c777745.js"><link rel="prefetch" href="/assets/AndroidStudioä»£ç†é—®é¢˜Connect.html.357fa090.js"><link rel="prefetch" href="/assets/AndroidStudioæ‰“åŒ…aarä¸¢å¤±è¿œç¨‹ä¾èµ–é—®é¢˜è§£å†³.html.26db85ab.js"><link rel="prefetch" href="/assets/AndroidStudioç™»å½•googleè´¦å·å¤±è´¥é—®é¢˜.html.60601dbe.js"><link rel="prefetch" href="/assets/Apkåº”ç”¨é‡ç­¾åâ€”ä½¿ç”¨AndroidStudioè‡ªå¸¦å·¥å…·apksigner.html.be412465.js"><link rel="prefetch" href="/assets/ä¸å¸¸ç”¨çš„ADBå‘½ä»¤.html.162faa7e.js"><link rel="prefetch" href="/assets/01MySQLç²¾ç®€ç¬”è®°.html.b6c76536.js"><link rel="prefetch" href="/assets/02JDBC.html.cd83be25.js"><link rel="prefetch" href="/assets/03Maven.html.2826552b.js"><link rel="prefetch" href="/assets/04Mybatis.html.e3b26918.js"><link rel="prefetch" href="/assets/05ç½‘é¡µä¸‰å‰‘å®¢.html.7eb4fd73.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.e72ce829.js"><link rel="prefetch" href="/assets/07Request_Response.html.dbb06678.js"><link rel="prefetch" href="/assets/08JSP.html.9fe6edfb.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.a6775789.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.ca49deec.js"><link rel="prefetch" href="/assets/11Vue_Element.html.13f1ff54.js"><link rel="prefetch" href="/assets/12ç»¼åˆæ¡ˆä¾‹.html.0e382c65.js"><link rel="prefetch" href="/assets/index.html.145fbfc9.js"><link rel="prefetch" href="/assets/POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.71fe5a3a.js"><link rel="prefetch" href="/assets/index.html.4c10d115.js"><link rel="prefetch" href="/assets/index.html.8002c9df.js"><link rel="prefetch" href="/assets/index.html.456530ad.js"><link rel="prefetch" href="/assets/index.html.a6dacb19.js"><link rel="prefetch" href="/assets/index.html.155f6415.js"><link rel="prefetch" href="/assets/index.html.ddabe501.js"><link rel="prefetch" href="/assets/index.html.85baad59.js"><link rel="prefetch" href="/assets/index.html.b4cc03cf.js"><link rel="prefetch" href="/assets/index.html.781336e1.js"><link rel="prefetch" href="/assets/index.html.61a0c47f.js"><link rel="prefetch" href="/assets/request.getInputStreamåªèƒ½è¯»å–ä¸€æ¬¡é—®é¢˜.html.b885ecdb.js"><link rel="prefetch" href="/assets/ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨.html.271dbf39.js"><link rel="prefetch" href="/assets/é”™è¯¯é›†åˆ.html.7aaff025.js"><link rel="prefetch" href="/assets/index.html.bbbe52d8.js"><link rel="prefetch" href="/assets/index.html.a8875e4a.js"><link rel="prefetch" href="/assets/index.html.500a4c6c.js"><link rel="prefetch" href="/assets/index.html.e490b0a7.js"><link rel="prefetch" href="/assets/index.html.7c8a7fda.js"><link rel="prefetch" href="/assets/MySQL-åŸºç¡€ç¯‡.html.72f3c6e1.js"><link rel="prefetch" href="/assets/Nodeå¤šç‰ˆæœ¬ç®¡ç†.html.323287ed.js"><link rel="prefetch" href="/assets/index.html.0e0c40e6.js"><link rel="prefetch" href="/assets/Webè°ƒè¯•å…¥é—¨.html.779c051c.js"><link rel="prefetch" href="/assets/å…³äºESLInké…ç½®é—®é¢˜.html.813173ed.js"><link rel="prefetch" href="/assets/Mavené«˜çº§.html.88e987e2.js"><link rel="prefetch" href="/assets/SpringBoot.html.900a4e3a.js"><link rel="prefetch" href="/assets/RestTemplate.html.e8ab904e.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.f232bc92.js"><link rel="prefetch" href="/assets/Dubboè¯¦è§£.html.99b80cf1.js"><link rel="prefetch" href="/assets/Macä¸‹ZooKeeperå®‰è£…å’Œä½¿ç”¨.html.6c1f13af.js"><link rel="prefetch" href="/assets/Zookeeperé›†ç¾¤æ­å»º.html.52dab835.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬10ç« ï¼‰.html.e13e9f83.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬11ç« ï¼‰.html.f5126906.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬12ç« ï¼‰.html.44d84044.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬13ç« ï¼‰.html.a07d7436.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬1ç« ï¼‰.html.a4da5427.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬2ç« ï¼‰.html.2fefeebf.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬3ç« ï¼‰.html.027ab944.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬4ç« ï¼‰.html.0dbf7d93.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬5ç« ï¼‰.html.fdc355fa.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬6ç« ï¼‰.html.cfd20322.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬7ç« ï¼‰.html.b3623f0b.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬8ç« ï¼‰.html.9d9da6cc.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬9ç« ï¼‰.html.90642054.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.7a7d55bb.js"><link rel="prefetch" href="/assets/Linux-Day01.html.fdebd37c.js"><link rel="prefetch" href="/assets/Linux-Day02.html.7812a3ac.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html.601c5b80.js"><link rel="prefetch" href="/assets/Gitè¯¾ç¨‹è®²ä¹‰.html.ebe75592.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day01.html.f58e19c2.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day02.html.4ded6959.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day03.html.c35f1242.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day04.html.3d44fe14.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day05.html.3f4ef4e7.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day06.html.9cd411dc.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day01.html.78783912.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day02.html.cb2d7616.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day03.html.6076c5a3.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡å¸¸è§é¢è¯•é¢˜.html.a5dcd6ba.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.ed3ccb3a.js"><link rel="prefetch" href="/assets/day01-HTMLåŸºç¡€.html.a6ab2338.js"><link rel="prefetch" href="/assets/day02-HTMLè¿›é˜¶.html.6a75b495.js"><link rel="prefetch" href="/assets/day04-CSSè¿›é˜¶.html.691a9b64.js"><link rel="prefetch" href="/assets/day03-CSSåŸºç¡€.html.42169736.js"><link rel="prefetch" href="/assets/day05-ç›’å­æ¨¡å‹.html.4992e05c.js"><link rel="prefetch" href="/assets/day06-Flexå¸ƒå±€.html.c0632a9a.js"><link rel="prefetch" href="/assets/day07-å­¦æˆåœ¨çº¿.html.31966167.js"><link rel="prefetch" href="/assets/day08-CSSé«˜çº§.html.7139befe.js"><link rel="prefetch" href="/assets/day09-å°å…”é²œå„¿.html.a4f48ad2.js"><link rel="prefetch" href="/assets/day10-å°å…”é²œå„¿.html.58643326.js"><link rel="prefetch" href="/assets/Day01-é¡¹ç›®ä»‹ç»åŠåˆå§‹åŒ–-ç™»å½•é¡µé¢.html.1162a8bc.js"><link rel="prefetch" href="/assets/Day02-ç™»å½•æ¨¡å—-ä¸»é¡µé‰´æƒ.html.8dfc8019.js"><link rel="prefetch" href="/assets/Day03-ä¸»é¡µæ¨¡å—-ä¿®æ”¹å¯†ç .html.011cdd7f.js"><link rel="prefetch" href="/assets/Day04-ç»„ç»‡æ¶æ„.html.5275e26a.js"><link rel="prefetch" href="/assets/Day05-ç»„ç»‡æ¶æ„-è§’è‰²ç®¡ç†.html.ced63442.js"><link rel="prefetch" href="/assets/Day06-è§’è‰²ç®¡ç†-å‘˜å·¥ç®¡ç†.html.6caefea8.js"><link rel="prefetch" href="/assets/Day07-å‘˜å·¥ç®¡ç†-ä¸Šä¼ ä¸‹è½½.html.e3f31d8e.js"><link rel="prefetch" href="/assets/Day08-Cosä¸Šä¼ å’Œæƒé™æ•°æ®.html.20830962.js"><link rel="prefetch" href="/assets/Day09-æƒé™åº”ç”¨-é¦–é¡µ.html.da56bbaa.js"><link rel="prefetch" href="/assets/Day10-é¦–é¡µå›¾è¡¨-Nginxä¸Šçº¿.html.d3348164.js"><link rel="prefetch" href="/assets/1.Vue3å…¥é—¨.html.03fe22ad.js"><link rel="prefetch" href="/assets/10.è´­ç‰©è½¦.html.471b3316.js"><link rel="prefetch" href="/assets/11.è®¢å•é¡µ.html.f7fcb785.js"><link rel="prefetch" href="/assets/12.æ”¯ä»˜é¡µ.html.7e26fb78.js"><link rel="prefetch" href="/assets/13.ä¼šå‘˜ä¸­å¿ƒ.html.b90bf2e3.js"><link rel="prefetch" href="/assets/14.æ‹“å±•éƒ¨åˆ†.html.0d32fa78.js"><link rel="prefetch" href="/assets/2.Piniaå…¥é—¨.html.e8abdd29.js"><link rel="prefetch" href="/assets/3.é¡¹ç›®èµ·æ­¥.html.498101f0.js"><link rel="prefetch" href="/assets/4.Layouté¡µ.html.0c374127.js"><link rel="prefetch" href="/assets/5.Homeé¡µ.html.a6e30fe0.js"><link rel="prefetch" href="/assets/6.ä¸€çº§åˆ†ç±»é¡µ.html.f6efdd5c.js"><link rel="prefetch" href="/assets/7.äºŒçº§åˆ†ç±»é¡µ.html.01823995.js"><link rel="prefetch" href="/assets/8.å•†å“è¯¦æƒ….html.5c665585.js"><link rel="prefetch" href="/assets/9.ç™»å½•é¡µ.html.35d98706.js"><link rel="prefetch" href="/assets/day01.html.8ffdb6de.js"><link rel="prefetch" href="/assets/day02.html.43bccf1f.js"><link rel="prefetch" href="/assets/day03.html.191e82ec.js"><link rel="prefetch" href="/assets/index.html.f947a12b.js"><link rel="prefetch" href="/assets/day01.html.de22280d.js"><link rel="prefetch" href="/assets/day02.html.37fef858.js"><link rel="prefetch" href="/assets/day03.html.b3311c03.js"><link rel="prefetch" href="/assets/day04.html.14ed5a97.js"><link rel="prefetch" href="/assets/index.html.ea0c61d2.js"><link rel="prefetch" href="/assets/interview-base.html.b48b64bf.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.8071948e.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€ç¯‡.html.a0667b10.js"><link rel="prefetch" href="/assets/Rediså¿«é€Ÿå…¥é—¨.html.d25877b5.js"><link rel="prefetch" href="/assets/Rediså®æˆ˜ç¯‡.html.9a5d06d2.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.6422e94e.js"><link rel="prefetch" href="/assets/RedisåŸç†ç¯‡.html.4f69d42d.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.3b96b75e.js"><link rel="prefetch" href="/assets/Spring-day01.html.e68ec110.js"><link rel="prefetch" href="/assets/Spring-day02.html.59a1d60e.js"><link rel="prefetch" href="/assets/Spring-day03.html.7c161a28.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.457335ff.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.031f2edf.js"><link rel="prefetch" href="/assets/SpringBootStart.html.105a81fc.js"><link rel="prefetch" href="/assets/SpringBootæ•´åˆSSMP.html.e9ae476c.js"><link rel="prefetch" href="/assets/SpringBootç»¼åˆæ¡ˆä¾‹.html.0b423631.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.62610a4e.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.ab71429a.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.985d261c.js"><link rel="prefetch" href="/assets/Centos8-streamåœ¨çœŸæœºä¸Šå®‰è£…æ’å‘.html.6126641d.js"><link rel="prefetch" href="/assets/Centos9å®‰è£…mysql.html.2e8a0e74.js"><link rel="prefetch" href="/assets/SpringCloud01.html.7e4ce9d2.js"><link rel="prefetch" href="/assets/SpringCloudå®ç”¨ç¯‡02.html.96a09c5c.js"><link rel="prefetch" href="/assets/Dockerå®ç”¨ç¯‡.html.a17cc52f.js"><link rel="prefetch" href="/assets/RabbitMQ.html.bd4e2cf4.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.4e38b9ff.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.57698f1d.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html.28ba2809.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡ä¿æŠ¤.html.62adb493.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.e90c30b9.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.01435b66.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.4a5cc484.js"><link rel="prefetch" href="/assets/RabbitMQ-é«˜çº§ç¯‡.html.0c480ed8.js"><link rel="prefetch" href="/assets/Mybatisç¬¬ä¸€å¤©.html.a3edd17b.js"><link rel="prefetch" href="/assets/Mybatisç¬¬äºŒå¤©.html.802a2571.js"><link rel="prefetch" href="/assets/ç§»åŠ¨webç¬¬ä¸€å¤©.html.2e8f46f4.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äºŒå¤©.html.8226f808.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬ä¸‰å¤©.html.11831bcd.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬å››å¤©.html.6547a63e.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äº”å¤©.html.d74bd617.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸€å¤©.html.cff4e109.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸‰å¤©.html.f99eff7e.js"><link rel="prefetch" href="/assets/javascriptåŸºç¡€ç¬¬äºŒå¤©ç¬”è®°.html.aebc5333.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬äº”å¤©.html.e35620d6.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬å››å¤©.html.958a84e6.js"><link rel="prefetch" href="/assets/index.html.ef8647c7.js"><link rel="prefetch" href="/assets/ä¸ªäººå®æˆ˜æ–‡æ¡£.html.1743365c.js"><link rel="prefetch" href="/assets/index.html.c647080e.js"><link rel="prefetch" href="/assets/index.html.04decc95.js"><link rel="prefetch" href="/assets/index.html.dbce89c2.js"><link rel="prefetch" href="/assets/index.html.850a5fdc.js"><link rel="prefetch" href="/assets/index.html.c1ac903f.js"><link rel="prefetch" href="/assets/JavaScriptè¿›é˜¶ç¬¬ä¸€å¤©.html.1df28442.js"><link rel="prefetch" href="/assets/day03.html.c7bd1e6a.js"><link rel="prefetch" href="/assets/day02.html.d4b18232.js"><link rel="prefetch" href="/assets/day04.html.c85f4095.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.f18bcd72.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.cc5e606b.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.9b36d8a2.js"><link rel="prefetch" href="/assets/day01.html.afa0570c.js"><link rel="prefetch" href="/assets/day02.html.cc0ddb05.js"><link rel="prefetch" href="/assets/day03.html.66b1101e.js"><link rel="prefetch" href="/assets/day04.html.d57e8ef7.js"><link rel="prefetch" href="/assets/day05.html.be548191.js"><link rel="prefetch" href="/assets/day06.html.9d2732e7.js"><link rel="prefetch" href="/assets/day07.html.e2014f42.js"><link rel="prefetch" href="/assets/æ™ºæ…§å•†åŸé¡¹ç›®.html.b037ba30.js"><link rel="prefetch" href="/assets/Vue3å…¥é—¨.html.1dddd2c1.js"><link rel="prefetch" href="/assets/Pinia.html.d1f7ef83.js"><link rel="prefetch" href="/assets/å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿ.html.a9636e94.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®èµ·æ­¥.html.82651da2.js"><link rel="prefetch" href="/assets/02-é¦–é¡µæ¨¡å—.html.6f46afbf.js"><link rel="prefetch" href="/assets/03-æ¨èæ¨¡å—.html.b6efbf66.js"><link rel="prefetch" href="/assets/04-åˆ†ç±»æ¨¡å—.html.89b1138d.js"><link rel="prefetch" href="/assets/05-è¯¦æƒ…æ¨¡å—.html.e88ab276.js"><link rel="prefetch" href="/assets/06-ç™»å½•æ¨¡å—.html.277d50c6.js"><link rel="prefetch" href="/assets/07-ç”¨æˆ·æ¨¡å—.html.925b2d13.js"><link rel="prefetch" href="/assets/08-åœ°å€æ¨¡å—.html.f75d39b9.js"><link rel="prefetch" href="/assets/09-SKUæ¨¡å—.html.397ec6ac.js"><link rel="prefetch" href="/assets/10-è´­ç‰©è½¦æ¨¡å—.html.813ab58c.js"><link rel="prefetch" href="/assets/11-è®¢å•æ¨¡å—.html.26617e36.js"><link rel="prefetch" href="/assets/12-é¡¹ç›®æ‰“åŒ….html.bcb19f5b.js"><link rel="prefetch" href="/assets/index.html.0ad324c8.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.bffd36ce.js"><link rel="prefetch" href="/assets/Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.3b0165ff.js"><link rel="prefetch" href="/assets/Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.7874bd22.js"><link rel="prefetch" href="/assets/ç¬¬1å¤©.html.2a9a1263.js"><link rel="prefetch" href="/assets/ç¬¬2å¤©.html.f92837a4.js"><link rel="prefetch" href="/assets/ç¬¬3å¤©.html.8346e116.js"><link rel="prefetch" href="/assets/ç¬¬4å¤©.html.64ba4427.js"><link rel="prefetch" href="/assets/ç¬¬5å¤©.html.aa93a841.js"><link rel="prefetch" href="/assets/å°ç¨‹åºè‡ªå®šä¹‰tabBar.html.efad290d.js"><link rel="prefetch" href="/assets/ç¬¬6å¤©.html.44cac1f7.js"><link rel="prefetch" href="/assets/Nacoså®‰è£…æŒ‡å—.html.39daa776.js"><link rel="prefetch" href="/assets/Nacosé›†ç¾¤æ­å»º.html.568d560d.js"><link rel="prefetch" href="/assets/Centos7å®‰è£…Docker.html.b0ad27b4.js"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html.1ab7fab6.js"><link rel="prefetch" href="/assets/å®‰è£…elasticsearch.html.81544b59.js"><link rel="prefetch" href="/assets/Day01_AJAXå…¥é—¨.html.2b734238.js"><link rel="prefetch" href="/assets/Day02_AJAXç»¼åˆæ¡ˆä¾‹.html.afc30063.js"><link rel="prefetch" href="/assets/Day03_AJAXåŸç†.html.099c6350.js"><link rel="prefetch" href="/assets/Day04_AJAXè¿›é˜¶.html.54ac1199.js"><link rel="prefetch" href="/assets/404.html.65323de0.js"><link rel="prefetch" href="/assets/index.html.d35904fe.js"><link rel="prefetch" href="/assets/index.html.fd023679.js"><link rel="prefetch" href="/assets/index.html.df12bfb4.js"><link rel="prefetch" href="/assets/Macä¸‹mongodbå®‰è£…å’Œé…ç½®.html.301a2aea.js"><link rel="prefetch" href="/assets/Macä¸‹å‘½ä»¤è¡Œé…ç½®ç¯å¢ƒå˜é‡.html.1d4d6e41.js"><link rel="prefetch" href="/assets/Macå…¨è‡ªåŠ¨å®‰è£…brewä¸€é”®é…ç½®å›½å†…é•œåƒæº.html.a1acc4ea.js"><link rel="prefetch" href="/assets/Macç»ˆç«¯å‘½ä»¤è®°å½•.html.48c62f0e.js"><link rel="prefetch" href="/assets/Nginxæ­å»ºHTTPSï¼Œå¹¶åå‘ä»£ç†åˆ°webé¡µé¢_mkcertç”Ÿæˆæœ¬åœ°SSLè¯ä¹¦.html.fe7d31c9.js"><link rel="prefetch" href="/assets/PDFè½¬Markdownæ–‡ä»¶.html.cb87284b.js"><link rel="prefetch" href="/assets/index.html.2514289c.js"><link rel="prefetch" href="/assets/VSCodeä½¿ç”¨è®°å½•.html.5fff25d5.js"><link rel="prefetch" href="/assets/docsearchå…¨ç«™æœç´¢.html.0b5e6df6.js"><link rel="prefetch" href="/assets/ideaæ’ä»¶åˆ†äº«.html.4589edb2.js"><link rel="prefetch" href="/assets/jetbrainså…¨å®¶æ¡¶æ¿€æ´»ç­–ç•¥.html.b628297e.js"><link rel="prefetch" href="/assets/ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•.html.0f5bee03.js"><link rel="prefetch" href="/assets/æµ…è°ˆæ–‡è¨€æ–‡ä¸è‹±è¯­è¯­æ³•çš„ç›¸ä¼¼ç‚¹.html.63856966.js"><link rel="prefetch" href="/assets/é¢å‘AIå¼€å‘.html.a61b1470.js"><link rel="prefetch" href="/assets/é¸¿è’™3å®‰è£…apkæ— é¡»ç™»å½•.html.505d6071.js"><link rel="prefetch" href="/assets/index.html.a10f47f9.js"><link rel="prefetch" href="/assets/aboutme.html.262718de.js"><link rel="prefetch" href="/assets/index.html.ae7dbfa2.js"><link rel="prefetch" href="/assets/index.html.852eb6a4.js"><link rel="prefetch" href="/assets/FRPå†…ç½‘ç©¿é€æ­å»º(æ— åŸŸåç‰ˆ).html.4d0cea9f.js"><link rel="prefetch" href="/assets/index.html.7560b640.js"><link rel="prefetch" href="/assets/linuxå‰ç«¯é¡¹ç›®éƒ¨ç½².html.7b00f51c.js"><link rel="prefetch" href="/assets/linuxç¯å¢ƒå˜é‡é…ç½®é”™è¯¯åå‘½ä»¤æ— æ³•ä½¿ç”¨è§£å†³æ–¹æ¡ˆ.html.50e9cdb4.js"><link rel="prefetch" href="/assets/å†…ç½‘ç©¿é€å·¥å…·æ¯”è¾ƒ.html.70accdbf.js"><link rel="prefetch" href="/assets/åœ¨CentOSä¸Šæ­å»ºSambaæœåŠ¡å™¨.html.44d49a23.js"><link rel="prefetch" href="/assets/ç¬¬01ç« Androidå¼€å‘ç¯å¢ƒæ­å»º.html.5ef4b16c.js"><link rel="prefetch" href="/assets/ç¬¬02ç« AndroidAppå¼€å‘åŸºç¡€.html.cb7a53b0.js"><link rel="prefetch" href="/assets/ç¬¬03ç« ç®€å•æ§ä»¶.html.fa6260dc.js"><link rel="prefetch" href="/assets/ç¬¬04ç« æ´»åŠ¨Activity.html.2c162812.js"><link rel="prefetch" href="/assets/ç¬¬05ç« ä¸­çº§æ§ä»¶.html.cc08f24d.js"><link rel="prefetch" href="/assets/ç¬¬07ç« å†…å®¹å…±äº«.html.3a0fcce0.js"><link rel="prefetch" href="/assets/ç¬¬08ç« é«˜çº§æ§ä»¶.html.b38fd3b5.js"><link rel="prefetch" href="/assets/ç¬¬09ç« å¹¿æ’­ç»„ä»¶Broadcast.html.bfd475b5.js"><link rel="prefetch" href="/assets/ç¬¬10ç« è‡ªå®šä¹‰æ§ä»¶.html.7b8cb776.js"><link rel="prefetch" href="/assets/AndroidStudioä»£ç†é—®é¢˜Connect.html.2e9e37ad.js"><link rel="prefetch" href="/assets/AndroidStudioæ‰“åŒ…aarä¸¢å¤±è¿œç¨‹ä¾èµ–é—®é¢˜è§£å†³.html.f62ce461.js"><link rel="prefetch" href="/assets/AndroidStudioç™»å½•googleè´¦å·å¤±è´¥é—®é¢˜.html.5e5e82c9.js"><link rel="prefetch" href="/assets/Apkåº”ç”¨é‡ç­¾åâ€”ä½¿ç”¨AndroidStudioè‡ªå¸¦å·¥å…·apksigner.html.e3098467.js"><link rel="prefetch" href="/assets/ä¸å¸¸ç”¨çš„ADBå‘½ä»¤.html.f7e286b9.js"><link rel="prefetch" href="/assets/01MySQLç²¾ç®€ç¬”è®°.html.51e97c50.js"><link rel="prefetch" href="/assets/02JDBC.html.143f8699.js"><link rel="prefetch" href="/assets/03Maven.html.041954b1.js"><link rel="prefetch" href="/assets/04Mybatis.html.0c028c47.js"><link rel="prefetch" href="/assets/05ç½‘é¡µä¸‰å‰‘å®¢.html.02a927b7.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.b03a5cbe.js"><link rel="prefetch" href="/assets/07Request_Response.html.75b01386.js"><link rel="prefetch" href="/assets/08JSP.html.11699958.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.f33cb93b.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.5b19ad2e.js"><link rel="prefetch" href="/assets/11Vue_Element.html.0ed9ded6.js"><link rel="prefetch" href="/assets/12ç»¼åˆæ¡ˆä¾‹.html.e15ac32f.js"><link rel="prefetch" href="/assets/index.html.d12bf505.js"><link rel="prefetch" href="/assets/POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.68aa0e0d.js"><link rel="prefetch" href="/assets/index.html.fbd520a5.js"><link rel="prefetch" href="/assets/index.html.1b901660.js"><link rel="prefetch" href="/assets/index.html.83290ef7.js"><link rel="prefetch" href="/assets/index.html.a01449a9.js"><link rel="prefetch" href="/assets/index.html.49f29dd8.js"><link rel="prefetch" href="/assets/index.html.0c9d89e6.js"><link rel="prefetch" href="/assets/index.html.771a0849.js"><link rel="prefetch" href="/assets/index.html.931ddf30.js"><link rel="prefetch" href="/assets/index.html.83def820.js"><link rel="prefetch" href="/assets/index.html.19922c66.js"><link rel="prefetch" href="/assets/request.getInputStreamåªèƒ½è¯»å–ä¸€æ¬¡é—®é¢˜.html.c34b4ad6.js"><link rel="prefetch" href="/assets/ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨.html.53a076a6.js"><link rel="prefetch" href="/assets/é”™è¯¯é›†åˆ.html.b49f0ee0.js"><link rel="prefetch" href="/assets/index.html.4b882c0c.js"><link rel="prefetch" href="/assets/index.html.5d8450dc.js"><link rel="prefetch" href="/assets/index.html.cdc4465a.js"><link rel="prefetch" href="/assets/index.html.166a39ec.js"><link rel="prefetch" href="/assets/index.html.270fb1df.js"><link rel="prefetch" href="/assets/MySQL-åŸºç¡€ç¯‡.html.6c075b7f.js"><link rel="prefetch" href="/assets/Nodeå¤šç‰ˆæœ¬ç®¡ç†.html.8bbd0854.js"><link rel="prefetch" href="/assets/index.html.c3770570.js"><link rel="prefetch" href="/assets/Webè°ƒè¯•å…¥é—¨.html.bd7644a8.js"><link rel="prefetch" href="/assets/å…³äºESLInké…ç½®é—®é¢˜.html.8d585e62.js"><link rel="prefetch" href="/assets/Mavené«˜çº§.html.df063b50.js"><link rel="prefetch" href="/assets/SpringBoot.html.9c026723.js"><link rel="prefetch" href="/assets/RestTemplate.html.81424d94.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.5156fad2.js"><link rel="prefetch" href="/assets/Dubboè¯¦è§£.html.a88aa8e4.js"><link rel="prefetch" href="/assets/Macä¸‹ZooKeeperå®‰è£…å’Œä½¿ç”¨.html.3de130d6.js"><link rel="prefetch" href="/assets/Zookeeperé›†ç¾¤æ­å»º.html.18398d7c.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬10ç« ï¼‰.html.aee4445f.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬11ç« ï¼‰.html.83a05a5d.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬12ç« ï¼‰.html.81ad609c.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬13ç« ï¼‰.html.cda181a7.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬1ç« ï¼‰.html.f5bee726.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬2ç« ï¼‰.html.27034da0.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬3ç« ï¼‰.html.d3a4419d.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬4ç« ï¼‰.html.6ac4d30b.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬5ç« ï¼‰.html.a6b72869.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬6ç« ï¼‰.html.b3c1f012.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬7ç« ï¼‰.html.7ed3e2ec.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬8ç« ï¼‰.html.2e845277.js"><link rel="prefetch" href="/assets/ä¼ æ™ºå¥åº·é¡¹ç›®è®²ä¹‰ï¼ˆç¬¬9ç« ï¼‰.html.d9fda0b5.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.0e58c23a.js"><link rel="prefetch" href="/assets/Linux-Day01.html.f7ed7535.js"><link rel="prefetch" href="/assets/Linux-Day02.html.e0127077.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€.html.a64b37e3.js"><link rel="prefetch" href="/assets/Gitè¯¾ç¨‹è®²ä¹‰.html.7e0f3772.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day01.html.9464a5df.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day02.html.45884790.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day03.html.19be6c08.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day04.html.a55511e6.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day05.html.c8d5d2ec.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–-Day06.html.9dbbe9f4.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day01.html.e670be9e.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day02.html.36d00a62.js"><link rel="prefetch" href="/assets/ç‘å‰å¤–å–ä¼˜åŒ–-Day03.html.580a113e.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡å¸¸è§é¢è¯•é¢˜.html.d9885008.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.7b8e22bd.js"><link rel="prefetch" href="/assets/day01-HTMLåŸºç¡€.html.11954ea5.js"><link rel="prefetch" href="/assets/day02-HTMLè¿›é˜¶.html.f8ea5d06.js"><link rel="prefetch" href="/assets/day04-CSSè¿›é˜¶.html.959f42d7.js"><link rel="prefetch" href="/assets/day03-CSSåŸºç¡€.html.be06d435.js"><link rel="prefetch" href="/assets/day05-ç›’å­æ¨¡å‹.html.dc398017.js"><link rel="prefetch" href="/assets/day06-Flexå¸ƒå±€.html.28d20a28.js"><link rel="prefetch" href="/assets/day07-å­¦æˆåœ¨çº¿.html.7c72e01f.js"><link rel="prefetch" href="/assets/day08-CSSé«˜çº§.html.21209494.js"><link rel="prefetch" href="/assets/day09-å°å…”é²œå„¿.html.3dbc4f3a.js"><link rel="prefetch" href="/assets/day10-å°å…”é²œå„¿.html.c5cb13d3.js"><link rel="prefetch" href="/assets/Day01-é¡¹ç›®ä»‹ç»åŠåˆå§‹åŒ–-ç™»å½•é¡µé¢.html.746c66d7.js"><link rel="prefetch" href="/assets/Day02-ç™»å½•æ¨¡å—-ä¸»é¡µé‰´æƒ.html.41a10631.js"><link rel="prefetch" href="/assets/Day03-ä¸»é¡µæ¨¡å—-ä¿®æ”¹å¯†ç .html.49ef3b40.js"><link rel="prefetch" href="/assets/Day04-ç»„ç»‡æ¶æ„.html.25f660d2.js"><link rel="prefetch" href="/assets/Day05-ç»„ç»‡æ¶æ„-è§’è‰²ç®¡ç†.html.90602422.js"><link rel="prefetch" href="/assets/Day06-è§’è‰²ç®¡ç†-å‘˜å·¥ç®¡ç†.html.cd0d3627.js"><link rel="prefetch" href="/assets/Day07-å‘˜å·¥ç®¡ç†-ä¸Šä¼ ä¸‹è½½.html.285c77ee.js"><link rel="prefetch" href="/assets/Day08-Cosä¸Šä¼ å’Œæƒé™æ•°æ®.html.9ccdcbbe.js"><link rel="prefetch" href="/assets/Day09-æƒé™åº”ç”¨-é¦–é¡µ.html.e3ebdf3e.js"><link rel="prefetch" href="/assets/Day10-é¦–é¡µå›¾è¡¨-Nginxä¸Šçº¿.html.95ddc52d.js"><link rel="prefetch" href="/assets/1.Vue3å…¥é—¨.html.10bb6d69.js"><link rel="prefetch" href="/assets/10.è´­ç‰©è½¦.html.3c7cfec8.js"><link rel="prefetch" href="/assets/11.è®¢å•é¡µ.html.e997abda.js"><link rel="prefetch" href="/assets/12.æ”¯ä»˜é¡µ.html.985ae92e.js"><link rel="prefetch" href="/assets/13.ä¼šå‘˜ä¸­å¿ƒ.html.fee07265.js"><link rel="prefetch" href="/assets/14.æ‹“å±•éƒ¨åˆ†.html.7d352ea1.js"><link rel="prefetch" href="/assets/2.Piniaå…¥é—¨.html.845f58af.js"><link rel="prefetch" href="/assets/3.é¡¹ç›®èµ·æ­¥.html.e65702ec.js"><link rel="prefetch" href="/assets/4.Layouté¡µ.html.432847ae.js"><link rel="prefetch" href="/assets/5.Homeé¡µ.html.3a774b52.js"><link rel="prefetch" href="/assets/6.ä¸€çº§åˆ†ç±»é¡µ.html.201e02bb.js"><link rel="prefetch" href="/assets/7.äºŒçº§åˆ†ç±»é¡µ.html.0fc2ae43.js"><link rel="prefetch" href="/assets/8.å•†å“è¯¦æƒ….html.9b499ef8.js"><link rel="prefetch" href="/assets/9.ç™»å½•é¡µ.html.60e1ee60.js"><link rel="prefetch" href="/assets/day01.html.bbc0a088.js"><link rel="prefetch" href="/assets/day02.html.72ed2fe6.js"><link rel="prefetch" href="/assets/day03.html.bee6c3fc.js"><link rel="prefetch" href="/assets/index.html.09257f7e.js"><link rel="prefetch" href="/assets/day01.html.ab3747f1.js"><link rel="prefetch" href="/assets/day02.html.89ec1bee.js"><link rel="prefetch" href="/assets/day03.html.d5ec2aa6.js"><link rel="prefetch" href="/assets/day04.html.56433ccb.js"><link rel="prefetch" href="/assets/index.html.e4b84db4.js"><link rel="prefetch" href="/assets/interview-base.html.e9eabf58.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.6c9247b8.js"><link rel="prefetch" href="/assets/RedisåŸºç¡€ç¯‡.html.08c34b8a.js"><link rel="prefetch" href="/assets/Rediså¿«é€Ÿå…¥é—¨.html.cf6cb13d.js"><link rel="prefetch" href="/assets/Rediså®æˆ˜ç¯‡.html.f372dc0c.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.62fad0c1.js"><link rel="prefetch" href="/assets/RedisåŸç†ç¯‡.html.2a7ef6e3.js"><link rel="prefetch" href="/assets/è¯¾å ‚ç¬”è®°.html.85eb8328.js"><link rel="prefetch" href="/assets/Spring-day01.html.63e58b9e.js"><link rel="prefetch" href="/assets/Spring-day02.html.376435c2.js"><link rel="prefetch" href="/assets/Spring-day03.html.0e29094b.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.87e47178.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.a4b28c77.js"><link rel="prefetch" href="/assets/SpringBootStart.html.de571df2.js"><link rel="prefetch" href="/assets/SpringBootæ•´åˆSSMP.html.43f6b9c4.js"><link rel="prefetch" href="/assets/SpringBootç»¼åˆæ¡ˆä¾‹.html.221fa49f.js"><link rel="prefetch" href="/assets/é”™è¯¯ç¬”è®°.html.e82c55b7.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.578f2ac6.js"><link rel="prefetch" href="/assets/SpringBootè®²ä¹‰.html.61a4873c.js"><link rel="prefetch" href="/assets/Centos8-streamåœ¨çœŸæœºä¸Šå®‰è£…æ’å‘.html.550f1d67.js"><link rel="prefetch" href="/assets/Centos9å®‰è£…mysql.html.80214017.js"><link rel="prefetch" href="/assets/SpringCloud01.html.12bb1f52.js"><link rel="prefetch" href="/assets/SpringCloudå®ç”¨ç¯‡02.html.d45505f0.js"><link rel="prefetch" href="/assets/Dockerå®ç”¨ç¯‡.html.74e1975a.js"><link rel="prefetch" href="/assets/RabbitMQ.html.f11b02a4.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.71bc535b.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.952438e2.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html.085884cc.js"><link rel="prefetch" href="/assets/å¾®æœåŠ¡ä¿æŠ¤.html.05b1962c.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html.a8f848db.js"><link rel="prefetch" href="/assets/åˆ†å¸ƒå¼ç¼“å­˜.html.0d991e8c.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.f6efcf35.js"><link rel="prefetch" href="/assets/RabbitMQ-é«˜çº§ç¯‡.html.5475292f.js"><link rel="prefetch" href="/assets/Mybatisç¬¬ä¸€å¤©.html.74106e69.js"><link rel="prefetch" href="/assets/Mybatisç¬¬äºŒå¤©.html.ad5fd614.js"><link rel="prefetch" href="/assets/ç§»åŠ¨webç¬¬ä¸€å¤©.html.212d3d77.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äºŒå¤©.html.25b71c4a.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬ä¸‰å¤©.html.bc0f9ffd.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬å››å¤©.html.105bec04.js"><link rel="prefetch" href="/assets/ç§»åŠ¨Webç¬¬äº”å¤©.html.d246536f.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸€å¤©.html.6749bf6f.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬ä¸‰å¤©.html.b9c7d35b.js"><link rel="prefetch" href="/assets/javascriptåŸºç¡€ç¬¬äºŒå¤©ç¬”è®°.html.ef83735d.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬äº”å¤©.html.b791755b.js"><link rel="prefetch" href="/assets/JavaScriptåŸºç¡€ç¬¬å››å¤©.html.4771ab3b.js"><link rel="prefetch" href="/assets/index.html.b83a5020.js"><link rel="prefetch" href="/assets/ä¸ªäººå®æˆ˜æ–‡æ¡£.html.984244e3.js"><link rel="prefetch" href="/assets/index.html.6415facf.js"><link rel="prefetch" href="/assets/index.html.1e434b24.js"><link rel="prefetch" href="/assets/index.html.7dc183ed.js"><link rel="prefetch" href="/assets/index.html.f37a33bc.js"><link rel="prefetch" href="/assets/index.html.7d4ee43b.js"><link rel="prefetch" href="/assets/JavaScriptè¿›é˜¶ç¬¬ä¸€å¤©.html.000f25ff.js"><link rel="prefetch" href="/assets/day03.html.db51cbbc.js"><link rel="prefetch" href="/assets/day02.html.d66fd875.js"><link rel="prefetch" href="/assets/day04.html.b8a7f063.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.818a38a3.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.36b76043.js"><link rel="prefetch" href="/assets/ç¬”è®°.html.26fe9e7f.js"><link rel="prefetch" href="/assets/day01.html.c47cd770.js"><link rel="prefetch" href="/assets/day02.html.397bfdbd.js"><link rel="prefetch" href="/assets/day03.html.93fc55fd.js"><link rel="prefetch" href="/assets/day04.html.070fd4a4.js"><link rel="prefetch" href="/assets/day05.html.bd82f3d8.js"><link rel="prefetch" href="/assets/day06.html.17d00c13.js"><link rel="prefetch" href="/assets/day07.html.e7bbdf6d.js"><link rel="prefetch" href="/assets/æ™ºæ…§å•†åŸé¡¹ç›®.html.af5f40a4.js"><link rel="prefetch" href="/assets/Vue3å…¥é—¨.html.7fcc1386.js"><link rel="prefetch" href="/assets/Pinia.html.1da61f9f.js"><link rel="prefetch" href="/assets/å¤§äº‹ä»¶ç®¡ç†ç³»ç»Ÿ.html.7f4fa6e3.js"><link rel="prefetch" href="/assets/01-é¡¹ç›®èµ·æ­¥.html.e62172f5.js"><link rel="prefetch" href="/assets/02-é¦–é¡µæ¨¡å—.html.69fde283.js"><link rel="prefetch" href="/assets/03-æ¨èæ¨¡å—.html.4426873e.js"><link rel="prefetch" href="/assets/04-åˆ†ç±»æ¨¡å—.html.1cbda2ee.js"><link rel="prefetch" href="/assets/05-è¯¦æƒ…æ¨¡å—.html.0e1c5ef3.js"><link rel="prefetch" href="/assets/06-ç™»å½•æ¨¡å—.html.64931e2c.js"><link rel="prefetch" href="/assets/07-ç”¨æˆ·æ¨¡å—.html.b812d4aa.js"><link rel="prefetch" href="/assets/08-åœ°å€æ¨¡å—.html.9c01d1e1.js"><link rel="prefetch" href="/assets/09-SKUæ¨¡å—.html.84a4889e.js"><link rel="prefetch" href="/assets/10-è´­ç‰©è½¦æ¨¡å—.html.6688a027.js"><link rel="prefetch" href="/assets/11-è®¢å•æ¨¡å—.html.2f3d83d3.js"><link rel="prefetch" href="/assets/12-é¡¹ç›®æ‰“åŒ….html.91368063.js"><link rel="prefetch" href="/assets/index.html.42f6ba28.js"><link rel="prefetch" href="/assets/å¤šçº§ç¼“å­˜.html.29a0512b.js"><link rel="prefetch" href="/assets/Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.8e9eb1a4.js"><link rel="prefetch" href="/assets/Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.61b375ef.js"><link rel="prefetch" href="/assets/ç¬¬1å¤©.html.24b6cbc8.js"><link rel="prefetch" href="/assets/ç¬¬2å¤©.html.6a1d49a9.js"><link rel="prefetch" href="/assets/ç¬¬3å¤©.html.ef5bdd2c.js"><link rel="prefetch" href="/assets/ç¬¬4å¤©.html.f2dd6af1.js"><link rel="prefetch" href="/assets/ç¬¬5å¤©.html.3bbb5261.js"><link rel="prefetch" href="/assets/å°ç¨‹åºè‡ªå®šä¹‰tabBar.html.5d994ae6.js"><link rel="prefetch" href="/assets/ç¬¬6å¤©.html.97ffacd5.js"><link rel="prefetch" href="/assets/Nacoså®‰è£…æŒ‡å—.html.e9959e6d.js"><link rel="prefetch" href="/assets/Nacosé›†ç¾¤æ­å»º.html.d1d2d3f4.js"><link rel="prefetch" href="/assets/Centos7å®‰è£…Docker.html.499dd207.js"><link rel="prefetch" href="/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html.2c223352.js"><link rel="prefetch" href="/assets/å®‰è£…elasticsearch.html.9de8319c.js"><link rel="prefetch" href="/assets/Day01_AJAXå…¥é—¨.html.d3038205.js"><link rel="prefetch" href="/assets/Day02_AJAXç»¼åˆæ¡ˆä¾‹.html.bc86a8e2.js"><link rel="prefetch" href="/assets/Day03_AJAXåŸç†.html.0f23d8cc.js"><link rel="prefetch" href="/assets/Day04_AJAXè¿›é˜¶.html.70a798a7.js"><link rel="prefetch" href="/assets/404.html.6483ccdc.js"><link rel="prefetch" href="/assets/404.25c65b32.js"><link rel="prefetch" href="/assets/Layout.041a9450.js"><link rel="prefetch" href="/assets/index.0e8935cb.js"><link rel="prefetch" href="/assets/giscus.15440425.js">
    <link rel="stylesheet" href="/assets/style.5869c25b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="Hades"><span class="site-name can-hide">Hades</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Android/" class="router-link-active" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Javaåç«¯/" class="" aria-label="Javaåç«¯"><!--[--><!--]--> Javaåç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Webå‰ç«¯/" class="" aria-label="Webå‰ç«¯"><!--[--><!--]--> Webå‰ç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/æ•°æ®åº“/" class="" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/è¿ç»´æŠ€æœ¯/" class="" aria-label="è¿ç»´æŠ€æœ¯"><!--[--><!--]--> è¿ç»´æŠ€æœ¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tipsâ¤ï¸â€"><!--[--><!--]--> Tipsâ¤ï¸â€ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>æœç´¢</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="ç™¾åº¦ä¸€ä¸‹"><!--[--><!--]--> ç™¾åº¦ä¸€ä¸‹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>å¸¸ç”¨</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="å“”å“©å“”å“©"><!--[--><!--]--> å“”å“©å“”å“© <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepressæ‰“åŒ…é”™è¯¯"><!--[--><!--]--> Vuepressæ‰“åŒ…é”™è¯¯ <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Android/" class="router-link-active" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Javaåç«¯/" class="" aria-label="Javaåç«¯"><!--[--><!--]--> Javaåç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Webå‰ç«¯/" class="" aria-label="Webå‰ç«¯"><!--[--><!--]--> Webå‰ç«¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/æ•°æ®åº“/" class="" aria-label="æ•°æ®åº“"><!--[--><!--]--> æ•°æ®åº“ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/è¿ç»´æŠ€æœ¯/" class="" aria-label="è¿ç»´æŠ€æœ¯"><!--[--><!--]--> è¿ç»´æŠ€æœ¯ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tipsâ¤ï¸â€"><!--[--><!--]--> Tipsâ¤ï¸â€ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ä¹¦ç­¾ğŸ”–"><span class="title">ä¹¦ç­¾ğŸ”–</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>æœç´¢</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="ç™¾åº¦ä¸€ä¸‹"><!--[--><!--]--> ç™¾åº¦ä¸€ä¸‹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>å¸¸ç”¨</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="å“”å“©å“”å“©"><!--[--><!--]--> å“”å“©å“”å“© <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepressæ‰“åŒ…é”™è¯¯"><!--[--><!--]--> Vuepressæ‰“åŒ…é”™è¯¯ <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">ç¬¬ 6 ç« ã€€æ•°æ®å­˜å‚¨ <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-1-sharedpreferences" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.1 SharedPreferences"><!--[--><!--]--> 6.1 SharedPreferences <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-1-1-å…±äº«å‚æ•°çš„ç”¨æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.1.1ã€€å…±äº«å‚æ•°çš„ç”¨æ³•"><!--[--><!--]--> 6.1.1ã€€å…±äº«å‚æ•°çš„ç”¨æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-1-2-å®ç°è®°ä½å¯†ç åŠŸèƒ½" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.1.2ã€€å®ç°è®°ä½å¯†ç åŠŸèƒ½"><!--[--><!--]--> 6.1.2ã€€å®ç°è®°ä½å¯†ç åŠŸèƒ½ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-1-3-åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯»æ‰¾å…±äº«å‚æ•°æ–‡ä»¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.1.3ã€€åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯»æ‰¾å…±äº«å‚æ•°æ–‡ä»¶"><!--[--><!--]--> 6.1.3ã€€åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯»æ‰¾å…±äº«å‚æ•°æ–‡ä»¶ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-2-æ•°æ®åº“sqlite" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2ã€€æ•°æ®åº“SQLite"><!--[--><!--]--> 6.2ã€€æ•°æ®åº“SQLite <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-2-1-sqlçš„åŸºæœ¬è¯­æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.1 SQLçš„åŸºæœ¬è¯­æ³•"><!--[--><!--]--> 6.2.1 SQLçš„åŸºæœ¬è¯­æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-2-2-æ•°æ®åº“ç®¡ç†å™¨sqlitedatabase" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.2ã€€æ•°æ®åº“ç®¡ç†å™¨SQLiteDatabase"><!--[--><!--]--> 6.2.2ã€€æ•°æ®åº“ç®¡ç†å™¨SQLiteDatabase <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-2-3-æ•°æ®åº“å¸®åŠ©å™¨sqliteopenhelper" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.3ã€€æ•°æ®åº“å¸®åŠ©å™¨SQLiteOpenHelper"><!--[--><!--]--> 6.2.3ã€€æ•°æ®åº“å¸®åŠ©å™¨SQLiteOpenHelper <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-2-4-ä¼˜åŒ–è®°ä½å¯†ç åŠŸèƒ½" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.4ã€€ä¼˜åŒ–è®°ä½å¯†ç åŠŸèƒ½"><!--[--><!--]--> 6.2.4ã€€ä¼˜åŒ–è®°ä½å¯†ç åŠŸèƒ½ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-3-å­˜å‚¨å¡çš„æ–‡ä»¶æ“ä½œ" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.3ã€€å­˜å‚¨å¡çš„æ–‡ä»¶æ“ä½œ"><!--[--><!--]--> 6.3ã€€å­˜å‚¨å¡çš„æ–‡ä»¶æ“ä½œ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-3-1-ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.3.1ã€€ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´"><!--[--><!--]--> 6.3.1ã€€ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-3-2-åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡æœ¬æ–‡ä»¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.3.2ã€€åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡æœ¬æ–‡ä»¶"><!--[--><!--]--> 6.3.2ã€€åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡æœ¬æ–‡ä»¶ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-3-3-åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™å›¾ç‰‡æ–‡ä»¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.3.3ã€€åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™å›¾ç‰‡æ–‡ä»¶"><!--[--><!--]--> 6.3.3ã€€åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™å›¾ç‰‡æ–‡ä»¶ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-4-åº”ç”¨ç»„ä»¶application" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.4ã€€åº”ç”¨ç»„ä»¶Application"><!--[--><!--]--> 6.4ã€€åº”ç”¨ç»„ä»¶Application <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-4-1-applicationçš„ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.4.1 Applicationçš„ç”Ÿå‘½å‘¨æœŸ"><!--[--><!--]--> 6.4.1 Applicationçš„ç”Ÿå‘½å‘¨æœŸ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-4-2-applicationæ“ä½œå…¨å±€å˜é‡" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.4.2 Applicationæ“ä½œå…¨å±€å˜é‡"><!--[--><!--]--> 6.4.2 Applicationæ“ä½œå…¨å±€å˜é‡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-4-3-åˆ©ç”¨roomç®€åŒ–æ•°æ®åº“æ“ä½œ" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.4.3ã€€åˆ©ç”¨Roomç®€åŒ–æ•°æ®åº“æ“ä½œ"><!--[--><!--]--> 6.4.3ã€€åˆ©ç”¨Roomç®€åŒ–æ•°æ®åº“æ“ä½œ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-5-å®æˆ˜é¡¹ç›®-è´­ç‰©è½¦" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.5ã€€å®æˆ˜é¡¹ç›®ï¼šè´­ç‰©è½¦"><!--[--><!--]--> 6.5ã€€å®æˆ˜é¡¹ç›®ï¼šè´­ç‰©è½¦ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-5-1-éœ€æ±‚æè¿°" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.5.1ã€€éœ€æ±‚æè¿°"><!--[--><!--]--> 6.5.1ã€€éœ€æ±‚æè¿° <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-5-2-ç•Œé¢è®¾è®¡" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.5.2ã€€ç•Œé¢è®¾è®¡"><!--[--><!--]--> 6.5.2ã€€ç•Œé¢è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-5-3-å…³é”®ä»£ç " class="router-link-active router-link-exact-active sidebar-item" aria-label="6.5.3ã€€å…³é”®ä»£ç "><!--[--><!--]--> 6.5.3ã€€å…³é”®ä»£ç  <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-6-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.6ã€€å°ç»“"><!--[--><!--]--> 6.6ã€€å°ç»“ <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC06%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#_6-7-è¯¾åç»ƒä¹ é¢˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.7ã€€è¯¾åç»ƒä¹ é¢˜"><!--[--><!--]--> 6.7ã€€è¯¾åç»ƒä¹ é¢˜ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="ç¬¬-6-ç« -æ•°æ®å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#ç¬¬-6-ç« -æ•°æ®å­˜å‚¨" aria-hidden="true">#</a> ç¬¬ 6 ç« ã€€æ•°æ®å­˜å‚¨</h1><p>æœ¬ç« ä»‹ç»Android 4ç§å­˜å‚¨æ–¹å¼çš„ç”¨æ³•ï¼ŒåŒ…æ‹¬å…±äº«å‚æ•°SharedPreferencesã€æ•°æ®åº“SQLiteã€å­˜å‚¨å¡æ–‡ä»¶ã€Appçš„å…¨å±€å†…å­˜ï¼Œå¦å¤–ä»‹ç»Androidé‡è¦ç»„ä»¶â€”åº”ç”¨Applicationçš„åŸºæœ¬æ¦‚å¿µä¸å¸¸è§ç”¨æ³•ã€‚æœ€åï¼Œç»“åˆæœ¬ç« æ‰€å­¦çš„çŸ¥è¯†æ¼”ç¤ºå®æˆ˜é¡¹ç›®â€œè´­ç‰©è½¦â€çš„è®¾è®¡ä¸å®ç°ã€‚</p><h2 id="_6-1-sharedpreferences" tabindex="-1"><a class="header-anchor" href="#_6-1-sharedpreferences" aria-hidden="true">#</a> 6.1 SharedPreferences</h2><p>æœ¬èŠ‚ä»‹ç»Androidçš„é”®å€¼å¯¹å­˜å‚¨æ–¹å¼â€”â€”å…±äº«å‚æ•°SharedPreferencesçš„ä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼šå¦‚ä½•å°†æ•°æ®ä¿å­˜åˆ°å…±äº«å‚æ•°ï¼Œå¦‚ä½•ä»å…±äº«å‚æ•°è¯»å–æ•°æ®ï¼Œå¦‚ä½•ä½¿ç”¨å…±äº«å‚æ•°å®ç°ç™»å½•é¡µé¢çš„è®°ä½å¯†ç åŠŸèƒ½ï¼Œå¦‚ä½•åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨æ‰¾åˆ°å…±äº«å‚æ•°æ–‡ä»¶ã€‚</p><h3 id="_6-1-1-å…±äº«å‚æ•°çš„ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#_6-1-1-å…±äº«å‚æ•°çš„ç”¨æ³•" aria-hidden="true">#</a> 6.1.1ã€€å…±äº«å‚æ•°çš„ç”¨æ³•</h3><p>SharedPreferencesæ˜¯Androidçš„ä¸€ä¸ªè½»é‡çº§å­˜å‚¨å·¥å…·ï¼Œå®ƒé‡‡ç”¨çš„å­˜å‚¨ç»“æ„æ˜¯Key-Valueçš„é”®å€¼å¯¹æ–¹å¼ï¼Œç±»ä¼¼äºJavaçš„Propertiesï¼ŒäºŒè€…éƒ½æ˜¯æŠŠKey-Valueçš„é”®å€¼å¯¹ä¿å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚ä¸åŒçš„æ˜¯ï¼ŒPropertiesçš„æ–‡ä»¶å†…å®¹å½¢å¦‚Key=Valueï¼Œè€ŒSharedPreferencesçš„å­˜å‚¨ä»‹è´¨æ˜¯XMLæ–‡ä»¶ï¼Œä¸”ä»¥XMLæ ‡è®°ä¿å­˜é”®å€¼å¯¹ã€‚ä¿å­˜å…±äº«å‚æ•°é”®å€¼å¯¹ä¿¡æ¯çš„æ–‡ä»¶è·¯å¾„ä¸ºï¼š/data/data/åº”ç”¨åŒ…å/shared_prefs/æ–‡ä»¶å.xmlã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…±äº«å‚æ•°çš„XMLæ–‡ä»¶ä¾‹å­ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39; standalone=&#39;yes&#39; ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Mr Lee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>int</span> <span class="token attr-name">nane</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>boolean</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>married<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>float</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>weight<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸºäºXMLæ ¼å¼çš„ç‰¹ç‚¹ï¼Œå…±äº«å‚æ•°ä¸»è¦ç”¨äºå¦‚ä¸‹åœºåˆï¼š</p><p>ï¼ˆ 1 ï¼‰ç®€å•ä¸”å­¤ç«‹çš„æ•°æ®ã€‚è‹¥æ˜¯å¤æ‚ä¸”ç›¸äº’å…³è”çš„æ•°æ®ï¼Œåˆ™è¦ä¿å­˜äºå…³ç³»æ•°æ®åº“ã€‚</p><p>ï¼ˆ 2 ï¼‰æ–‡æœ¬å½¢å¼çš„æ•°æ®ã€‚è‹¥æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ™è¦ä¿å­˜è‡³æ–‡ä»¶ã€‚</p><p>ï¼ˆ 3 ï¼‰éœ€è¦æŒä¹…åŒ–å­˜å‚¨çš„æ•°æ®ã€‚Appé€€å‡ºåå†æ¬¡å¯åŠ¨æ—¶ï¼Œä¹‹å‰ä¿å­˜çš„æ•°æ®ä»ç„¶æœ‰æ•ˆã€‚</p><p>å®é™…å¼€å‘ä¸­ï¼Œå…±äº«å‚æ•°ç»å¸¸å­˜å‚¨çš„æ•°æ®åŒ…æ‹¬ï¼šAppçš„ä¸ªæ€§åŒ–é…ç½®ä¿¡æ¯ã€ç”¨æˆ·ä½¿ç”¨Appçš„è¡Œä¸ºä¿¡æ¯ã€ä¸´æ—¶éœ€è¦ä¿å­˜çš„ç‰‡æ®µä¿¡æ¯ç­‰ã€‚</p><p>å…±äº«å‚æ•°å¯¹æ•°æ®çš„å­˜å‚¨å’Œè¯»å–æ“ä½œç±»ä¼¼äºMapï¼Œä¹Ÿæœ‰å­˜å‚¨æ•°æ®çš„putæ–¹æ³•ï¼Œä»¥åŠè¯»å–æ•°æ®çš„getæ–¹æ³•ã€‚è°ƒç”¨getSharedPreferencesæ–¹æ³•å¯ä»¥è·å¾—å…±äº«å‚æ•°å®ä¾‹ï¼Œè·å–ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»share.xmlè·å–å…±äº«å‚æ•°å®ä¾‹</span>
<span class="token class-name">SharedPreferences</span> shared <span class="token operator">=</span> <span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token string">&quot;share&quot;</span><span class="token punctuation">,</span> <span class="token constant">MODE_PRIVATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±ä»¥ä¸Šä»£ç å¯çŸ¥ï¼ŒgetSharedPreferencesæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–‡ä»¶åï¼Œå¡«shareè¡¨ç¤ºå…±äº«å‚æ•°çš„æ–‡ä»¶åæ˜¯share.xmlï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ“ä½œæ¨¡å¼ï¼Œå¡«MODE_PRIVATEè¡¨ç¤ºç§æœ‰æ¨¡å¼ã€‚å¾€å…±äº«å‚æ•°å­˜å‚¨æ•°æ®è¦å€ŸåŠ©äºEditorç±»ï¼Œä¿å­˜æ•°æ®çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\ShareWriteActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">SharedPreferences<span class="token punctuation">.</span>Editor</span> editor <span class="token operator">=</span> shared<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·å¾—ç¼–è¾‘å™¨çš„å¯¹è±¡</span>
editor<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mr Lee&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ·»åŠ ä¸€ä¸ªåä¸ºnameçš„å­—ç¬¦ä¸²å‚æ•°</span>
editor<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ·»åŠ ä¸€ä¸ªåä¸ºageçš„æ•´å‹å‚æ•°</span>
editor<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ·»åŠ ä¸€ä¸ªåä¸ºmarriedçš„å¸ƒå°”å‹å‚æ•°</span>
editor<span class="token punctuation">.</span><span class="token function">putFloat</span><span class="token punctuation">(</span><span class="token string">&quot;weight&quot;</span><span class="token punctuation">,</span> <span class="token number">100f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ·»åŠ ä¸€ä¸ªåä¸ºweightçš„æµ®ç‚¹æ•°å‚æ•°</span>
editor<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// äº¤ç¼–è¾‘å™¨ä¸­çš„ä¿®æ”¹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»å…±äº«å‚æ•°è¯»å–æ•°æ®ç›¸å¯¹ç®€å•ï¼Œç›´æ¥è°ƒç”¨å…±äº«å‚æ•°å®ä¾‹çš„get * * * æ–¹æ³•å³å¯è¯»å–é”®å€¼ï¼Œæ³¨æ„ get***æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºé»˜è®¤å€¼ï¼Œè¯»å–æ•°æ®çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\ShareReadActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> name <span class="token operator">=</span> shared<span class="token punctuation">.</span>getString <span class="token punctuation">(</span> <span class="token string">&quot;name.&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»å…±äº«å‚æ•°è·å–åä¸ºnameçš„å­—ç¬¦ä¸² </span>
<span class="token keyword">int</span> age <span class="token operator">=</span> shared<span class="token punctuation">.</span>getInt <span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä»å…±äº«å‚æ•°è·å–åä¸ºage çš„æ•´å‹æ•°</span>
<span class="token keyword">boolean</span> married <span class="token operator">=</span> shared<span class="token punctuation">.</span>getBoolean <span class="token punctuation">(</span> <span class="token string">&quot;married&quot;</span>ï¼Œ <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»å…±äº«å‚æ•°è·å–åä¸ºmarried </span>
çš„å¸ƒå°”æ•°
<span class="token keyword">float</span> weight <span class="token operator">=</span> shared<span class="token punctuation">.</span>getFloat <span class="token punctuation">(</span> <span class="token string">&quot;weight&quot;</span>ï¼Œ<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»å…±äº«å‚æ•°è·å–åä¸ºweightçš„æµ®ç‚¹æ•°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢é€šè¿‡æµ‹è¯•é¡µé¢æ¼”ç¤ºå…±äº«å‚æ•°çš„å­˜å–è¿‡ç¨‹ï¼Œå…ˆåœ¨ç¼–è¾‘é¡µé¢å½•å…¥ç”¨æˆ·æ³¨å†Œä¿¡æ¯ï¼Œç‚¹å‡»ä¿å­˜æŒ‰é’®æŠŠæ•°æ®æäº¤è‡³å…±äº«å‚æ•°ï¼Œå¦‚å›¾6-1æ‰€ç¤ºã€‚å†åˆ°æŸ¥çœ‹é¡µé¢æµè§ˆç”¨æˆ·æ³¨å†Œä¿¡æ¯ï¼ŒAppä»å…±äº«å‚æ•°ä¸­è¯»å–å„é¡¹æ•°æ®ï¼Œå¹¶å°† æ³¨å†Œä¿¡æ¯æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œå¦‚å›¾6-2æ‰€ç¤ºã€‚</p><pre><code>															![Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜](https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061642827.png)
</code></pre><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061642546.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><h3 id="_6-1-2-å®ç°è®°ä½å¯†ç åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_6-1-2-å®ç°è®°ä½å¯†ç åŠŸèƒ½" aria-hidden="true">#</a> 6.1.2ã€€å®ç°è®°ä½å¯†ç åŠŸèƒ½</h3><p>ä¸Šä¸€ç« æœ«å°¾çš„å®æˆ˜é¡¹ç›®ï¼Œç™»å½•é¡µé¢ä¸‹æ–¹æœ‰ä¸€ä¸ªâ€œè®°ä½å¯†ç â€å¤é€‰æ¡†ï¼Œå½“æ—¶åªæ˜¯ä¸ºäº†æ¼”ç¤ºæ§ä»¶çš„ç”¨æ³•ï¼Œå¹¶æœªçœŸæ­£è®°ä½å¯†ç ã€‚å› ä¸ºç”¨æˆ·é€€å‡ºåé‡æ–°è¿›å…¥ç™»å½•é¡µé¢ï¼ŒAppæ²¡æœ‰å›å¿†èµ·ä¸Šæ¬¡çš„ç™»å½•å¯†ç ã€‚ç°åœ¨åˆ©ç”¨å…±äº«å‚æ•°æ”¹é€ è¯¥é¡¹ç›®ï¼Œä½¿ä¹‹å®ç°è®°ä½å¯†ç çš„åŠŸèƒ½ã€‚</p><p>æ”¹é€ å†…å®¹ä¸»è¦æœ‰ä¸‹åˆ— 3 å¤„ï¼š</p><p>ï¼ˆ 1 ï¼‰å£°æ˜ä¸€ä¸ªå…±äº«å‚æ•°å¯¹è±¡ï¼Œå¹¶åœ¨onCreateä¸­è°ƒç”¨getSharedPreferencesæ–¹æ³•è·å–å…±äº«å‚æ•°çš„å®ä¾‹ã€‚</p><p>ï¼ˆ 2 ï¼‰ç™»å½•æˆåŠŸæ—¶ï¼Œå¦‚æœç”¨æˆ·å‹¾é€‰äº†â€œè®°ä½å¯†ç â€ï¼Œå°±ä½¿ç”¨å…±äº«å‚æ•°ä¿å­˜æ‰‹æœºå·ç ä¸å¯†ç ã€‚ä¹Ÿå°±æ˜¯åœ¨loginSuccessæ–¹æ³•ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\LoginShareActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å¦‚æœå‹¾é€‰äº†â€œè®°ä½å¯†ç â€ï¼Œå°±æŠŠæ‰‹æœºå·ç å’Œå¯†ç éƒ½ä¿å­˜åˆ°å…±äº«å‚æ•°ä¸­ </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isRemember<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">SharedPreferences<span class="token punctuation">.</span>Editor</span> editor <span class="token operator">=</span> mShared<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—ç¼–è¾‘å™¨çš„å¯¹è±¡</span>
   editor<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;phone&quot;</span><span class="token punctuation">,</span> et_phone<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ åå«phoneçš„æ‰‹æœºå·ç </span>
   editor<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> et_password<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ åå« </span>
passwordçš„å¯†ç 
   editor<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// äº¤ç¼–è¾‘å™¨ä¸­çš„ä¿®æ”¹ </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 3 ï¼‰å†æ¬¡æ‰“å¼€ç™»å½•é¡µé¢æ—¶ï¼ŒAppä»å…±äº«å‚æ•°è¯»å–æ‰‹æœºå·ç ä¸å¯†ç ï¼Œå¹¶è‡ªåŠ¨å¡«å…¥ç¼–è¾‘æ¡†ã€‚ä¹Ÿå°±æ˜¯åœ¨onCreateæ–¹æ³•ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»share_login.xmlè·å–å…±äº«å‚æ•°å¯¹è±¡</span>
mShared <span class="token operator">=</span> <span class="token function">getSharedPreferences</span><span class="token punctuation">(</span><span class="token string">&quot;share_login&quot;</span><span class="token punctuation">,</span> <span class="token constant">MODE_PRIVATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// è·å–å…±äº«å‚æ•°ä¿å­˜çš„æ‰‹æœºå·ç </span>
<span class="token class-name">String</span> phone <span class="token operator">=</span> mShared<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;phone&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// è·å–å…±äº«å‚æ•°ä¿å­˜çš„å¯†ç </span>
<span class="token class-name">String</span> password <span class="token operator">=</span> mShared<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
et_phone<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾€æ‰‹æœºå·ç ç¼–è¾‘æ¡†å¡«å†™ä¸Šæ¬¡ä¿å­˜çš„æ‰‹æœºå· </span>
et_password<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾€å¯†ç ç¼–è¾‘æ¡†å¡«å†™ä¸Šæ¬¡ä¿å­˜çš„å¯†ç </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç ä¿®æ”¹å®Œæ¯•ï¼Œåªè¦ç”¨æˆ·ä¸Šæ¬¡ç™»å½•æˆåŠŸæ—¶å‹¾é€‰â€œè®°ä½å¯†ç â€ï¼Œä¸‹æ¬¡è¿›å…¥ç™»å½•é¡µé¢åAppå°±ä¼šè‡ªåŠ¨å¡«å†™ä¸Šæ¬¡ç™»å½•çš„æ‰‹æœºå·ç ä¸å¯†ç ã€‚å…·ä½“çš„æ•ˆæœå¦‚å›¾6-3å’Œå›¾6-4æ‰€ç¤ºã€‚å…¶ä¸­ï¼Œå›¾6-3ä¸ºç”¨æˆ·é¦–æ¬¡ç™»å½•æˆåŠŸçš„ç•Œé¢ï¼Œæ­¤æ—¶å‹¾é€‰äº†â€œè®°ä½å¯†ç â€ï¼›å›¾6-4ä¸ºç”¨æˆ·å†æ¬¡è¿›å…¥ç™»å½•çš„ç•Œé¢ï¼Œå› ä¸ºä¸Šæ¬¡ç™»å½•æˆåŠŸæ—¶å·²ç»è®°ä½å¯†ç ï¼Œæ‰€ä»¥è¿™æ¬¡é¡µé¢ä¼šè‡ªåŠ¨å¡«å……ä¿å­˜çš„ç™»å½•ä¿¡æ¯ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061647750.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061647433.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><h3 id="_6-1-3-åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯»æ‰¾å…±äº«å‚æ•°æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_6-1-3-åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯»æ‰¾å…±äº«å‚æ•°æ–‡ä»¶" aria-hidden="true">#</a> 6.1.3ã€€åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯»æ‰¾å…±äº«å‚æ•°æ–‡ä»¶</h3><p>å‰é¢çš„â€œ6.1.1ã€€å…±äº«å‚æ•°çš„åŸºæœ¬ç”¨æ³•â€æåˆ°ï¼Œå‚æ•°æ–‡ä»¶çš„è·¯å¾„ä¸ºâ€œ/data/data/åº”ç”¨åŒ…å/shared_prefs/xxx.xmlâ€ï¼Œç„¶è€Œä½¿ç”¨æ‰‹æœºè‡ªå¸¦çš„æ–‡ä»¶ç®¡ç†å™¨å´æ‰¾ä¸åˆ°è¯¥è·¯å¾„ï¼Œdataä¸‹é¢åªæœ‰ç©ºç›®å½•è€Œå·²ã€‚è¿™æ˜¯å› ä¸ºæ‰‹æœºå‚å•†åŠ äº†å±‚ä¿æŠ¤ï¼Œä¸è®©ç”¨æˆ·æŸ¥çœ‹Appçš„æ ¸å¿ƒæ–‡ä»¶ï¼Œå¦åˆ™ä¸‡ä¸€ä¸å°å¿ƒè¯¯åˆ äº†ï¼ŒAppå²‚ä¸æ˜¯è¿è¡ŒæŠ¥é”™äº†ï¼Ÿå½“ç„¶ä½œä¸ºå¼€å‘è€…ï¼Œåªè¦æ‰“å¼€äº†æ‰‹æœºçš„USBè°ƒè¯•åŠŸèƒ½ï¼Œè¿˜æ˜¯æœ‰åŠæ³•æ‹¿åˆ°æµ‹è¯•åº”ç”¨çš„æ•°æ®æ–‡ä»¶ã€‚é¦–å…ˆæ‰“å¼€Android Studioï¼Œä¾æ¬¡é€‰æ‹©èœå•Runâ†’Run &#39;***&#39;ï¼ŒæŠŠæµ‹è¯•åº”ç”¨æ¯”å¦‚chapter06å®‰è£…åˆ°æ‰‹æœºä¸Šã€‚æ¥ç€å•å‡»Android Studioå·¦ä¸‹è§’çš„logcatæ ‡ç­¾ï¼Œæ‰¾åˆ°å·²è¿æ¥çš„æ‰‹æœºè®¾å¤‡å’Œæµ‹è¯•åº”ç”¨ï¼Œå¦‚å›¾6-5æ‰€ç¤ºã€‚æ³¨æ„åˆ°logcatçª—å£çš„å³è¾¹ï¼Œä¹Ÿå°±æ˜¯Android Studioå³ä¸‹è§’æœ‰ä¸ªç«–æ’æ ‡ç­¾â€œDevice File Explorerâ€ï¼Œç¿»è¯‘è¿‡æ¥å«è®¾å¤‡æ–‡ä»¶æµè§ˆå™¨ã€‚å•å‡»è¯¥æ ‡ç­¾æŒ‰é’®ï¼Œæ­¤æ—¶ä¸»ç•Œé¢å³è¾¹å¼¹å‡ºåä¸ºâ€œDevice File Explorerâ€çš„çª—å£ï¼Œå¦‚å›¾6-6</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061650804.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p>åœ¨å›¾6-6çš„çª—å£ä¸­ä¾æ¬¡å±•å¼€å„çº§ç›®å½•ï¼Œè¿›åˆ°/data/data/com.example.chapter06/shared_prefsç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹çœ‹åˆ°äº†å‚æ•°æ–‡ä»¶share.xmlã€‚å³å‡»share.xmlï¼Œå¹¶åœ¨å³é”®èœå•ä¸­é€‰æ‹©â€œSave Asâ€ï¼ŒæŠŠè¯¥æ–‡ä»¶ä¿å­˜åˆ°ç”µè„‘ä¸­ï¼Œä¹‹åå°±èƒ½æŸ¥çœ‹è¯¦ç»†çš„æ–‡ä»¶å†…å®¹äº†ã€‚ä¸ä»…å‚æ•°æ–‡ä»¶ï¼Œå‡¡æ˜¯ä¿å­˜åœ¨â€œ/data/data/åº”ç”¨åŒ…å/â€ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå‡å¯åˆ©ç”¨è®¾å¤‡æµè§ˆå™¨å¯¼å‡ºè‡³ç”µè„‘ï¼Œä¸‹ä¸€èŠ‚å°†è¦ä»‹ç»çš„æ•°æ®åº“dbæ–‡ä»¶ä¹Ÿå¯æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤å¯¼å‡ºã€‚</p><h2 id="_6-2-æ•°æ®åº“sqlite" tabindex="-1"><a class="header-anchor" href="#_6-2-æ•°æ®åº“sqlite" aria-hidden="true">#</a> 6.2ã€€æ•°æ®åº“SQLite</h2><p>æœ¬èŠ‚ä»‹ç»Androidçš„æ•°æ®åº“å­˜å‚¨æ–¹å¼â€”SQLiteçš„ä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼šSQLiteç”¨åˆ°äº†å“ªäº›SQLè¯­æ³•ï¼Œå¦‚ä½•ä½¿ç”¨æ•°æ®åº“ç®¡ç†å™¨æ“çºµSQLiteï¼Œå¦‚ä½•ä½¿ç”¨æ•°æ®åº“å¸®åŠ©å™¨ç®€åŒ–æ•°æ®åº“æ“ä½œç­‰ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨SQLiteæ”¹è¿›ç™»å½•é¡µé¢çš„è®°ä½å¯†ç åŠŸèƒ½ã€‚</p><h3 id="_6-2-1-sqlçš„åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_6-2-1-sqlçš„åŸºæœ¬è¯­æ³•" aria-hidden="true">#</a> 6.2.1 SQLçš„åŸºæœ¬è¯­æ³•</h3><p>SQLæœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒçš„å­¦åå«ä½œâ€œç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€â€ï¼ˆå…¨ç§°ä¸ºStructured Query Languageï¼Œç®€ç§°SQLï¼‰ã€‚ä¸è¿‡SQLè¯­è¨€å¹¶éé€šç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒä¸“ç”¨äºæ•°æ®åº“çš„è®¿é—®å’Œå¤„ç†ï¼Œæ›´åƒæ˜¯ä¸€ç§<strong>æ“ä½œå‘½ä»¤</strong>ï¼Œæ‰€ä»¥å¸¸è¯´SQLè¯­å¥è€Œä¸è¯´SQLä»£ç ã€‚æ ‡å‡†çš„SQLè¯­å¥åˆ†ä¸º 3 ç±»ï¼šæ•°æ®å®šä¹‰ã€æ•°æ®æ“çºµå’Œæ•°æ®æ§åˆ¶ï¼Œä½†ä¸åŒçš„æ•°æ®åº“å¾€å¾€æœ‰è‡ªå·±çš„å®ç°ã€‚SQLiteæ˜¯ä¸€ç§å°å·§çš„åµŒå…¥å¼æ•°æ®åº“ï¼Œä½¿ç”¨æ–¹ä¾¿ã€å¼€å‘ç®€å•ã€‚å¦‚åŒMySQLã€Oracleé‚£æ ·ï¼ŒSQLiteä¹Ÿé‡‡ç”¨SQLè¯­å¥ç®¡ç†æ•°æ®ï¼Œç”±äºå®ƒå±äºè½»å‹æ•°æ®åº“ï¼Œä¸æ¶‰åŠå¤æ‚çš„æ•°æ®æ§åˆ¶æ“ä½œï¼Œå› æ­¤Appå¼€å‘åªç”¨åˆ°æ•°æ®å®šä¹‰å’Œæ•°æ®æ“çºµä¸¤ç±»SQLã€‚æ­¤å¤–ï¼ŒSQLiteçš„SQLè¯­æ³•ä¸é€šç”¨çš„SQLè¯­æ³•ç•¥æœ‰ä¸åŒï¼Œæ¥ä¸‹æ¥ä»‹ç»çš„ä¸¤ç±»SQLè¯­ æ³•å…¨éƒ¨åŸºäºSQLiteã€‚</p><p><strong>1 ï¼æ•°æ®å®šä¹‰è¯­è¨€</strong></p><p>æ•°æ®å®šä¹‰è¯­è¨€å…¨ç§°Data Definition Languageï¼Œç®€ç§°DDLï¼Œå®ƒæè¿°äº†æ€æ ·å˜æ›´æ•°æ®å®ä½“çš„æ¡†æ¶ç»“æ„ã€‚å°±SQLiteè€Œè¨€ï¼ŒDDLè¯­è¨€ä¸»è¦åŒ…æ‹¬ 3 ç§æ“ä½œï¼šåˆ›å»ºè¡¨æ ¼ã€åˆ é™¤è¡¨æ ¼ã€ä¿®æ”¹è¡¨ç»“æ„ï¼Œåˆ†åˆ«è¯´æ˜å¦‚ä¸‹ã€‚</p><p>ï¼ˆ 1 ï¼‰åˆ›å»ºè¡¨æ ¼</p><p>è¡¨æ ¼çš„åˆ›å»ºåŠ¨ä½œç”±createå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œCREATE TABLE IF NOT EXISTSã€€è¡¨æ ¼åç§°ï¼ˆä»¥é€—å·åˆ†éš”çš„å„å­—æ®µå®šä¹‰ï¼‰ï¼›â€ã€‚ä»¥ç”¨æˆ·ä¿¡æ¯è¡¨ä¸ºä¾‹ï¼Œå®ƒçš„å»ºè¡¨è¯­å¥å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>CREATE TABLE IF NOT EXISTS user_info (
_id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, 
Â  name VARCHAR NOT NULL,
Â  age INTEGER NOT NULL, 
Â  height LONG NOT NULL, 
Â  weight FLOAT NOT NULL,
married INTEGER NOT NULL,
Â  update_time VARCHAR NOT NULL);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„SQLè¯­æ³•ä¸å…¶ä»–æ•°æ®åº“çš„SQLè¯­æ³•æœ‰æ‰€å‡ºå…¥ï¼Œç›¸å…³çš„æ³¨æ„ç‚¹è¯´æ˜è§ä¸‹ï¼š</p><p>â‘ SQLè¯­å¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œæ— è®ºæ˜¯createä¸tableè¿™ç±»å…³é”®è¯ï¼Œè¿˜æ˜¯è¡¨æ ¼åç§°ã€å­—æ®µåç§°ï¼Œéƒ½ä¸åŒºåˆ†å¤§å°å†™ã€‚å”¯ä¸€åŒºåˆ†å¤§å°å†™çš„æ˜¯è¢«å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²å€¼ã€‚</p><p>â‘¡ä¸ºé¿å…é‡å¤å»ºè¡¨ï¼Œåº”åŠ ä¸ŠIF NOT EXISTSå…³é”®è¯ï¼Œä¾‹å¦‚CREATE TABLE IF NOT EXISTSã€€è¡¨æ ¼åç§°......</p><p>â‘¢SQLiteæ”¯æŒæ•´å‹INTEGERã€é•¿æ•´å‹LONGã€å­—ç¬¦ä¸²VARCHARã€æµ®ç‚¹æ•°FLOATï¼Œä½†<strong>ä¸æ”¯æŒå¸ƒå°”ç±»å‹</strong>ã€‚å¸ƒå°”ç±»å‹çš„æ•°æ®è¦ä½¿ç”¨æ•´å‹ä¿å­˜ï¼Œå¦‚æœç›´æ¥ä¿å­˜å¸ƒå°”æ•°æ®ï¼Œåœ¨å…¥åº“æ—¶SQLiteä¼šè‡ªåŠ¨å°†å®ƒè½¬ä¸º 0 æˆ– 1 ï¼Œå…¶ä¸­ 0 è¡¨ç¤ºfalseï¼Œ 1 è¡¨ç¤ºtrueã€‚</p><p>â‘£å»ºè¡¨æ—¶éœ€è¦å”¯ä¸€æ ‡è¯†å­—æ®µï¼Œå®ƒçš„å­—æ®µåä¸º id ã€‚åˆ›å»ºæ–°è¡¨éƒ½è¦åŠ ä¸Šè¯¥å­—æ®µå®šä¹‰ï¼Œä¾‹å¦‚id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULLã€‚</p><p>ï¼ˆ 2 ï¼‰åˆ é™¤è¡¨æ ¼</p><p>è¡¨æ ¼çš„åˆ é™¤åŠ¨ä½œç”±dropå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œDROP TABLE IF EXISTSã€€è¡¨æ ¼åç§°;â€ã€‚ä¸‹é¢æ˜¯åˆ é™¤ç”¨æˆ·</p><p>ä¿¡æ¯è¡¨çš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>DROP TABLE IF EXISTS user_info; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ 3 ï¼‰ä¿®æ”¹è¡¨ç»“æ„</p><p>è¡¨æ ¼çš„ä¿®æ”¹åŠ¨ä½œç”±alterå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œALTER TABLEã€€è¡¨æ ¼åç§°ã€€ä¿®æ”¹æ“ä½œ;â€ã€‚ä¸è¿‡SQLite åªæ”¯æŒå¢åŠ å­—æ®µ ï¼Œä¸æ”¯æŒä¿®æ”¹å­—æ®µï¼Œä¹Ÿä¸æ”¯æŒåˆ é™¤å­—æ®µã€‚å¯¹äºå­—æ®µå¢åŠ æ“ä½œï¼Œéœ€è¦åœ¨alterä¹‹åè¡¥å……addå‘½ä»¤ï¼Œå…·ä½“æ ¼å¼å¦‚â€œALTER TABLEã€€è¡¨æ ¼åç§°ã€€ADD COLUMNã€€å­—æ®µåç§°ã€€å­—æ®µç±»å‹;â€ã€‚ä¸‹é¢æ˜¯ç»™ç”¨æˆ·ä¿¡æ¯è¡¨å¢åŠ æ‰‹æœºå·å­—æ®µçš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>ALTER TABLE user_info ADD COLUMN phone VARCHAR;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„ï¼ŒSQLiteçš„ALTERè¯­å¥æ¯æ¬¡åªèƒ½æ·»åŠ ä¸€åˆ—å­—æ®µï¼Œè‹¥è¦æ·»åŠ å¤šåˆ—ï¼Œå°±å¾—åˆ†å¤šæ¬¡æ·»åŠ ã€‚</p><p><strong>2 ï¼æ•°æ®æ“çºµè¯­è¨€</strong></p><p>æ•°æ®æ“çºµè¯­è¨€å…¨ç§°Data Manipulation Languageï¼Œç®€ç§°DMLï¼Œå®ƒæè¿°äº†æ€æ ·å¤„ç†æ•°æ®å®ä½“çš„å†…éƒ¨è®°å½•ã€‚è¡¨æ ¼è®°å½•çš„æ“ä½œç±»å‹åŒ…æ‹¬æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ 4 ç±»ï¼Œåˆ†åˆ«è¯´æ˜å¦‚ä¸‹ï¼š</p><p>ï¼ˆ 1 ï¼‰æ·»åŠ è®°å½•</p><p>è®°å½•çš„æ·»åŠ åŠ¨ä½œç”±insertå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œINSERT INTOã€€è¡¨æ ¼åç§°ï¼ˆä»¥é€—å·åˆ†éš”çš„å­—æ®µååˆ—è¡¨ï¼‰VALUESã€€ï¼ˆä»¥é€—å·åˆ†éš”çš„å­—æ®µå€¼åˆ—è¡¨ï¼‰ï¼›â€ã€‚ä¸‹é¢æ˜¯å¾€ç”¨æˆ·ä¿¡æ¯è¡¨æ’å…¥ä¸€æ¡è®°å½•çš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>INSERT INTO user_info (name,age,height,weight,married,update_time) 
VALUES (&#39;å¼ ä¸‰&#39;,20,170,50,0,&#39;20200504&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 2 ï¼‰åˆ é™¤è®°å½•</p><p>è®°å½•çš„åˆ é™¤åŠ¨ä½œç”±deleteå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œDELETE FROMã€€è¡¨æ ¼åç§°ã€€WHEREã€€æŸ¥è¯¢æ¡ä»¶;â€ï¼Œå…¶ä¸­æŸ¥è¯¢æ¡ä»¶çš„è¡¨è¾¾å¼å½¢å¦‚â€œå­—æ®µå=å­—æ®µå€¼â€ï¼Œå¤šä¸ªå­—æ®µçš„æ¡ä»¶äº¤é›†é€šè¿‡â€œANDâ€è¿æ¥ï¼Œæ¡ä»¶å¹¶é›†é€šè¿‡â€œORâ€è¿æ¥ã€‚ä¸‹é¢æ˜¯ä»ç”¨æˆ·ä¿¡æ¯è¡¨åˆ é™¤æŒ‡å®šè®°å½•çš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>DELETE FROM user_info WHERE name=&#39;å¼ ä¸‰&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ 3 ï¼‰ä¿®æ”¹è®°å½•</p><p>è®°å½•çš„ä¿®æ”¹åŠ¨ä½œç”±updateå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œUPDATEã€€è¡¨æ ¼åç§°ã€€SETã€€å­—æ®µå=å­—æ®µå€¼ WHEREã€€æŸ¥è¯¢æ¡ä»¶;â€ã€‚ä¸‹é¢æ˜¯å¯¹ç”¨æˆ·ä¿¡æ¯è¡¨æ›´æ–°æŒ‡å®šè®°å½•çš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>UPDATE user_info SET married=1 WHERE name=&#39;å¼ ä¸‰&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ 4 ï¼‰æŸ¥è¯¢è®°å½•</p><p>è®°å½•çš„æŸ¥è¯¢åŠ¨ä½œç”±selectå‘½ä»¤å®Œæˆï¼Œæ ¼å¼ä¸ºâ€œSELECTã€€ä»¥é€—å·åˆ†éš”çš„å­—æ®µååˆ—è¡¨ã€€FROMã€€è¡¨æ ¼åç§°WHEREã€€æŸ¥è¯¢æ¡ä»¶;â€ã€‚å¦‚æœå­—æ®µååˆ—è¡¨å¡«æ˜Ÿå·â€œ*â€ï¼Œåˆ™è¡¨ç¤ºæŸ¥è¯¢è¯¥è¡¨çš„æ‰€æœ‰å­—æ®µã€‚ä¸‹é¢æ˜¯ä»ç”¨æˆ·ä¿¡æ¯è¡¨æŸ¥è¯¢æŒ‡å®šè®°å½•çš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>SELECT name FROM user_info WHERE name=&#39;å¼ ä¸‰&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥è¯¢æ“ä½œé™¤äº†æ¯”è¾ƒå­—æ®µå€¼æ¡ä»¶ä¹‹å¤–ï¼Œå¸¸å¸¸éœ€è¦å¯¹æŸ¥è¯¢ç»“æœæ’åºï¼Œæ­¤æ—¶è¦åœ¨æŸ¥è¯¢æ¡ä»¶åé¢æ·»åŠ æ’åºæ¡ä»¶ï¼Œå¯¹åº”çš„è¡¨è¾¾å¼ä¸ºâ€œORDER BYã€€å­—æ®µåã€€ASCæˆ–è€…DESCâ€ï¼Œæ„æŒ‡å¯¹æŸ¥è¯¢ç»“æœæŒ‰ç…§æŸä¸ªå­—æ®µæ’åºï¼Œå…¶ä¸­ASCä»£è¡¨å‡åºï¼ŒDESCä»£è¡¨é™åºã€‚ä¸‹é¢æ˜¯æŸ¥è¯¢è®°å½•å¹¶å¯¹ç»“æœæ’åºçš„SQLè¯­å¥ä¾‹å­ï¼š</p><div class="language-sqlite ext-sqlite line-numbers-mode"><pre class="language-sqlite"><code>SELECT * FROM user_info ORDER BY age ASC;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœè¯»è€…ä¹‹å‰ä¸ç†Ÿæ‚‰SQLè¯­æ³•ï¼Œå»ºè®®ä¸‹è½½ä¸€ä¸ªSQLiteç®¡ç†è½¯ä»¶ï¼Œè­¬å¦‚SQLiteStudioï¼Œå…ˆåœ¨ç”µè„‘ä¸Šå¤šåŠ ç»ƒä¹ SQLiteçš„å¸¸è§æ“ä½œè¯­å¥ã€‚</p><h3 id="_6-2-2-æ•°æ®åº“ç®¡ç†å™¨sqlitedatabase" tabindex="-1"><a class="header-anchor" href="#_6-2-2-æ•°æ®åº“ç®¡ç†å™¨sqlitedatabase" aria-hidden="true">#</a> 6.2.2ã€€æ•°æ®åº“ç®¡ç†å™¨SQLiteDatabase</h3><p>SQLè¯­å¥æ¯•ç«Ÿåªæ˜¯SQLå‘½ä»¤ï¼Œè‹¥è¦åœ¨Javaä»£ç ä¸­æ“çºµSQLiteï¼Œè¿˜éœ€ä¸“é—¨çš„å·¥å…·ç±»ã€‚SQLiteDatabaseä¾¿æ˜¯Androidæä¾›çš„SQLiteæ•°æ®åº“ç®¡ç†å™¨ï¼Œå¼€å‘è€…å¯ä»¥åœ¨æ´»åŠ¨é¡µé¢ä»£ç è°ƒç”¨openOrCreateDatabaseæ–¹æ³•è·å–æ•°æ®åº“å®ä¾‹ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\DatabaseActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// åˆ›å»ºåä¸ºtest.dbçš„æ•°æ®åº“ã€‚æ•°æ®åº“å¦‚æœä¸å­˜åœ¨å°±åˆ›å»ºå®ƒï¼Œå¦‚æœå­˜åœ¨å°±æ‰“å¼€å®ƒ </span>
<span class="token class-name">SQLiteDatabase</span> db <span class="token operator">=</span> <span class="token function">openOrCreateDatabase</span><span class="token punctuation">(</span><span class="token function">getFilesDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/test.db&quot;</span><span class="token punctuation">,</span> 
<span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">MODE_PRIVATE</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;æ•°æ®åº“%såˆ›å»º%s&quot;</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>db<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token string">&quot;æˆåŠŸ&quot;</span><span class="token operator">:</span>&quot;å¤± 
è´¥&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
tv_database<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// deleteDatabase(getFilesDir() + &quot;/test.db&quot;); // åˆ é™¤åä¸ºtest.dbæ•°æ®åº“</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–æ¬¡è¿è¡Œæµ‹è¯•Appï¼Œè°ƒç”¨openOrCreateDatabaseæ–¹æ³•ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼Œå¹¶è¿”å›è¯¥æ•°æ®åº“çš„ç®¡ç†å™¨å®ä¾‹ï¼Œåˆ›å»ºç»“æœå¦‚å›¾6-7æ‰€ç¤ºã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061718642.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><p>è·å¾—æ•°æ®åº“å®ä¾‹ä¹‹åï¼Œå°±èƒ½å¯¹è¯¥æ•°æ®åº“å¼€å±•å„é¡¹æ“ä½œäº†ã€‚æ•°æ®åº“ç®¡ç†å™¨SQLiteDatabaseæä¾›äº†è‹¥å¹²æ“ä½œæ•°æ®è¡¨çš„APIï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰ 3 ç±»ï¼Œåˆ—ä¸¾å¦‚ä¸‹ï¼š</p><p><strong>1 ï¼ç®¡ç†ç±»ï¼Œç”¨äºæ•°æ®åº“å±‚é¢çš„æ“ä½œ</strong></p><ul><li><p>openDatabaseï¼šæ‰“å¼€æŒ‡å®šè·¯å¾„çš„æ•°æ®åº“ã€‚</p></li><li><p>isOpenï¼šåˆ¤æ–­æ•°æ®åº“æ˜¯å¦å·²æ‰“å¼€ã€‚</p></li><li><p>closeï¼šå…³é—­æ•°æ®åº“ã€‚</p></li><li><p>getVersionï¼šè·å–æ•°æ®åº“çš„ç‰ˆæœ¬å·ã€‚</p></li><li><p>setVersionï¼šè®¾ç½®æ•°æ®åº“çš„ç‰ˆæœ¬å·ã€‚</p><p><strong>2 ï¼äº‹åŠ¡ç±»ï¼Œç”¨äºäº‹åŠ¡å±‚é¢çš„æ“ä½œ</strong></p></li><li><p>beginTransactionï¼šå¼€å§‹äº‹åŠ¡ã€‚</p></li><li><p>setTransactionSuccessfulï¼šè®¾ç½®äº‹åŠ¡çš„æˆåŠŸæ ‡å¿—ã€‚</p></li><li><p>endTransactionï¼šç»“æŸäº‹åŠ¡ã€‚æ‰§è¡Œæœ¬æ–¹æ³•æ—¶ï¼Œç³»ç»Ÿä¼šåˆ¤æ–­ä¹‹å‰æ˜¯å¦è°ƒç”¨äº†</p></li><li><p>setTransactionSuccessfulæ–¹æ³•ï¼Œå¦‚æœä¹‹å‰å·²è°ƒç”¨è¯¥æ–¹æ³•å°±æäº¤äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰è°ƒç”¨è¯¥æ–¹æ³•å°±å›æ»šäº‹åŠ¡ã€‚</p><p><strong>3 ï¼æ•°æ®å¤„ç†ç±»ï¼Œç”¨äºæ•°æ®è¡¨å±‚é¢çš„æ“ä½œ</strong></p></li><li><p>execSQLï¼šæ‰§è¡Œæ‹¼æ¥å¥½çš„SQLæ§åˆ¶è¯­å¥ã€‚ä¸€èˆ¬ç”¨äºå»ºè¡¨ã€åˆ è¡¨ã€å˜æ›´è¡¨ç»“æ„ã€‚</p></li><li><p>deleteï¼šåˆ é™¤ç¬¦åˆæ¡ä»¶çš„è®°å½•ã€‚</p></li><li><p>updateï¼šæ›´æ–°ç¬¦åˆæ¡ä»¶çš„è®°å½•ä¿¡æ¯ã€‚</p></li><li><p>insertï¼šæ’å…¥ä¸€æ¡è®°å½•ã€‚</p></li><li><p>queryï¼šæ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œå¹¶è¿”å›ç»“æœé›†çš„æ¸¸æ ‡ã€‚</p></li><li><p>rawQueryï¼šæ‰§è¡Œæ‹¼æ¥å¥½çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œå¹¶è¿”å›ç»“æœé›†çš„æ¸¸æ ‡ã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¯”è¾ƒç»å¸¸ç”¨åˆ°çš„æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œå»ºè®®å…ˆå†™å¥½æŸ¥è¯¢æ“ä½œçš„selectè¯­å¥ï¼Œå†è°ƒç”¨rawQueryæ–¹æ³•</p><p>æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ã€‚</p></li></ul><h3 id="_6-2-3-æ•°æ®åº“å¸®åŠ©å™¨sqliteopenhelper" tabindex="-1"><a class="header-anchor" href="#_6-2-3-æ•°æ®åº“å¸®åŠ©å™¨sqliteopenhelper" aria-hidden="true">#</a> 6.2.3ã€€æ•°æ®åº“å¸®åŠ©å™¨SQLiteOpenHelper</h3><p>ç”±äºSQLiteDatabaseå­˜åœ¨å±€é™æ€§ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šé‡å¤æ‰“å¼€æ•°æ®åº“ï¼Œå¤„ç†æ•°æ®åº“çš„å‡çº§ä¹Ÿä¸æ–¹ä¾¿ï¼›å› æ­¤Androidæä¾›äº†æ•°æ®åº“å¸®åŠ©å™¨SQLiteOpenHelperï¼Œå¸®åŠ©å¼€å‘è€…åˆç†ä½¿ç”¨SQLiteã€‚</p><p>SQLiteOpenHelperçš„å…·ä½“ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p><p><strong>æ­¥éª¤ä¸€</strong>ï¼Œæ–°å»ºä¸€ä¸ªç»§æ‰¿è‡ªSQLiteOpenHelperçš„æ•°æ®åº“æ“ä½œç±»ï¼ŒæŒ‰æç¤ºé‡å†™onCreateå’ŒonUpgradeä¸¤ä¸ªæ–¹æ³•ã€‚å…¶ä¸­ï¼ŒonCreateæ–¹æ³•åªåœ¨ç¬¬ä¸€æ¬¡æ‰“å¼€æ•°æ®åº“æ—¶æ‰§è¡Œï¼Œåœ¨æ­¤å¯ä»¥åˆ›å»ºè¡¨ç»“æ„ï¼›è€ŒonUpgradeæ–¹æ³•åœ¨æ•°æ®åº“ç‰ˆæœ¬å‡é«˜æ—¶æ‰§è¡Œï¼Œåœ¨æ­¤å¯ä»¥æ ¹æ®æ–°æ—§ç‰ˆæœ¬å·å˜æ›´è¡¨ç»“æ„ã€‚</p><p><strong>æ­¥éª¤äºŒ</strong>ï¼Œä¸ºä¿è¯æ•°æ®åº“å®‰å…¨ä½¿ç”¨ï¼Œéœ€è¦å°è£…å‡ ä¸ªå¿…è¦æ–¹æ³•ï¼ŒåŒ…æ‹¬è·å–å•ä¾‹å¯¹è±¡ã€æ‰“å¼€æ•°æ®åº“è¿æ¥ã€å…³é—­æ•°æ®åº“è¿æ¥ï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li><p>è·å–å•ä¾‹å¯¹è±¡ï¼šç¡®ä¿åœ¨Appè¿è¡Œè¿‡ç¨‹ä¸­æ•°æ®åº“åªä¼šæ‰“å¼€ä¸€æ¬¡ï¼Œé¿å…é‡å¤æ‰“å¼€å¼•èµ·é”™è¯¯ã€‚</p></li><li><p>æ‰“å¼€æ•°æ®åº“è¿æ¥ï¼šSQLiteæœ‰é”æœºåˆ¶ï¼Œå³è¯»é”å’Œå†™é”çš„å¤„ç†ï¼›æ•…è€Œæ•°æ®åº“è¿æ¥ä¹Ÿåˆ†ä¸¤ç§ï¼Œè¯»è¿æ¥å¯è°ƒç”¨getReadableDatabaseæ–¹æ³•è·å¾—ï¼Œå†™è¿æ¥å¯è°ƒç”¨getWritableDatabaseè·å¾—ã€‚</p></li><li><p>å…³é—­æ•°æ®åº“è¿æ¥ï¼šæ•°æ®åº“æ“ä½œå®Œæ¯•ï¼Œè°ƒç”¨æ•°æ®åº“å®ä¾‹çš„closeæ–¹æ³•å…³é—­è¿æ¥ã€‚</p></li></ul><p><strong>æ­¥éª¤ä¸‰</strong>ï¼Œ æä¾›å¯¹è¡¨è®°å½•å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢çš„æ“ä½œæ–¹æ³•ã€‚ èƒ½è¢«SQLiteç›´æ¥ä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯ContentValuesç±»ï¼Œå®ƒç±»ä¼¼äºæ˜ å°„Mapï¼Œä¹Ÿæä¾›äº†putå’Œgetæ–¹æ³•å­˜å–é”®å€¼å¯¹ã€‚åŒºåˆ«ä¹‹å¤„åœ¨äºï¼šContentValuesçš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ã€‚ContentValuesä¸»è¦ç”¨äºå¢åŠ è®°å½•å’Œæ›´æ–°è®°å½•ï¼Œå¯¹åº”æ•°æ®åº“çš„insertå’Œupdateæ–¹æ³•ã€‚è®°å½•çš„æŸ¥è¯¢æ“ä½œç”¨åˆ°äº†æ¸¸æ ‡ç±»Cursorï¼Œè°ƒç”¨queryå’ŒrawQueryæ–¹æ³•è¿”å›çš„éƒ½æ˜¯Cursorå¯¹è±¡ï¼Œè‹¥è¦è·å–å…¨éƒ¨çš„æŸ¥è¯¢ç»“æœï¼Œåˆ™éœ€æ ¹æ®æ¸¸æ ‡çš„æŒ‡ç¤ºä¸€æ¡ä¸€æ¡éå†ç»“æœé›†åˆã€‚Cursorçš„å¸¸ç”¨æ–¹æ³•å¯åˆ†ä¸º 3 ç±»ï¼Œè¯´æ˜å¦‚ä¸‹ï¼š</p><p><strong>1 ï¼æ¸¸æ ‡æ§åˆ¶ç±»æ–¹æ³•ï¼Œç”¨äºæŒ‡å®šæ¸¸æ ‡çš„çŠ¶æ€</strong></p><ul><li><p>closeï¼šå…³é—­æ¸¸æ ‡ã€‚</p></li><li><p>isClosedï¼šåˆ¤æ–­æ¸¸æ ‡æ˜¯å¦å…³é—­ã€‚</p></li><li><p>isFirstï¼šåˆ¤æ–­æ¸¸æ ‡æ˜¯å¦åœ¨å¼€å¤´ã€‚</p></li><li><p>isLastï¼šåˆ¤æ–­æ¸¸æ ‡æ˜¯å¦åœ¨æœ«å°¾ã€‚</p></li></ul><p><strong>2 ï¼æ¸¸æ ‡ç§»åŠ¨ç±»æ–¹æ³•ï¼ŒæŠŠæ¸¸æ ‡ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®</strong></p><ul><li><p>moveToFirstï¼šç§»åŠ¨æ¸¸æ ‡åˆ°å¼€å¤´ã€‚</p></li><li><p>moveToLastï¼šç§»åŠ¨æ¸¸æ ‡åˆ°æœ«å°¾ã€‚</p></li><li><p>moveToNextï¼šç§»åŠ¨æ¸¸æ ‡åˆ°ä¸‹ä¸€æ¡è®°å½•ã€‚</p></li><li><p>moveToPreviousï¼šç§»åŠ¨æ¸¸æ ‡åˆ°ä¸Šä¸€æ¡è®°å½•ã€‚</p></li><li><p>moveï¼šå¾€åç§»åŠ¨æ¸¸æ ‡è‹¥å¹²æ¡è®°å½•ã€‚</p></li><li><p>moveToPositionï¼šç§»åŠ¨æ¸¸æ ‡åˆ°æŒ‡å®šä½ç½®çš„è®°å½•ã€‚</p></li></ul><p><strong>3 ï¼è·å–è®°å½•ç±»æ–¹æ³•ï¼Œå¯è·å–è®°å½•çš„æ•°é‡ã€ç±»å‹ä»¥åŠå–å€¼</strong></p><ul><li><p>getCountï¼šè·å–ç»“æœè®°å½•çš„æ•°é‡ã€‚</p></li><li><p>getIntï¼šè·å–æŒ‡å®šå­—æ®µçš„æ•´å‹å€¼ã€‚</p></li><li><p>getLongï¼šè·å–æŒ‡å®šå­—æ®µçš„é•¿æ•´å‹å€¼ã€‚</p></li><li><p>getFloatï¼šè·å–æŒ‡å®šå­—æ®µçš„æµ®ç‚¹æ•°å€¼ã€‚</p></li><li><p>getStringï¼šè·å–æŒ‡å®šå­—æ®µçš„å­—ç¬¦ä¸²å€¼ã€‚</p></li><li><p>getTypeï¼šè·å–æŒ‡å®šå­—æ®µçš„å­—æ®µç±»å‹ã€‚</p></li></ul><p>é‰´äºæ•°æ®åº“æ“ä½œçš„ç‰¹æ®Šæ€§ï¼Œä¸æ–¹ä¾¿å•ç‹¬æ¼”ç¤ºæŸä¸ªåŠŸèƒ½ï¼Œæ¥ä¸‹æ¥ä»åˆ›å»ºæ•°æ®åº“å¼€å§‹ä»‹ç»ï¼Œå®Œæ•´æ¼”ç¤ºä¸€ä¸‹æ•°æ®åº“çš„è¯»å†™æ“ä½œã€‚ç”¨æˆ·æ³¨å†Œä¿¡æ¯çš„æ¼”ç¤ºé¡µé¢åŒ…æ‹¬ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯è®°å½•ä¿å­˜é¡µé¢å’Œè®°å½•è¯»å–é¡µé¢ï¼Œå…¶ä¸­è®°å½•ä¿å­˜é¡µé¢é€šè¿‡insertæ–¹æ³•å‘æ•°æ®åº“æ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼Œå®Œæ•´ä»£ç è§ chapter06\src\main\java\com\example\chapter06\SQLiteHelperActivity.javaï¼›è€Œè®°å½•è¯»å–é¡µé¢é€šè¿‡queryæ–¹æ³•ä»æ•°æ®åº“è¯»å–ç”¨æˆ·ä¿¡æ¯ï¼Œå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\SQLiteHelperActivity.javaã€‚è¿è¡Œæµ‹è¯•Appï¼Œå…ˆæ‰“å¼€è®°å½•ä¿å­˜é¡µé¢ï¼Œä¾æ¬¡å½•å…¥å¹¶å°†ä¸¤ä¸ªç”¨æˆ·çš„æ³¨å†Œä¿¡æ¯ä¿å­˜è‡³æ•°æ®åº“ï¼Œå¦‚å›¾6-8å’Œå›¾6-9 æ‰€ç¤ºã€‚å†æ‰“å¼€è®°å½•è¯»å–é¡µé¢ï¼Œä»æ•°æ®åº“è¯»å–ç”¨æˆ·æ³¨å†Œä¿¡æ¯å¹¶å±•ç¤ºåœ¨é¡µé¢ä¸Šï¼Œå¦‚å›¾6-10æ‰€ç¤ºã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061730004.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061730447.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><p>ä¸Šè¿°æ¼”ç¤ºé¡µé¢ä¸»è¦ç”¨åˆ°äº†æ•°æ®åº“è®°å½•çš„æ·»åŠ ã€æŸ¥è¯¢å’Œåˆ é™¤æ“ä½œï¼Œå¯¹åº”çš„æ•°æ®åº“å¸®åŠ©å™¨å…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œå°¤å…¶å…³æ³¨é‡Œé¢çš„insertã€deleteã€updateå’Œqueryæ–¹æ³•ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\database\UserDBHelper.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>dongnaoedu<span class="token punctuation">.</span>chapter06<span class="token punctuation">.</span>database</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContentValues</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Context</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span></span><span class="token class-name">Cursor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span>sqlite<span class="token punctuation">.</span></span><span class="token class-name">SQLiteDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>database<span class="token punctuation">.</span>sqlite<span class="token punctuation">.</span></span><span class="token class-name">SQLiteOpenHelper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">WindowAnimationFrameStats</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>dongnaoedu<span class="token punctuation">.</span>chapter06<span class="token punctuation">.</span>enity<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDBHelper</span> <span class="token keyword">extends</span> <span class="token class-name">SQLiteOpenHelper</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">DB_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;user.db&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;user_info&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">DB_VERSION</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">UserDBHelper</span> mHelper <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SQLiteDatabase</span> mRDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">SQLiteDatabase</span> mWDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">UserDBHelper</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token constant">DB_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token constant">DB_VERSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// åˆ©ç”¨å•ä¾‹æ¨¡å¼è·å–æ•°æ®åº“å¸®åŠ©å™¨çš„å”¯ä¸€å®ä¾‹</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserDBHelper</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mHelper <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mHelper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDBHelper</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mHelper<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ‰“å¼€æ•°æ®åº“çš„è¯»è¿æ¥</span>
    <span class="token keyword">public</span> <span class="token class-name">SQLiteDatabase</span> <span class="token function">openReadLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mRDB <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>mRDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mRDB <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">getReadableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mRDB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ‰“å¼€æ•°æ®åº“çš„å†™è¿æ¥</span>
    <span class="token keyword">public</span> <span class="token class-name">SQLiteDatabase</span> <span class="token function">openWriteLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mWDB <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>mWDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mWDB <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">getWritableDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mWDB<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å…³é—­æ•°æ®åº“è¿æ¥</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">closeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mRDB <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> mRDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mRDB<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mRDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>mWDB <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> mWDB<span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mWDB<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mWDB <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// åˆ›å»ºæ•°æ®åº“ï¼Œæ‰§è¡Œå»ºè¡¨è¯­å¥</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase</span> db<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CREATE TABLE IF NOT EXISTS &quot;</span> <span class="token operator">+</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">+</span> <span class="token string">&quot; (&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;_id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; name VARCHAR NOT NULL,&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; age INTEGER NOT NULL,&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; height LONG NOT NULL,&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; weight FLOAT NOT NULL,&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; married INTEGER NOT NULL);&quot;</span><span class="token punctuation">;</span>
        db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å‡çº§æ•°æ®åº“ä¼šæ‰§è¡Œ</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onUpgrade</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase</span> db<span class="token punctuation">,</span> <span class="token keyword">int</span> oldVersion<span class="token punctuation">,</span> <span class="token keyword">int</span> newVersion<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;ALTER TABLE &quot;</span> <span class="token operator">+</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">+</span> <span class="token string">&quot; ADD COLUMN phone VARCHAR;&quot;</span><span class="token punctuation">;</span>
        db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sql <span class="token operator">=</span> <span class="token string">&quot;ALTER TABLE &quot;</span> <span class="token operator">+</span> <span class="token constant">TABLE_NAME</span> <span class="token operator">+</span> <span class="token string">&quot; ADD COLUMN password VARCHAR;&quot;</span><span class="token punctuation">;</span>
        db<span class="token punctuation">.</span><span class="token function">execSQL</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;weight&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>married<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œæ’å…¥è®°å½•åŠ¨ä½œï¼Œè¯¥è¯­å¥è¿”å›æ’å…¥è®°å½•çš„è¡Œå·</span>
        <span class="token comment">// å¦‚æœç¬¬ä¸‰ä¸ªå‚æ•°values ä¸ºNullæˆ–è€…å…ƒç´ ä¸ªæ•°ä¸º0ï¼Œ ç”±äºinsert()æ–¹æ³•è¦æ±‚å¿…é¡»æ·»åŠ ä¸€æ¡é™¤äº†ä¸»é”®ä¹‹å¤–å…¶å®ƒå­—æ®µä¸ºNullå€¼çš„è®°å½•ï¼Œ</span>
        <span class="token comment">// ä¸ºäº†æ»¡è¶³SQLè¯­æ³•çš„éœ€è¦ï¼Œ insertè¯­å¥å¿…é¡»ç»™å®šä¸€ä¸ªå­—æ®µå ï¼Œå¦‚ï¼šinsert into person(name) values(NULL)ï¼Œ</span>
        <span class="token comment">// å€˜è‹¥ä¸ç»™å®šå­—æ®µå ï¼Œ insertè¯­å¥å°±æˆäº†è¿™æ ·ï¼š insert into person() values()ï¼Œæ˜¾ç„¶è¿™ä¸æ»¡è¶³æ ‡å‡†SQLçš„è¯­æ³•ã€‚</span>
        <span class="token comment">// å¦‚æœç¬¬ä¸‰ä¸ªå‚æ•°values ä¸ä¸ºNullå¹¶ä¸”å…ƒç´ çš„ä¸ªæ•°å¤§äº0 ï¼Œå¯ä»¥æŠŠç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸ºnull ã€‚</span>
        <span class="token comment">//return mWDB.insert(TABLE_NAME, null, values);</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            mWDB<span class="token punctuation">.</span><span class="token function">beginTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mWDB<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//int i = 10 / 0;</span>
            mWDB<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>
            mWDB<span class="token punctuation">.</span><span class="token function">setTransactionSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            mWDB<span class="token punctuation">.</span><span class="token function">endTransaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">deleteByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//åˆ é™¤æ‰€æœ‰</span>
        <span class="token comment">//mWDB.delete(TABLE_NAME, &quot;1=1&quot;, null);</span>
        <span class="token keyword">return</span> mWDB<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token string">&quot;name=?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ContentValues</span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContentValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;weight&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        values<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>married<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> mWDB<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> values<span class="token punctuation">,</span> <span class="token string">&quot;name=?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œè®°å½•æŸ¥è¯¢åŠ¨ä½œï¼Œè¯¥è¯­å¥è¿”å›ç»“æœé›†çš„æ¸¸æ ‡</span>
        <span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> mRDB<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å¾ªç¯å–å‡ºæ¸¸æ ‡æŒ‡å‘çš„æ¯æ¡è®°å½•</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>id <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>age <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>height <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>weight <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getFloat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//SQLiteæ²¡æœ‰å¸ƒå°”å‹ï¼Œç”¨0è¡¨ç¤ºfalseï¼Œç”¨1è¡¨ç¤ºtrue</span>
            user<span class="token punctuation">.</span>married <span class="token operator">=</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œè®°å½•æŸ¥è¯¢åŠ¨ä½œï¼Œè¯¥è¯­å¥è¿”å›ç»“æœé›†çš„æ¸¸æ ‡</span>
        <span class="token class-name">Cursor</span> cursor <span class="token operator">=</span> mRDB<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token constant">TABLE_NAME</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;name=?&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å¾ªç¯å–å‡ºæ¸¸æ ‡æŒ‡å‘çš„æ¯æ¡è®°å½•</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">moveToNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>id <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>name <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>age <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>height <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span>weight <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token function">getFloat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//SQLiteæ²¡æœ‰å¸ƒå°”å‹ï¼Œç”¨0è¡¨ç¤ºfalseï¼Œç”¨1è¡¨ç¤ºtrue</span>
            user<span class="token punctuation">.</span>married <span class="token operator">=</span> <span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-4-ä¼˜åŒ–è®°ä½å¯†ç åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_6-2-4-ä¼˜åŒ–è®°ä½å¯†ç åŠŸèƒ½" aria-hidden="true">#</a> 6.2.4ã€€ä¼˜åŒ–è®°ä½å¯†ç åŠŸèƒ½</h3><p>åœ¨â€œ6.1.2ã€€å®ç°è®°ä½å¯†ç åŠŸèƒ½â€ä¸­ï¼Œè™½ç„¶ä½¿ç”¨å…±äº«å‚æ•°å®ç°äº†è®°ä½å¯†ç åŠŸèƒ½ï¼Œä½†æ˜¯è¯¥æ–¹æ¡ˆåªèƒ½è®°ä½ä¸€ä¸ªç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œå¹¶ä¸”æ‰‹æœºå·ç è·Ÿå¯†ç æ²¡æœ‰å¯¹åº”å…³ç³»ï¼Œå¦‚æœæ¢ä¸ªæ‰‹æœºå·ç ç™»å½•ï¼Œå‰ä¸€ä¸ªç”¨æˆ·çš„ç™»å½•ä¿¡æ¯å°±è¢«è¦†ç›–äº†ã€‚çœŸæ­£çš„è®°ä½å¯†ç åŠŸèƒ½åº”å½“æ˜¯è¿™æ ·çš„ï¼šå…ˆè¾“å…¥æ‰‹æœºå·ç ï¼Œç„¶åæ ¹æ®æ‰‹æœºå·ç åŒ¹é…ä¿å­˜çš„å¯†ç ï¼Œä¸€ä¸ªæ‰‹æœºå·ç å¯¹åº”ä¸€ä¸ªå¯†ç ï¼Œä»è€Œå®ç°å…·ä½“æ‰‹æœºå·ç çš„å¯†ç è®°å¿†åŠŸèƒ½ã€‚ç°åœ¨è¿ç”¨æ•°æ®åº“æŠ€æœ¯åˆ†æ¡å­˜å‚¨å„ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œå¹¶æ”¯æŒæ ¹æ®æ‰‹æœºå·æŸ¥æ‰¾ç™»å½•ä¿¡æ¯ï¼Œä»è€ŒåŒæ—¶è®°ä½å¤šä¸ªæ‰‹æœºå·çš„å¯†ç ã€‚å…·ä½“çš„æ”¹é€ ä¸»è¦æœ‰ä¸‹åˆ— 3 ç‚¹ï¼š</p><p>ï¼ˆ 1 ï¼‰å£°æ˜ä¸€ä¸ªæ•°æ®åº“çš„å¸®åŠ©å™¨å¯¹è±¡ï¼Œç„¶ååœ¨æ´»åŠ¨é¡µé¢çš„onResumeæ–¹æ³•ä¸­æ‰“å¼€æ•°æ®åº“è¿æ¥ï¼Œåœ¨onPasueæ–¹æ³•ä¸­å…³é—­æ•°æ®åº“è¿æ¥ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\LoginSQLiteActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">UserDBHelper</span> mHelper<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªç”¨æˆ·æ•°æ®åº“çš„å¸®åŠ©å™¨å¯¹è±¡ </span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   mHelper <span class="token operator">=</span> <span class="token class-name">UserDBHelper</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—ç”¨æˆ·æ•°æ®åº“å¸®åŠ©å™¨çš„å®ä¾‹ </span>
   mHelper<span class="token punctuation">.</span><span class="token function">openWriteLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¢å¤é¡µé¢ï¼Œåˆ™æ‰“å¼€æ•°æ®åº“è¿æ¥</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   mHelper<span class="token punctuation">.</span><span class="token function">closeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æš‚åœé¡µé¢ï¼Œåˆ™å…³é—­æ•°æ®åº“è¿æ¥ </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 2 ï¼‰ç™»å½•æˆåŠŸæ—¶ï¼Œå¦‚æœç”¨æˆ·å‹¾é€‰äº†â€œè®°ä½å¯†ç â€ï¼Œå°±å°†æ‰‹æœºå·ç åŠå…¶å¯†ç ä¿å­˜è‡³æ•°æ®åº“ã€‚ä¹Ÿå°±æ˜¯åœ¨loginSuccessæ–¹æ³•ä¸­å¢åŠ å¦‚ä¸‹ä»£ç ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// å¦‚æœå‹¾é€‰äº†â€œè®°ä½å¯†ç â€ï¼Œåˆ™æŠŠæ‰‹æœºå·ç å’Œå¯†ç ä¿å­˜ä¸ºæ•°æ®åº“çš„ç”¨æˆ·è¡¨è®°å½• </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isRemember<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">UserInfo</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡ </span>
   info<span class="token punctuation">.</span>phone <span class="token operator">=</span> et_phone<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   info<span class="token punctuation">.</span>password <span class="token operator">=</span> et_password<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   info<span class="token punctuation">.</span>update_time <span class="token operator">=</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowDateTime</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   mHelper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾€ç”¨æˆ·æ•°æ®åº“æ·»åŠ ç™»å½•æˆåŠŸçš„ç”¨æˆ·ä¿¡æ¯</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 3 ï¼‰å†æ¬¡æ‰“å¼€ç™»å½•é¡µé¢ï¼Œç”¨æˆ·è¾“å…¥æ‰‹æœºå·å†ç‚¹å‡»å¯†ç æ¡†çš„æ—¶å€™ï¼ŒAppæ ¹æ®æ‰‹æœºå·åˆ°æ•°æ®åº“æŸ¥æ‰¾ç™»å½•ä¿¡æ¯ï¼Œå¹¶å°†è®°å½•ç»“æœä¸­çš„å¯†ç å¡«å…¥å¯†ç æ¡†ã€‚å…¶ä¸­æ ¹æ®æ‰‹æœºå·ç æŸ¥æ‰¾ç™»å½•ä¿¡æ¯ï¼Œè¦æ±‚åœ¨å¸®åŠ©å™¨ä»£ç ä¸­æ·»åŠ ä»¥ä¸‹æ–¹æ³•ï¼Œç”¨äºæ‰¾åˆ°æŒ‡å®šæ‰‹æœºçš„ç™»å½•å¯†ç ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// æ ¹æ®æ‰‹æœºå·ç æŸ¥è¯¢æŒ‡å®šè®°å½•</span>
<span class="token keyword">public</span> <span class="token class-name">UserInfo</span> <span class="token function">queryByPhone</span><span class="token punctuation">(</span><span class="token class-name">String</span> phone<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token class-name">UserInfo</span> info <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserInfo</span><span class="token punctuation">&gt;</span></span> infoList <span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;phone=&#39;%s&#39;&quot;</span><span class="token punctuation">,</span> phone<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span> <span class="token punctuation">(</span>infoList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å­˜åœ¨è¯¥å·ç çš„ç™»å½•ä¿¡æ¯</span>
       info <span class="token operator">=</span> infoList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
   <span class="token keyword">return</span> info<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œä¸Šé¢ç¬¬ 3 ç‚¹çš„ç‚¹å‡»å¯†ç æ¡†è§¦å‘æŸ¥è¯¢æ“ä½œï¼Œç”¨åˆ°äº†ç¼–è¾‘æ¡†çš„ç„¦ç‚¹å˜æ›´äº‹ä»¶ï¼Œæœ‰å…³ç„¦ç‚¹å˜æ›´ç›‘å¬å™¨çš„è¯¦ç»†ç”¨æ³•å‚è§ç¬¬ 5 ç« çš„â€œ5.3.2ã€€ç„¦ç‚¹å˜æ›´ç›‘å¬å™¨â€ã€‚å°±æœ¬æ¡ˆä¾‹è€Œè¨€ï¼Œå…‰æ ‡åˆ‡åˆ°å¯†ç æ¡†è§¦å‘ç„¦ç‚¹å˜æ›´äº‹ä»¶ï¼Œå…·ä½“å¤„ç†é€»è¾‘è¦æ±‚é‡å†™ç›‘å¬å™¨çš„onFocusChangeæ–¹æ³•ï¼Œé‡å†™åçš„æ–¹æ³•ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFocusChange</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">,</span> <span class="token keyword">boolean</span> hasFocus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">String</span> phone <span class="token operator">=</span> et_phone<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// åˆ¤æ–­æ˜¯å¦æ˜¯å¯†ç ç¼–è¾‘æ¡†å‘ç”Ÿç„¦ç‚¹å˜åŒ–</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// ç”¨æˆ·å·²è¾“å…¥æ‰‹æœºå·ç ï¼Œä¸”å¯†ç æ¡†è·å¾—ç„¦ç‚¹</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>phone<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> hasFocus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// æ ¹æ®æ‰‹æœºå·ç åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢ç”¨æˆ·è®°å½•</span>
           <span class="token class-name">UserInfo</span> info <span class="token operator">=</span> mHelper<span class="token punctuation">.</span><span class="token function">queryByPhone</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>info <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token comment">// æ‰¾åˆ°ç”¨æˆ·è®°å½•ï¼Œåˆ™è‡ªåŠ¨åœ¨å¯†ç æ¡†ä¸­å¡«å†™è¯¥ç”¨æˆ·çš„å¯†ç </span>
               et_password<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡æ–°è¿è¡Œæµ‹è¯•Appï¼Œå…ˆæ‰“å¼€ç™»å½•é¡µé¢ï¼Œå‹¾é€‰â€œè®°ä½å¯†ç â€ï¼Œå¹¶ç¡®ä¿æœ¬æ¬¡ç™»å½•æˆåŠŸã€‚ç„¶åå†æ¬¡è¿›å…¥ç™»å½•é¡µé¢ï¼Œè¾“å…¥æ‰‹æœºå·ç åå…‰æ ‡è¿˜åœç•™åœ¨æ‰‹æœºæ¡†ï¼Œå¦‚å›¾6-11æ‰€ç¤ºã€‚æ¥ç€ç‚¹å‡»å¯†ç æ¡†ï¼Œå…‰æ ‡éšä¹‹è·³åˆ°å¯†ç æ¡†ï¼Œæ­¤æ—¶å¯†ç æ¡†è‡ªåŠ¨å¡«å…¥äº†è¯¥å·ç å¯¹åº”çš„å¯†ç ä¸²ï¼Œå¦‚å›¾6-12æ‰€ç¤ºã€‚ç”±æ•ˆæœå›¾å¯è§ï¼Œè¿™æ¬¡å®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„è®°ä½å¯†ç åŠŸèƒ½ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061753565.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061753193.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><h2 id="_6-3-å­˜å‚¨å¡çš„æ–‡ä»¶æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_6-3-å­˜å‚¨å¡çš„æ–‡ä»¶æ“ä½œ" aria-hidden="true">#</a> 6.3ã€€å­˜å‚¨å¡çš„æ–‡ä»¶æ“ä½œ</h2><p>æœ¬èŠ‚ä»‹ç»Androidçš„æ–‡ä»¶å­˜å‚¨æ–¹å¼â€”åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼šå…¬æœ‰å­˜å‚¨ç©ºé—´ä¸ç§æœ‰å­˜å‚¨ç©ºé—´æœ‰ä»€ä¹ˆåŒºåˆ«ã€å¦‚ä½•åˆ©ç”¨å­˜å‚¨å¡è¯»å†™æ–‡æœ¬æ–‡ä»¶ã€å¦‚ä½•åˆ©ç”¨å­˜å‚¨å¡è¯»å†™å›¾ç‰‡æ–‡ä»¶ç­‰ã€‚</p><h3 id="_6-3-1-ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´" tabindex="-1"><a class="header-anchor" href="#_6-3-1-ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´" aria-hidden="true">#</a> 6.3.1ã€€ç§æœ‰å­˜å‚¨ç©ºé—´ä¸å…¬å…±å­˜å‚¨ç©ºé—´</h3><p>ä¸ºäº†æ›´è§„èŒƒåœ°ç®¡ç†æ‰‹æœºå­˜å‚¨ç©ºé—´ï¼Œ<strong>Androidä»7.0å¼€å§‹å°†å­˜å‚¨å¡åˆ’åˆ†ä¸ºç§æœ‰å­˜å‚¨å’Œå…¬å…±å­˜å‚¨</strong>ä¸¤å¤§éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯åˆ†åŒºå­˜å‚¨æ–¹å¼ï¼Œç³»ç»Ÿç»™æ¯ä¸ªAppéƒ½åˆ†é…äº†é»˜è®¤çš„ç§æœ‰å­˜å‚¨ç©ºé—´ã€‚Appåœ¨ç§æœ‰ç©ºé—´ä¸Šè¯»å†™æ–‡ä»¶æ— é¡»ä»»ä½•æˆæƒï¼Œä½†æ˜¯è‹¥æƒ³åœ¨å…¬å…±ç©ºé—´è¯»å†™æ–‡ä»¶ï¼Œåˆ™è¦åœ¨AndroidManifest.xmlé‡Œé¢æ·»åŠ ä¸‹è¿°çš„æƒé™é…ç½®ã€‚</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- å­˜å‚¨å¡è¯»å†™ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.WRITE_EXTERNAL_STORAGE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_EXTERNAL_STORAG<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯å³ä½¿Appå£°æ˜äº†å®Œæ•´çš„å­˜å‚¨å¡æ“ä½œæƒé™ï¼Œç³»ç»Ÿä»ç„¶é»˜è®¤ç¦æ­¢è¯¥Appè®¿é—®å…¬å…±ç©ºé—´ã€‚æ‰“å¼€æ‰‹æœºçš„ç³»ç»Ÿè®¾ç½®ç•Œé¢ï¼Œè¿›å…¥åˆ°å…·ä½“åº”ç”¨çš„ç®¡ç†é¡µé¢ï¼Œä¼šå‘ç°è¯¥åº”ç”¨çš„å­˜å‚¨è®¿é—®æƒé™è¢«ç¦æ­¢äº†ã€‚å½“ç„¶ç¦æ­¢è®¿é—®åªæ˜¯ä¸è®©è®¿é—®å­˜å‚¨å¡çš„å…¬å…±ç©ºé—´ï¼ŒAppè‡ªèº«çš„ç§æœ‰ç©ºé—´ä¾æ—§å¯ä»¥æ­£å¸¸è¯»å†™ã€‚è¿™ç¼˜äºAndroidæŠŠå­˜å‚¨å¡åˆ†æˆäº†ä¸¤å—åŒºåŸŸï¼Œä¸€å—æ˜¯æ‰€æœ‰åº”ç”¨å‡å¯è®¿é—®çš„å…¬å…±ç©ºé—´ï¼Œå¦ä¸€å—æ˜¯åªæœ‰åº”ç”¨è‡ªå·±æ‰å¯è®¿é—®çš„ä¸“äº«ç©ºé—´ã€‚è™½ç„¶Androidç»™æ¯ä¸ªåº”ç”¨éƒ½åˆ†é…äº†å•ç‹¬çš„å®‰è£…ç›®å½•ï¼Œä½†æ˜¯å®‰è£…ç›®å½•çš„ç©ºé—´å¾ˆç´§å¼ ï¼Œæ‰€ä»¥Androidåœ¨å­˜å‚¨å¡çš„â€œAndroid/dataâ€ç›®å½•ä¸‹ç»™<strong>æ¯ä¸ªåº”ç”¨åˆå•ç‹¬å»ºäº†ä¸€ä¸ªæ–‡ä»¶ç›®å½•</strong>ï¼Œç”¨æ¥ä¿å­˜åº”ç”¨è‡ªå·±éœ€è¦å¤„ç†çš„ä¸´æ—¶æ–‡ä»¶ã€‚è¿™ä¸ªç›®å½•åªæœ‰å½“å‰åº”ç”¨æ‰èƒ½å¤Ÿè¯»å†™æ–‡ä»¶ï¼Œå…¶ä»–åº”ç”¨æ˜¯ä¸å…è®¸è¯»å†™çš„ã€‚ç”±äºç§æœ‰ç©ºé—´æœ¬èº«å·²ç»åŠ äº†è®¿é—®æƒé™æ§åˆ¶ï¼Œå› æ­¤å®ƒä¸å—ç³»ç»Ÿç¦æ­¢è®¿é—®çš„å½±å“ï¼Œåº”ç”¨æ“ä½œè‡ªå·±çš„æ–‡ä»¶ç›®å½•è‡ªç„¶ä¸æˆé—®é¢˜ã€‚å› ä¸ºç§æœ‰çš„æ–‡ä»¶ç›®å½•åªæœ‰å±ä¸»åº”ç”¨æ‰èƒ½è®¿é—®ï¼Œæ‰€ä»¥ä¸€æ—¦å±ä¸»åº”ç”¨è¢«å¸è½½ï¼Œé‚£ä¹ˆå¯¹åº”çš„ç›®å½•ä¹Ÿä¼šè¢«åˆ æ‰ã€‚</p><p>æ—¢ç„¶å­˜å‚¨å¡åˆ†ä¸ºå…¬å…±ç©ºé—´å’Œç§æœ‰ç©ºé—´ä¸¤éƒ¨åˆ†ï¼Œå®ƒä»¬çš„ç©ºé—´è·¯å¾„è·å–ä¹Ÿå°±æœ‰æ‰€ä¸åŒã€‚è‹¥æƒ³è·å–å…¬å…±ç©ºé—´çš„å­˜å‚¨è·¯å¾„ï¼Œè°ƒç”¨çš„æ˜¯<strong>Environment.getExternalStoragePublicDirectory</strong>æ–¹æ³•ï¼›è‹¥æƒ³è·å–åº”ç”¨ç§æœ‰ç©ºé—´çš„å­˜å‚¨è·¯å¾„ï¼Œè°ƒç”¨çš„æ˜¯<strong>getExternalFilesDir</strong>æ–¹æ³•ã€‚ä¸‹é¢æ˜¯åˆ†åˆ«è·å–ä¸¤ä¸ªç©ºé—´è·¯å¾„çš„ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\FilePathActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// è·å–ç³»ç»Ÿçš„å…¬å…±å­˜å‚¨è·¯å¾„ </span>
<span class="token class-name">String</span> publicPath <span class="token operator">=</span>
<span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token function">getExternalStoragePublicDirectory</span><span class="token punctuation">(</span><span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token constant">DIRECTORY_DOWNLOADS</span><span class="token punctuation">)</span><span class="token punctuation">.</span>t 
<span class="token function">oString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è·å–å½“å‰Appçš„ç§æœ‰å­˜å‚¨è·¯å¾„ </span>
<span class="token class-name">String</span> privatePath <span class="token operator">=</span>
<span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token constant">DIRECTORY_DOWNLOADS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">boolean</span> isLegacy <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token class-name">Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>Q</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// Android10çš„å­˜å‚¨ç©ºé—´é»˜è®¤é‡‡å–åˆ†åŒºæ–¹å¼ï¼Œæ­¤å¤„åˆ¤æ–­æ˜¯ä¼ ç»Ÿæ–¹å¼è¿˜æ˜¯åˆ†åŒºæ–¹å¼ </span>
   isLegacy <span class="token operator">=</span> <span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token function">isExternalStorageLegacy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token string">&quot;ç³»ç»Ÿçš„å…¬å…±å­˜å‚¨è·¯å¾„ä½äº&quot;</span> <span class="token operator">+</span> publicPath <span class="token operator">+</span> 
   <span class="token string">&quot;\n\nå½“å‰Appçš„ç§æœ‰å­˜å‚¨è·¯å¾„ä½äº&quot;</span> <span class="token operator">+</span> privatePath <span class="token operator">+</span> 
   <span class="token string">&quot;\n\nAndroid7.0ä¹‹åé»˜è®¤ç¦æ­¢è®¿é—®å…¬å…±å­˜å‚¨ç›®å½•&quot;</span> <span class="token operator">+</span>
   <span class="token string">&quot;\n\nå½“å‰Appçš„å­˜å‚¨ç©ºé—´é‡‡å–&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isLegacy<span class="token operator">?</span><span class="token string">&quot;ä¼ ç»Ÿæ–¹å¼&quot;</span><span class="token operator">:</span><span class="token string">&quot;åˆ†åŒºæ–¹å¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
tv_path<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥ä¾‹å­è¿è¡Œä¹‹åè·å¾—çš„è·¯å¾„ä¿¡æ¯å¦‚å›¾6-14æ‰€ç¤ºï¼Œå¯è§åº”ç”¨çš„ç§æœ‰ç©ºé—´è·¯å¾„ä½äºâ€œå­˜å‚¨å¡æ ¹ç›®å½•/Android/data/åº”ç”¨åŒ…å/files/Downloadâ€è¿™ä¸ªç›®å½•ä¸­ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061803776.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><h3 id="_6-3-2-åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡æœ¬æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_6-3-2-åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡æœ¬æ–‡ä»¶" aria-hidden="true">#</a> 6.3.2ã€€åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™æ–‡æœ¬æ–‡ä»¶</h3><p>æ–‡æœ¬æ–‡ä»¶çš„è¯»å†™å€ŸåŠ©äºæ–‡ä»¶IOæµFileOutputStreamå’ŒFileInputStreamã€‚å…¶ä¸­ï¼ŒFileOutputStreamç”¨äºå†™æ–‡ä»¶ï¼ŒFileInputStreamç”¨äºè¯»æ–‡ä»¶ï¼Œå®ƒä»¬è¯»å†™æ–‡ä»¶çš„ä»£ç ä¾‹å­å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\util\FileUtil.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// æŠŠå­—ç¬¦ä¸²ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„çš„æ–‡æœ¬æ–‡ä»¶</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">saveText</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">String</span> txt<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token comment">// æ ¹æ®æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„æ„å»ºæ–‡ä»¶è¾“å‡ºæµå¯¹è±¡</span>
   <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>txt<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠŠå­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶è¾“å‡ºæµ</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä»æŒ‡å®šè·¯å¾„çš„æ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–å†…å®¹å­—ç¬¦ä¸²</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">openText</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">String</span> readStr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
   <span class="token comment">// æ ¹æ®æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„æ„å»ºæ–‡ä»¶è¾“å…¥æµå¯¹è±¡</span>
   <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>fis<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»æ–‡ä»¶è¾“å…¥æµè¯»å–å­—èŠ‚æ•°ç»„</span>
       readStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠŠå­—èŠ‚æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token keyword">return</span> readStr<span class="token punctuation">;</span> <span class="token comment">// è¿”å›æ–‡æœ¬æ–‡ä»¶ä¸­çš„æ–‡æœ¬å­—ç¬¦ä¸² </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ–¹å¼äºŒï¼šä½¿ç”¨å­—ç¬¦æµå­˜å‚¨è¯»å–æ–‡ä»¶</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// æŠŠå­—ç¬¦ä¸²ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„çš„æ–‡æœ¬æ–‡ä»¶</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">saveText</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">String</span> txt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedWriter</span> os <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>os <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ä»æŒ‡å®šè·¯å¾„çš„æ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–å†…å®¹å­—ç¬¦ä¸²</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">openText</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">BufferedReader</span> is <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> is<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>is <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€åˆ†åˆ«åˆ›å»ºå†™æ–‡ä»¶é¡µé¢å’Œè¯»æ–‡ä»¶é¡µé¢ï¼Œå…¶ä¸­å†™æ–‡ä»¶é¡µé¢è°ƒç”¨saveTextæ–¹æ³•ä¿å­˜æ–‡æœ¬ï¼Œå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\FileWriteActivity.javaï¼›è€Œè¯»æ–‡ä»¶é¡µé¢è°ƒç”¨readTextæ–¹æ³•ä»æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ä¸­è¯»å–æ–‡æœ¬å†…å®¹ï¼Œå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\FileReadActivity.javaã€‚ç„¶åè¿è¡Œæµ‹è¯•Appï¼Œå…ˆæ‰“å¼€æ–‡æœ¬å†™å…¥é¡µé¢ï¼Œå½•å…¥æ³¨å†Œä¿¡æ¯åä¿å­˜ä¸ºç§æœ‰ç›®å½•é‡Œçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ­¤æ—¶å†™å…¥ç•Œé¢å¦‚å›¾6-15æ‰€ç¤ºã€‚å†æ‰“å¼€æ–‡æœ¬è¯»å–é¡µé¢ï¼ŒAppè‡ªåŠ¨åœ¨ç§æœ‰ç›®å½•ä¸‹æ‰¾åˆ°æ–‡æœ¬æ–‡ä»¶åˆ—è¡¨ï¼Œå¹¶å±•ç¤ºå…¶ä¸­ä¸€ä¸ªæ–‡ä»¶çš„æ–‡æœ¬å†…å®¹ï¼Œæ­¤æ—¶è¯»å–ç•Œé¢å¦‚å›¾6-16æ‰€ç¤ºã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061810868.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061810074.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><h3 id="_6-3-3-åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™å›¾ç‰‡æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_6-3-3-åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™å›¾ç‰‡æ–‡ä»¶" aria-hidden="true">#</a> 6.3.3ã€€åœ¨å­˜å‚¨å¡ä¸Šè¯»å†™å›¾ç‰‡æ–‡ä»¶</h3><p>æ–‡æœ¬æ–‡ä»¶è¯»å†™å¯ä»¥è½¬æ¢ä¸ºå¯¹å­—ç¬¦ä¸²çš„è¯»å†™ï¼Œè€Œå›¾ç‰‡æ–‡ä»¶ä¿å­˜çš„æ˜¯å›¾åƒæ•°æ®ï¼Œéœ€è¦ä¸“é—¨çš„ä½å›¾å·¥å…·Bitmapå¤„ç†ã€‚ä½å›¾å¯¹è±¡ä¾æ®æ¥æºä¸åŒåˆåˆ†æˆ 3 ç§è·å–æ–¹å¼ï¼Œåˆ†åˆ«å¯¹åº”ä½å›¾å·¥å‚BitmapFactoryçš„ä¸‹åˆ— 3 ç§æ–¹æ³•ï¼š</p><ul><li>decodeResourceï¼šä»æŒ‡å®šçš„èµ„æºæ–‡ä»¶ä¸­è·å–ä½å›¾æ•°æ®ã€‚ä¾‹å¦‚ä¸‹é¢ä»£ç è¡¨ç¤ºä»èµ„æºæ–‡ä»¶huawei.pngè·å–ä½å›¾å¯¹è±¡ï¼š</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>huawei<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>decodeFileï¼šä»æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ä¸­è·å–ä½å›¾æ•°æ®ã€‚æ³¨æ„ä»Android 10å¼€å§‹ï¼Œè¯¥æ–¹æ³•åªé€‚ç”¨äºç§æœ‰ç›®å½•ä¸‹çš„å›¾ç‰‡ï¼Œä¸é€‚ç”¨å…¬å…±ç©ºé—´ä¸‹çš„å›¾ç‰‡ã€‚</p></li><li><p>decodeStreamï¼šä»æŒ‡å®šçš„è¾“å…¥æµä¸­è·å–ä½å›¾æ•°æ®ã€‚æ¯”å¦‚ä½¿ç”¨IOæµæ‰“å¼€å›¾ç‰‡æ–‡ä»¶ï¼Œæ­¤æ—¶æ–‡ä»¶è¾“å…¥æµ</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»æŒ‡å®šè·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶ä¸­è¯»å–ä½å›¾æ•°æ®</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Bitmap</span> <span class="token function">openImage</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            bitmap <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeStream</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> bitmap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹è±¡å³å¯ä½œä¸ºdecodeStreamæ–¹æ³•çš„å…¥å‚ï¼Œç›¸åº”çš„å›¾ç‰‡è¯»å–ä»£ç å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\util\FileUtil.javaï¼‰</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»æŒ‡å®šè·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶ä¸­è¯»å–ä½å›¾æ•°æ®</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Bitmap</span> <span class="token function">openImage</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªä½å›¾å¯¹è±¡</span>
   <span class="token comment">// æ ¹æ®æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„æ„å»ºæ–‡ä»¶è¾“å…¥æµå¯¹è±¡</span>
   <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       bitmap <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeStream</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»æ–‡ä»¶è¾“å…¥æµä¸­è§£ç ä½å›¾æ•°æ®</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token keyword">return</span> bitmap<span class="token punctuation">;</span> <span class="token comment">// è¿”å›å›¾ç‰‡æ–‡ä»¶ä¸­çš„ä½å›¾æ•°æ® </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾—åˆ°ä½å›¾å¯¹è±¡ä¹‹åï¼Œå°±èƒ½åœ¨å›¾åƒè§†å›¾ä¸Šæ˜¾ç¤ºä½å›¾ã€‚å›¾åƒè§†å›¾ImageViewæä¾›äº†ä¸‹åˆ—æ–¹æ³•æ˜¾ç¤ºå„ç§æ¥æºçš„å›¾ç‰‡ï¼š</p><ul><li><p>setImageResourceï¼šè®¾ç½®å›¾åƒè§†å›¾çš„å›¾ç‰‡èµ„æºï¼Œè¯¥æ–¹æ³•çš„å…¥å‚ä¸ºèµ„æºå›¾ç‰‡çš„ç¼–å·ï¼Œå½¢å¦‚</p></li><li><p>â€œR.drawable.å»æ‰æ‰©å±•åçš„å›¾ç‰‡åç§°â€ã€‚</p></li><li><p>setImageBitmapï¼šè®¾ç½®å›¾åƒè§†å›¾çš„ä½å›¾å¯¹è±¡ï¼Œè¯¥æ–¹æ³•çš„å…¥å‚ä¸ºBitmapç±»å‹ã€‚</p></li><li><p>setImageURIï¼šè®¾ç½®å›¾åƒè§†å›¾çš„è·¯å¾„å¯¹è±¡ï¼Œè¯¥æ–¹æ³•çš„å…¥å‚ä¸ºUriç±»å‹ã€‚å­—ç¬¦ä¸²æ ¼å¼çš„æ–‡ä»¶è·¯å¾„å¯é€šè¿‡ä»£ç â€œUri.parse(file_path)â€è½¬æ¢æˆè·¯å¾„å¯¹è±¡ã€‚è¯»å–å›¾ç‰‡æ–‡ä»¶çš„èŠ±æ ·å€’æ˜¯æŒºå¤šï¼ŒæŠŠä½å›¾æ•°æ®å†™å…¥å›¾ç‰‡æ–‡ä»¶å´åªæœ‰ä¸€ç§ï¼Œå³é€šè¿‡ä½å›¾å¯¹è±¡çš„compressæ–¹æ³•å°†ä½å›¾æ•°æ®å‹ç¼©åˆ°æ–‡ä»¶è¾“å‡ºæµã€‚å…·ä½“çš„å›¾ç‰‡å†™å…¥ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// æŠŠä½å›¾æ•°æ®ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„çš„å›¾ç‰‡æ–‡ä»¶</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">saveImage</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">Bitmap</span> bitmap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æŠŠä½å›¾æ•°æ®å‹ç¼©åˆ°æ–‡ä»¶è¾“å‡ºæµä¸­</span>
            bitmap<span class="token punctuation">.</span><span class="token function">compress</span><span class="token punctuation">(</span><span class="token class-name">Bitmap<span class="token punctuation">.</span>CompressFormat</span><span class="token punctuation">.</span><span class="token constant">JPEG</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> fos<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å®Œæ•´æ¼”ç¤ºä¸€éå›¾ç‰‡æ–‡ä»¶çš„è¯»å†™æ“ä½œï¼Œé¦–å…ˆåˆ›å»ºå›¾ç‰‡å†™å…¥é¡µé¢ï¼Œä»æŸä¸ªèµ„æºå›¾ç‰‡è¯»å–ä½å›¾æ•°æ®ï¼Œå†æŠŠä½å›¾æ•°æ®ä¿å­˜ä¸ºç§æœ‰ç›®å½•çš„å›¾ç‰‡æ–‡ä»¶ï¼Œç›¸å…³ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\ImageWriteActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// è·å–å½“å‰Appçš„ç§æœ‰ä¸‹è½½ç›®å½•</span>
<span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token constant">DIRECTORY_DOWNLOADS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> 
<span class="token string">&quot;/&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ä»æŒ‡å®šçš„èµ„æºæ–‡ä»¶ä¸­è·å–ä½å›¾å¯¹è±¡</span>
<span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>huawei<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">String</span> file_path <span class="token operator">=</span> path <span class="token operator">+</span> <span class="token class-name">DateUtil</span><span class="token punctuation">.</span><span class="token function">getNowDateTime</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.jpeg&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">saveImage</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠŠä½å›¾å¯¹è±¡ä¿å­˜ä¸ºå›¾ç‰‡æ–‡ä»¶ </span>
tv_path<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;å›¾ç‰‡æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ä¸ºï¼š\n&quot;</span> <span class="token operator">+</span> file_path<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååˆ›å»ºå›¾ç‰‡è¯»å–é¡µé¢ï¼Œä»ç§æœ‰ç›®å½•æ‰¾åˆ°å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶æŒ‘å‡ºä¸€å¼ åœ¨å›¾åƒè§†å›¾ä¸Šæ˜¾ç¤ºï¼Œç›¸å…³ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\ImageReadActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// è·å–å½“å‰Appçš„ç§æœ‰ä¸‹è½½ç›®å½•</span>
mPath <span class="token operator">=</span> <span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token constant">DIRECTORY_DOWNLOADS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">;</span> 
<span class="token comment">// è·å¾—æŒ‡å®šç›®å½•ä¸‹é¢çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶</span>
mFilelist <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">getFileList</span><span class="token punctuation">(</span>mPath<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;.jpeg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">if</span> <span class="token punctuation">(</span>mFilelist<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// æ‰“å¼€å¹¶æ˜¾ç¤ºé€‰ä¸­çš„å›¾ç‰‡æ–‡ä»¶å†…å®¹</span>
   <span class="token class-name">String</span> file_path <span class="token operator">=</span> mFilelist<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   tv_content<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰¾åˆ°æœ€æ–°çš„å›¾ç‰‡æ–‡ä»¶ï¼Œè·¯å¾„ä¸º&quot;</span><span class="token operator">+</span>file_path<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// æ˜¾ç¤ºå­˜å‚¨å¡å›¾ç‰‡æ–‡ä»¶çš„ç¬¬ä¸€ç§æ–¹å¼ï¼šç›´æ¥è°ƒç”¨setImageURIæ–¹æ³•</span>
   <span class="token comment">//iv_content.setImageURI(Uri.parse(file_path)); // è®¾ç½®å›¾åƒè§†å›¾çš„è·¯å¾„å¯¹è±¡</span>
   <span class="token comment">// ç¬¬äºŒç§æ–¹å¼ï¼šå…ˆè°ƒç”¨BitmapFactory.decodeFileè·å¾—ä½å›¾ï¼Œå†è°ƒç”¨setImageBitmapæ–¹æ³•</span>
   <span class="token comment">//Bitmap bitmap = BitmapFactory.decodeFile(file_path);</span>
   <span class="token comment">//iv_content.setImageBitmap(bitmap); // è®¾ç½®å›¾åƒè§†å›¾çš„ä½å›¾å¯¹è±¡</span>
   <span class="token comment">// ç¬¬ä¸‰ç§æ–¹å¼ï¼šå…ˆè°ƒç”¨FileUtil.openImageè·å¾—ä½å›¾ï¼Œå†è°ƒç”¨setImageBitmapæ–¹æ³•</span>
   <span class="token class-name">Bitmap</span> bitmap <span class="token operator">=</span> <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">openImage</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">;</span>
   iv_content<span class="token punctuation">.</span><span class="token function">setImageBitmap</span><span class="token punctuation">(</span>bitmap<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å›¾åƒè§†å›¾çš„ä½å›¾å¯¹è±¡ </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæµ‹è¯•Appï¼Œå…ˆæ‰“å¼€å›¾ç‰‡å†™å…¥é¡µé¢ï¼Œç‚¹å‡»ä¿å­˜æŒ‰é’®æŠŠèµ„æºå›¾ç‰‡ä¿å­˜åˆ°å­˜å‚¨å¡ï¼Œæ­¤æ—¶å†™å…¥ç•Œé¢å¦‚å›¾6-17æ‰€ç¤ºã€‚å†æ‰“å¼€å›¾ç‰‡è¯»å–é¡µé¢ï¼ŒAppè‡ªåŠ¨åœ¨ç§æœ‰ç›®å½•ä¸‹æ‰¾åˆ°å›¾ç‰‡æ–‡ä»¶åˆ—è¡¨ï¼Œå¹¶å±•ç¤ºå…¶ä¸­ä¸€å¼ å›¾ç‰‡ï¼Œæ­¤æ—¶è¯»å–ç•Œé¢å¦‚å›¾6-18æ‰€ç¤ºã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061822363.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061823764.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><h2 id="_6-4-åº”ç”¨ç»„ä»¶application" tabindex="-1"><a class="header-anchor" href="#_6-4-åº”ç”¨ç»„ä»¶application" aria-hidden="true">#</a> 6.4ã€€åº”ç”¨ç»„ä»¶Application</h2><p>æœ¬èŠ‚ä»‹ç»Androidé‡è¦ç»„ä»¶Applicationçš„åŸºæœ¬æ¦‚å¿µå’Œå¸¸è§ç”¨æ³•ã€‚é¦–å…ˆè¯´æ˜Applicationçš„ç”Ÿå‘½å‘¨æœŸè´¯ç©¿äº†Appçš„æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ï¼Œæ¥ç€åˆ©ç”¨Applicationå®ç°Appå…¨å±€å˜é‡çš„è¯»å†™ï¼Œç„¶åé˜è¿°äº†å¦‚ä½•å€ŸåŠ©Appå®ä¾‹æ¥æ“ä½œRoomæ•°æ®åº“æ¡†æ¶ã€‚</p><h3 id="_6-4-1-applicationçš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_6-4-1-applicationçš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> 6.4.1 Applicationçš„ç”Ÿå‘½å‘¨æœŸ</h3><p>Applicationæ˜¯Androidçš„ä¸€å¤§ç»„ä»¶ï¼Œåœ¨Appè¿è¡Œè¿‡ç¨‹ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªApplicationå¯¹è±¡è´¯ç©¿åº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚æ‰“å¼€AndroidManifest.xmlï¼Œå‘ç°activityèŠ‚ç‚¹çš„ä¸Šçº§æ­£æ˜¯applicationèŠ‚ç‚¹ï¼Œä¸è¿‡è¯¥èŠ‚ç‚¹å¹¶æœªæŒ‡å®šnameå±æ€§ï¼Œæ­¤æ—¶Appé‡‡ç”¨é»˜è®¤çš„Applicationå®ä¾‹ã€‚æ³¨æ„åˆ°æ¯ä¸ªactivityèŠ‚ç‚¹éƒ½æŒ‡å®šäº†nameå±æ€§ï¼Œè­¬å¦‚å¸¸è§çš„nameå±æ€§å€¼ä¸º.MainActivityï¼Œè®©äººçŸ¥æ™“è¯¥activityçš„å…¥å£ä»£ç æ˜¯MainActivity.javaã€‚ç°åœ¨å°è¯•ç»™applicationèŠ‚ç‚¹åŠ ä¸Šnameå±æ€§ï¼Œçœ‹çœ‹å…¶åºå±±çœŸé¢ç›®ï¼Œå…·ä½“æ­¥éª¤è¯´æ˜å¦‚ä¸‹ï¼š</p><p>ï¼ˆ 1 ï¼‰æ‰“å¼€AndroidManifest.xmlï¼Œç»™applicationèŠ‚ç‚¹åŠ ä¸Šnameå±æ€§ï¼Œè¡¨ç¤ºapplicationçš„å…¥å£ä»£ç æ˜¯MainApplication.javaã€‚ä¿®æ”¹åçš„applicationèŠ‚ç‚¹ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\AndroidManifest.xmlï¼‰</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
       <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainApplication<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/ic_launcher<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span> 
       <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/AppTheme<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 2 ï¼‰åœ¨Javaä»£ç çš„åŒ…åç›®å½•ä¸‹åˆ›å»ºMainApplication.javaï¼Œè¦æ±‚è¯¥ç±»ç»§æ‰¿Applicationï¼Œç»§æ‰¿ä¹‹åå¯ä¾›é‡å†™çš„æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹ 3 ä¸ªã€‚</p><ul><li><p>onCreateï¼šåœ¨Appå¯åŠ¨æ—¶è°ƒç”¨ã€‚</p></li><li><p>onTerminateï¼šåœ¨Appç»ˆæ­¢æ—¶è°ƒç”¨ï¼ˆæŒ‰å­—é¢æ„æ€ï¼‰ã€‚</p></li><li><p>onConfigurationChangedï¼šåœ¨é…ç½®æ”¹å˜æ—¶è°ƒç”¨ï¼Œä¾‹å¦‚ä»ç«–å±å˜ä¸ºæ¨ªå±ã€‚</p></li></ul><p>å…‰çœ‹å­—é¢æ„æ€çš„è¯ï¼Œä¸ç”Ÿå‘½å‘¨æœŸæœ‰å…³çš„æ–¹æ³•æ˜¯onCreateå’ŒonTerminateï¼Œé‚£ä¹ˆé‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶åœ¨é‡å†™åçš„æ–¹æ³•ä¸­æ‰“å°æ—¥å¿—ï¼Œä¿®æ”¹åçš„Javaä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\MainApplication.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onTerminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onTerminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onTerminate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 3 ï¼‰è¿è¡Œæµ‹è¯•Appï¼Œåœ¨logcatçª—å£è§‚å¯Ÿåº”ç”¨æ—¥å¿—ã€‚ä½†æ˜¯åªåœ¨å¯åŠ¨ä¸€å¼€å§‹çœ‹åˆ°MainApplicationçš„onCreateæ—¥å¿—ï¼ˆè¯¥æ—¥å¿—å…ˆäºMainActivityçš„onCreateæ—¥å¿—ï¼‰ï¼Œå´å§‹ç»ˆæ— æ³•çœ‹åˆ°å®ƒçš„onTerminateæ—¥å¿—ï¼Œæ— è®ºæ˜¯è‡ªè¡Œé€€å‡ºAppè¿˜æ˜¯å¼ºè¡Œæ€æ‰Appï¼Œæ—¥å¿—éƒ½ä¸ä¼šæ‰“å°onTerminateã€‚æ— è®ºä½ æ€ä¹ˆæŠ˜è…¾ï¼Œè¿™ä¸ªonTerminateæ—¥å¿—éƒ½ä¸ä¼šå‡ºæ¥ã€‚Androidæ˜æ˜æä¾›äº†è¿™ä¸ªæ–¹æ³•ï¼ŒåŒæ—¶æä¾›äº†å…³äºè¯¥æ–¹æ³•çš„è§£é‡Šï¼Œè¯´æ˜æ–‡å­—å¦‚ä¸‹ï¼šThis method is for use in emulated process environmentsï¼It will never be called on a production Android device, where processes are removed by simply killing them; no user code (including this callback) is executed when doing soã€‚è¿™æ®µè¯çš„æ„æ€æ˜¯ï¼šè¯¥æ–¹æ³•ä¾›æ¨¡æ‹Ÿç¯å¢ƒä½¿ç”¨ï¼Œå®ƒåœ¨çœŸæœºä¸Šæ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ï¼Œæ— è®ºæ˜¯ç›´æ¥æ€è¿›ç¨‹è¿˜æ˜¯ä»£ç é€€å‡ºï¼›æ‰§è¡Œè¯¥æ“ä½œæ—¶ï¼Œä¸ä¼šæ‰§è¡Œä»»ä½•ç”¨æˆ·ä»£ç ã€‚ç°åœ¨å¾ˆæ˜ç¡®äº†ï¼ŒonTerminateæ–¹æ³•å°±æ˜¯ä¸ªæ‘†è®¾ï¼Œä¸­çœ‹ä¸ä¸­ç”¨ã€‚å¦‚æœè¯»è€…æƒ³åœ¨Appé€€å‡ºå‰å›æ”¶ç³»ç»Ÿèµ„æºï¼Œå°±ä¸èƒ½æŒ‡æœ›onTerminateæ–¹æ³•çš„å›è°ƒäº†ã€‚</p><h3 id="_6-4-2-applicationæ“ä½œå…¨å±€å˜é‡" tabindex="-1"><a class="header-anchor" href="#_6-4-2-applicationæ“ä½œå…¨å±€å˜é‡" aria-hidden="true">#</a> 6.4.2 Applicationæ“ä½œå…¨å±€å˜é‡</h3><p>C/C++æœ‰å…¨å±€å˜é‡çš„æ¦‚å¿µï¼Œå› ä¸ºå…¨å±€å˜é‡ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ“ä½œå…¨å±€å˜é‡å°±æ˜¯æ“ä½œå†…å­˜ï¼Œæ˜¾ç„¶å†…å­˜çš„è¯»å†™é€Ÿåº¦è¿œæ¯”è¯»å†™æ•°æ®åº“æˆ–è¯»å†™æ–‡ä»¶å¿«å¾—å¤šã€‚æ‰€è°“å…¨å±€ï¼ŒæŒ‡çš„æ˜¯å…¶ä»–ä»£ç éƒ½å¯ä»¥å¼•ç”¨è¯¥å˜é‡ï¼Œå› æ­¤å…¨å±€å˜é‡æ˜¯å…±äº«æ•°æ®å’Œæ¶ˆæ¯ä¼ é€’çš„å¥½å¸®æ‰‹ã€‚ä¸è¿‡Javaæ²¡æœ‰å…¨å±€å˜é‡çš„æ¦‚å¿µï¼Œä¸ä¹‹æ¯”è¾ƒæ¥è¿‘çš„æ˜¯ç±»é‡Œé¢çš„é™æ€æˆå‘˜å˜é‡ï¼Œè¯¥å˜é‡ä¸ä½†èƒ½è¢«å¤–éƒ¨ç›´æ¥å¼•ç”¨ï¼Œè€Œä¸”å®ƒåœ¨ä¸åŒåœ°æ–¹å¼•ç”¨çš„å€¼æ˜¯ä¸€æ ·çš„ï¼ˆå‰ææ˜¯åœ¨å¼•ç”¨æœŸé—´ä¸èƒ½æ”¹åŠ¨å˜é‡å€¼ï¼‰ï¼Œæ‰€ä»¥å€ŸåŠ©é™æ€æˆå‘˜å˜é‡ä¹Ÿèƒ½å®ç°ç±»ä¼¼å…¨å±€å˜é‡çš„åŠŸèƒ½ã€‚æ ¹æ®ä¸Šä¸€å°èŠ‚çš„ä»‹ç»å¯çŸ¥ï¼ŒApplicationçš„ç”Ÿå‘½å‘¨æœŸè¦†ç›–äº†Appè¿è¡Œçš„å…¨è¿‡ç¨‹ã€‚ä¸åƒçŸ­æš‚çš„Activityç”Ÿå‘½å‘¨æœŸï¼Œä¸€æ—¦é€€å‡ºè¯¥é¡µé¢ï¼ŒActivityå®ä¾‹å°±è¢«é”€æ¯ã€‚å› æ­¤ï¼Œåˆ©ç”¨Applicationçš„å…¨ç”Ÿå‘½ç‰¹æ€§ï¼Œèƒ½å¤Ÿåœ¨Applicationå®ä¾‹ä¸­ä¿å­˜å…¨å±€å˜é‡ã€‚</p><p>é€‚åˆåœ¨Applicationä¸­ä¿å­˜çš„å…¨å±€å˜é‡ä¸»è¦æœ‰ä¸‹é¢ 3 ç±»æ•°æ®ï¼š</p><p>ï¼ˆ 1 ï¼‰ä¼šé¢‘ç¹è¯»å–çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·åã€æ‰‹æœºå·ç ç­‰ã€‚</p><p>ï¼ˆ 2 ï¼‰ä¸æ–¹ä¾¿ç”±æ„å›¾ä¼ é€’çš„æ•°æ®ï¼Œä¾‹å¦‚ä½å›¾å¯¹è±¡ã€éå­—ç¬¦ä¸²ç±»å‹çš„é›†åˆå¯¹è±¡ç­‰ã€‚</p><p>ï¼ˆ 3 ï¼‰å®¹æ˜“å› é¢‘ç¹åˆ†é…å†…å­˜è€Œå¯¼è‡´å†…å­˜æ³„æ¼çš„å¯¹è±¡ï¼Œä¾‹å¦‚Handlerå¤„ç†å™¨å®ä¾‹ç­‰ã€‚</p><p>è¦æƒ³é€šè¿‡Applicationå®ç°å…¨å±€å†…å­˜çš„è¯»å†™ï¼Œå¾—å®Œæˆä»¥ä¸‹ 3 é¡¹å·¥ä½œï¼š</p><p>ï¼ˆ 1 ï¼‰ç¼–å†™ä¸€ä¸ªç»§æ‰¿è‡ªApplicationçš„æ–°ç±»MainApplicationã€‚è¯¥ç±»é‡‡ç”¨å•ä¾‹æ¨¡å¼ï¼Œå†…éƒ¨å…ˆå£°æ˜è‡ªèº«ç±»çš„ä¸€ä¸ªé™æ€æˆå‘˜å¯¹è±¡ï¼Œåœ¨åˆ›å»ºAppæ—¶æŠŠè‡ªèº«èµ‹å€¼ç»™è¿™ä¸ªé™æ€å¯¹è±¡ï¼Œç„¶åæä¾›è¯¥å¯¹è±¡çš„è·å–æ–¹æ³•getInstanceã€‚</p><p>å…·ä½“å®ç°ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\MainApplication.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">TAG</span> <span class="token operator">=</span> <span class="token string">&quot;MainApplication&quot;</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> mApp<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªå½“å‰åº”ç”¨çš„é™æ€å®ä¾‹</span>
   <span class="token comment">// å£°æ˜ä¸€ä¸ªå…¬å…±çš„ä¿¡æ¯æ˜ å°„å¯¹è±¡ï¼Œå¯å½“ä½œå…¨å±€å˜é‡ä½¿ç”¨</span>
   <span class="token keyword">public</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> infoMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// åˆ©ç”¨å•ä¾‹æ¨¡å¼è·å–å½“å‰åº”ç”¨çš„å”¯ä¸€å®ä¾‹</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> mApp<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       mApp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨æ‰“å¼€åº”ç”¨æ—¶å¯¹é™æ€çš„åº”ç”¨å®ä¾‹èµ‹å€¼</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ 2 ï¼‰åœ¨æ´»åŠ¨é¡µé¢ä»£ç ä¸­è°ƒç”¨MainApplicationçš„getInstanceæ–¹æ³•ï¼Œè·å¾—å®ƒçš„ä¸€ä¸ªé™æ€å¯¹è±¡ï¼Œå†é€šè¿‡è¯¥å¯¹è±¡è®¿é—®MainApplicationçš„å…¬å…±å˜é‡å’Œå…¬å…±æ–¹æ³•ã€‚</p><p>ï¼ˆ 3 ï¼‰ä¸è¦å¿˜äº†åœ¨AndroidManifest.xmlä¸­æ³¨å†Œæ–°å®šä¹‰çš„Applicationç±»åï¼Œä¹Ÿå°±æ˜¯ç»™applicationèŠ‚ç‚¹å¢åŠ android:nameå±æ€§ï¼Œå…¶å€¼ä¸º.MainApplicationã€‚æ¥ä¸‹æ¥æ¼”ç¤ºå¦‚ä½•è¯»å†™å†…å­˜ä¸­çš„å…¨å±€å˜é‡ï¼Œé¦–å…ˆåˆ†åˆ«åˆ›å»ºå†™å†…å­˜é¡µé¢å’Œè¯»å†…å­˜é¡µé¢ï¼Œå…¶ä¸­å†™å†…å­˜é¡µé¢æŠŠç”¨æˆ·çš„æ³¨å†Œä¿¡æ¯ä¿å­˜åˆ°å…¨å±€å˜é‡infoMapï¼Œå®Œæ•´ä»£ç è§ chapter06\src\main\java\com\example\chapter06\AppWriteActivity.javaï¼›</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> name <span class="token operator">=</span> et_name<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> age <span class="token operator">=</span> et_age<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> height <span class="token operator">=</span> et_height<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> weight <span class="token operator">=</span> et_weight<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        app <span class="token operator">=</span> <span class="token class-name">MyApplication</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;weight&quot;</span><span class="token punctuation">,</span> weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">,</span> ck_married<span class="token punctuation">.</span><span class="token function">isChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;æ˜¯&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;å¦&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œè¯»å†…å­˜é¡µé¢ä»å…¨å±€å˜é‡infoMapè¯»å–ç”¨æˆ·çš„æ³¨å†Œä¿¡æ¯ï¼Œå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\AppReadActivity.javaã€‚</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span> age <span class="token operator">=</span> app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> height <span class="token operator">=</span> app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> weight <span class="token operator">=</span> app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;weight&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> married <span class="token operator">=</span> app<span class="token punctuation">.</span>infoMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;married&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        et_name<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        et_age<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        et_height<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        et_weight<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;æ˜¯&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>married<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ck_married<span class="token punctuation">.</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            ck_married<span class="token punctuation">.</span><span class="token function">setChecked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åè¿è¡Œæµ‹è¯•Appï¼Œå…ˆæ‰“å¼€å†…å­˜å†™å…¥é¡µé¢ï¼Œå½•å…¥æ³¨å†Œä¿¡æ¯åä¿å­˜è‡³å…¨å±€å˜é‡ï¼Œæ­¤æ—¶å†™å…¥ç•Œé¢å¦‚å›¾6-19æ‰€ç¤ºã€‚å†æ‰“å¼€å†…å­˜è¯»å–é¡µé¢ï¼ŒAppè‡ªåŠ¨ä»å…¨å±€å˜é‡è·å–æ³¨å†Œä¿¡æ¯ï¼Œå¹¶å±•ç¤ºæ‹¼æ¥åçš„ä¿¡æ¯æ–‡æœ¬ï¼Œæ­¤æ—¶è¯»å–ç•Œé¢å¦‚å›¾6-20æ‰€ç¤ºã€‚</p><h3 id="_6-4-3-åˆ©ç”¨roomç®€åŒ–æ•°æ®åº“æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_6-4-3-åˆ©ç”¨roomç®€åŒ–æ•°æ®åº“æ“ä½œ" aria-hidden="true">#</a> 6.4.3ã€€åˆ©ç”¨Roomç®€åŒ–æ•°æ®åº“æ“ä½œ</h3><p>è™½ç„¶Androidæä¾›äº†æ•°æ®åº“å¸®åŠ©å™¨ï¼Œä½†æ˜¯å¼€å‘è€…åœ¨è¿›è¡Œæ•°æ®åº“ç¼–ç¨‹æ—¶ä»æœ‰è¯¸å¤šä¸ä¾¿ï¼Œæ¯”å¦‚æ¯æ¬¡å¢åŠ ä¸€å¼ æ–°è¡¨ï¼Œå¼€å‘è€…éƒ½å¾—æ‰‹å·¥å®ç°ä»¥ä¸‹ä»£ç é€»è¾‘ï¼š</p><p>ï¼ˆ 1 ï¼‰é‡å†™æ•°æ®åº“å¸®åŠ©å™¨çš„onCreateæ–¹æ³•ï¼Œæ·»åŠ è¯¥è¡¨çš„å»ºè¡¨è¯­å¥ã€‚</p><p>ï¼ˆ 2 ï¼‰åœ¨æ’å…¥è®°å½•ä¹‹æ—¶ï¼Œå¿…é¡»å°†æ•°æ®å®ä¾‹çš„å±æ€§å€¼é€ä¸€èµ‹ç»™è¯¥è¡¨çš„å„å­—æ®µã€‚</p><p>ï¼ˆ 3 ï¼‰åœ¨æŸ¥è¯¢è®°å½•ä¹‹æ—¶ï¼Œå¿…é¡»éå†ç»“æœé›†æ¸¸æ ‡ï¼ŒæŠŠå„å­—æ®µå€¼é€ä¸€èµ‹ç»™æ•°æ®å®ä¾‹ã€‚</p><p>ï¼ˆ 4 ï¼‰æ¯æ¬¡è¯»å†™æ“ä½œä¹‹å‰ï¼Œéƒ½è¦å…ˆå¼€å¯æ•°æ®åº“è¿æ¥ï¼›è¯»å†™æ“ä½œä¹‹åï¼Œåˆè¦å…³é—­æ•°æ®åº“è¿æ¥ã€‚</p><p>ä¸Šè¿°çš„å¤„ç†æ“ä½œæ— ç–‘å­˜åœ¨ä¸å°‘é‡å¤åŠ³åŠ¨ï¼Œæ•°å¹´æ¥å¼•å¾—å¼€å‘è€…å«è‹¦è¿è¿ã€‚ä¸ºæ­¤å„ç±»æ•°æ®åº“å¤„ç†æ¡†æ¶çº·çº·æ¶Œç°ï¼ŒåŒ…æ‹¬GreenDaoã€OrmLiteã€Realmç­‰ï¼Œå¯è°“ç™¾èŠ±é½æ”¾ã€‚çœ¼è§SQLiteæ¸æ¸ä¹äººé—®æ´¥ï¼Œè°·æ­Œå…¬å¸å¹²è„†æ•´äº†ä¸ªè‡ªå·±çš„æ•°æ®åº“æ¡†æ¶â€”Roomï¼Œè¯¥æ¡†æ¶åŒæ ·åŸºäºSQLiteï¼Œä½†å®ƒé€šè¿‡æ³¨è§£æŠ€æœ¯æå¤§åœ°ç®€åŒ–äº†æ•°æ®åº“æ“ä½œï¼Œå‡å°‘äº†åŸæ¥ç›¸å½“ä¸€éƒ¨åˆ†ç¼–ç å·¥ä½œé‡ã€‚ç”±äºRoomå¹¶æœªé›†æˆåˆ°SDKä¸­ï¼Œè€Œæ˜¯ä½œä¸ºç¬¬ä¸‰æ–¹æ¡†æ¶æä¾›ï¼Œå› æ­¤è¦ä¿®æ”¹æ¨¡å—çš„build.gradleæ–‡ä»¶ï¼Œå¾€dependenciesèŠ‚ç‚¹æ·»åŠ ä¸‹é¢ä¸¤è¡Œé…ç½®ï¼Œè¡¨ç¤ºå¯¼å…¥æŒ‡å®šç‰ˆæœ¬çš„Roomåº“ï¼š</p><div class="language-groovy ext-groovy line-numbers-mode"><pre class="language-groovy"><code>implementation <span class="token string">&#39;androidx.room:room-runtime:2.2.5&#39;</span> 
annotationProcessor <span class="token string">&#39;androidx.room:room-compiler:2.2.5&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¼å…¥Roomåº“ä¹‹åï¼Œè¿˜è¦ç¼–å†™è‹¥å¹²å¯¹åº”çš„ä»£ç æ–‡ä»¶ã€‚ä»¥å½•å…¥å›¾ä¹¦ä¿¡æ¯ä¸ºä¾‹ï¼Œæ­¤æ—¶è¦å¯¹å›¾ä¹¦ä¿¡æ¯è¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œåˆ™å…·ä½“çš„ç¼–ç è¿‡ç¨‹åˆ†ä¸ºä¸‹åˆ— 5 ä¸ªæ­¥éª¤ï¼š</p><p><strong>1 ï¼ç¼–å†™å›¾ä¹¦ä¿¡æ¯è¡¨å¯¹åº”çš„å®ä½“ç±»</strong></p><p>å‡è®¾å›¾ä¹¦ä¿¡æ¯ç±»åä¸ºBookInfoï¼Œä¸”å®ƒçš„å„å±æ€§ä¸å›¾ä¹¦ä¿¡æ¯è¡¨çš„å„å­—æ®µä¸€ä¸€å¯¹åº”ï¼Œé‚£ä¹ˆè¦ç»™è¯¥ç±»æ·»åŠ â€œ@Entityâ€æ³¨è§£ï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯Roomä¸“ç”¨çš„æ•°æ®ç±»å‹ï¼Œå¯¹åº”çš„è¡¨åç§°ä¹Ÿå«BookInfoã€‚å¦‚æœBookInfoè¡¨çš„nameå­—æ®µæ˜¯è¯¥è¡¨çš„ä¸»é”®ï¼Œåˆ™éœ€ç»™BookInfoç±»çš„nameå±æ€§æ·»åŠ â€œ@PrimaryKeyâ€ä¸â€œ@NonNullâ€ä¸¤ä¸ªæ³¨è§£ï¼Œè¡¨ç¤ºè¯¥å­—æ®µæ˜¯ä¸ªéç©ºçš„ä¸»é”®ã€‚ä¸‹é¢æ˜¯BookInfoç±»çš„å®šä¹‰ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\entity\BookInfo.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//ä¹¦ç±ä¿¡æ¯</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookInfo</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@PrimaryKey</span><span class="token punctuation">(</span>autoGenerate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span> <span class="token comment">// ä¹¦ç±åç§°</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span> <span class="token comment">// ä½œè€…</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> press<span class="token punctuation">;</span> <span class="token comment">// å‡ºç‰ˆç¤¾</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> price<span class="token punctuation">;</span> <span class="token comment">// ä»·æ ¼</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAuthor</span><span class="token punctuation">(</span><span class="token class-name">String</span> author<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> press<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPress</span><span class="token punctuation">(</span><span class="token class-name">String</span> press<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>press <span class="token operator">=</span> press<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPrice</span><span class="token punctuation">(</span><span class="token keyword">double</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;BookInfo{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span>
                <span class="token string">&quot;, name=&#39;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
                <span class="token string">&quot;, author=&#39;&quot;</span> <span class="token operator">+</span> author <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
                <span class="token string">&quot;, press=&#39;&quot;</span> <span class="token operator">+</span> press <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
                <span class="token string">&quot;, price=&quot;</span> <span class="token operator">+</span> price <span class="token operator">+</span>
                <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2 ï¼ç¼–å†™å›¾ä¹¦ä¿¡æ¯è¡¨å¯¹åº”çš„æŒä¹…åŒ–ç±»</strong></p><p>æ‰€è°“æŒä¹…åŒ–ï¼ŒæŒ‡çš„æ˜¯å°†æ•°æ®ä¿å­˜åˆ°ç£ç›˜è€Œéå†…å­˜ï¼Œå…¶å®ç­‰åŒäºå¢åˆ æ”¹ç­‰SQLè¯­å¥ã€‚å‡è®¾å›¾ä¹¦ä¿¡æ¯è¡¨çš„æŒä¹…åŒ–ç±»åå«ä½œBookDaoï¼Œé‚£ä¹ˆè¯¥ç±»å¿…é¡»æ·»åŠ â€œ@Daoâ€æ³¨è§£ï¼Œå†…éƒ¨çš„è®°å½•æŸ¥è¯¢æ–¹æ³•å¿…é¡»æ·»åŠ â€œ@Queryâ€æ³¨è§£ï¼Œè®°å½•æ’å…¥æ–¹æ³•å¿…é¡»æ·»åŠ â€œ@Insertâ€æ³¨è§£ï¼Œè®°å½•æ›´æ–°æ–¹æ³•å¿…é¡»æ·»åŠ â€œ@Updateâ€æ³¨è§£ï¼Œè®°å½•åˆ é™¤æ–¹æ³•å¿…é¡»æ·»åŠ â€œ@Deleteâ€æ³¨è§£ï¼ˆå¸¦æ¡ä»¶çš„åˆ é™¤æ–¹æ³•é™¤å¤–ï¼‰ã€‚å¯¹äºè®°å½•æŸ¥è¯¢æ–¹æ³•ï¼Œå…è®¸åœ¨@Queryä¹‹åè¡¥å……å…·ä½“çš„æŸ¥è¯¢è¯­å¥ä»¥åŠæŸ¥è¯¢æ¡ä»¶ï¼›å¯¹äºè®°å½•æ’å…¥æ–¹æ³•ä¸è®°å½•æ›´æ–°æ–¹æ³•ï¼Œéœ€æ˜ç¡®å‡ºç°é‡å¤è®°å½•æ—¶è¦é‡‡å–å“ªç§å¤„ç†ç­–ç•¥ã€‚ä¸‹é¢æ˜¯BookDaoç±»çš„å®šä¹‰ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\dao\BookDao.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Dao</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Insert</span>
    <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">BookInfo</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Delete</span>
    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">BookInfo</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åˆ é™¤æ‰€æœ‰ä¹¦ç±ä¿¡æ¯</span>
    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;DELETE FROM BookInfo&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">deleteAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Update</span>
    <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">BookInfo</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åŠ è½½æ‰€æœ‰ä¹¦ç±ä¿¡æ¯</span>
    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM BookInfo&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BookInfo</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ ¹æ®åå­—åŠ è½½ä¹¦ç±</span>
    <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM BookInfo WHERE name = :name ORDER BY id DESC limit 1&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">BookInfo</span> <span class="token function">queryByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3 ï¼ç¼–å†™å›¾ä¹¦ä¿¡æ¯è¡¨å¯¹åº”çš„æ•°æ®åº“ç±»</strong></p><p>å› ä¸ºå…ˆæœ‰æ•°æ®åº“ç„¶åæ‰æœ‰è¡¨ï¼Œæ‰€ä»¥å›¾ä¹¦ä¿¡æ¯è¡¨è¿˜å¾—æ”¾åˆ°æŸä¸ªæ•°æ®åº“é‡Œï¼Œè¿™ä¸ªé»˜è®¤çš„å›¾ä¹¦æ•°æ®åº“è¦ä»RoomDatabaseæ´¾ç”Ÿè€Œæ¥ï¼Œå¹¶æ·»åŠ â€œ@Databaseâ€æ³¨è§£ã€‚ä¸‹é¢æ˜¯æ•°æ®åº“ç±»BookDatabaseçš„å®šä¹‰ä»£ç ä¾‹å­ï¼š ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\database\BookDatabase.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//entitiesè¡¨ç¤ºè¯¥æ•°æ®åº“æœ‰å“ªäº›è¡¨ï¼Œversionè¡¨ç¤ºæ•°æ®åº“çš„ç‰ˆæœ¬å·</span>
<span class="token comment">//exportSchemaè¡¨ç¤ºæ˜¯å¦å¯¼å‡ºæ•°æ®åº“ä¿¡æ¯çš„jsonä¸²ï¼Œå»ºè®®è®¾ä¸ºfalseï¼Œè‹¥è®¾ä¸ºtrueè¿˜éœ€æŒ‡å®šjsonæ–‡ä»¶çš„ä¿å­˜è·¯å¾„</span>
<span class="token annotation punctuation">@Database</span><span class="token punctuation">(</span>entities <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">BookInfo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">,</span> version <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> exportSchema <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">BookDatabase</span> <span class="token keyword">extends</span> <span class="token class-name">RoomDatabase</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–è¯¥æ•°æ®åº“ä¸­æŸå¼ è¡¨çš„æŒä¹…åŒ–å¯¹è±¡</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">BookDao</span> <span class="token function">bookDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4 ï¼åœ¨è‡ªå®šä¹‰çš„Applicationç±»ä¸­å£°æ˜å›¾ä¹¦æ•°æ®åº“çš„å”¯ä¸€å®ä¾‹</strong></p><p>ä¸ºäº†é¿å…é‡å¤æ‰“å¼€æ•°æ®åº“é€ æˆçš„å†…å­˜æ³„æ¼é—®é¢˜ï¼Œæ¯ä¸ªæ•°æ®åº“åœ¨Appè¿è¡Œè¿‡ç¨‹ä¸­ç†åº”åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæ­¤æ—¶è¦æ±‚å¼€å‘è€…è‡ªå®šä¹‰æ–°çš„Applicationç±»ï¼Œåœ¨è¯¥ç±»ä¸­å£°æ˜å¹¶è·å–å›¾ä¹¦æ•°æ®åº“çš„å®ä¾‹ï¼Œå¹¶å°†è‡ªå®šä¹‰çš„Applicationç±»è®¾ä¸ºå•ä¾‹æ¨¡å¼ï¼Œä¿è¯Appè¿è¡Œä¹‹æ—¶æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚ä¸‹é¢æ˜¯è‡ªå®šä¹‰Applicationç±»çš„ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\MainApplication.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span> <span class="token keyword">extends</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">TAG</span> <span class="token operator">=</span> <span class="token string">&quot;MainApplication&quot;</span><span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> mApp<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªå½“å‰åº”ç”¨çš„é™æ€å®ä¾‹</span>
   <span class="token keyword">private</span> <span class="token class-name">BookDatabase</span> bookDatabase<span class="token punctuation">;</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªä¹¦ç±æ•°æ®åº“å¯¹è±¡</span>
   <span class="token comment">// åˆ©ç”¨å•ä¾‹æ¨¡å¼è·å–å½“å‰åº”ç”¨çš„å”¯ä¸€å®ä¾‹</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">MainApplication</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> mApp<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;onCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       mApp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨æ‰“å¼€åº”ç”¨æ—¶å¯¹é™æ€çš„åº”ç”¨å®ä¾‹èµ‹å€¼</span>
       <span class="token comment">// æ„å»ºä¹¦ç±æ•°æ®åº“çš„å®ä¾‹</span>
       bookDatabase <span class="token operator">=</span> <span class="token class-name">Room</span><span class="token punctuation">.</span><span class="token function">databaseBuilder</span><span class="token punctuation">(</span>mApp<span class="token punctuation">,</span> <span class="token class-name">BookDatabase</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token string">&quot;book&quot;</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">addMigrations</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å…è®¸è¿ç§»æ•°æ®åº“ï¼ˆå‘ç”Ÿæ•°æ®åº“å˜æ›´æ—¶ï¼ŒRoomé»˜è®¤åˆ é™¤åŸæ•°æ®åº“å†åˆ›å»ºæ–°æ•°æ®åº“ã€‚å¦‚æ­¤ä¸€æ¥åŸæ¥çš„è®°å½•ä¼šä¸¢å¤±ï¼Œæ•…è€Œè¦æ”¹ä¸ºè¿ç§»æ–¹å¼ä»¥ä¾¿ä¿å­˜åŸæœ‰è®°å½•ï¼‰</span>
              <span class="token punctuation">.</span><span class="token function">allowMainThreadQueries</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å…è®¸åœ¨ä¸»çº¿ç¨‹ä¸­æ“ä½œæ•°æ®åº“ï¼ˆRoomé»˜è®¤ä¸èƒ½åœ¨ä¸»çº¿ç¨‹ä¸­æ“ä½œæ•°æ®åº“ï¼‰</span>
              <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
   <span class="token comment">// è·å–ä¹¦ç±æ•°æ®åº“çš„å®ä¾‹</span>
   <span class="token keyword">public</span> <span class="token class-name">BookDatabase</span> <span class="token function">getBookDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
       <span class="token keyword">return</span> bookDatabase<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5 ï¼åœ¨æ“ä½œå›¾ä¹¦ä¿¡æ¯è¡¨çš„åœ°æ–¹è·å–æ•°æ®è¡¨çš„æŒä¹…åŒ–å¯¹è±¡</strong></p><p>æŒä¹…åŒ–å¯¹è±¡çš„è·å–ä»£ç å¾ˆç®€å•ï¼Œåªéœ€ä¸‹é¢ä¸€è¡Œä»£ç å°±å¤Ÿäº†ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»Appå®ä¾‹ä¸­è·å–å”¯ä¸€çš„å›¾ä¹¦æŒä¹…åŒ–å¯¹è±¡</span>
<span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> <span class="token class-name">MainApplication</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBookDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bookDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œæˆä»¥ä¸Š 5 ä¸ªç¼–ç æ­¥éª¤ä¹‹åï¼Œæ¥ç€è°ƒç”¨æŒä¹…åŒ–å¯¹è±¡çš„queryXXXã€insertXXXã€updateXXXã€deleteXXXç­‰æ–¹æ³•ï¼Œå°±èƒ½å®ç°å›¾ä¹¦ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥æ“ä½œäº†ã€‚ä¾‹ç¨‹çš„å›¾ä¹¦ä¿¡æ¯æ¼”ç¤ºé¡µé¢æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯è®°å½•ä¿å­˜é¡µé¢å’Œè®°å½•è¯»å–é¡µé¢ï¼Œå…¶ä¸­è®°å½•ä¿å­˜é¡µé¢é€šè¿‡insertOneBookæ–¹æ³•å‘æ•°æ®åº“æ·»åŠ å›¾ä¹¦ä¿¡æ¯ï¼Œå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\RoomWriteActivity.javaï¼›è€Œè®°å½•è¯»å–é¡µé¢é€šè¿‡queryAllBookæ–¹æ³•ä»æ•°æ®åº“è¯»å–å›¾ä¹¦ä¿¡æ¯ï¼Œå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\RoomReadActivity.javaã€‚</p><p>è¿è¡Œæµ‹è¯•Appï¼Œå…ˆæ‰“å¼€è®°å½•ä¿å­˜é¡µé¢ï¼Œä¾æ¬¡å½•å…¥ä¸¤æœ¬å›¾ä¹¦ä¿¡æ¯å¹¶ä¿å­˜è‡³æ•°æ®åº“ï¼Œå¦‚å›¾6-21å’Œå›¾6-22æ‰€ç¤ºã€‚å†æ‰“å¼€è®°å½•è¯»å–é¡µé¢ï¼Œä»æ•°æ®åº“è¯»å–å›¾ä¹¦ä¿¡æ¯å¹¶å±•ç¤ºåœ¨é¡µé¢ä¸Šï¼Œå¦‚å›¾6-23æ‰€ç¤ºã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062136090.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062137111.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062137916.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><h2 id="_6-5-å®æˆ˜é¡¹ç›®-è´­ç‰©è½¦" tabindex="-1"><a class="header-anchor" href="#_6-5-å®æˆ˜é¡¹ç›®-è´­ç‰©è½¦" aria-hidden="true">#</a> 6.5ã€€å®æˆ˜é¡¹ç›®ï¼šè´­ç‰©è½¦</h2><p>è´­ç‰©è½¦çš„åº”ç”¨é¢å¾ˆå¹¿ï¼Œå‡¡æ˜¯ç”µå•†Appéƒ½å¯ä»¥çœ‹åˆ°å®ƒçš„èº«å½±ï¼Œä¹‹æ‰€ä»¥é€‰æ‹©è´­ç‰©è½¦ä½œä¸ºæœ¬ç« çš„å®æˆ˜é¡¹ç›®ï¼Œé™¤äº†å®ƒä½¿ç”¨å¹¿æ³›çš„ç‰¹ç‚¹ï¼Œæ›´å› ä¸ºå®ƒç”¨åˆ°äº†å¤šç§å­˜å‚¨æ–¹å¼ã€‚ç°åœ¨å°±è®©æˆ‘ä»¬å¼€å¯ç”µå•†è´­ç‰©è½¦çš„ä½“éªŒä¹‹æ—…å§ã€‚</p><h3 id="_6-5-1-éœ€æ±‚æè¿°" tabindex="-1"><a class="header-anchor" href="#_6-5-1-éœ€æ±‚æè¿°" aria-hidden="true">#</a> 6.5.1ã€€éœ€æ±‚æè¿°</h3><p>ç”µå•†Appçš„è´­ç‰©è½¦å¯è°“æ˜¯å¸ç©ºè§æƒ¯äº†ï¼Œä»¥äº¬ä¸œå•†åŸçš„è´­ç‰©è½¦ä¸ºä¾‹ï¼Œä¸€å¼€å§‹æ²¡æœ‰æ·»åŠ ä»»ä½•å•†å“ï¼Œæ­¤æ—¶ç©ºè´­ç‰©è½¦å¦‚å›¾6-24æ‰€ç¤ºï¼Œè€Œä¸”æç¤ºå»é€›ç§’æ€å•†åœºï¼›åŠ å…¥å‡ ä»¶å•†å“ä¹‹åï¼Œè´­ç‰©è½¦é¡µé¢å¦‚å›¾6-25æ‰€ç¤ºã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062143868.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:67%;"><p>å›¾6-24ã€€äº¬ä¸œAppè´­ç‰©è½¦çš„åˆå§‹é¡µé¢</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062143613.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p>å›¾6-25ã€€äº¬ä¸œAppè´­ç‰©è½¦åŠ äº†å‡ ä»¶å•†å“</p><p>å¯è§è´­ç‰©è½¦é™¤äº†åº•éƒ¨æœ‰ä¸ªç»“ç®—è¡Œï¼Œå…¶ä½™éƒ¨åˆ†ä¸»è¦æ˜¯å·²åŠ å…¥è´­ç‰©è½¦çš„å•†å“åˆ—è¡¨ï¼Œç„¶åæ¯ä¸ªå•†å“è¡Œå·¦è¾¹æ˜¯å•†å“å°å›¾ï¼Œå³è¾¹æ˜¯å•†å“åç§°åŠå…¶ä»·æ ¼ã€‚æ®æ­¤ä»¿ç…§æœ¬é¡¹ç›®çš„è´­ç‰©è½¦åŠŸèƒ½ï¼Œç¬¬ä¸€æ¬¡è¿›å…¥è´­ç‰©è½¦é¡µé¢ï¼Œè´­ç‰©è½¦é‡Œé¢æ˜¯ç©ºçš„ï¼ŒåŒæ—¶æç¤ºå»é€›æ‰‹æœºå•†åœºï¼Œ å¦‚å›¾6-26æ‰€ç¤ºã€‚æ¥ç€å»å•†åœºé¡µé¢é€‰è´­æ‰‹æœºï¼Œéšä¾¿æŒ‘äº†å‡ éƒ¨æ‰‹æœºåŠ å…¥è´­ç‰©è½¦ï¼Œå†è¿”å›è´­ç‰©è½¦é¡µé¢ï¼Œå³å¯çœ‹åˆ°è´­ç‰©è½¦çš„å•†å“åˆ—è¡¨ï¼Œå¦‚å›¾6-27æ‰€ç¤ºï¼Œæœ‰å•†å“å›¾ç‰‡ã€åç§°ã€æ•°é‡ã€å•ä»·ã€æ€»ä»·ç­‰ç­‰ä¿¡æ¯ã€‚å½“ç„¶è´­ç‰©è½¦å¹¶ä¸ä»…ä»…åªæ˜¯å±•ç¤ºå¾…è´­ä¹°çš„å•†å“ï¼Œè¿˜è¦æ”¯æŒæœ€ç»ˆè´­ä¹°çš„ç»“ç®—æ“ä½œã€æ”¯æŒæ¸…ç©ºè´­ç‰©è½¦ç­‰åŠŸèƒ½ã€‚</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062145081.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:80%;"><p>å›¾6-26ã€€é¦–æ¬¡æ‰“å¼€è´­ç‰©è½¦é¡µé¢</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062146818.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜" style="zoom:80%;"><p>å›¾6-27ã€€é€‰è´­å•†å“åçš„è´­ç‰©è½¦</p><p>è´­ç‰©è½¦çš„å­˜åœ¨æ„Ÿå¾ˆå¼ºï¼Œä¸ä»…ä»…åœ¨è´­ç‰©è½¦é¡µé¢æ‰èƒ½çœ‹åˆ°è´­ç‰©è½¦ã€‚å¾€å¾€åœ¨å•†åœºé¡µé¢ï¼Œç”šè‡³å•†å“è¯¦æƒ…é¡µé¢ï¼Œéƒ½ä¼šçœ‹åˆ°æŸä¸ªè§’è½å†’å‡ºè´­ç‰©è½¦å›¾æ ‡ã€‚ä¸€æ—¦æœ‰æ–°å•†å“åŠ å…¥è´­ç‰©è½¦ï¼Œè´­ç‰©è½¦å›¾æ ‡ä¸Šçš„å•†å“æ•°é‡ç«‹é©¬åŠ ä¸€ã€‚å½“ç„¶ï¼Œç”¨æˆ·ä¹Ÿèƒ½ç‚¹å‡»è´­ç‰©è½¦å›¾æ ‡ç›´æ¥è·³åˆ°è´­ç‰©è½¦é¡µé¢ã€‚å•†åœºé¡µé¢é™¤äº†å•†å“åˆ—è¡¨ä¹‹å¤–ï¼Œé¡µé¢å³ä¸Šè§’è¿˜æœ‰ä¸€ä¸ªè´­ç‰©è½¦å›¾æ ‡ï¼Œå¦‚å›¾6-28æ‰€ç¤ºï¼Œæœ‰æ—¶è¿™ä¸ªå›¾æ ‡ä¼šåœ¨é¡µé¢å³ä¸‹è§’ã€‚å•†å“è¯¦æƒ…é¡µé¢é€šå¸¸ä¹Ÿæœ‰è´­ç‰©è½¦å›¾æ ‡ï¼Œå¦‚å›¾6-29æ‰€ç¤ºï¼Œå€˜ä½¿ç”¨æˆ·åœ¨è¯¦æƒ…é¡µé¢æŠŠå•†å“åŠ å…¥è´­ç‰©è½¦ï¼Œé‚£ä¹ˆå›¾æ ‡ä¸Šçš„æ•°å­—ä¹Ÿä¼šåŠ ä¸€ã€‚</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062148610.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207062148206.png" alt="Image From ç¬”è®°-Android å¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜"></p><p>å›¾6-29ã€€æ‰‹æœºè¯¦æƒ…é¡µé¢</p><p>è‡³æ­¤å¤§æ¦‚è¿‡äº†ä¸€éè´­ç‰©è½¦éœ€è¦å®ç°çš„åŸºæœ¬åŠŸèƒ½ï¼Œæéœ€æ±‚æ€»æ˜¯å¾ˆç®€å•çš„ï¼ŒçœŸæ­£è½åˆ°å®å¤„è¿˜å¾—å¼€å‘è€…å‘æŒ¥æƒ³è±¡åŠ›ï¼ŒæŠŠè´­ç‰©è½¦åšæˆä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„æ¨¡å—ã€‚</p><h3 id="_6-5-2-ç•Œé¢è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_6-5-2-ç•Œé¢è®¾è®¡" aria-hidden="true">#</a> 6.5.2ã€€ç•Œé¢è®¾è®¡</h3><p>é¦–å…ˆæ‰¾æ‰¾çœ‹ï¼Œè´­ç‰©è½¦ä½¿ç”¨äº†å“ªäº›Androidæ§ä»¶ï¼š</p><ul><li><p>çº¿æ€§å¸ƒå±€LinearLayoutï¼šè´­ç‰©è½¦ç•Œé¢ä»ä¸Šå¾€ä¸‹æ’åˆ—ï¼Œç”¨åˆ°äº†å‚ç›´æ–¹å‘çš„çº¿æ€§å¸ƒå±€ã€‚</p></li><li><p>ç½‘æ ¼å¸ƒå±€GridLayoutï¼šå•†åœºé¡µé¢çš„é™ˆåˆ—æ©±æŸœï¼Œå…è®¸åˆ†è¡Œåˆ†åˆ—å±•ç¤ºå•†å“ã€‚</p></li><li><p>ç›¸å¯¹å¸ƒå±€RelativeLayoutï¼šé¡µé¢å³ä¸Šè§’çš„è´­ç‰©è½¦å›¾æ ‡ï¼Œå›¾æ ‡å³ä¸Šè§’åˆæœ‰æ•°å­—æ ‡è®°ï¼ŒæŒ‰ç…§æŒ‡å®šæ–¹ä½æ’åˆ—æ§ä»¶æ­£æ˜¯ç›¸å¯¹å¸ƒå±€çš„æ‹¿æ‰‹å¥½æˆã€‚</p></li><li><p>å…¶ä»–å¸¸è§æ§ä»¶å°šæœ‰æ–‡æœ¬è§†å›¾TextViewã€å›¾åƒè§†å›¾ImageViewï¼ŒæŒ‰é’®æ§ä»¶Buttonç­‰ã€‚</p><p>ç„¶åè€ƒè™‘ä¸€ä¸‹è´­ç‰©è½¦çš„å­˜å‚¨åŠŸèƒ½ï¼Œåˆ°åº•é‡‡å–äº†å“ªäº›å­˜å‚¨æ–¹å¼ï¼š</p></li><li><p>æ•°æ®åº“SQLiteï¼šæœ€ç›´è§‚çš„è‚¯å®šæ˜¯æ•°æ®åº“äº†ï¼Œè´­ç‰©è½¦é‡Œçš„å•†å“åˆ—è¡¨ä¸€å®šæ˜¯æ”¾åœ¨SQLiteä¸­ï¼Œå¢åˆ æ”¹æŸ¥éƒ½å°‘ä¸äº†å®ƒã€‚</p></li><li><p>å…¨å±€å†…å­˜ï¼šè´­ç‰©è½¦å›¾æ ‡å³ä¸Šè§’çš„æ•°å­—è¡¨ç¤ºè´­ç‰©è½¦ä¸­çš„å•†å“æ•°é‡ï¼Œè¯¥æ•°å€¼å»ºè®®ä¿å­˜åœ¨å…¨å±€å†…å­˜ä¸­ï¼Œè¿™æ ·ä¸å¿…æ¯æ¬¡éƒ½åˆ°æ•°æ®åº“ä¸­æ‰§è¡Œcountæ“ä½œã€‚</p></li><li><p>å­˜å‚¨å¡æ–‡ä»¶ï¼šé€šå¸¸å•†å“å›¾ç‰‡æ¥è‡ªäºç”µå•†å¹³å°çš„æœåŠ¡å™¨ï¼Œæ­¤æ—¶å¾€å¾€å¼•å…¥å›¾ç‰‡ç¼“å­˜æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯é¦–æ¬¡è®¿é—®å…ˆå°†ç½‘ç»œå›¾ç‰‡ä¿å­˜åˆ°å­˜å‚¨å¡ï¼Œä¸‹æ¬¡è®¿é—®æ—¶ç›´æ¥ä»å­˜å‚¨å¡è·å–ç¼“å­˜å›¾ç‰‡ï¼Œä»è€Œæé«˜å›¾ç‰‡çš„åŠ è½½é€Ÿåº¦ã€‚</p></li><li><p>å…±äº«å‚æ•°SharedPreferencesï¼šæ˜¯å¦é¦–æ¬¡è®¿é—®ç½‘ç»œå›¾ç‰‡ï¼Œè¿™ä¸ªæ ‡å¿—ä½æ¨èæ”¾åœ¨å…±äº«å‚æ•°ä¸­ï¼Œå› ä¸ºå®ƒéœ€è¦æŒä¹…åŒ–å­˜å‚¨ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªå‚æ•°ä¿¡æ¯ã€‚çœŸæ˜¯æƒ³ä¸åˆ°ï¼Œä¸€ä¸ªå°å°çš„è´­ç‰©è½¦ï¼Œç«Ÿç„¶ç”¨åˆ°äº†å¥½å‡ ç§å­˜å‚¨æ–¹å¼ã€‚</p></li></ul><h3 id="_6-5-3-å…³é”®ä»£ç " tabindex="-1"><a class="header-anchor" href="#_6-5-3-å…³é”®ä»£ç " aria-hidden="true">#</a> 6.5.3ã€€å…³é”®ä»£ç </h3><p>ä¸ºäº†è¯»è€…æ›´å¥½æ›´å¿«åœ°å®Œæˆè´­ç‰©è½¦é¡¹ç›®ï¼Œä¸‹é¢åˆ—ä¸¾å‡ ä¸ªé‡è¦åŠŸèƒ½çš„ä»£ç ç‰‡æ®µã€‚</p><p><strong>1 ï¼å…³äºé¡µé¢è·³è½¬</strong></p><p>å› ä¸ºè´­ç‰©è½¦é¡µé¢å…è®¸ç›´æ¥è·³åˆ°å•†åœºé¡µé¢ï¼Œå¹¶ä¸”å•†åœºé¡µé¢ä¹Ÿå…è®¸è·³åˆ°è´­ç‰©è½¦é¡µé¢ï¼Œæ‰€ä»¥å¦‚æœç”¨æˆ·åœ¨è¿™ä¸¤ä¸ªé¡µé¢ä¹‹é—´æ¥å›è·³è½¬ï¼Œç„¶åå†æŒ‰è¿”å›é”®ï¼Œç»“æœå‘ç°è¿”å›çš„æ—¶å€™ä¹Ÿæ˜¯åœ¨ä¸¤ä¸ªé¡µé¢é—´å¾€è¿”è·³è½¬ã€‚å‡ºç°é—®é¢˜çš„ç¼˜ç”±åœ¨äºï¼šæ¯æ¬¡å¯åŠ¨æ´»åŠ¨é¡µé¢éƒ½å¾€æ´»åŠ¨æ ˆåŠ å…¥ä¸€ä¸ªæ–°æ´»åŠ¨ï¼Œé‚£ä¹ˆè¿”å›å‡ºæ ˆä¹‹æ—¶ï¼Œä¹Ÿåªå¥½ä¸€ä¸ªä¸€ä¸ªæ´»åŠ¨ä¾æ¬¡é€€å‡ºäº†ã€‚è§£å†³è¯¥é—®é¢˜çš„åŠæ³•å‚è§ç¬¬ 4 ç« çš„â€œ4.1.3 Activityçš„å¯åŠ¨æ¨¡å¼â€ï¼Œå¯¹äºè´­ç‰©è½¦çš„æ´»åŠ¨è·³è½¬éœ€è¦æŒ‡å®šå¯åŠ¨æ ‡å¿—FLAG_ACTIVITY_CLEAR_TOPï¼Œè¡¨ç¤ºæ´»åŠ¨æ ˆæœ‰ä¸”ä»…æœ‰è¯¥é¡µé¢çš„å”¯ä¸€å®ä¾‹ï¼Œå¦‚æ­¤å³å¯é¿å…å¤šæ¬¡è¿”å›åŒä¸€é¡µé¢çš„æƒ…å†µã€‚æ¯”å¦‚ä»è´­ç‰©è½¦é¡µé¢è·³åˆ°å•†åœºé¡µé¢ï¼Œæ­¤æ—¶æ´»åŠ¨è·³è½¬çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»è´­ç‰©è½¦é¡µé¢è·³åˆ°å•†åœºé¡µé¢</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">ShoppingChannelActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
intent<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_ACTIVITY_CLEAR_TOP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è®¾ç½®å¯åŠ¨æ ‡å¿— </span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·³è½¬åˆ°æ‰‹æœºå•†åœºé¡µé¢</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆå¦‚ä»å•†åœºé¡µé¢è·³åˆ°è´­ç‰©è½¦é¡µé¢ï¼Œæ­¤æ—¶æ´»åŠ¨è·³è½¬çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ä»å•†åœºé¡µé¢è·³åˆ°è´­ç‰©è½¦é¡µé¢</span>
<span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">ShoppingCartActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
intent<span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span><span class="token constant">FLAG_ACTIVITY_CLEAR_TOP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è®¾ç½®å¯åŠ¨æ ‡å¿— </span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2 ï¼å…³äºå•†å“å›¾ç‰‡çš„ç¼“å­˜</strong></p><p>é€šå¸¸å•†å“å›¾ç‰‡ç”±åç«¯æœåŠ¡å™¨æä¾›ï¼ŒAppæ‰“å¼€é¡µé¢æ—¶å†ä»æœåŠ¡å™¨ä¸‹è½½æ‰€éœ€çš„å•†å“å›¾ã€‚å¯æ˜¯è´­ç‰©è½¦æ¨¡å—çš„å¤šä¸ªé¡µé¢éƒ½ä¼šå±•ç¤ºå•†å“å›¾ç‰‡ï¼Œå¦‚æœæ¯æ¬¡éƒ½åˆ°æœåŠ¡å™¨è¯·æ±‚å›¾ç‰‡ï¼Œæ˜¾ç„¶æ—¢è€—æ—¶é—´åˆè€—æµé‡éå¸¸ä¸ç»æµã€‚å› æ­¤Appéƒ½ä¼šç¼“å­˜å¸¸ç”¨çš„å›¾ç‰‡ï¼Œä¸€æ—¦ä»æœåŠ¡å™¨æˆåŠŸä¸‹è½½å›¾ç‰‡ï¼Œä¾¿åœ¨æ‰‹æœºå­˜å‚¨å¡ä¸Šä¿å­˜å›¾ç‰‡æ–‡ä»¶ã€‚ç„¶åä¸‹æ¬¡ç•Œé¢éœ€è¦åŠ è½½å•†å“å›¾ç‰‡æ—¶ï¼Œå°±å…ˆä»å­˜å‚¨å¡å¯»æ‰¾è¯¥å›¾ç‰‡ï¼Œå¦‚æœæ‰¾åˆ°å°±è¯»å–å›¾ç‰‡çš„ä½å›¾ä¿¡æ¯ï¼Œå¦‚æœæ²¡æ‰¾åˆ°å°±å†åˆ°æœåŠ¡å™¨ä¸‹è½½å›¾ç‰‡ã€‚</p><p>ä»¥ä¸Šçš„ç¼“å­˜é€»è¾‘æ˜¯æœ€ç®€å•çš„äºŒçº§å›¾ç‰‡ç¼“å­˜ï¼Œå®é™…å¼€å‘å¾€å¾€ä½¿ç”¨æ›´é«˜çº§çš„ä¸‰çº§ç¼“å­˜æœºåˆ¶ï¼Œå³â€œè¿è¡Œå†…å­˜â†’å­˜å‚¨å¡â†’ç½‘ç»œä¸‹è½½â€ã€‚å½“ç„¶å°±åˆå­¦è€…è€Œè¨€ï¼Œå…ˆä»æŒæ¡æœ€ç®€å•çš„äºŒçº§ç¼“å­˜å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯â€œå­˜å‚¨å¡â†’ç½‘ç»œä¸‹è½½â€ã€‚</p><p>æŒ‰ç…§äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥è®¾è®¡ä»¥ä¸‹çš„ç¼“å­˜å¤„ç†é€»è¾‘ï¼š</p><p>ï¼ˆ 1 ï¼‰å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºé¦–æ¬¡è®¿é—®ç½‘ç»œå›¾ç‰‡ã€‚</p><p>ï¼ˆ 2 ï¼‰å¦‚æœæ˜¯é¦–æ¬¡è®¿é—®ç½‘ç»œå›¾ç‰‡ï¼Œå°±å…ˆä»ç½‘ç»œæœåŠ¡å™¨ä¸‹è½½å›¾ç‰‡ã€‚</p><p>ï¼ˆ 3 ï¼‰æŠŠä¸‹è½½å®Œçš„å›¾ç‰‡æ•°æ®ä¿å­˜åˆ°æ‰‹æœºçš„å­˜å‚¨å¡ã€‚</p><p>ï¼ˆ 4 ï¼‰å¾€æ•°æ®åº“ä¸­å†™å…¥å•†å“è®°å½•ï¼Œä»¥åŠå•†å“å›¾ç‰‡çš„æœ¬åœ°å­˜å‚¨è·¯å¾„ã€‚</p><p>ï¼ˆ 5 ï¼‰æ›´æ–°å…±äº«å‚æ•°ä¸­çš„é¦–æ¬¡è®¿é—®æ ‡å¿—ã€‚</p><p>æŒ‰ç…§ä¸Šè¿°çš„å¤„ç†é€»è¾‘ï¼Œç¼–å†™çš„å›¾ç‰‡åŠ è½½ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\ShoppingCartActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> mFirst <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">;</span> <span class="token comment">// æ˜¯å¦é¦–æ¬¡æ‰“å¼€ </span>
<span class="token comment">// æ¨¡æ‹Ÿç½‘ç»œæ•°æ®ï¼Œåˆå§‹åŒ–æ•°æ®åº“ä¸­çš„å•†å“ä¿¡æ¯</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">downloadGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// è·å–å…±äº«å‚æ•°ä¿å­˜çš„æ˜¯å¦é¦–æ¬¡æ‰“å¼€å‚æ•°</span>
   mFirst <span class="token operator">=</span> <span class="token class-name">SharedUtil</span><span class="token punctuation">.</span><span class="token function">getIntance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// è·å–å½“å‰Appçš„ç§æœ‰ä¸‹è½½è·¯å¾„ </span>
   <span class="token class-name">String</span> path <span class="token operator">=</span>
<span class="token function">getExternalFilesDir</span><span class="token punctuation">(</span><span class="token class-name">Environment</span><span class="token punctuation">.</span><span class="token constant">DIRECTORY_DOWNLOADS</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">;</span> 
   <span class="token keyword">if</span> <span class="token punctuation">(</span>mFirst<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœæ˜¯é¦–æ¬¡æ‰“å¼€</span>
       <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GoodsInfo</span><span class="token punctuation">&gt;</span></span> goodsList <span class="token operator">=</span> <span class="token class-name">GoodsInfo</span><span class="token punctuation">.</span><span class="token function">getDefaultList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¨¡æ‹Ÿç½‘ç»œå›¾ç‰‡ä¸‹è½½</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> goodsList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
           <span class="token class-name">GoodsInfo</span> info <span class="token operator">=</span> goodsList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">long</span> rowid <span class="token operator">=</span> mGoodsHelper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾€å•†å“æ•°æ®åº“æ’å…¥ä¸€æ¡è¯¥å•†å“çš„è®°å½•</span>
           info<span class="token punctuation">.</span>rowid <span class="token operator">=</span> rowid<span class="token punctuation">;</span>
           <span class="token class-name">Bitmap</span> pic <span class="token operator">=</span> <span class="token class-name">BitmapFactory</span><span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>pic<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">String</span> pic_path <span class="token operator">=</span> path <span class="token operator">+</span> rowid <span class="token operator">+</span> <span class="token string">&quot;.jpg&quot;</span><span class="token punctuation">;</span>
           <span class="token class-name">FileUtil</span><span class="token punctuation">.</span><span class="token function">saveImage</span><span class="token punctuation">(</span>pic_path<span class="token punctuation">,</span> pic<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾€å­˜å‚¨å¡ä¿å­˜å•†å“å›¾ç‰‡</span>
           pic<span class="token punctuation">.</span><span class="token function">recycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å›æ”¶ä½å›¾å¯¹è±¡</span>
           info<span class="token punctuation">.</span>pic_path <span class="token operator">=</span> pic_path<span class="token punctuation">;</span>
           mGoodsHelper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ›´æ–°å•†å“æ•°æ®åº“ä¸­è¯¥å•†å“è®°å½•çš„å›¾ç‰‡è·¯å¾„</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// æŠŠæ˜¯å¦é¦–æ¬¡æ‰“å¼€å†™å…¥å…±äº«å‚æ•°</span>
   <span class="token class-name">SharedUtil</span><span class="token punctuation">.</span><span class="token function">getIntance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span><span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3 ï¼å…³äºå„é¡µé¢å…±åŒçš„æ ‡é¢˜æ </strong></p><p>æ³¨æ„åˆ°è´­ç‰©è½¦ã€æ‰‹æœºå•†åœºã€æ‰‹æœºè¯¦æƒ…ä¸‰ä¸ªé¡µé¢é¡¶éƒ¨éƒ½æœ‰æ ‡é¢˜æ ï¼Œè€Œä¸”è¿™ä¸‰ä¸ªæ ‡é¢˜æ é£æ ¼ç»Ÿä¸€ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œèƒ½å¦æŠŠå®ƒåšæˆå…¬å…±çš„æ ‡é¢˜æ å‘¢ï¼Ÿå½“ç„¶Appç•Œé¢æ”¯æŒå±€éƒ¨çš„å…¬å…±å¸ƒå±€ï¼Œä»¥è´­ç‰©è½¦çš„æ ‡é¢˜æ ä¸ºä¾‹ï¼Œå…¬å…±å¸ƒå±€çš„å®ç°è¿‡ç¨‹åŒ…æ‹¬ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š</p><p>æ­¥éª¤ä¸€ï¼Œé¦–å…ˆå®šä¹‰æ ‡é¢˜æ ä¸“ç”¨çš„å¸ƒå±€æ–‡ä»¶ï¼ŒåŒ…å«è¿”å›ç®­å¤´ã€æ–‡å­—æ ‡é¢˜ã€è´­ç‰©è½¦å›¾æ ‡ã€å•†å“æ•°é‡è¡¨ç­‰ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\res\layout\title_shopping.xmlï¼‰</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RelativeLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#aaaaff<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/iv_back<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_alignParentLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>scaleType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fitCenter<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/ic_back<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv_title<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_centerInParent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span> 
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/iv_cart<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>50dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_alignParentRight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>scaleType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fitCenter<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/cart<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv_count<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_alignParentTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_toRightOf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/iv_cart<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_marginLeft</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-20dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/shape_oval_red<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/white<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>15sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RelativeLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¥éª¤äºŒï¼Œç„¶ååœ¨è´­ç‰©è½¦é¡µé¢çš„å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¸€è¡Œincludeæ ‡ç­¾ï¼Œè¡¨ç¤ºå¼•å…¥title_shopping.xmlçš„å¸ƒå±€å†…å®¹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\res\layout\activity_shopping_cart.xmlï¼‰</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@layout/title_shopping<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¹‹åé‡æ–°è¿è¡Œæµ‹è¯•Appï¼Œå³å¯å‘ç°è´­ç‰©è½¦é¡µé¢çš„é¡¶éƒ¨æœç„¶å‡ºç°äº†å…¬å…±æ ‡é¢˜æ ï¼Œå•†åœºé¡µé¢ã€è¯¦æƒ…é¡µé¢çš„å…¬å…±æ ‡é¢˜æ å¯å‚è€ƒè´­ç‰©è½¦é¡µé¢çš„includeæ ‡ç­¾ã€‚</p><p><strong>4 ï¼å…³äºå•†å“ç½‘æ ¼çš„å•å…ƒå¸ƒå±€</strong></p><p>å•†åœºé¡µé¢çš„å•†å“åˆ—è¡¨ï¼Œå‘ˆç°ä¸‰è¡ŒäºŒåˆ—çš„è¡¨æ ¼å¸ƒå±€ï¼Œæ¯ä¸ªè¡¨æ ¼å•å…ƒçš„ç•Œé¢å¸ƒå±€é›·åŒï¼Œéƒ½æ˜¯å•†å“åç§°åœ¨ä¸Šã€å•†å“å›¾ç‰‡å±…ä¸­ã€å•†å“ä»·æ ¼ä¸æ·»åŠ æŒ‰é’®åœ¨ä¸‹ï¼Œçœ‹èµ·æ¥è·Ÿå…¬å…±æ ‡é¢˜æ çš„å¤„ç†æœ‰äº›ç±»ä¼¼ã€‚ä½†åè€…ä¸ºå¤šä¸ªé¡µé¢å¼•ç”¨åŒä¸€ä¸ªæ ‡é¢˜æ ï¼Œæ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼›è€Œå‰è€…ä¸ºä¸€ä¸ªå•†åœºé¡µé¢å¼•ç”¨äº†å¤šä¸ªå•†å“ç½‘æ ¼ï¼Œæ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚å› æ­¤äºŒè€…çš„å®ç°è¿‡ç¨‹ä¸å°½ç›¸åŒï¼Œå°±å•†åœºç½‘æ ¼è€Œè¨€ï¼Œå®ƒçš„å•å…ƒå¤ç”¨åˆ†ä¸ºä¸‹åˆ— 3 ä¸ªæ­¥éª¤ï¼š</p><p>æ­¥éª¤ä¸€ï¼Œåœ¨å•†åœºé¡µé¢çš„å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ GridLayoutèŠ‚ç‚¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\res\layout\activity_shopping_channel.xmlï¼‰</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/orange<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@layout/title_shopping<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScrollView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GridLayout</span>
           <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/gl_channel<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span> 
           <span class="token attr-name"><span class="token namespace">android:</span>columnCount</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScrollView</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¥éª¤äºŒï¼Œä¸ºå•†åœºç½‘æ ¼ç¼–å†™ç»Ÿä¸€çš„å•†å“ä¿¡æ¯å¸ƒå±€ï¼ŒXMLæ–‡ä»¶å†…å®¹ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\res\layout\item_goods.xmlï¼‰</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/ll_item<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/white<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv_name<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>17sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ImageView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/iv_thumb<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>180dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>150dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>scaleType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fitCenter<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>45dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
           <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv_price<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/red<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>15sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span>
           <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/btn_add<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>åŠ å…¥è´­ç‰©è½¦<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>15sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¥éª¤ä¸‰ï¼Œåœ¨å•†åœºé¡µé¢çš„Javaä»£ç ä¸­ï¼Œå…ˆåˆ©ç”¨ä¸‹é¢ä»£ç è·å–å¸ƒå±€æ–‡ä»¶item_goods.xmlçš„æ ¹è§†å›¾ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">View</span> view <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>item_goods<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å†ä»æ ¹è§†å›¾ä¸­ä¾æ®æ§ä»¶IDåˆ†åˆ«å–å‡ºç½‘æ ¼å•å…ƒçš„å„æ§ä»¶å¯¹è±¡ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ImageView</span> iv_thumb <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>iv_thumb<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">TextView</span> tv_name <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">TextView</span> tv_price <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_price<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">Button</span> btn_add <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_add<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå°±èƒ½æŒ‰ç…§å¯»å¸¸æ–¹å¼æ“çºµè¿™äº›æ§ä»¶å¯¹è±¡äº†ï¼Œä¸‹é¢ä¾¿æ˜¯ç»™ç½‘æ ¼å¸ƒå±€åŠ è½½å•†å“çš„ä»£ç ä¾‹å­ï¼š</p><p>ï¼ˆå®Œæ•´ä»£ç è§chapter06\src\main\java\com\example\chapter06\ShoppingChannelActivity.javaï¼‰</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">showGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">int</span> screenWidth <span class="token operator">=</span> <span class="token class-name">Utils</span><span class="token punctuation">.</span><span class="token function">getScreenWidth</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">(</span>
               screenWidth<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">LinearLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">WRAP_CONTENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       gl_channel<span class="token punctuation">.</span><span class="token function">removeAllViews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç§»é™¤ä¸‹é¢çš„æ‰€æœ‰å­è§†å›¾</span>
       <span class="token comment">// æŸ¥è¯¢å•†å“æ•°æ®åº“ä¸­çš„æ‰€æœ‰å•†å“è®°å½•</span>
       <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GoodsInfo</span><span class="token punctuation">&gt;</span></span> goodsArray <span class="token operator">=</span> mGoodsHelper<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;1=1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">GoodsInfo</span> info <span class="token operator">:</span> goodsArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// è·å–å¸ƒå±€æ–‡ä»¶item_goods.xmlçš„æ ¹è§†å›¾</span>
           <span class="token class-name">View</span> view <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>item_goods<span class="token punctuation">,</span> 
<span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">ImageView</span> iv_thumb <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>iv_thumb<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">TextView</span> tv_name <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">TextView</span> tv_price <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_price<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">Button</span> btn_add <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_add<span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_name<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å•†å“åç§°</span>
           iv_thumb<span class="token punctuation">.</span><span class="token function">setImageURI</span><span class="token punctuation">(</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>pic_path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å•†å“å›¾ç‰‡</span>
           iv_thumb<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token annotation punctuation">@Override</span>
               <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">ShoppingChannelActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> 
<span class="token class-name">ShoppingDetailActivity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                   intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;goods_id&quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>rowid<span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·³åˆ°å•†å“è¯¦æƒ…é¡µé¢</span>
        <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           tv_price<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>info<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å•†å“ä»·æ ¼</span>
           btn_add<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token annotation punctuation">@Override</span>
               <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   <span class="token function">addToCart</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>rowid<span class="token punctuation">,</span> info<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ åˆ°è´­ç‰©è½¦</span>
        <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           gl_channel<span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠŠå•†å“è§†å›¾æ·»åŠ åˆ°ç½‘æ ¼å¸ƒå±€</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼„å¥½äº†å•†åœºé¡µé¢çš„ç½‘æ ¼å•å…ƒï¼Œè´­ç‰©è½¦é¡µé¢çš„å•†å“è¡Œä¹Ÿå¯ç…§æ­¤åŠç†ï¼Œä¸åŒä¹‹å¤„åœ¨äºè´­ç‰©è½¦é¡µé¢çš„å•†å“è¡Œä½¿ç”¨çº¿æ€§å¸ƒå±€è€Œéç½‘æ ¼å¸ƒå±€ï¼Œå…¶ä½™å®ç°è¿‡ç¨‹ä¾ç„¶åˆ†æˆä¸Šè¿° 3 ä¸ªæ­¥éª¤ã€‚</p><h2 id="_6-6-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_6-6-å°ç»“" aria-hidden="true">#</a> 6.6ã€€å°ç»“</h2><p>æœ¬ç« ä¸»è¦ä»‹ç»äº†Androidå¸¸ç”¨çš„å‡ ç§æ•°æ®å­˜å‚¨æ–¹å¼ï¼ŒåŒ…æ‹¬å…±äº«å‚æ•°SharedPreferencesçš„é”®å€¼å¯¹å­˜å–ã€æ•°æ®åº“SQLiteçš„å…³ç³»å‹æ•°æ®å­˜å–ã€å­˜å‚¨å¡çš„æ–‡ä»¶è¯»å†™æ“ä½œï¼ˆå«æ–‡æœ¬æ–‡ä»¶è¯»å†™å’Œå›¾ç‰‡æ–‡ä»¶è¯»å†™ï¼‰ã€Appå…¨å±€å†…å­˜çš„è¯»å†™ï¼Œä»¥åŠä¸ºå®ç°å…¨å±€å†…å­˜è€Œå­¦ä¹ çš„Applicationç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåŠå…¶ç”¨æ³•ã€‚æœ€åè®¾è®¡äº†ä¸€ä¸ªå®æˆ˜é¡¹ç›®â€œè´­ç‰©è½¦â€ï¼Œé€šè¿‡è¯¥é¡¹ç›®çš„ç¼–ç è¿›ä¸€æ­¥å¤ä¹ å·©å›ºæœ¬ç« å‡ ç§å­˜å‚¨æ–¹å¼çš„ä½¿ç”¨ã€‚</p><p>é€šè¿‡æœ¬ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤ŸæŒæ¡ä»¥ä¸‹ 4 ç§å¼€å‘æŠ€èƒ½ï¼š</p><p>ï¼ˆ 1 ï¼‰å­¦ä¼šä½¿ç”¨å…±äº«å‚æ•°å­˜å–é”®å€¼å¯¹æ•°æ®ã€‚</p><p>ï¼ˆ 2 ï¼‰å­¦ä¼šä½¿ç”¨SQLiteå­˜å–æ•°æ®åº“è®°å½•ã€‚</p><p>ï¼ˆ 3 ï¼‰å­¦ä¼šä½¿ç”¨å­˜å‚¨å¡è¯»å†™æ–‡æœ¬æ–‡ä»¶å’Œå›¾ç‰‡æ–‡ä»¶ã€‚</p><p>ï¼ˆ 4 ï¼‰å­¦ä¼šåº”ç”¨ç»„ä»¶Applicationçš„ç”¨æ³•ã€‚</p><h3 id="_6-7-è¯¾åç»ƒä¹ é¢˜" tabindex="-1"><a class="header-anchor" href="#_6-7-è¯¾åç»ƒä¹ é¢˜" aria-hidden="true">#</a> 6.7ã€€è¯¾åç»ƒä¹ é¢˜</h3><p>ä¸€ã€å¡«ç©ºé¢˜</p><p>1 ï¼SharedPreferencesé‡‡ç”¨çš„å­˜å‚¨ç»“æ„æ˜¯ __ çš„é”®å€¼å¯¹æ–¹å¼ã€‚</p><p>2 ï¼Androidå¯ä»¥ç›´æ¥æ“ä½œçš„æ•°æ®åº“åä¸º __ ã€‚</p><p>3 ï¼ __ æ˜¯Androidæä¾›çš„SQLiteæ•°æ®åº“ç®¡ç†å™¨ã€‚</p><p>4 ï¼æ•°æ®åº“è®°å½•çš„ä¿®æ”¹åŠ¨ä½œç”± __ å‘½ä»¤å®Œæˆã€‚</p><p>5 ï¼ä¸ºäº†ç¡®ä¿åœ¨Appè¿è¡ŒæœŸé—´åªæœ‰å”¯ä¸€çš„Applicationå®ä¾‹ï¼Œå¯ä»¥é‡‡å– __ __æ¨¡å¼å®ç°ã€‚</p><p>äºŒã€åˆ¤æ–­é¢˜ï¼ˆæ­£ç¡®æ‰“âˆšï¼Œé”™è¯¯æ‰“Ã—ï¼‰</p><p>1 ï¼å…±äº«å‚æ•°åªèƒ½ä¿å­˜å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>2 ï¼SQLiteå¯ä»¥ç›´æ¥è¯»å†™å¸ƒå°”ç±»å‹çš„æ•°æ®ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>3 ï¼ä»Android 7.0å¼€å§‹ï¼Œç³»ç»Ÿé»˜è®¤ç¦æ­¢Appè®¿é—®å…¬å…±å­˜å‚¨ç©ºé—´ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>4 ï¼Appåœ¨ç§æœ‰ç©ºé—´ä¸Šè¯»å†™æ–‡ä»¶æ— é¡»ä»»ä½•æˆæƒã€‚ï¼ˆã€€ã€€ï¼‰</p><p>5 ï¼Appç»ˆæ­¢æ—¶ä¼šè°ƒç”¨Applicationçš„onTerminateæ–¹æ³•ã€‚ï¼ˆã€€ã€€ï¼‰</p><p>ä¸‰ã€é€‰æ‹©é¢˜</p><p>1 ï¼ï¼ˆã€€ã€€ï¼‰ä¸æ˜¯æŒä¹…åŒ–çš„å­˜å‚¨æ–¹å¼ã€‚</p><p>Aï¼å…±äº«å‚æ•°</p><p>Bï¼æ•°æ®åº“</p><p>Cï¼æ–‡ä»¶</p><p>Dï¼å…¨å±€å˜é‡</p><p>2 ï¼DDLè¯­è¨€åŒ…å«å“ªäº›æ•°æ®åº“æ“ä½œï¼ˆã€€ã€€ï¼‰ã€‚</p><p>Aï¼åˆ›å»ºè¡¨æ ¼</p><p>Bï¼åˆ é™¤è¡¨æ ¼</p><p>Cï¼æ¸…ç©ºè¡¨æ ¼</p><p>Dï¼ä¿®æ”¹è¡¨ç»“æ„</p><p>3 ï¼è°ƒç”¨ï¼ˆã€€ã€€ï¼‰æ–¹æ³•ä¼šè¿”å›ç»“æœé›†çš„Cursorå¯¹è±¡ã€‚</p><p>Aï¼update</p><p>Bï¼insert</p><p>Cï¼query</p><p>Dï¼rawQuery</p><p>4 ï¼ä½å›¾å·¥å‚BitmapFactoryçš„ï¼ˆã€€ã€€ï¼‰æ–¹æ³•æ”¯æŒè·å–å›¾åƒæ•°æ®ã€‚</p><p>Aï¼decodeStream</p><p>Bï¼decodeFile</p><p>Cï¼decodeImage</p><p>Dï¼decodeResource</p><p>5 ï¼å·²çŸ¥æŸä¸ªå›¾ç‰‡æ–‡ä»¶çš„å­˜å‚¨å¡è·¯å¾„ï¼Œå¯ä»¥è°ƒç”¨ï¼ˆã€€ã€€ï¼‰æ–¹æ³•å°†å®ƒæ˜¾ç¤ºåˆ°å›¾åƒè§†å›¾ä¸Šã€‚</p><p>Aï¼setImageBitmap</p><p>Bï¼setImageFile</p><p>Cï¼setImageURI</p><p>Dï¼setImageResource</p><p>å››ã€ç®€ç­”é¢˜</p><p>è¯·ç®€è¦æè¿°å…±äº«å‚æ•°ä¸æ•°æ®åº“ä¸¤ç§å­˜å‚¨æ–¹å¼çš„ä¸»è¦åŒºåˆ«ã€‚</p><p>äº”ã€åŠ¨æ‰‹ç»ƒä¹ </p><p>1 ï¼è¯·ä¸Šæœºå®éªŒå®Œå–„æ‰¾å›å¯†ç é¡¹ç›®çš„è®°ä½å¯†ç åŠŸèƒ½ï¼Œåˆ†åˆ«é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§å­˜å‚¨æ–¹å¼ï¼š</p><p>ï¼ˆ 1 ï¼‰ä½¿ç”¨å…±äº«å‚æ•°è®°ä½ä¸Šæ¬¡ç™»å½•æˆåŠŸæ—¶è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</p><p>ï¼ˆ 2 ï¼‰ä½¿ç”¨SQLiteæ•°æ®åº“è®°ä½ç”¨æˆ·åå¯¹åº”çš„å¯†ç ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®ç”¨æˆ·åè‡ªåŠ¨å¡«å†™å¯†ç ã€‚</p><p>2 ï¼è¯·ä¸Šæœºå®éªŒæœ¬ç« çš„è´­ç‰©è½¦é¡¹ç›®ï¼Œè¦æ±‚å®ç°ä¸‹åˆ—åŠŸèƒ½ï¼š</p><p>ï¼ˆ 1 ï¼‰å¾€è´­ç‰©è½¦æ·»åŠ å•†å“ã€‚</p><p>ï¼ˆ 2 ï¼‰è‡ªåŠ¨è®¡ç®—è´­ç‰©è½¦ä¸­æ‰€æœ‰å•†å“çš„æ€»é‡‘é¢ã€‚</p><p>ï¼ˆ 3 ï¼‰ç§»é™¤è´­ç‰©è½¦é‡Œçš„æŸä¸ªå•†å“ã€‚</p><p>ï¼ˆ 4 ï¼‰æ¸…ç©ºè´­ç‰©è½¦ã€‚</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://gitee.com/xiaweifeng/vuepress-source/edit/master/docs/Android/AndroidBasic/ç¬¬06ç« æ•°æ®å­˜å‚¨.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨Giteeä¸Šç¼–è¾‘æ­¤é¡µ"><!--[--><!--]--> åœ¨Giteeä¸Šç¼–è¾‘æ­¤é¡µ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaweifeng@live.cn">å¤ä¸€æ¬¡</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.3222cd28.js" defer></script>
  </body>
</html>
