<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="https://tommyi.netlify.app/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html"><meta property="og:site_name" content="Hades"><meta property="og:title" content="第 5 章　中级控件"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-08-23T15:30:31.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-08-23T15:30:31.000Z"><script>
      (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c6cfefc03bedbb2803a5cad020e7faaa";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);})();
     </script><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="VuePress"><meta name="referrer" content="no-referrer"><meta name="apple-mobile-web-app-title" content="VuePress"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="https://www.vuepress.cn/icons/apple-touch-icon-152x152.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>第 5 章　中级控件 | Hades</title><meta name="description" content="这是一本笔记，用于记录编程过程中的知识点">
    <link rel="modulepreload" href="/assets/app.9fc9d956.js"><link rel="modulepreload" href="/assets/第05章中级控件.html.5157b7cc.js"><link rel="modulepreload" href="/assets/第05章中级控件.html.75bd951e.js"><link rel="prefetch" href="/assets/index.html.01a02006.js"><link rel="prefetch" href="/assets/index.html.4d596f1b.js"><link rel="prefetch" href="/assets/index.html.ac0d3ff8.js"><link rel="prefetch" href="/assets/index.html.7d5c183e.js"><link rel="prefetch" href="/assets/Mac下mongodb安装和配置.html.19173e70.js"><link rel="prefetch" href="/assets/Mac下命令行配置环境变量.html.c2873a5f.js"><link rel="prefetch" href="/assets/Mac全自动安装brew一键配置国内镜像源.html.8866f2df.js"><link rel="prefetch" href="/assets/Mac终端命令记录.html.75e46e91.js"><link rel="prefetch" href="/assets/Nginx搭建HTTPS，并反向代理到web页面_mkcert生成本地SSL证书.html.f67c5203.js"><link rel="prefetch" href="/assets/PDF转Markdown文件.html.dc7ca7bb.js"><link rel="prefetch" href="/assets/index.html.f2e8c2ba.js"><link rel="prefetch" href="/assets/VSCode使用记录.html.3b0db4ce.js"><link rel="prefetch" href="/assets/docsearch全站搜索.html.105a6071.js"><link rel="prefetch" href="/assets/idea插件分享.html.841f8833.js"><link rel="prefetch" href="/assets/jetbrains全家桶激活策略.html.daa401c8.js"><link rel="prefetch" href="/assets/中华人民共和国劳动合同法.html.6b4a5117.js"><link rel="prefetch" href="/assets/浅谈文言文与英语语法的相似点.html.96535ae8.js"><link rel="prefetch" href="/assets/面向AI开发.html.06a44d4c.js"><link rel="prefetch" href="/assets/鸿蒙3安装apk无须登录.html.7ceb3fbf.js"><link rel="prefetch" href="/assets/index.html.f4857994.js"><link rel="prefetch" href="/assets/aboutme.html.03b08c9b.js"><link rel="prefetch" href="/assets/index.html.62929ac9.js"><link rel="prefetch" href="/assets/FRP内网穿透搭建(无域名版).html.6029f667.js"><link rel="prefetch" href="/assets/index.html.5fd246dd.js"><link rel="prefetch" href="/assets/linux前端项目部署.html.0029fa36.js"><link rel="prefetch" href="/assets/linux环境变量配置错误后命令无法使用解决方案.html.e194e944.js"><link rel="prefetch" href="/assets/内网穿透工具比较.html.a6564717.js"><link rel="prefetch" href="/assets/在CentOS上搭建Samba服务器.html.5dc34a00.js"><link rel="prefetch" href="/assets/第01章Android开发环境搭建.html.4ea72447.js"><link rel="prefetch" href="/assets/第02章AndroidApp开发基础.html.24ac8732.js"><link rel="prefetch" href="/assets/第03章简单控件.html.3128fa37.js"><link rel="prefetch" href="/assets/第04章活动Activity.html.9169add5.js"><link rel="prefetch" href="/assets/第06章数据存储.html.c29220e0.js"><link rel="prefetch" href="/assets/第07章内容共享.html.ef3fb778.js"><link rel="prefetch" href="/assets/第08章高级控件.html.a4ef2f0d.js"><link rel="prefetch" href="/assets/第09章广播组件Broadcast.html.7130bec3.js"><link rel="prefetch" href="/assets/第10章自定义控件.html.1c777745.js"><link rel="prefetch" href="/assets/AndroidStudio代理问题Connect.html.357fa090.js"><link rel="prefetch" href="/assets/AndroidStudio打包aar丢失远程依赖问题解决.html.26db85ab.js"><link rel="prefetch" href="/assets/AndroidStudio登录google账号失败问题.html.60601dbe.js"><link rel="prefetch" href="/assets/Apk应用重签名—使用AndroidStudio自带工具apksigner.html.be412465.js"><link rel="prefetch" href="/assets/不常用的ADB命令.html.162faa7e.js"><link rel="prefetch" href="/assets/01MySQL精简笔记.html.b6c76536.js"><link rel="prefetch" href="/assets/02JDBC.html.cd83be25.js"><link rel="prefetch" href="/assets/03Maven.html.2826552b.js"><link rel="prefetch" href="/assets/04Mybatis.html.e3b26918.js"><link rel="prefetch" href="/assets/05网页三剑客.html.7eb4fd73.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.e72ce829.js"><link rel="prefetch" href="/assets/07Request_Response.html.dbb06678.js"><link rel="prefetch" href="/assets/08JSP.html.9fe6edfb.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.a6775789.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.ca49deec.js"><link rel="prefetch" href="/assets/11Vue_Element.html.13f1ff54.js"><link rel="prefetch" href="/assets/12综合案例.html.0e382c65.js"><link rel="prefetch" href="/assets/index.html.145fbfc9.js"><link rel="prefetch" href="/assets/POM文件帮助文档.html.71fe5a3a.js"><link rel="prefetch" href="/assets/index.html.4c10d115.js"><link rel="prefetch" href="/assets/index.html.8002c9df.js"><link rel="prefetch" href="/assets/index.html.456530ad.js"><link rel="prefetch" href="/assets/index.html.a6dacb19.js"><link rel="prefetch" href="/assets/index.html.155f6415.js"><link rel="prefetch" href="/assets/index.html.ddabe501.js"><link rel="prefetch" href="/assets/index.html.85baad59.js"><link rel="prefetch" href="/assets/index.html.b4cc03cf.js"><link rel="prefetch" href="/assets/index.html.781336e1.js"><link rel="prefetch" href="/assets/index.html.61a0c47f.js"><link rel="prefetch" href="/assets/request.getInputStream只能读取一次问题.html.b885ecdb.js"><link rel="prefetch" href="/assets/程序包com.alibaba.fastjson不存在.html.271dbf39.js"><link rel="prefetch" href="/assets/错误集合.html.7aaff025.js"><link rel="prefetch" href="/assets/index.html.a8875e4a.js"><link rel="prefetch" href="/assets/index.html.500a4c6c.js"><link rel="prefetch" href="/assets/index.html.e490b0a7.js"><link rel="prefetch" href="/assets/index.html.7c8a7fda.js"><link rel="prefetch" href="/assets/Node多版本管理.html.323287ed.js"><link rel="prefetch" href="/assets/index.html.0e0c40e6.js"><link rel="prefetch" href="/assets/Web调试入门.html.779c051c.js"><link rel="prefetch" href="/assets/关于ESLInk配置问题.html.813173ed.js"><link rel="prefetch" href="/assets/index.html.bbbe52d8.js"><link rel="prefetch" href="/assets/MySQL-基础篇.html.72f3c6e1.js"><link rel="prefetch" href="/assets/Maven高级.html.88e987e2.js"><link rel="prefetch" href="/assets/SpringBoot.html.900a4e3a.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.f232bc92.js"><link rel="prefetch" href="/assets/RestTemplate.html.e8ab904e.js"><link rel="prefetch" href="/assets/Dubbo详解.html.99b80cf1.js"><link rel="prefetch" href="/assets/Mac下ZooKeeper安装和使用.html.6c1f13af.js"><link rel="prefetch" href="/assets/Zookeeper集群搭建.html.52dab835.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第10章）.html.e13e9f83.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第11章）.html.f5126906.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第12章）.html.44d84044.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第13章）.html.a07d7436.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第1章）.html.a4da5427.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第2章）.html.2fefeebf.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第3章）.html.027ab944.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第4章）.html.0dbf7d93.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第5章）.html.fdc355fa.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第6章）.html.cfd20322.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第7章）.html.b3623f0b.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第8章）.html.9d9da6cc.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第9章）.html.90642054.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.7a7d55bb.js"><link rel="prefetch" href="/assets/Linux-Day01.html.fdebd37c.js"><link rel="prefetch" href="/assets/Linux-Day02.html.7812a3ac.js"><link rel="prefetch" href="/assets/Redis基础.html.601c5b80.js"><link rel="prefetch" href="/assets/Git课程讲义.html.ebe75592.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day01.html.f58e19c2.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day02.html.4ded6959.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day03.html.c35f1242.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day04.html.3d44fe14.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day05.html.3f4ef4e7.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day06.html.9cd411dc.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day01.html.78783912.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day02.html.cb2d7616.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day03.html.6076c5a3.js"><link rel="prefetch" href="/assets/微服务常见面试题.html.a5dcd6ba.js"><link rel="prefetch" href="/assets/错误笔记.html.ed3ccb3a.js"><link rel="prefetch" href="/assets/day01-HTML基础.html.a6ab2338.js"><link rel="prefetch" href="/assets/day02-HTML进阶.html.6a75b495.js"><link rel="prefetch" href="/assets/day03-CSS基础.html.42169736.js"><link rel="prefetch" href="/assets/day04-CSS进阶.html.691a9b64.js"><link rel="prefetch" href="/assets/day05-盒子模型.html.4992e05c.js"><link rel="prefetch" href="/assets/day06-Flex布局.html.c0632a9a.js"><link rel="prefetch" href="/assets/day07-学成在线.html.31966167.js"><link rel="prefetch" href="/assets/day08-CSS高级.html.7139befe.js"><link rel="prefetch" href="/assets/day09-小兔鲜儿.html.a4f48ad2.js"><link rel="prefetch" href="/assets/day10-小兔鲜儿.html.58643326.js"><link rel="prefetch" href="/assets/Day01-项目介绍及初始化-登录页面.html.1162a8bc.js"><link rel="prefetch" href="/assets/Day02-登录模块-主页鉴权.html.8dfc8019.js"><link rel="prefetch" href="/assets/Day03-主页模块-修改密码.html.011cdd7f.js"><link rel="prefetch" href="/assets/Day04-组织架构.html.5275e26a.js"><link rel="prefetch" href="/assets/Day05-组织架构-角色管理.html.ced63442.js"><link rel="prefetch" href="/assets/Day06-角色管理-员工管理.html.6caefea8.js"><link rel="prefetch" href="/assets/Day07-员工管理-上传下载.html.e3f31d8e.js"><link rel="prefetch" href="/assets/Day08-Cos上传和权限数据.html.20830962.js"><link rel="prefetch" href="/assets/Day09-权限应用-首页.html.da56bbaa.js"><link rel="prefetch" href="/assets/Day10-首页图表-Nginx上线.html.d3348164.js"><link rel="prefetch" href="/assets/1.Vue3入门.html.03fe22ad.js"><link rel="prefetch" href="/assets/10.购物车.html.471b3316.js"><link rel="prefetch" href="/assets/11.订单页.html.f7fcb785.js"><link rel="prefetch" href="/assets/12.支付页.html.7e26fb78.js"><link rel="prefetch" href="/assets/13.会员中心.html.b90bf2e3.js"><link rel="prefetch" href="/assets/14.拓展部分.html.0d32fa78.js"><link rel="prefetch" href="/assets/2.Pinia入门.html.e8abdd29.js"><link rel="prefetch" href="/assets/3.项目起步.html.498101f0.js"><link rel="prefetch" href="/assets/4.Layout页.html.0c374127.js"><link rel="prefetch" href="/assets/5.Home页.html.a6e30fe0.js"><link rel="prefetch" href="/assets/6.一级分类页.html.f6efdd5c.js"><link rel="prefetch" href="/assets/7.二级分类页.html.01823995.js"><link rel="prefetch" href="/assets/8.商品详情.html.5c665585.js"><link rel="prefetch" href="/assets/9.登录页.html.35d98706.js"><link rel="prefetch" href="/assets/day01.html.8ffdb6de.js"><link rel="prefetch" href="/assets/day02.html.43bccf1f.js"><link rel="prefetch" href="/assets/day03.html.191e82ec.js"><link rel="prefetch" href="/assets/index.html.f947a12b.js"><link rel="prefetch" href="/assets/day01.html.de22280d.js"><link rel="prefetch" href="/assets/day02.html.37fef858.js"><link rel="prefetch" href="/assets/day03.html.b3311c03.js"><link rel="prefetch" href="/assets/day04.html.14ed5a97.js"><link rel="prefetch" href="/assets/index.html.ea0c61d2.js"><link rel="prefetch" href="/assets/interview-base.html.b48b64bf.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.8071948e.js"><link rel="prefetch" href="/assets/Redis基础篇.html.a0667b10.js"><link rel="prefetch" href="/assets/Redis快速入门.html.d25877b5.js"><link rel="prefetch" href="/assets/Redis实战篇.html.9a5d06d2.js"><link rel="prefetch" href="/assets/Redis原理篇.html.4f69d42d.js"><link rel="prefetch" href="/assets/课堂笔记.html.6422e94e.js"><link rel="prefetch" href="/assets/课堂笔记.html.3b96b75e.js"><link rel="prefetch" href="/assets/Spring-day01.html.e68ec110.js"><link rel="prefetch" href="/assets/Spring-day02.html.59a1d60e.js"><link rel="prefetch" href="/assets/Spring-day03.html.7c161a28.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.457335ff.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.031f2edf.js"><link rel="prefetch" href="/assets/错误笔记.html.62610a4e.js"><link rel="prefetch" href="/assets/SpringBootStart.html.105a81fc.js"><link rel="prefetch" href="/assets/SpringBoot整合SSMP.html.e9ae476c.js"><link rel="prefetch" href="/assets/SpringBoot综合案例.html.0b423631.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.ab71429a.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.985d261c.js"><link rel="prefetch" href="/assets/Centos8-stream在真机上安装排坑.html.6126641d.js"><link rel="prefetch" href="/assets/Centos9安装mysql.html.2e8a0e74.js"><link rel="prefetch" href="/assets/SpringCloud01.html.7e4ce9d2.js"><link rel="prefetch" href="/assets/SpringCloud实用篇02.html.96a09c5c.js"><link rel="prefetch" href="/assets/Docker实用篇.html.a17cc52f.js"><link rel="prefetch" href="/assets/RabbitMQ.html.bd4e2cf4.js"><link rel="prefetch" href="/assets/分布式搜索引擎01.html.4e38b9ff.js"><link rel="prefetch" href="/assets/分布式搜索引擎02.html.57698f1d.js"><link rel="prefetch" href="/assets/分布式搜索引擎03.html.28ba2809.js"><link rel="prefetch" href="/assets/微服务保护.html.62adb493.js"><link rel="prefetch" href="/assets/分布式事务.html.e90c30b9.js"><link rel="prefetch" href="/assets/分布式缓存.html.01435b66.js"><link rel="prefetch" href="/assets/多级缓存.html.4a5cc484.js"><link rel="prefetch" href="/assets/RabbitMQ-高级篇.html.0c480ed8.js"><link rel="prefetch" href="/assets/Mybatis第一天.html.a3edd17b.js"><link rel="prefetch" href="/assets/Mybatis第二天.html.802a2571.js"><link rel="prefetch" href="/assets/移动web第一天.html.2e8f46f4.js"><link rel="prefetch" href="/assets/移动Web第二天.html.8226f808.js"><link rel="prefetch" href="/assets/移动Web第三天.html.11831bcd.js"><link rel="prefetch" href="/assets/移动Web第四天.html.6547a63e.js"><link rel="prefetch" href="/assets/移动Web第五天.html.d74bd617.js"><link rel="prefetch" href="/assets/JavaScript基础第一天.html.cff4e109.js"><link rel="prefetch" href="/assets/JavaScript基础第三天.html.f99eff7e.js"><link rel="prefetch" href="/assets/javascript基础第二天笔记.html.aebc5333.js"><link rel="prefetch" href="/assets/JavaScript基础第五天.html.e35620d6.js"><link rel="prefetch" href="/assets/JavaScript基础第四天.html.958a84e6.js"><link rel="prefetch" href="/assets/index.html.ef8647c7.js"><link rel="prefetch" href="/assets/个人实战文档.html.1743365c.js"><link rel="prefetch" href="/assets/index.html.c647080e.js"><link rel="prefetch" href="/assets/index.html.04decc95.js"><link rel="prefetch" href="/assets/index.html.dbce89c2.js"><link rel="prefetch" href="/assets/index.html.850a5fdc.js"><link rel="prefetch" href="/assets/index.html.c1ac903f.js"><link rel="prefetch" href="/assets/JavaScript进阶第一天.html.1df28442.js"><link rel="prefetch" href="/assets/day03.html.c7bd1e6a.js"><link rel="prefetch" href="/assets/day02.html.d4b18232.js"><link rel="prefetch" href="/assets/day04.html.c85f4095.js"><link rel="prefetch" href="/assets/笔记.html.f18bcd72.js"><link rel="prefetch" href="/assets/笔记.html.cc5e606b.js"><link rel="prefetch" href="/assets/笔记.html.9b36d8a2.js"><link rel="prefetch" href="/assets/day01.html.afa0570c.js"><link rel="prefetch" href="/assets/day02.html.cc0ddb05.js"><link rel="prefetch" href="/assets/day03.html.66b1101e.js"><link rel="prefetch" href="/assets/day04.html.d57e8ef7.js"><link rel="prefetch" href="/assets/day05.html.be548191.js"><link rel="prefetch" href="/assets/day06.html.9d2732e7.js"><link rel="prefetch" href="/assets/day07.html.e2014f42.js"><link rel="prefetch" href="/assets/智慧商城项目.html.b037ba30.js"><link rel="prefetch" href="/assets/Vue3入门.html.1dddd2c1.js"><link rel="prefetch" href="/assets/Pinia.html.d1f7ef83.js"><link rel="prefetch" href="/assets/大事件管理系统.html.a9636e94.js"><link rel="prefetch" href="/assets/01-项目起步.html.82651da2.js"><link rel="prefetch" href="/assets/02-首页模块.html.6f46afbf.js"><link rel="prefetch" href="/assets/03-推荐模块.html.b6efbf66.js"><link rel="prefetch" href="/assets/04-分类模块.html.89b1138d.js"><link rel="prefetch" href="/assets/05-详情模块.html.e88ab276.js"><link rel="prefetch" href="/assets/06-登录模块.html.277d50c6.js"><link rel="prefetch" href="/assets/07-用户模块.html.925b2d13.js"><link rel="prefetch" href="/assets/08-地址模块.html.f75d39b9.js"><link rel="prefetch" href="/assets/09-SKU模块.html.397ec6ac.js"><link rel="prefetch" href="/assets/10-购物车模块.html.813ab58c.js"><link rel="prefetch" href="/assets/11-订单模块.html.26617e36.js"><link rel="prefetch" href="/assets/12-项目打包.html.bcb19f5b.js"><link rel="prefetch" href="/assets/index.html.0ad324c8.js"><link rel="prefetch" href="/assets/第1天.html.2a9a1263.js"><link rel="prefetch" href="/assets/第2天.html.f92837a4.js"><link rel="prefetch" href="/assets/第3天.html.8346e116.js"><link rel="prefetch" href="/assets/第4天.html.64ba4427.js"><link rel="prefetch" href="/assets/第5天.html.aa93a841.js"><link rel="prefetch" href="/assets/小程序自定义tabBar.html.efad290d.js"><link rel="prefetch" href="/assets/第6天.html.44cac1f7.js"><link rel="prefetch" href="/assets/Redis高级-分布式缓存.html.3b0165ff.js"><link rel="prefetch" href="/assets/多级缓存.html.bffd36ce.js"><link rel="prefetch" href="/assets/Redis高级篇之最佳实践.html.7874bd22.js"><link rel="prefetch" href="/assets/Nacos安装指南.html.39daa776.js"><link rel="prefetch" href="/assets/Nacos集群搭建.html.568d560d.js"><link rel="prefetch" href="/assets/Centos7安装Docker.html.b0ad27b4.js"><link rel="prefetch" href="/assets/RabbitMQ部署指南.html.1ab7fab6.js"><link rel="prefetch" href="/assets/安装elasticsearch.html.81544b59.js"><link rel="prefetch" href="/assets/Day01_AJAX入门.html.2b734238.js"><link rel="prefetch" href="/assets/Day02_AJAX综合案例.html.afc30063.js"><link rel="prefetch" href="/assets/Day04_AJAX进阶.html.54ac1199.js"><link rel="prefetch" href="/assets/Day03_AJAX原理.html.099c6350.js"><link rel="prefetch" href="/assets/404.html.65323de0.js"><link rel="prefetch" href="/assets/index.html.209a62a9.js"><link rel="prefetch" href="/assets/index.html.fe8a67db.js"><link rel="prefetch" href="/assets/index.html.07efaf5d.js"><link rel="prefetch" href="/assets/index.html.95a8cd4b.js"><link rel="prefetch" href="/assets/Mac下mongodb安装和配置.html.be2d3f37.js"><link rel="prefetch" href="/assets/Mac下命令行配置环境变量.html.841ac1cf.js"><link rel="prefetch" href="/assets/Mac全自动安装brew一键配置国内镜像源.html.8752fe03.js"><link rel="prefetch" href="/assets/Mac终端命令记录.html.6ac88c31.js"><link rel="prefetch" href="/assets/Nginx搭建HTTPS，并反向代理到web页面_mkcert生成本地SSL证书.html.543a075b.js"><link rel="prefetch" href="/assets/PDF转Markdown文件.html.1fd924fa.js"><link rel="prefetch" href="/assets/index.html.f0765aa7.js"><link rel="prefetch" href="/assets/VSCode使用记录.html.1ce7b87f.js"><link rel="prefetch" href="/assets/docsearch全站搜索.html.48623023.js"><link rel="prefetch" href="/assets/idea插件分享.html.d63795e3.js"><link rel="prefetch" href="/assets/jetbrains全家桶激活策略.html.3d0ccfc3.js"><link rel="prefetch" href="/assets/中华人民共和国劳动合同法.html.c2ea4d90.js"><link rel="prefetch" href="/assets/浅谈文言文与英语语法的相似点.html.2df17933.js"><link rel="prefetch" href="/assets/面向AI开发.html.f41d09f8.js"><link rel="prefetch" href="/assets/鸿蒙3安装apk无须登录.html.0689c8f9.js"><link rel="prefetch" href="/assets/index.html.fbd1c24d.js"><link rel="prefetch" href="/assets/aboutme.html.0bd0bb76.js"><link rel="prefetch" href="/assets/index.html.be925bbd.js"><link rel="prefetch" href="/assets/FRP内网穿透搭建(无域名版).html.608d8991.js"><link rel="prefetch" href="/assets/index.html.b35ed1fa.js"><link rel="prefetch" href="/assets/linux前端项目部署.html.b56d84c2.js"><link rel="prefetch" href="/assets/linux环境变量配置错误后命令无法使用解决方案.html.1ef115dd.js"><link rel="prefetch" href="/assets/内网穿透工具比较.html.fc0d039d.js"><link rel="prefetch" href="/assets/在CentOS上搭建Samba服务器.html.a4c80594.js"><link rel="prefetch" href="/assets/第01章Android开发环境搭建.html.7a15d6f8.js"><link rel="prefetch" href="/assets/第02章AndroidApp开发基础.html.56031563.js"><link rel="prefetch" href="/assets/第03章简单控件.html.9065ce3b.js"><link rel="prefetch" href="/assets/第04章活动Activity.html.8b0ebbb0.js"><link rel="prefetch" href="/assets/第06章数据存储.html.aade009b.js"><link rel="prefetch" href="/assets/第07章内容共享.html.c6482765.js"><link rel="prefetch" href="/assets/第08章高级控件.html.0036faa7.js"><link rel="prefetch" href="/assets/第09章广播组件Broadcast.html.7675c89b.js"><link rel="prefetch" href="/assets/第10章自定义控件.html.77c520cc.js"><link rel="prefetch" href="/assets/AndroidStudio代理问题Connect.html.9f21130a.js"><link rel="prefetch" href="/assets/AndroidStudio打包aar丢失远程依赖问题解决.html.e3d919a1.js"><link rel="prefetch" href="/assets/AndroidStudio登录google账号失败问题.html.e2c7dc99.js"><link rel="prefetch" href="/assets/Apk应用重签名—使用AndroidStudio自带工具apksigner.html.a190799d.js"><link rel="prefetch" href="/assets/不常用的ADB命令.html.6c3c6a0e.js"><link rel="prefetch" href="/assets/01MySQL精简笔记.html.f71005d7.js"><link rel="prefetch" href="/assets/02JDBC.html.b9153e4c.js"><link rel="prefetch" href="/assets/03Maven.html.a1b64eb9.js"><link rel="prefetch" href="/assets/04Mybatis.html.6978c626.js"><link rel="prefetch" href="/assets/05网页三剑客.html.b7a01897.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.993a657e.js"><link rel="prefetch" href="/assets/07Request_Response.html.76e93575.js"><link rel="prefetch" href="/assets/08JSP.html.b4c3b3a2.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.b92413ca.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.75ef8458.js"><link rel="prefetch" href="/assets/11Vue_Element.html.a248cc65.js"><link rel="prefetch" href="/assets/12综合案例.html.121cc2f2.js"><link rel="prefetch" href="/assets/index.html.233cd986.js"><link rel="prefetch" href="/assets/POM文件帮助文档.html.9d320fbf.js"><link rel="prefetch" href="/assets/index.html.cffc2707.js"><link rel="prefetch" href="/assets/index.html.b6fe17fd.js"><link rel="prefetch" href="/assets/index.html.343db899.js"><link rel="prefetch" href="/assets/index.html.099cee1e.js"><link rel="prefetch" href="/assets/index.html.f2a499e4.js"><link rel="prefetch" href="/assets/index.html.8d14308d.js"><link rel="prefetch" href="/assets/index.html.aae9f666.js"><link rel="prefetch" href="/assets/index.html.a9bef3ee.js"><link rel="prefetch" href="/assets/index.html.0d30d4e1.js"><link rel="prefetch" href="/assets/index.html.88b2b7ce.js"><link rel="prefetch" href="/assets/request.getInputStream只能读取一次问题.html.65cc4236.js"><link rel="prefetch" href="/assets/程序包com.alibaba.fastjson不存在.html.f62ca2f8.js"><link rel="prefetch" href="/assets/错误集合.html.e2d98302.js"><link rel="prefetch" href="/assets/index.html.61e0ef0b.js"><link rel="prefetch" href="/assets/index.html.96ad184a.js"><link rel="prefetch" href="/assets/index.html.76dcc7de.js"><link rel="prefetch" href="/assets/index.html.bb0dd225.js"><link rel="prefetch" href="/assets/Node多版本管理.html.1853a05c.js"><link rel="prefetch" href="/assets/index.html.59195dbd.js"><link rel="prefetch" href="/assets/Web调试入门.html.dc04c08e.js"><link rel="prefetch" href="/assets/关于ESLInk配置问题.html.69da6b79.js"><link rel="prefetch" href="/assets/index.html.6268333c.js"><link rel="prefetch" href="/assets/MySQL-基础篇.html.10291917.js"><link rel="prefetch" href="/assets/Maven高级.html.5f4bcaf1.js"><link rel="prefetch" href="/assets/SpringBoot.html.412edccc.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.cc47347e.js"><link rel="prefetch" href="/assets/RestTemplate.html.16d28bf1.js"><link rel="prefetch" href="/assets/Dubbo详解.html.b706af9a.js"><link rel="prefetch" href="/assets/Mac下ZooKeeper安装和使用.html.d832907e.js"><link rel="prefetch" href="/assets/Zookeeper集群搭建.html.07b936c0.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第10章）.html.48033d2f.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第11章）.html.6a34efd0.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第12章）.html.18b940f2.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第13章）.html.02261873.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第1章）.html.0e5d6c8a.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第2章）.html.d034773c.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第3章）.html.1e3750ff.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第4章）.html.9ba09a92.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第5章）.html.45706989.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第6章）.html.67062323.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第7章）.html.c1c1d279.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第8章）.html.fe46b233.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第9章）.html.e0a8ad43.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.fb791e6f.js"><link rel="prefetch" href="/assets/Linux-Day01.html.0dc9881c.js"><link rel="prefetch" href="/assets/Linux-Day02.html.26a0c281.js"><link rel="prefetch" href="/assets/Redis基础.html.6dc97ac7.js"><link rel="prefetch" href="/assets/Git课程讲义.html.7f8cf80c.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day01.html.f9cbf6ca.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day02.html.c7315d70.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day03.html.57fcebfb.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day04.html.7e3b06f3.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day05.html.9a958890.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day06.html.60e0cfd5.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day01.html.cc17dc6f.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day02.html.b8e3fe2d.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day03.html.faf53cd7.js"><link rel="prefetch" href="/assets/微服务常见面试题.html.d31947e0.js"><link rel="prefetch" href="/assets/错误笔记.html.aee51299.js"><link rel="prefetch" href="/assets/day01-HTML基础.html.f1fc2a89.js"><link rel="prefetch" href="/assets/day02-HTML进阶.html.4058a464.js"><link rel="prefetch" href="/assets/day03-CSS基础.html.74a6f866.js"><link rel="prefetch" href="/assets/day04-CSS进阶.html.86e97335.js"><link rel="prefetch" href="/assets/day05-盒子模型.html.40c30eb3.js"><link rel="prefetch" href="/assets/day06-Flex布局.html.66449ff2.js"><link rel="prefetch" href="/assets/day07-学成在线.html.a742374c.js"><link rel="prefetch" href="/assets/day08-CSS高级.html.e516c25c.js"><link rel="prefetch" href="/assets/day09-小兔鲜儿.html.612d2e42.js"><link rel="prefetch" href="/assets/day10-小兔鲜儿.html.28432145.js"><link rel="prefetch" href="/assets/Day01-项目介绍及初始化-登录页面.html.61b1e079.js"><link rel="prefetch" href="/assets/Day02-登录模块-主页鉴权.html.74515e13.js"><link rel="prefetch" href="/assets/Day03-主页模块-修改密码.html.fb8a9828.js"><link rel="prefetch" href="/assets/Day04-组织架构.html.5ebf1e61.js"><link rel="prefetch" href="/assets/Day05-组织架构-角色管理.html.87c88287.js"><link rel="prefetch" href="/assets/Day06-角色管理-员工管理.html.6d6620a2.js"><link rel="prefetch" href="/assets/Day07-员工管理-上传下载.html.6b32adb7.js"><link rel="prefetch" href="/assets/Day08-Cos上传和权限数据.html.4de48e8d.js"><link rel="prefetch" href="/assets/Day09-权限应用-首页.html.19557eef.js"><link rel="prefetch" href="/assets/Day10-首页图表-Nginx上线.html.bd7d886e.js"><link rel="prefetch" href="/assets/1.Vue3入门.html.b4683374.js"><link rel="prefetch" href="/assets/10.购物车.html.eb118815.js"><link rel="prefetch" href="/assets/11.订单页.html.bdda2d5e.js"><link rel="prefetch" href="/assets/12.支付页.html.53906421.js"><link rel="prefetch" href="/assets/13.会员中心.html.d0f878f6.js"><link rel="prefetch" href="/assets/14.拓展部分.html.c2d351c8.js"><link rel="prefetch" href="/assets/2.Pinia入门.html.816571e5.js"><link rel="prefetch" href="/assets/3.项目起步.html.f0901e14.js"><link rel="prefetch" href="/assets/4.Layout页.html.88a5cbe7.js"><link rel="prefetch" href="/assets/5.Home页.html.a5f28c97.js"><link rel="prefetch" href="/assets/6.一级分类页.html.d3c2623c.js"><link rel="prefetch" href="/assets/7.二级分类页.html.d236770d.js"><link rel="prefetch" href="/assets/8.商品详情.html.22587af3.js"><link rel="prefetch" href="/assets/9.登录页.html.bbaf8f39.js"><link rel="prefetch" href="/assets/day01.html.32faa062.js"><link rel="prefetch" href="/assets/day02.html.907c0695.js"><link rel="prefetch" href="/assets/day03.html.59e1c03b.js"><link rel="prefetch" href="/assets/index.html.dc8c9d48.js"><link rel="prefetch" href="/assets/day01.html.b4ff06b9.js"><link rel="prefetch" href="/assets/day02.html.e254c307.js"><link rel="prefetch" href="/assets/day03.html.8c9e7c26.js"><link rel="prefetch" href="/assets/day04.html.3ae98b9e.js"><link rel="prefetch" href="/assets/index.html.7c363637.js"><link rel="prefetch" href="/assets/interview-base.html.192b45de.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.09551c2c.js"><link rel="prefetch" href="/assets/Redis基础篇.html.046fd366.js"><link rel="prefetch" href="/assets/Redis快速入门.html.fc6a8c0e.js"><link rel="prefetch" href="/assets/Redis实战篇.html.25ccc2a7.js"><link rel="prefetch" href="/assets/Redis原理篇.html.b21af733.js"><link rel="prefetch" href="/assets/课堂笔记.html.47f9734d.js"><link rel="prefetch" href="/assets/课堂笔记.html.86ed8f0d.js"><link rel="prefetch" href="/assets/Spring-day01.html.4c9ddb56.js"><link rel="prefetch" href="/assets/Spring-day02.html.c2f6d6ac.js"><link rel="prefetch" href="/assets/Spring-day03.html.1763d2e1.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.1d3fd163.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.c5e38e2f.js"><link rel="prefetch" href="/assets/错误笔记.html.0507870e.js"><link rel="prefetch" href="/assets/SpringBootStart.html.ca684316.js"><link rel="prefetch" href="/assets/SpringBoot整合SSMP.html.5ef71c4a.js"><link rel="prefetch" href="/assets/SpringBoot综合案例.html.9b07c7b4.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.98d71fd1.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.84c9f744.js"><link rel="prefetch" href="/assets/Centos8-stream在真机上安装排坑.html.4fddc649.js"><link rel="prefetch" href="/assets/Centos9安装mysql.html.3856793c.js"><link rel="prefetch" href="/assets/SpringCloud01.html.a10d037d.js"><link rel="prefetch" href="/assets/SpringCloud实用篇02.html.03f24910.js"><link rel="prefetch" href="/assets/Docker实用篇.html.3c82fece.js"><link rel="prefetch" href="/assets/RabbitMQ.html.4e715be6.js"><link rel="prefetch" href="/assets/分布式搜索引擎01.html.d6f5e224.js"><link rel="prefetch" href="/assets/分布式搜索引擎02.html.ced10ad8.js"><link rel="prefetch" href="/assets/分布式搜索引擎03.html.00980f46.js"><link rel="prefetch" href="/assets/微服务保护.html.211a32ad.js"><link rel="prefetch" href="/assets/分布式事务.html.fc9efa74.js"><link rel="prefetch" href="/assets/分布式缓存.html.1a3ad88d.js"><link rel="prefetch" href="/assets/多级缓存.html.fd66c3cb.js"><link rel="prefetch" href="/assets/RabbitMQ-高级篇.html.85c38afe.js"><link rel="prefetch" href="/assets/Mybatis第一天.html.798744db.js"><link rel="prefetch" href="/assets/Mybatis第二天.html.c45ab258.js"><link rel="prefetch" href="/assets/移动web第一天.html.e22b26b8.js"><link rel="prefetch" href="/assets/移动Web第二天.html.9b09e00b.js"><link rel="prefetch" href="/assets/移动Web第三天.html.85e0ba35.js"><link rel="prefetch" href="/assets/移动Web第四天.html.93595693.js"><link rel="prefetch" href="/assets/移动Web第五天.html.2fa9ba50.js"><link rel="prefetch" href="/assets/JavaScript基础第一天.html.63039181.js"><link rel="prefetch" href="/assets/JavaScript基础第三天.html.c29ca964.js"><link rel="prefetch" href="/assets/javascript基础第二天笔记.html.9f235fa7.js"><link rel="prefetch" href="/assets/JavaScript基础第五天.html.249e7718.js"><link rel="prefetch" href="/assets/JavaScript基础第四天.html.bfa03984.js"><link rel="prefetch" href="/assets/index.html.d353ad63.js"><link rel="prefetch" href="/assets/个人实战文档.html.efadd1db.js"><link rel="prefetch" href="/assets/index.html.08756bd5.js"><link rel="prefetch" href="/assets/index.html.3cdbeed8.js"><link rel="prefetch" href="/assets/index.html.442c2a12.js"><link rel="prefetch" href="/assets/index.html.861dc018.js"><link rel="prefetch" href="/assets/index.html.d96d93e7.js"><link rel="prefetch" href="/assets/JavaScript进阶第一天.html.89650030.js"><link rel="prefetch" href="/assets/day03.html.cf0dacb5.js"><link rel="prefetch" href="/assets/day02.html.e26394d6.js"><link rel="prefetch" href="/assets/day04.html.5e114b39.js"><link rel="prefetch" href="/assets/笔记.html.c82a473e.js"><link rel="prefetch" href="/assets/笔记.html.a1141438.js"><link rel="prefetch" href="/assets/笔记.html.d42d85cf.js"><link rel="prefetch" href="/assets/day01.html.87f69ac2.js"><link rel="prefetch" href="/assets/day02.html.0d1c5b0b.js"><link rel="prefetch" href="/assets/day03.html.1e520ac5.js"><link rel="prefetch" href="/assets/day04.html.ba767e52.js"><link rel="prefetch" href="/assets/day05.html.c99e0fa9.js"><link rel="prefetch" href="/assets/day06.html.9bc0dd48.js"><link rel="prefetch" href="/assets/day07.html.4360fe19.js"><link rel="prefetch" href="/assets/智慧商城项目.html.ed9fe5be.js"><link rel="prefetch" href="/assets/Vue3入门.html.21d88777.js"><link rel="prefetch" href="/assets/Pinia.html.a1cc27b5.js"><link rel="prefetch" href="/assets/大事件管理系统.html.bf6a4ed7.js"><link rel="prefetch" href="/assets/01-项目起步.html.e3c6dd95.js"><link rel="prefetch" href="/assets/02-首页模块.html.7e74e744.js"><link rel="prefetch" href="/assets/03-推荐模块.html.ded7b384.js"><link rel="prefetch" href="/assets/04-分类模块.html.437837f9.js"><link rel="prefetch" href="/assets/05-详情模块.html.23e23d46.js"><link rel="prefetch" href="/assets/06-登录模块.html.586557b3.js"><link rel="prefetch" href="/assets/07-用户模块.html.3ce271cf.js"><link rel="prefetch" href="/assets/08-地址模块.html.369677b0.js"><link rel="prefetch" href="/assets/09-SKU模块.html.1270872a.js"><link rel="prefetch" href="/assets/10-购物车模块.html.e1b71387.js"><link rel="prefetch" href="/assets/11-订单模块.html.c63538d0.js"><link rel="prefetch" href="/assets/12-项目打包.html.929b44cc.js"><link rel="prefetch" href="/assets/index.html.74d7261f.js"><link rel="prefetch" href="/assets/第1天.html.17424e30.js"><link rel="prefetch" href="/assets/第2天.html.7aac08a5.js"><link rel="prefetch" href="/assets/第3天.html.a8a0a13c.js"><link rel="prefetch" href="/assets/第4天.html.6387bed6.js"><link rel="prefetch" href="/assets/第5天.html.fb856d73.js"><link rel="prefetch" href="/assets/小程序自定义tabBar.html.1f79ef9a.js"><link rel="prefetch" href="/assets/第6天.html.c5d93ad9.js"><link rel="prefetch" href="/assets/Redis高级-分布式缓存.html.1738d70b.js"><link rel="prefetch" href="/assets/多级缓存.html.7e052972.js"><link rel="prefetch" href="/assets/Redis高级篇之最佳实践.html.6d5c87d3.js"><link rel="prefetch" href="/assets/Nacos安装指南.html.ed15a66e.js"><link rel="prefetch" href="/assets/Nacos集群搭建.html.9fee9478.js"><link rel="prefetch" href="/assets/Centos7安装Docker.html.ca608f97.js"><link rel="prefetch" href="/assets/RabbitMQ部署指南.html.afa5727b.js"><link rel="prefetch" href="/assets/安装elasticsearch.html.06e84e98.js"><link rel="prefetch" href="/assets/Day01_AJAX入门.html.ffcd4874.js"><link rel="prefetch" href="/assets/Day02_AJAX综合案例.html.1d39f88d.js"><link rel="prefetch" href="/assets/Day04_AJAX进阶.html.cbbb2938.js"><link rel="prefetch" href="/assets/Day03_AJAX原理.html.e9482949.js"><link rel="prefetch" href="/assets/404.html.84500c49.js"><link rel="prefetch" href="/assets/404.8b5bfbaa.js"><link rel="prefetch" href="/assets/Layout.9269b3c9.js"><link rel="prefetch" href="/assets/index.0e8935cb.js"><link rel="prefetch" href="/assets/giscus.15440425.js">
    <link rel="stylesheet" href="/assets/style.5869c25b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="Hades"><span class="site-name can-hide">Hades</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Android/" class="router-link-active" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Java后端/" class="" aria-label="Java后端"><!--[--><!--]--> Java后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Web前端/" class="" aria-label="Web前端"><!--[--><!--]--> Web前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/数据库/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/运维技术/" class="" aria-label="运维技术"><!--[--><!--]--> 运维技术 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tips❤️‍"><!--[--><!--]--> Tips❤️‍ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>搜索</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="百度一下"><!--[--><!--]--> 百度一下 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>常用</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="哔哩哔哩"><!--[--><!--]--> 哔哩哔哩 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepress打包错误"><!--[--><!--]--> Vuepress打包错误 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Android/" class="router-link-active" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Java后端/" class="" aria-label="Java后端"><!--[--><!--]--> Java后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Web前端/" class="" aria-label="Web前端"><!--[--><!--]--> Web前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/数据库/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/运维技术/" class="" aria-label="运维技术"><!--[--><!--]--> 运维技术 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tips❤️‍"><!--[--><!--]--> Tips❤️‍ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>搜索</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="百度一下"><!--[--><!--]--> 百度一下 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>常用</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="哔哩哔哩"><!--[--><!--]--> 哔哩哔哩 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepress打包错误"><!--[--><!--]--> Vuepress打包错误 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">第 5 章　中级控件 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-1-图形定制" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1　图形定制"><!--[--><!--]--> 5.1　图形定制 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-1-1-图形drawable" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.1　图形Drawable"><!--[--><!--]--> 5.1.1　图形Drawable <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-1-2-形状图形" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.2　形状图形"><!--[--><!--]--> 5.1.2　形状图形 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-1-3-九宫格图片" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.3　九宫格图片"><!--[--><!--]--> 5.1.3　九宫格图片 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-1-4-状态列表图形" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.4　状态列表图形"><!--[--><!--]--> 5.1.4　状态列表图形 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-2-选择按钮" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2　选择按钮"><!--[--><!--]--> 5.2　选择按钮 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-2-1-复选框checkbox" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.1　复选框CheckBox"><!--[--><!--]--> 5.2.1　复选框CheckBox <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-2-2-开关按钮switch" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.2　开关按钮Switch"><!--[--><!--]--> 5.2.2　开关按钮Switch <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-2-3-单选按钮radiobutton" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.3　单选按钮RadioButton"><!--[--><!--]--> 5.2.3　单选按钮RadioButton <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-3-文本输入" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3　文本输入"><!--[--><!--]--> 5.3　文本输入 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-3-1-编辑框edittext" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3.1　编辑框EditText"><!--[--><!--]--> 5.3.1　编辑框EditText <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-3-2-焦点变更监听器" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3.2　焦点变更监听器"><!--[--><!--]--> 5.3.2　焦点变更监听器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-3-3-文本变化监听器" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3.3　文本变化监听器"><!--[--><!--]--> 5.3.3　文本变化监听器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-4-对话框" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4　对话框"><!--[--><!--]--> 5.4　对话框 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-4-1-提醒对话框alertdialog" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4.1　提醒对话框AlertDialog"><!--[--><!--]--> 5.4.1　提醒对话框AlertDialog <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-4-2-日期对话框datepickerdialog" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4.2　日期对话框DatePickerDialog"><!--[--><!--]--> 5.4.2　日期对话框DatePickerDialog <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-4-3-时间对话框timepickerdialog" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4.3　时间对话框TimePickerDialog"><!--[--><!--]--> 5.4.3　时间对话框TimePickerDialog <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-5-实战项目-找回密码" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5　实战项目：找回密码"><!--[--><!--]--> 5.5　实战项目：找回密码 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-5-1-需求描述" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5.1　需求描述"><!--[--><!--]--> 5.5.1　需求描述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-5-2-界面设计" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5.2　界面设计"><!--[--><!--]--> 5.5.2　界面设计 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-5-3-关键代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5.3　关键代码"><!--[--><!--]--> 5.5.3　关键代码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-6-小结" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6　小结"><!--[--><!--]--> 5.6　小结 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Android/AndroidBasic/%E7%AC%AC05%E7%AB%A0%E4%B8%AD%E7%BA%A7%E6%8E%A7%E4%BB%B6.html#_5-7-课后练习题" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.7　课后练习题"><!--[--><!--]--> 5.7　课后练习题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="第-5-章-中级控件" tabindex="-1"><a class="header-anchor" href="#第-5-章-中级控件" aria-hidden="true">#</a> 第 5 章　中级控件</h1><p>本章介绍App开发常见的几类中级控件的用法，主要包括：如何定制几种简单的图形、如何使用几种选择按钮、如何高效地输入文本、如何利用对话框获取交互信息等，然后结合本章所学的知识，演示了一个实战项目“找回密码”的设计与实现。</p><h2 id="_5-1-图形定制" tabindex="-1"><a class="header-anchor" href="#_5-1-图形定制" aria-hidden="true">#</a> 5.1　图形定制</h2><p>本节介绍Android图形的基本概念和几种常见图形的使用办法，包括：形状图形的组成结构及其具体用法、九宫格图片（点九图片）的制作过程及其适用场景、状态列表图形的产生背景及其具体用法。</p><h3 id="_5-1-1-图形drawable" tabindex="-1"><a class="header-anchor" href="#_5-1-1-图形drawable" aria-hidden="true">#</a> 5.1.1　图形Drawable</h3><p>Android把所有能够显示的图形都抽象为Drawable类（可绘制的）。这里的图形不止是图片，还包括色块、画板、背景等。包含图片在内的图形文件放在res目录的各个drawable目录下，其中drawable目录一般保存描述性的XML文件，而图片文件一般放在具体分辨率的drawable目录下。例如：</p><ul><li><p>drawable-ldpi里面存放低分辨率的图片（如240×320），现在基本没有这样的智能手机了。</p></li><li><p>drawable-mdpi里面存放中等分辨率的图片（如320×480），这样的智能手机已经很少了。</p></li><li><p>drawable-hdpi里面存放高分辨率的图片（如480×800），一般对应 4 英寸～4.5英寸的手机（但不绝对，同尺寸的手机有可能分辨率不同，手机分辨率就高不就低，因为分辨率低了屏幕会有模糊的感觉）。</p></li><li><p>drawable-xhdpi里面存放加高分辨率的图片（如720×1280），一般对应 5 英寸～5.5英寸的手机。</p></li><li><p>drawable-xxhdpi里面存放超高分辨率的图片（如1080×1920），一般对应 6 英寸～6.5英寸的手机。</p></li><li><p>drawable-xxxhdpi里面存放超超高分辨率的图片（如1440×2560），一般对应 7 英寸以上的平板电脑。</p></li></ul><p>基本上，分辨率每加大一级，宽度和高度就要增加二分之一或三分之一像素。如果各目录存在同名图片，Android就会根据手机的分辨率分别适配对应文件夹里的图片。在开发App时，为了兼容不同的手机屏幕，在各目录存放不同分辨率的图片，才能达到最合适的显示效果。例如，在drawable-hdpi放了一张背景图片bg.png（分辨率为480×800），其他目录没放，使用分辨率为480×800的手机查看该App界面没有问题，但是使用分辨率为720×1280的手机查看该App会发现背景图片有点模糊，原因是Android为了让bg.png适配高分辨率的屏幕，强行把bg.png拉伸到了720×1280，拉伸的后果是图片变模糊了。在XML布局文件中引用图形文件可使用“@drawable/不含扩展名的文件名称”这种形式，如各视图的background属性、ImageView和ImageButton的src属性、TextView和Button四个方向的drawable***系列属性都可以引用图形文件。</p><h3 id="_5-1-2-形状图形" tabindex="-1"><a class="header-anchor" href="#_5-1-2-形状图形" aria-hidden="true">#</a> 5.1.2　形状图形</h3><p>Shape图形又称形状图形，它用来描述常见的几何形状，包括矩形、圆角矩形、圆形、椭圆等。用好形状图形可以让App页面不再呆板，还可以节省美工不少工作量。形状图形的定义文件放在drawable目录下，它是以shape标签为根节点的XML描述文件。根节点下定义了 6 个节点，分别是：size（尺寸）、stroke（描边）、corners（圆角）、solid（填充）、padding（间隔）、gradient（渐变），各节点的属性值主要是长宽、半径、角度以及颜色等。下面是形状图形各个节点及其属性的简要说明。</p><p><strong>1 ．shape（形状）</strong></p><p>shape是形状图形文件的根节点，它描述了当前是哪种几何图形。下面是shape节点的常用属性说明。</p><p>shape：字符串类型，表示图形的形状。形状类型的取值说明见表5-1。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061504440.png" alt="image-20220706150420326"></p><p><strong>2 ．size（尺寸）</strong></p><p>size是shape的下级节点，它描述了形状图形的宽高尺寸。若无size节点，则表示<strong>宽高与宿主视图一样大小</strong>。下面是size节点的常用属性说明。</p><p>height：像素类型，图形高度。</p><p>width：像素类型，图形宽度。</p><p><strong>3 ．stroke（描边）</strong></p><p>stroke是shape的下级节点，它描述了形状图形的描边规格。若无stroke节点，则表示不存在描边。下面是stroke节点的常用属性说明。</p><p>color：颜色类型，描边的颜色。</p><p>dashGap：像素类型，每段虚线之间的间隔。</p><p>dashWidth：像素类型，每段虚线的宽度。若dashGap和dashWidth有一个值为 0 ，则描边为实线。</p><p>width：像素类型，描边的厚度。</p><p><strong>4 ．corners（圆角</strong>）</p><p>corners是shape的下级节点，它描述了形状图形的圆角大小。若无corners节点，则表示没有圆角。下面是corners节点的常用属性说明。</p><p>bottomLeftRadius：像素类型，左下圆角的半径。</p><p>bottomRightRadius：像素类型，右下圆角的半径。</p><p>topLeftRadius：像素类型，左上圆角的半径。</p><p>topRightRadius：像素类型，右上圆角的半径。</p><p>radius：像素类型， 4 个圆角的半径（若有上面 4 个圆角半径的定义，则不需要radius定义）。</p><p><strong>5 ．solid（填充）</strong></p><p>solid是shape的下级节点，它描述了形状图形的填充色彩。若无solid节点，则表示无填充颜色。下面是</p><p>solid节点的常用属性说明。</p><p>color：颜色类型，内部填充的颜色。</p><p><strong>6 ．padding（间隔）</strong></p><p>padding是shape的下级节点，它描述了形状图形与周围边界的间隔。若无padding节点，则表示四周不设间隔。下面是padding节点的常用属性说明。</p><pre><code>top：像素类型，与上方的间隔。 

bottom：像素类型，与下方的间隔。 

left：像素类型，与左边的间隔。 

right：像素类型，与右边的间隔。 
</code></pre><p><strong>7 ．gradient（渐变）</strong></p><p>gradient是shape的下级节点，它描述了形状图形的颜色渐变。若无gradient节点，则表示没有渐变效果。下面是gradient节点的常用属性说明。</p><p>angle：整型，渐变的起始角度。为 0 时表示时钟的 9 点位置，值增大表示往逆时针方向旋转。例如，值为 90 表示 6 点位置，值为 180 表示 3 点位置，值为 270 表示 0 点/12点位置。</p><p>表5-2　渐变类型的取值说明</p><table><thead><tr><th>渐变类型</th><th>说明</th></tr></thead><tbody><tr><td>linear</td><td>线性渐变，默认值</td></tr><tr><td>radial</td><td>放射渐变，起始颜色就是圆心颜色</td></tr><tr><td>sweep</td><td>滚动渐变，即一个线段以某个端点为圆心做 360 度旋转</td></tr></tbody></table><ul><li><p>type：字符串类型，渐变类型。</p></li><li><p>centerX：浮点型，圆心的X坐标。当android:type=&quot;linear&quot;时不可用。</p></li><li><p>centerY：浮点型，圆心的Y坐标。当android:type=&quot;linear&quot;时不可用。</p></li><li><p>gradientRadius：整型，渐变的半径。当android:type=&quot;radial&quot;时需要设置该属性。</p></li><li><p>centerColor：颜色类型，渐变的中间颜色。</p></li><li><p>startColor：颜色类型，渐变的起始颜色。</p></li><li><p>endColor：颜色类型，渐变的终止颜色。</p></li><li><p>useLevel：布尔类型，设置为true为无渐变色、false为有渐变色。</p></li></ul><p>在实际开发中，形状图形主要使用 3 个节点：stroke（描边）、corners（圆角）和solid（填充）。至于shape根节点的属性一般不用设置（默认矩形即可）。</p><p>接下来演示一下形状图形的界面效果，首先右击drawable目录，并依次选择右键菜单的New→Drawable resource file，在弹窗中输入文件名称再单击OK按钮，即可自动生成一个XML描述文件。往该文件填入下面的圆角矩形内容定义：</p><p>（完整代码见chapter05\src\main\res\drawable\shape_rect_gold.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>shape</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 指定了形状内部的填充颜色 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>solid</span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffdd66<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 指定了形状轮廓的粗细与颜色 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stroke</span>
        <span class="token attr-name"><span class="token namespace">android:</span>width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#aaaaaa<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 指定了形状四个圆角的半径 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>corners</span> <span class="token attr-name"><span class="token namespace">android:</span>radius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>shape</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着创建一个测试页面，并在页面的XML文件中添加名为v_content的View标签，再给Java代码补充以下的视图背景设置代码：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\DrawableShapeActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 从布局文件中获取名为v_content的视图</span>
<span class="token class-name">View</span> v_content <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>v_content<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// v_content的背景设置为圆角矩形</span>
v_content<span class="token punctuation">.</span><span class="token function">setBackgroundResource</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>shape_rect_gold<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后运行测试App，观察到对应的形状图形如图5-1所示。该形状为一个圆角矩形，内部填充色为土黄色，边缘线为灰色。</p><p>再来一个椭圆的XML描述文件示例如下：</p><p>（完整代码见chapter05\src\main\res\drawable\shape_oval_rose.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>shape</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span> 
<span class="token attr-name"><span class="token namespace">android:</span>shape</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oval<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!-- 指定了形状内部的填充颜色 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>solid</span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ff66aa<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
   <span class="token comment">&lt;!-- 指定了形状轮廓的粗细与颜色 --&gt;</span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stroke</span>
       <span class="token attr-name"><span class="token namespace">android:</span>width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1dp<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#aaaaaa<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>shape</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>把前述的视图对象v_content背景改为R.drawable.shape_oval_rose，运行App观察到对应的形状图形如图5-2所示。该形状为一个椭圆，内部填充色为玫红色，边缘线为灰色。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061514095.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061514469.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h3 id="_5-1-3-九宫格图片" tabindex="-1"><a class="header-anchor" href="#_5-1-3-九宫格图片" aria-hidden="true">#</a> 5.1.3　九宫格图片</h3><p>将某张图片设置成视图背景时，如果图片尺寸太小，则系统会自动拉伸图片使之填满背景。可是一旦图片拉得过大，其画面容易变得模糊，如图5-3所示，上面按钮的背景图片被拉得很宽，此时左右两边的边缘线既变宽又变模糊了。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061515058.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>为了解决这个问题，Android专门设计了点九图片。点九图片的扩展名是png，文件名后面常带有“.9”字样。因为该图片划分了3×3的九宫格区域，所以得名点九图片，也叫九宫格图片。如果背景是一个形状图形，其stroke节点的width属性已经设置了固定数值（如1dp），那么无论该图形被拉到多大，描边宽度始终是1dp。点九图片的实现原理与之类似，即拉伸图形时，只拉伸内部区域，不拉伸边缘线条。</p><p>为了演示九宫格图片的展示效果，要利用Android Studio制作一张点九图片。首先在drawable目录下找到待加工的原始图片button_pressed_orig.png，右击它弹出右键菜单如图5-4所示。选择右键菜单下面的“Create 9-Patch files...”，并在随后弹出的对话框中单击OK按钮。接着drawable目录自动生成一个名为“button_pressed_orig.9.png”的图片，双击该文件，主界面右侧弹出如图5-5所示的，点九图片的加工窗口。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061517944.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>​ 图5-4　点九图片的制作菜单路径</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061517656.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>注意图5-5的左侧窗口是图片加工区域，右侧窗口是图片预览区域，从上到下依次是纵向拉伸预览、横向拉伸预览、两方向同时拉伸预览。在左侧窗口图片四周的马赛克处单击会出现一个黑点，把黑点左右或上下拖动会拖出一段黑线，不同方向上的黑线表示不同的效果。</p><p>如图5-6所示，界面上边的黑线指的是水平方向的拉伸区域。水平方向拉伸图片时，只有黑线区域内的图像会拉伸，黑线以外的图像保持原状，从而保证左右两侧的边框厚度不变。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061520625.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>如图5-7所示，界面左边的黑线指的是垂直方向的拉伸区域。垂直方向拉伸图片时，只有黑线区域内的图像会拉伸，黑线以外的图像保持原状，从而保证上下两侧的边框厚度不变。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061520796.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>如图5-8所示，界面下边的黑线指的是该图片作为控件背景时，控件内部的文字左右边界只能放在黑线区域内。这里Horizontal Padding的效果就相当于android:paddingLeft与android:paddingRight。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061522040.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>如图5-9所示，界面右边的黑线指的是该图片作为控件背景时，控件内部的文字上下边界只能放在黑线区域内。这里Vertical Padding的效果就相当于android:paddingTop与android:paddingBottom。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061521873.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>尤其注意，如果点九图片被设置为视图背景，且该图片指定了Horizontal Padding和Vertical Padding，那么视图内部将一直与视图边缘保持固定间距，无论怎么调整XML文件和Java代码都无法缩小间隔，缘由是点九图片早已在水平和垂直方向都设置了padding。</p><h3 id="_5-1-4-状态列表图形" tabindex="-1"><a class="header-anchor" href="#_5-1-4-状态列表图形" aria-hidden="true">#</a> 5.1.4　状态列表图形</h3><p>常见的图形文件一般为静态图形，但有时会用到动态图形，比如按钮控件的背景在正常情况下是凸起的，在按下时是凹陷的，从按下到弹起的过程，用户便晓得点击了该按钮。根据不同的触摸情况变更图形状态，这种情况用到了Drawable的一个子类StateListDrawable（状态列表图形），它在XML文件中规定了不同状态时候所呈现的图形列表。</p><p>接下来演示一下状态列表图形的界面效果，右击drawable目录，并依次选择右键菜单的New→Drawable resource file，在弹窗中输入文件名称再单击OK按钮，即可自动生成一个XML描述文件。往该文件填入下面的状态列表图形定义：</p><p>（完整代码见chapter05\src\main\res\drawable\btn_nine_selector.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>state_pressed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/button_pressed<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/button_normal<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述XML文件的关键点是state_pressed属性，该属性表示按下状态，值为true表示按下时显示button_pressed图像，其余情况显示button_normal图像。为方便理解，接下来做个实验，首先将按钮控件的background属性设置为@drawable/btn_nine_selector，然后在屏幕上点击该按钮，观察发现按下时候的界面如图5-10所示，而松开时候的界面如图5-11所示，可见按下与松开果然显示不同的图片。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061526375.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061526898.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>状态列表图形不仅用于按钮控件，还可用于其他拥有多种状态的控件，这取决于开发者在XML文件中指定了哪种状态类型。各种状态类型的取值说明详见表5-3。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061528763.png" alt="image-20220706152802666"></p><h2 id="_5-2-选择按钮" tabindex="-1"><a class="header-anchor" href="#_5-2-选择按钮" aria-hidden="true">#</a> 5.2　选择按钮</h2><p>本节介绍几个常用的特殊控制按钮，包括：如何使用复选框CheckBox及其勾选监听器、如何使用开关按钮Switch、如何借助状态列表图形实现仿iOS的开关按钮、如何使用单选按钮RadioButton和单选组RadioGroup及其选中监听器。</p><h3 id="_5-2-1-复选框checkbox" tabindex="-1"><a class="header-anchor" href="#_5-2-1-复选框checkbox" aria-hidden="true">#</a> 5.2.1　复选框CheckBox</h3><p>在学习复选框之前，先了解一下<strong>CompoundButton</strong>。在Android体系中，CompoundButton类是抽象的复合按钮，因为是抽象类，所以它不能直接使用。实际开发中用的是CompoundButton的几个派生类，主要有复选框CheckBox、单选按钮RadioButton以及开关按钮Switch，这些派生类均可使用CompoundButton的属性和方法。加之CompoundButton本身继承了Button类，故以上几种按钮同时具备Button的属性和方法，它们之间的继承关系如图5-12所示。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061529684.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>CompoundButton在XML文件中主要使用下面两个属性。</p><ul><li><p>checked：指定按钮的勾选状态，true表示勾选，false则表示未勾选。默认为未勾选。</p></li><li><p>button：指定左侧勾选图标的图形资源，如果不指定就使用系统的默认图标。</p><p>CompoundButton在Java代码中主要使用下列 4 种方法。</p></li><li><p>setChecked：设置按钮的勾选状态。</p></li><li><p>setButtonDrawable：设置左侧勾选图标的图形资源。</p></li><li><p>setOnCheckedChangeListener：设置勾选状态变化的监听器。</p></li><li><p>isChecked：判断按钮是否勾选。</p></li></ul><p>复选框CheckBox是CompoundButton一个最简单的实现控件，点击复选框将它勾选，再次点击取消勾选。复选框对象调用<strong>setOnCheckedChangeListener</strong>方法设置勾选监听器，这样在勾选和取消勾选时就会触发监听器的勾选事件。接下来演示复选框的操作过程， 首先编写活动页面的XML文件如下所示：</p><p>（完整代码见chapter05\src\main\res\layout\activity_check_box.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CheckBox</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/ck_system<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>这是系统的CheckBox<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CheckBox</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/ck_custom<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>button</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/checkbox_selector<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>这个CheckBox换了图标<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着编写对应的Java代码，主要是如何处理勾选监听器，具体代码如下所示：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\CheckBoxActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 该页面实现了接口OnCheckedChangeListener，意味着要重写勾选监听器的onCheckedChanged方法 </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CheckBoxActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span>
       <span class="token keyword">implements</span> <span class="token class-name">CompoundButton<span class="token punctuation">.</span>OnCheckedChangeListener</span> <span class="token punctuation">{</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_check_box<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 从布局文件中获取名叫ck_system的复选框</span>
       <span class="token class-name">CheckBox</span> ck_system <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>ck_system<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 从布局文件中获取名叫ck_custom的复选框</span>
       <span class="token class-name">CheckBox</span> ck_custom <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>ck_custom<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 给ck_system设置勾选监听器，一旦用户点击复选框，就触发监听器的onCheckedChanged方法</span>
       ck_system<span class="token punctuation">.</span><span class="token function">setOnCheckedChangeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 给ck_custom设置勾选监听器，一旦用户点击复选框，就触发监听器的onCheckedChanged方法</span>
       ck_custom<span class="token punctuation">.</span><span class="token function">setOnCheckedChangeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCheckedChanged</span><span class="token punctuation">(</span><span class="token class-name">CompoundButton</span> buttonView<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isChecked<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
       <span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;您%s了这个CheckBox&quot;</span><span class="token punctuation">,</span> isChecked <span class="token operator">?</span> <span class="token string">&quot;勾选&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;取消勾选&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       buttonView<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后运行测试App，一开始的演示界面如图5-13所示，此时复选框默认未勾选。首次点击复选框，此时复选框的图标及文字均发生变化，如图5-14所示；再次点击复选框，此时复选框的图标及文字又发生变化，如图5-15所示；可见先后触发了勾选与取消勾选事件。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061533454.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061533286.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061534905.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h3 id="_5-2-2-开关按钮switch" tabindex="-1"><a class="header-anchor" href="#_5-2-2-开关按钮switch" aria-hidden="true">#</a> 5.2.2　开关按钮Switch</h3><p>Switch是开关按钮，它像一个高级版本的CheckBox，在选中与取消选中时可展现的界面元素比复选框丰富。Switch控件新添加的XML属性说明如下：</p><ul><li><p>textOn：设置右侧开启时的文本。</p></li><li><p>textOff：设置左侧关闭时的文本。</p></li><li><p>track：设置开关轨道的背景。</p></li><li><p>thumb：设置开关标识的图标。</p></li></ul><p>虽然开关按钮是升级版的复选框，但它在实际开发中用得不多。原因之一是大家觉得Switch的默认界面不够大气，如图5-16和图5-17所示，小巧的开关图标显得有些拘谨；原因之二是大家觉得iPhone的界面很漂亮，无论用户还是客户，都希望App实现iOS那样的控件风格，于是iOS的开关按钮UISwitch就成了安卓开发者仿照的对象。</p><p>现在要让Android实现类似iOS的开关按钮，主要思路是借助状态列表图形，首先创建一个图形专用的XML文件，给状态列表指定选中与未选中时候的开关图标，如下所示：</p><p>（完整代码见chapter05\src\main\res\drawable\switch_selector.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>state_checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/switch_on<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/switch_off<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">&gt;</span></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后把CheckBox标签的background属性设置为@drawable/switch_selector，同时将button属性设置为@null。完整的CheckBox标签内容示例如下：</p><p>（完整代码见chapter05\src\main\res\layout\activity_switch_ios.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CheckBox</span>
         <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/ck_status<span class="token punctuation">&quot;</span></span> 
         <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60dp<span class="token punctuation">&quot;</span></span> 
         <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30dp<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/switch_selector<span class="token punctuation">&quot;</span></span> 
         <span class="token attr-name"><span class="token namespace">android:</span>button</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@null<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>为什么这里修改background属性，而不直接修改button属性呢？因为button属性有局限，无论多大的 图片，都只显示一个小小的图标，可是小小的图标一点都不大气，所以这里必须使用background属性，要它有多大就能有多大，这才够炫够酷。</p><p>最后看看这个仿iOS开关按钮的效果，分别如图5-18和图5-19所示。这下开关按钮脱胎换骨，又圆又鲜艳，比原来的Switch好看了很多。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061537466.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061538790.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h3 id="_5-2-3-单选按钮radiobutton" tabindex="-1"><a class="header-anchor" href="#_5-2-3-单选按钮radiobutton" aria-hidden="true">#</a> 5.2.3　单选按钮RadioButton</h3><p>所谓单选按钮，指的是在一组按钮中选择其中一项，并且不能多选，这要求有个容器确定这组按钮的范围，这个容器便是单选组<strong>RadioGroup</strong>。单选组实质上是个布局，同一组RadioButton都要放在同一个RadioGroup节点下。RadioGroup提供了orientation属性指定下级控件的排列方向，该属性为horizontal时，单选按钮在水平方向排列；该属性为vertical时，单选按钮在垂直方向排列。</p><p>RadioGroup下面除了RadioButton，还可以挂载其他子控件（如TextView、ImageView等）。如此看来，单选组相当于特殊的线性布局，它们主要有以下两个区别：</p><p>（ 1 ）单选组多了管理单选按钮的功能，而线性布局不具备该功能。</p><p>（ 2 ）如果不指定orientation属性，那么单选组默认垂直排列，而线性布局默认水平排列。</p><p>下面是RadioGroup在Java代码中的 3 个常用方法。</p><ul><li><p>check：选中指定资源编号的单选按钮。</p></li><li><p>getCheckedRadioButtonId：获取已选中单选按钮的资源编号。</p></li><li><p>setOnCheckedChangeListener：设置单选按钮勾选变化的监听器。</p></li></ul><p>与CheckBox不同的是，RadioButton默认未选中，点击后显示选中，但是再次点击不会取消选中。只有点击同组的其他单选按钮时，原来选中的单选按钮才会取消选中。另需注意，单选按钮的选中事件不是由RadioButton处理，而是由RadioGroup处理。</p><p>接下来演示单选按钮的操作过程，首先编写活动页面的XML文件如下所示：</p><p>（完整代码见chapter05\src\main\res\layout\ activity_radio_horizontal.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请选择您的性别<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>17sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RadioGroup</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rg_sex<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RadioButton</span>
           <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rb_male<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>男<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>17sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RadioButton</span>
           <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/rb_female<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0dp<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>layout_weight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>女<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
           <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>17sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RadioGroup</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
       <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/tv_sex<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textColor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@color/black<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">android:</span>textSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>17sp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着编写对应的Java代码，主要是如何处理选中监听器，具体代码如下所示：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 该页面实现了接口OnCheckedChangeListener，意味着要重写选中监听器的onCheckedChanged方法 </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RadioHorizontalActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span>
       <span class="token keyword">implements</span> <span class="token class-name">RadioGroup<span class="token punctuation">.</span>OnCheckedChangeListener</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv_sex<span class="token punctuation">;</span> <span class="token comment">// 声明一个文本视图对象</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_radio_horizontal<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 从布局文件中获取名叫tv_sex的文本视图</span>
       tv_sex <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 从布局文件中获取名叫rg_sex的单选组</span>
       <span class="token class-name">RadioGroup</span> rg_sex <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>rg_sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 设置单选监听器，一旦点击组内的单选按钮，就触发监听器的onCheckedChanged方法</span>
       rg_sex<span class="token punctuation">.</span><span class="token function">setOnCheckedChangeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// 在用户点击组内的单选按钮时触发</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onCheckedChanged</span><span class="token punctuation">(</span><span class="token class-name">RadioGroup</span> group<span class="token punctuation">,</span> <span class="token keyword">int</span> checkedId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>checkedId <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>rb_male<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           tv_sex<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;哇哦，你是个帅气的男孩&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>checkedId <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>rb_female<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           tv_sex<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;哇哦，你是个漂亮的女孩&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后运行测试App，一开始的演示界面如图5-20所示，此时两个单选按钮均未选中。先点击左边的单选按钮，此时左边按钮显示选中状态，如图5-21所示；再点击右边的单选按钮，此时右边按钮显示选中状态，同时左边按钮取消选中，如图5-22所示；可见果然实现了组内只能选中唯一按钮的单选功能。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061543074.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061543264.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h2 id="_5-3-文本输入" tabindex="-1"><a class="header-anchor" href="#_5-3-文本输入" aria-hidden="true">#</a> 5.3　文本输入</h2><p>本节介绍如何在编辑框EditText上高效地输入文本，包括：如何改变编辑框的控件外观，如何利用焦点变更监听器提前校验输入位数，如何利用文本变化监听器自动关闭软键盘。</p><h3 id="_5-3-1-编辑框edittext" tabindex="-1"><a class="header-anchor" href="#_5-3-1-编辑框edittext" aria-hidden="true">#</a> 5.3.1　编辑框EditText</h3><p>编辑框EditText用于接收软键盘输入的文字，例如用户名、密码、评价内容等，它由文本视图派生而来，除了TextView已有的各种属性和方法，EditText还支持下列XML属性。</p><ul><li><p>inputType：指定输入的文本类型。输入类型的取值说明见表5-4，若同时使用多种文本类型，则可使用竖线“|”把多种文本类型拼接起来。</p></li><li><p>maxLength：指定文本允许输入的最大长度。</p></li><li><p>hint：指定提示文本的内容。</p></li><li><p>textColorHint：指定提示文本的颜色。</p></li></ul><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061548138.png" alt="image-20220706154845031"></p><p>接下来通过XML布局观看编辑框界面效果，演示用的XML文件内容如下：</p><p>（完整代码见chapter05\src\main\res\layout\activity_edit_simple.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>下面是登录信息<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入用户名<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入密码<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textPassword<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行测试App，进入初始的编辑框页面如图5-23所示。然后往用户名编辑框输入文字，输满 10 个字后发现不能再输入，于是切换到密码框继续输，直到输满 8 位密码，此时编辑框页面如图5-24所示。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061552936.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061552142.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>根据以上图示可知编辑框的各属性正常工作，不过编辑框有根下划线，未输入时显示灰色，正在输入时显示红色，这种效果是怎么实现的呢？其实下划线没用到新属性，而用了已有的背景属性background；至于未输入与正在输入两种情况的颜色差异，乃是因为使用了状态列表图形，编辑框获得焦点时（正在输入）显示红色的下划线，其余时候显示灰色下划线。当然EditText默认的下划线背景不甚好看，下面将利用状态列表图形将编辑框背景改为更加美观的圆角矩形。</p><p>首先编写圆角矩形的形状图形文件，它的XML定义文件示例如下：</p><p>（完整代码见chapter05\src\main\res\drawable\shape_edit_normal.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>shape</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 指定了形状内部的填充颜色 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>solid</span> <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#ffffff<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 指定了形状轮廓的粗细与颜色 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>stroke</span>
        <span class="token attr-name"><span class="token namespace">android:</span>width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#aaaaaa<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 指定了形状四个圆角的半径 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>corners</span> <span class="token attr-name"><span class="token namespace">android:</span>radius</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 指定了形状四个方向的间距 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>padding</span>
        <span class="token attr-name"><span class="token namespace">android:</span>bottom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>left</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>right</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>top</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2dp<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>shape</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述的shape_edit_normal.xml定义了一个灰色的圆角矩形，可在未输入时展示该形状。正在输入时候的形状要改为蓝色的圆角矩形，其中轮廓线条的色值从aaaaaa（灰色）改成0000ff（蓝色），具体定义放在shape_edit_focus.xml。</p><p>接着编写编辑框背景的状态列表图形文件，主要在selector节点下添加两个item，一个item设置了获得焦点时刻（android:state_focused=&quot;true&quot;）的图形为@drawable/shape_edit_focus；另一个item设置了图形@drawable/shape_edit_normal但未指定任何状态，表示其他情况都展示该图形。完整的状态列表图形定义示例如下：</p><p>（完整代码见chapter05\src\main\res\drawable\editext_selector.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>selector</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/shape_edit_focus<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">android:</span>state_focused</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span> <span class="token attr-name"><span class="token namespace">android:</span>drawable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/shape_edit_normal<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>selector</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后编写测试页面的XML布局文件，一共添加 3 个EditText标签，第一个EditText采用默认的编辑框背景；第二个EditText将background属性值设为@null，此时编辑框不显示任何背景；第三个EditText将background属性值设为@drawable/editext_selector，其背景由editext_selector.xml所定义的状态列表图形决定。详细的XML文件内容如下所示：</p><p>（完整代码见chapter05\src\main\res\layout\activity_edit_border.xml）</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vertical<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>这是默认边框<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@null<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我的边框不见了<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>EditText</span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_marginTop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5dp<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/editext_selector<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>我的边框是圆角<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>inputType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后运行测试App，更换背景之后的编辑框界面如图5-25所示，可见第三个编辑框的背景成功变为了圆角矩形边框。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061555726.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h3 id="_5-3-2-焦点变更监听器" tabindex="-1"><a class="header-anchor" href="#_5-3-2-焦点变更监听器" aria-hidden="true">#</a> 5.3.2　焦点变更监听器</h3><p>虽然编辑框EditText提供了maxLength属性，用来设置可输入文本的最大长度，但是它没提供对应的minLength属性，也就无法设置可输入文本的最小长度。譬如手机号码为固定的 11 位数字，用户必须输满 11 位才是合法的，然而编辑框不会自动检查手机号码是否达到 11 位，即使用户少输一位只输入十位数字，编辑框依然认为这是合法的手机号。</p><p>既然编辑框不会自动校验手机号是否达到 11 位，势必要求代码另行检查。一种想法是在用户点击登录按钮时再判断，不过通常此时已经输完手机号与密码，为啥不能在输入密码之前就判断手机号码的位数呢？早点检查可以帮助用户早点发现错误，特别是表单元素较多的时候，更能改善用户的使用体验。就上面的登录例子而言，手机号编辑框下方为密码框，那么能否给密码框注册点击事件，以便在用户准备输入密码时就校验手机号的位数呢？然而实际运行App却发现，先输入手机号码再输入密码，一开始并不会触发密码框的点击事件，再次点击密码框才会触发点击事件。缘由是编辑框比较特殊， 要点击两次后才会触发点击事件 ，因为第一次点击只触发焦点变更事件，第二次点击才触发点击事件。编辑框的所谓焦点，直观上就看那个闪动的光标，哪个编辑框有光标，焦点就落在哪里。光标在编辑框之间切换，便产生了焦点变更事件，所以对于编辑框来说，应当注册焦点变更监听器，而非注册点击监听器。焦点变更监听器来自于接口View.OnFocusChangeListener，若想注册该监听器，就要调用编辑框对象的<strong>setOnFocusChangeListener</strong>方法，即可在光标切换之时（获得光标和失去光标）触发焦点变更事件。下面是给密码框注册焦点变更监听器的代码例子：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\EditFocusActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 从布局文件中获取名为et_password的编辑框</span>
<span class="token class-name">EditText</span> et_password <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给编辑框注册一个焦点变化监听器，一旦焦点发生变化，就触发监听器的onFocusChange方法 </span>
et_password<span class="token punctuation">.</span><span class="token function">setOnFocusChangeListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上代码把焦点变更监听器设置到当前页面，则需让活动页面实现接口View.OnFocusChangeListener，并重写该接口定义的onFocusChange方法，判断如果是密码框获得焦点，就检查输入的手机号码是否达到 11 位。具体的焦点变更处理方法如下所示：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 焦点变更事件的处理方法，hasFocus表示当前控件是否获得焦点。</span>
<span class="token comment">// 为什么光标进入事件不选onClick？因为要点两下才会触发onClick动作（第一下是切换焦点动作）</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onFocusChange</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">,</span> <span class="token keyword">boolean</span> hasFocus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 判断密码编辑框是否获得焦点。hasFocus为true表示获得焦点，为false表示失去焦点</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_password <span class="token operator">&amp;&amp;</span> hasFocus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">String</span> phone <span class="token operator">=</span> et_phone<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span> <span class="token operator">||</span> phone<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 手机号码不足11位</span>
           <span class="token comment">// 手机号码编辑框请求焦点，也就是把光标移回手机号码编辑框</span>
           et_phone<span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;请输入11位手机号码&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>改好代码重新运行App，当手机号不足 11 位时点击密码框，界面底部果然弹出了相应的提示文字，如图5-27所示，并且光标仍然留在手机号码编辑框，说明首次点击密码框的确触发了焦点变更事件。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061600821.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h3 id="_5-3-3-文本变化监听器" tabindex="-1"><a class="header-anchor" href="#_5-3-3-文本变化监听器" aria-hidden="true">#</a> 5.3.3　文本变化监听器</h3><p>输入法的软键盘往往会遮住页面下半部分，使得“登录”“确认”“下一步”等按钮看不到了，用户若想点击这些按钮还得再点一次返回键才能关闭软键盘。为了方便用户操作，最好在满足特定条件时自动关闭软键盘，比如手机号码输入满 11 位后自动关闭软键盘，又如密码输入满 6 位后自动关闭软键盘，等等。达到指定位数便自动关闭键盘的功能，可以再分解为两个独立的功能点，一个是如何关闭软键盘，另一个是如何判断已输入的文字达到指定位数，分别说明如下。</p><p><strong>1 ．如何关闭软键盘</strong></p><p>诚然按下返回键就会关闭软键盘，但这是系统自己关闭的，而非开发者在代码中关闭。因为输入法软键盘由系统服务INPUT_METHOD_SERVICE管理，所以关闭软键盘也要由该服务处理，下面是使用系统服务关闭软键盘的代码例子：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\util\ViewUtil.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">hideOneInputMethod</span><span class="token punctuation">(</span><span class="token class-name">Activity</span> act<span class="token punctuation">,</span> <span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 从系统服务中获取输入法管理器</span>
        <span class="token class-name">InputMethodManager</span> imm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">InputMethodManager</span><span class="token punctuation">)</span> act<span class="token punctuation">.</span><span class="token function">getSystemService</span><span class="token punctuation">(</span><span class="token class-name">Context</span><span class="token punctuation">.</span><span class="token constant">INPUT_METHOD_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 关闭屏幕上的输入法软键盘</span>
        imm<span class="token punctuation">.</span><span class="token function">hideSoftInputFromWindow</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getWindowToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意上述代码里面的视图对象v，虽然控件类型为View，但它必须是EditText类型才能正常关闭软键盘。</p><p><strong>2 ．如何判断已输入的文字达到指定位数</strong></p><p>该功能点要求实时监控当前已输入的文本长度，这个监控操作用到文本监听器接口TextWatcher，该接口提供了 3 个监控方法，具体说明如下：</p><ul><li><p>beforeTextChanged：在文本改变之前触发。</p></li><li><p>onTextChanged：在文本改变过程中触发。</p></li><li><p>afterTextChanged：在文本改变之后触发。</p></li></ul><p>具体到编码实现，需要自己写个监听器实现TextWatcher接口，再调用编辑框对象的addTextChangedListener方法注册文本监听器。监听操作建议在afterTextChanged方法中完成，如果同时监听 11 位的手机号码和 6 位的密码，一旦输入文字达到指定长度就关闭键盘，则详细的监听器代码如下所示：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\EditHideActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 定义一个编辑框监听器，在输入文本达到指定长度时自动隐藏输入法 </span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">HideTextWatcher</span> <span class="token keyword">implements</span> <span class="token class-name">TextWatcher</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">EditText</span> mView<span class="token punctuation">;</span> <span class="token comment">// 声明一个编辑框对象</span>
   <span class="token keyword">private</span> <span class="token keyword">int</span> mMaxLength<span class="token punctuation">;</span> <span class="token comment">// 声明一个最大长度变量</span>
   <span class="token keyword">public</span> <span class="token class-name">HideTextWatcher</span><span class="token punctuation">(</span><span class="token class-name">EditText</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> maxLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       mView <span class="token operator">=</span> v<span class="token punctuation">;</span>
       mMaxLength <span class="token operator">=</span> maxLength<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// 在编辑框的输入文本变化前触发</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeTextChanged</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token keyword">int</span> 
after<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token comment">// 在编辑框的输入文本变化时触发</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onTextChanged</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> before<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> 
<span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token comment">// 在编辑框的输入文本变化后触发</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterTextChanged</span><span class="token punctuation">(</span><span class="token class-name">Editable</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">String</span> str <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获得已输入的文本字符串</span>
       <span class="token comment">// 输入文本达到11位（如手机号码），或者达到6位（如登录密码）时关闭输入法 </span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> mMaxLength <span class="token operator">==</span> <span class="token number">11</span><span class="token punctuation">)</span>
           <span class="token operator">||</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> mMaxLength <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token class-name">ViewUtil</span><span class="token punctuation">.</span><span class="token function">hideOneInputMethod</span><span class="token punctuation">(</span><span class="token class-name">EditHideActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> mView<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 隐藏输入 </span>
法软键盘
    <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>写好文本监听器代码，还要给手机号码编辑框和密码编辑框分别注册监听器，注册代码示例如下：</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 从布局文件中获取名为et_phone的手机号码编辑框 </span>
<span class="token class-name">EditText</span> et_phone <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_phone<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 从布局文件中获取名为et_password的密码编辑框</span>
<span class="token class-name">EditText</span> et_password <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>et_password<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 给手机号码编辑框添加文本变化监听器</span>
et_phone<span class="token punctuation">.</span><span class="token function">addTextChangedListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HideTextWatcher</span><span class="token punctuation">(</span>et_phone<span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 给密码编辑框添加文本变化监听器</span>
et_password<span class="token punctuation">.</span><span class="token function">addTextChangedListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HideTextWatcher</span><span class="token punctuation">(</span>et_password<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后运行测试App，先输入手机号码的前 10 位，因为还没达到 11 位，所以软键盘依然展示，如图5-28所示。接着输入最后一位手机号，总长度达到 11 位，于是软键盘自动关闭，如图5-29所示。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061606925.png" alt="Image From 笔记-Android 开发从入门到实战"></p><h2 id="_5-4-对话框" tabindex="-1"><a class="header-anchor" href="#_5-4-对话框" aria-hidden="true">#</a> 5.4　对话框</h2><p>本节介绍几种常用的对话框控件，包括：如何使用提醒对话框处理不同的选项，如何使用日期对话框获取用户选择的日期，如何使用时间对话框获取用户选择的时间。</p><h3 id="_5-4-1-提醒对话框alertdialog" tabindex="-1"><a class="header-anchor" href="#_5-4-1-提醒对话框alertdialog" aria-hidden="true">#</a> 5.4.1　提醒对话框AlertDialog</h3><p>AlertDialog名为提醒对话框，它是Android中最常用的对话框，可以完成常见的交互操作，例如提示、确认、选择等功能。由于AlertDialog没有公开的构造方法，因此必须借助建造器AlertDialog.Builder才能完成参数设置，AlertDialog.Builder的常用方法说明如下。</p><ul><li><p>setIcon：设置对话框的标题图标。</p></li><li><p>setTitle：设置对话框的标题文本。</p></li><li><p>setMessage：设置对话框的内容文本。</p></li><li><p>setPositiveButton：设置肯定按钮的信息，包括按钮文本和点击监听器。</p></li><li><p>setNegativeButton：设置否定按钮的信息，包括按钮文本和点击监听器。</p></li><li><p>setNeutralButton：设置中性按钮的信息，包括按钮文本和点击监听器，该方法比较少用。</p></li></ul><p>通过AlertDialog.Builder设置完对话框参数，还需调用建造器的create方法才能生成对话框实例。最后调用对话框实例的show方法，在页面上弹出提醒对话框。</p><p>下面是构建并显示提醒对话框的Java代码例子：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\AlertDialogActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>				<span class="token comment">// 创建提醒对话框的建造器</span>
        <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlertDialog<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置对话框的标题文本</span>
        builder<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;尊敬的用户&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置对话框的内容文本</span>
        builder<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">&quot;你真的要卸载我吗？&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置对话框的肯定按钮文本及其点击监听器</span>
        builder<span class="token punctuation">.</span><span class="token function">setPositiveButton</span><span class="token punctuation">(</span><span class="token string">&quot;残忍卸载&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>dialog<span class="token punctuation">,</span> which<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            tv_alert<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;虽然依依不舍，但是只能离开了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置对话框的否定按钮文本及其点击监听器</span>
        builder<span class="token punctuation">.</span><span class="token function">setNegativeButton</span><span class="token punctuation">(</span><span class="token string">&quot;我再想想&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>dialog<span class="token punctuation">,</span> which<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            tv_alert<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;让我再陪你三百六十五个日夜&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 根据建造器构建提醒对话框对象</span>
        <span class="token class-name">AlertDialog</span> dialog <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 显示提醒对话框</span>
        dialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>提醒对话框的弹窗效果如图5-30所示，可见该对话框有标题和内容，还有两个按钮。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061609033.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>点击不同的对话框按钮会触发不同的处理逻辑。例如，图5-31为点击“我再想想”按钮后的页面，图5-32为点击“残忍卸载”按钮后的页面。</p><h3 id="_5-4-2-日期对话框datepickerdialog" tabindex="-1"><a class="header-anchor" href="#_5-4-2-日期对话框datepickerdialog" aria-hidden="true">#</a> 5.4.2　日期对话框DatePickerDialog</h3><p>虽然EditText提供了inputType=&quot;date&quot;的日期输入，但是很少有人会手工输入完整日期，况且EditText还不支持“ 年 - 月 -日”这样的中文日期，所以系统提供了专门的日期选择器DatePicker，供用户选择具体的年月日。不过，DatePicker并非弹窗模式，而是在当前页面占据一块区域，并且不会自动关闭。按习惯来说，日期控件应该弹出对话框，选择完日期就要自动关闭对话框。因此，很少直接在界面上显示DatePicker，而是利用已经封装好的日期选择对话框DatePickerDialog。 DatePickerDialog相当于在AlertDialog上装载了DatePicker，编码时只需调用构造方法设置当前的年、月、日，然后调用show方法即可弹出日期对话框。日期选择事件则由监听器OnDateSetListener负责响应，在该监听器的onDateSet方法中，开发者获取用户选择的具体日期，再做后续处理。特别注意onDateSet的月份参数，<strong>它的起始值不是 1 而是 0</strong> 。也就是说，一月份对应的参数值为 0 ，十二月份对应的参数值为 11 ，中间月份的数值以此类推。</p><p>在界面上内嵌显示DatePicker的效果如图5-33所示，其中，年、月、日通过上下滑动选择。单独弹出日期对话框的效果如图5-34所示，其中年、月、日按照日历风格展示。</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061614103.png" alt="Image From 笔记-Android 开发从入门到实战" style="zoom:67%;"><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061615832.png" alt="Image From 笔记-Android 开发从入门到实战" style="zoom:67%;"><p>下面是使用日期对话框的Java代码例子，包括弹出日期对话框和处理日期监听事件： （完整代码见chapter05\src\main\java\com\example\chapter05\DatePickerActivity.java)</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 该页面类实现了接口OnDateSetListener，意味着要重写日期监听器的onDateSet方法 </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatePickerActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span>
       <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">,</span> <span class="token class-name">DatePickerDialog<span class="token punctuation">.</span>OnDateSetListener</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv_date<span class="token punctuation">;</span> <span class="token comment">// 声明一个文本视图对象</span>
   <span class="token keyword">private</span> <span class="token class-name">DatePicker</span> dp_date<span class="token punctuation">;</span> <span class="token comment">// 声明一个日期选择器对象</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_date_picker<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_date <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_date<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 从布局文件中获取名叫dp_date的日期选择器</span>
       dp_date <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>dp_date<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
     <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// 获取日历的一个实例，里面包含了当前的年月日</span>
           <span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">// 构建一个日期对话框，该对话框已经集成了日期选择器。</span>
           <span class="token comment">// DatePickerDialog的第二个构造参数指定了日期监听器</span>
           <span class="token class-name">DatePickerDialog</span> dialog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatePickerDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
                   calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 年份</span>
                   calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 月份</span>
                   calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_MONTH</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 日子</span>
           dialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示日期对话框</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// 一旦点击日期对话框上的确定按钮，就会触发监听器的onDateSet方法</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onDateSet</span><span class="token punctuation">(</span><span class="token class-name">DatePicker</span> view<span class="token punctuation">,</span> <span class="token keyword">int</span> year<span class="token punctuation">,</span> <span class="token keyword">int</span> monthOfYear<span class="token punctuation">,</span> <span class="token keyword">int</span> 
dayOfMonth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// 获取日期对话框设定的年月份</span>
       <span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;您选择的日期是%d年%d月%d日&quot;</span><span class="token punctuation">,</span> 
               year<span class="token punctuation">,</span> monthOfYear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> dayOfMonth<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_date<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-3-时间对话框timepickerdialog" tabindex="-1"><a class="header-anchor" href="#_5-4-3-时间对话框timepickerdialog" aria-hidden="true">#</a> 5.4.3　时间对话框TimePickerDialog</h3><p>既然有了日期选择器，还得有对应的时间选择器。同样，实际开发中也很少直接用TimePicker，而是用封装好的时间选择对话框TimePickerDialog。该对话框的用法类似DatePickerDialog，不同之处主要有两个：</p><p>（ 1 ）构造方法传的是当前的小时与分钟，最后一个参数表示是否采取 24 小时制，一般为true表示小时的数值范围为 0 ～ 23 ；若为false则表示采取 12 小时制。</p><p>（ 2 ）时间选择监听器为OnTimeSetListener，对应需要实现onTimeSet方法，在该方法中可获得用户选择的小时和分钟。</p><p>在界面上内嵌显示TimePicker的效果如图5-35所示，其中，小时与分钟可通过上下滑动选择。单独弹出时间对话框的效果如图5-36所示，其中小时与分钟按照钟表风格展示。</p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061618577.png" alt="Image From 笔记-Android 开发从入门到实战" style="zoom:67%;"><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061618705.png" alt="Image From 笔记-Android 开发从入门到实战" style="zoom:67%;"><p>下面是使用时间对话框的Java代码例子，包括弹出时间对话框和处理时间监听事件：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\TimePickerActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 该页面类实现了接口OnTimeSetListener，意味着要重写时间监听器的onTimeSet方法 </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimePickerActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span>
       <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">,</span> <span class="token class-name">TimePickerDialog<span class="token punctuation">.</span>OnTimeSetListener</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">TextView</span> tv_time<span class="token punctuation">;</span> <span class="token comment">// 声明一个文本视图对象</span>
   <span class="token keyword">private</span> <span class="token class-name">TimePicker</span> tp_time<span class="token punctuation">;</span> <span class="token comment">// 声明一个时间选择器对象</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_time_picker<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_time <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tv_time<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">// 从布局文件中获取名叫tp_time的时间选择器</span>
       tp_time <span class="token operator">=</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>tp_time<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>btn_time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// 获取日历的一个实例，里面包含了当前的时分秒</span>
           <span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">// 构建一个时间对话框，该对话框已经集成了时间选择器。</span>
           <span class="token comment">// TimePickerDialog的第二个构造参数指定了时间监听器</span>
           <span class="token class-name">TimePickerDialog</span> dialog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimePickerDialog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
                   calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">HOUR_OF_DAY</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 小时</span>
                   calendar<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MINUTE</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 分钟</span>
                   <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true表示24小时制，false表示12小时制</span>
           dialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示时间对话框</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// 一旦点击时间对话框上的确定按钮，就会触发监听器的onTimeSet方法</span>
   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onTimeSet</span><span class="token punctuation">(</span><span class="token class-name">TimePicker</span> view<span class="token punctuation">,</span> <span class="token keyword">int</span> hourOfDay<span class="token punctuation">,</span> <span class="token keyword">int</span> minute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// 获取时间对话框设定的小时和分钟</span>
       <span class="token class-name">String</span> desc <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;您选择的时间是%d时%d分&quot;</span><span class="token punctuation">,</span> hourOfDay<span class="token punctuation">,</span> minute<span class="token punctuation">)</span><span class="token punctuation">;</span>
       tv_time<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-5-实战项目-找回密码" tabindex="-1"><a class="header-anchor" href="#_5-5-实战项目-找回密码" aria-hidden="true">#</a> 5.5　实战项目：找回密码</h2><p>在移动互联网时代，用户是每家IT企业最宝贵的资源，对于App而言，吸引用户注册并登录是万分紧要之事，因为用户登录之后才有机会产生商品交易。登录校验通常是用户名+密码组合，可是每天总有部分用户忘记密码，为此要求App提供找回密码的功能，如何简化密码找回步骤，同时兼顾安全性，就是一个值得认真思考的问题。</p><h3 id="_5-5-1-需求描述" tabindex="-1"><a class="header-anchor" href="#_5-5-1-需求描述" aria-hidden="true">#</a> 5.5.1　需求描述</h3><p>各家电商App的登录页面大同小异，要么是用户名与密码组合登录，要么是手机号码与验证码组合登录，若是做好一点的，则会提供找回密码与记住密码等功能。先来看一下登录页面是什么样，因为有两种组合登录方式，所以登录页面也分成两个效果图。如图5-37所示，这是选中密码登录时的界面；如图5-38所示，这是选中验证码登录时的界面。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061621329.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061621727.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>从以上两个登录效果图可以看到，密码登录与验证码登录的界面主要存在以下几点区别：</p><p>（ 1 ）密码输入框和验证码输入框的左侧标题以及输入框内部的提示语各不相同。</p><p>（ 2 ）如果是密码登录，则需要支持找回密码；如果是验证码登录，则需要支持向用户手机发送验证码。</p><p>（ 3 ）密码登录可以提供记住密码功能，而验证码的数值每次都不一样，无须也没法记住验证码。</p><p>对于找回密码功能，一般直接跳到找回密码页面，在该页面输入和确认新密码，并校验找回密码的合法性（通过短信验证码检查），据此勾勒出密码找回页面的轮廓概貌，如图5-39所示。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061623323.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>在找回密码的操作过程当中，为了更好地增强用户体验，有必要在几个关键节点处提醒用户。比如成功发送验证码之后，要及时提示用户注意查收短信，这里暂且做成提醒对话框的形式，如图5-40所示。又比如密码登录成功之后，也要告知用户已经修改成功登录，注意继续后面的操作，登录成功的提示弹窗如图5-41所示。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061624289.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202207061624566.png" alt="Image From 笔记-Android 开发从入门到实战"></p><p>真是想不到，原来简简单单的一个登录功能，就得考虑这么多的需求场景。可是仔细想想，这些需求场景都是必要的，其目的是为了让用户能够更加便捷地顺利登录。正所谓“台上十分钟，台下十年功”，每个好用的App背后，都离不开开发者十年如一日的辛勤工作。</p><h3 id="_5-5-2-界面设计" tabindex="-1"><a class="header-anchor" href="#_5-5-2-界面设计" aria-hidden="true">#</a> 5.5.2　界面设计</h3><p>用户登录与找回密码界面看似简单，用到的控件却不少。按照之前的界面效果图，大致从上到下、从左到右分布着下列Android控件：</p><ul><li><p>单选按钮RadioButton：用来区分是密码登录还是验证码登录。</p></li><li><p>文本视图TextView：输入框左侧要显示此处应该输入什么信息。</p></li><li><p>编辑框EditText：用来输入手机号码、密码和验证码。</p></li><li><p>复选框CheckBox：用于判断是否记住密码。</p></li><li><p>按钮Button：除了“登录”按钮，还有“忘记密码”和“获取验证码”两个按钮。</p></li><li><p>线性布局LinearLayout：整体界面从上往下排列，用到了垂直方向的线性布局。</p></li><li><p>相对布局RelativeLayout：忘记密码的按钮与密码输入框是叠加的，且“忘记密码”与上级视图右对齐。</p></li><li><p>单选组RadioGroup：密码登录和验证码登录这两个单选按钮，需要放在单选组之中。</p></li><li><p>提醒对话框AlertDialog：为了演示方便，获取验证码与登录成功都通过提醒对话框向用户反馈结果。</p></li></ul><p>另外，由于整个登录模块由登录页面和找回密码页面组成，因此这两个页面之间需要进行数据交互，也就是在页面跳转之时传递参数。譬如，从登录页面跳到找回密码页面，要携带唯一标识的手机号码作为请求参数，不然密码找回页面不知道要给哪个手机号码修改密码。同时，从找回密码页面回到登录页面，也要将修改之后的新密码作为应答参数传回去，否则登录页面不知道密码被改成什么了。</p><h3 id="_5-5-3-关键代码" tabindex="-1"><a class="header-anchor" href="#_5-5-3-关键代码" aria-hidden="true">#</a> 5.5.3　关键代码</h3><p>为了方便读者更好更快地完成登录页面与找回密码页面，下面列举几个重要功能的代码片段：</p><p><strong>1 ．关于自动清空错误的密码</strong></p><p>这里有个细微的用户体验问题：用户会去找回密码，肯定是发现输入的密码不对；那么修改密码后回到登录页面，如果密码框里还是刚才的错误密码，用户只能先清空错误密码，然后才能输入新密码。一个App要想让用户觉得好用，就得急用户之所急，想用户之所想，像刚才那个错误密码的情况，应当由App在返回登录页面时自动清空原来的错误密码。</p><p>自动清空密码框的操作，放在onActivityResult方法中处理是个办法，但这样有个问题，如果用户直接按返回键回到登录页面，那么onActivityResult方法发现数据为空便不做处理。因此应该这么处理：判断当前是否为返回页面动作，只要是从找回密码页面返回到当前页面，则不管是否携带应答参数，都要自动清空密码输入框。对应的Java代码则为重写登录页面的onRestart方法，在该方法中强制清空密码。这样一来，不管用户是修改密码完成回到登录页，还是点击返回键回到登录页，App都会自动清空密码框了。</p><p>下面是重写onRestart方法之后的代码例子：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\LoginMainActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 从修改密码页面返回登录页面，要清空密码的输入框</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onRestart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
   <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRestart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   et_password<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2 ．关于自动隐藏输入法面板</strong></p><p>在输入手机号码或者密码的时候，屏幕下方都会弹出输入法面板，供用户按键输入数字和字母。但是输入法面板往往占据屏幕下方大块空间，很是碍手碍脚，用户输入完 11 位的手机号码时，还得再按一下返回键来关闭输入法面板，接着才能继续输入密码。理想的做法是：一旦用户输完 11 位手机号码，App就要自动隐藏输入法。同理，一旦用户输完 6 位密码或者 6 位验证码，App也要自动隐藏输入法。要想让App具备这种智能的判断功能，就得给文本编辑框添加监听器，只要当前编辑框输入文本长度达到 11 位或者和 6 位，App就自动隐藏输入法面板。</p><p>下面是实现自动隐藏软键盘的监听器代码例子：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\LoginMainActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 定义一个编辑框监听器，在输入文本达到指定长度时自动隐藏输入法 </span>
<span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">HideTextWatcher</span> <span class="token keyword">implements</span> <span class="token class-name">TextWatcher</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">EditText</span> mView<span class="token punctuation">;</span> <span class="token comment">// 声明一个编辑框对象</span>
   <span class="token keyword">private</span> <span class="token keyword">int</span> mMaxLength<span class="token punctuation">;</span> <span class="token comment">// 声明一个最大长度变量</span>
   <span class="token keyword">public</span> <span class="token class-name">HideTextWatcher</span><span class="token punctuation">(</span><span class="token class-name">EditText</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> maxLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       mView <span class="token operator">=</span> v<span class="token punctuation">;</span>
       mMaxLength <span class="token operator">=</span> maxLength<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
   <span class="token comment">// 在编辑框的输入文本变化前触发</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeTextChanged</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token keyword">int</span> 
after<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token comment">// 在编辑框的输入文本变化时触发</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onTextChanged</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> before<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> 
<span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token comment">// 在编辑框的输入文本变化后触发</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterTextChanged</span><span class="token punctuation">(</span><span class="token class-name">Editable</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">String</span> str <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获得已输入的文本字符串</span>
       <span class="token comment">// 输入文本达到11位（如手机号码），或者达到6位（如登录密码）时关闭输入法 </span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> mMaxLength <span class="token operator">==</span> <span class="token number">11</span><span class="token punctuation">)</span>
           <span class="token operator">||</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> mMaxLength <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token class-name">ViewUtil</span><span class="token punctuation">.</span><span class="token function">hideOneInputMethod</span><span class="token punctuation">(</span><span class="token class-name">LoginMainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> mView<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 隐藏输入法软键盘</span>
    <span class="token punctuation">}</span> 
 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3 ．关于密码修改的校验操作</strong></p><p>由于密码对于用户来说是很重要的信息，因此必须认真校验新密码的合法性，务必做到万无一失才行。具体的密码修改校验可分作下列 4 个步骤：</p><ol><li><p>新密码和确认输入的新密码都要是 6 位数字。</p></li><li><p>新密码和确认输入的新密码必须保持一致。</p></li><li><p>用户输入的验证码必须和系统下发的验证码一致。</p></li><li><p>密码修改成功，携带修改后的新密码返回登录页面。</p></li></ol><p>根据以上的校验步骤，对应的代码逻辑示例如下：</p><p>（完整代码见chapter05\src\main\java\com\example\chapter05\LoginForgetActivity.java）</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> password_first <span class="token operator">=</span> et_password_first<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">String</span> password_second <span class="token operator">=</span> et_password_second<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">if</span> <span class="token punctuation">(</span>password_first<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token operator">||</span> password_second<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;请输入正确的新密码&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>password_first<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password_second<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;两次输入的新密码不一致&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>et_verifycode<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>mVerifyCode<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;请输入正确的验证码&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;密码修改成功&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
   <span class="token comment">// 以下把修改好的新密码返回给上一个页面</span>
   <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个新意图</span>
   intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;new_password&quot;</span><span class="token punctuation">,</span> password_first<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 存入新密码 </span>
   <span class="token function">setResult</span><span class="token punctuation">(</span><span class="token class-name">Activity</span><span class="token punctuation">.</span><span class="token constant">RESULT_OK</span><span class="token punctuation">,</span> intent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 携带意图返回上一个页面 </span>
   <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 结束当前的活动页面</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-6-小结" tabindex="-1"><a class="header-anchor" href="#_5-6-小结" aria-hidden="true">#</a> 5.6　小结</h2><p>本章主要介绍了App开发的中级控件的相关知识，包括：定制简单的图形（图形的基本概念、形状图形、九宫格图片、状态列表图形）、操纵几种选择按钮（复选框CheckBox、开关按钮Switch、单选按钮RadioButton）、高效地输入文本（编辑框EditText、焦点变更监听器、文本变化监听器）、获取对话框的选择结果（提醒对话框AlertDialog、日期对话框DatePickerDialog、时间对话框TimePickerDialog）。最后设计了一个实战项目“找回密码”，在该项目的App编码中用到了前面介绍的大部分控件，从而加深了对所学知识的理解。</p><p>通过本章的学习，我们应该能掌握以下 4 种开发技能：</p><p>（ 1 ）学会定制几种简单的图形。</p><p>（ 2 ）学会操纵常见的选择按钮。</p><p>（ 3 ）学会高效且合法地输入文本。</p><p>（ 4 ）学会通过对话框获取用户选项。</p><h2 id="_5-7-课后练习题" tabindex="-1"><a class="header-anchor" href="#_5-7-课后练习题" aria-hidden="true">#</a> 5.7　课后练习题</h2><p>一、填空题</p><p>1 ．图形描述文件的扩展名是 。</p><p>2 ．形状图形shape的下级节点 描述了形状图形的宽高尺寸。</p><p>3 ．由复合按钮CompoundButton派生而来的控件包括 <strong>、</strong> 和Switch。</p><p>4 ．EditText的属性 可指定文本允许输入的最大长度。</p><p>5 ．输入法软键盘由系统服务 管理。</p><p>二、判断题（正确打√，错误打×）</p><p>1 ．形状图形可以描述圆角矩形的定义。（　　）</p><p>2 ．单选组RadioGroup默认内部控件在水平方向排列。（　　）</p><p>3 ．首次点击编辑框，就会触发它的点击事件。（　　）</p><p>4 ．提醒对话框AlertDialog支持同时设置 3 个按钮。（　　）</p><p>5 ．时间对话框会显示当前的时、分、秒。（　　）</p><p>三、选择题</p><p>1 ．状态列表图形的（　　）属性用于描述是否按下的图形列表。</p><p>A．state_pressed</p><p>B．state_checked</p><p>C．state_focused</p><p>D．state_selected</p><p>2 ．在一组按钮中只选择其中一个按钮，应当选用（　　）控件。</p><p>A．Button</p><p>B．CheckBox</p><p>C．RadioButton</p><p>D．Switch</p><p>3 ．若想让编辑框EditText输入数字密码，则要将inputType属性设置为（　　）。</p><p>A．text</p><p>B．textPassword</p><p>C．number</p><p>D．numberPassword</p><p>4 ．若想在编辑框的文本改变之后补充处理，应当在（　　）方法中增加代码。</p><p>A．beforeTextChanged</p><p>B．onTextChanged</p><p>C．afterTextChanged</p><p>D．构造</p><p>5 ．日期选择对话框上能够看到哪些时间单位（　　）。</p><p>A．年份</p><p>B．月份</p><p>C．日期</p><p>D．星期</p><p>四、简答题</p><p>请简要描述九宫格图片的作用。</p><p>五、动手练习</p><p>请上机实验本章的找回密码项目，其中登录操作支持“用户名+密码”和“手机号+验证码”两种方式，同时支</p><p>持通过验证码重置密码。</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://gitee.com/xiaweifeng/vuepress-source/edit/master/docs/Android/AndroidBasic/第05章中级控件.md" rel="noopener noreferrer" target="_blank" aria-label="在Gitee上编辑此页"><!--[--><!--]--> 在Gitee上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaweifeng@live.cn">夏一次</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.9fc9d956.js" defer></script>
  </body>
</html>
