<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta property="og:url" content="http://ahhwxx.51vip.biz:81/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html"><meta property="og:site_name" content="Hades"><meta property="og:title" content="MySQL-基础篇"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-26T06:53:45.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-10-26T06:53:45.000Z"><script>
      (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c6cfefc03bedbb2803a5cad020e7faaa";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);})();
     </script><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="VuePress"><meta name="referrer" content="no-referrer"><meta name="apple-mobile-web-app-title" content="VuePress"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="https://www.vuepress.cn/icons/apple-touch-icon-152x152.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileColor" content="#3eaf7c"><meta name="theme-color" content="#3eaf7c"><title>MySQL-基础篇 | Hades</title><meta name="description" content="这是一本笔记，用于记录编程过程中的知识点">
    <link rel="modulepreload" href="/assets/app.166c275a.js"><link rel="modulepreload" href="/assets/MySQL-基础篇.html.ea685d4e.js"><link rel="modulepreload" href="/assets/MySQL-基础篇.html.983a0f90.js"><link rel="prefetch" href="/assets/index.html.f8911b23.js"><link rel="prefetch" href="/assets/index.html.a9e81c7e.js"><link rel="prefetch" href="/assets/index.html.443d7f36.js"><link rel="prefetch" href="/assets/Mac下mongodb安装和配置.html.26410259.js"><link rel="prefetch" href="/assets/Mac下命令行配置环境变量.html.819e9133.js"><link rel="prefetch" href="/assets/Mac全自动安装brew一键配置国内镜像源.html.e772a006.js"><link rel="prefetch" href="/assets/Mac终端命令记录.html.7783b931.js"><link rel="prefetch" href="/assets/Nginx搭建HTTPS，并反向代理到web页面_mkcert生成本地SSL证书.html.2ec6bdb0.js"><link rel="prefetch" href="/assets/PDF转Markdown文件.html.8d6aa7c7.js"><link rel="prefetch" href="/assets/index.html.287a9117.js"><link rel="prefetch" href="/assets/VSCode使用记录.html.bda23559.js"><link rel="prefetch" href="/assets/docsearch全站搜索.html.49031418.js"><link rel="prefetch" href="/assets/idea插件分享.html.e58d2459.js"><link rel="prefetch" href="/assets/jetbrains全家桶激活策略.html.df8b794f.js"><link rel="prefetch" href="/assets/中华人民共和国劳动合同法.html.2b81f95a.js"><link rel="prefetch" href="/assets/浅谈文言文与英语语法的相似点.html.995d875f.js"><link rel="prefetch" href="/assets/面向AI开发.html.5b10e32c.js"><link rel="prefetch" href="/assets/鸿蒙3安装apk无须登录.html.022a3044.js"><link rel="prefetch" href="/assets/index.html.fada5771.js"><link rel="prefetch" href="/assets/index.html.991c904f.js"><link rel="prefetch" href="/assets/aboutme.html.69269699.js"><link rel="prefetch" href="/assets/FRP内网穿透搭建(无域名版).html.35eb25da.js"><link rel="prefetch" href="/assets/index.html.e05a7130.js"><link rel="prefetch" href="/assets/linux前端项目部署.html.c4bd21bc.js"><link rel="prefetch" href="/assets/linux环境变量配置错误后命令无法使用解决方案.html.c691ac65.js"><link rel="prefetch" href="/assets/内网穿透工具比较.html.d269d218.js"><link rel="prefetch" href="/assets/在CentOS上搭建Samba服务器.html.128449fb.js"><link rel="prefetch" href="/assets/index.html.f3e49817.js"><link rel="prefetch" href="/assets/第01章Android开发环境搭建.html.f46eddba.js"><link rel="prefetch" href="/assets/第02章AndroidApp开发基础.html.43b79d60.js"><link rel="prefetch" href="/assets/第03章简单控件.html.511eb9ca.js"><link rel="prefetch" href="/assets/第04章活动Activity.html.71c6fee4.js"><link rel="prefetch" href="/assets/第05章中级控件.html.0a00ebf3.js"><link rel="prefetch" href="/assets/第06章数据存储.html.269fd7a2.js"><link rel="prefetch" href="/assets/第07章内容共享.html.175369bb.js"><link rel="prefetch" href="/assets/第08章高级控件.html.445f1900.js"><link rel="prefetch" href="/assets/第09章广播组件Broadcast.html.55914a19.js"><link rel="prefetch" href="/assets/第10章自定义控件.html.91afbf6d.js"><link rel="prefetch" href="/assets/AndroidStudio代理问题Connect.html.dab34393.js"><link rel="prefetch" href="/assets/AndroidStudio打包aar丢失远程依赖问题解决.html.a115c6e1.js"><link rel="prefetch" href="/assets/AndroidStudio登录google账号失败问题.html.d8661fad.js"><link rel="prefetch" href="/assets/Apk应用重签名—使用AndroidStudio自带工具apksigner.html.46bf7dab.js"><link rel="prefetch" href="/assets/不常用的ADB命令.html.d0a649da.js"><link rel="prefetch" href="/assets/01MySQL精简笔记.html.f3b83ace.js"><link rel="prefetch" href="/assets/02JDBC.html.47dcd1b9.js"><link rel="prefetch" href="/assets/03Maven.html.a6a998b3.js"><link rel="prefetch" href="/assets/04Mybatis.html.4853489e.js"><link rel="prefetch" href="/assets/05网页三剑客.html.69ec6918.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.0ba4a96a.js"><link rel="prefetch" href="/assets/07Request_Response.html.75d6284c.js"><link rel="prefetch" href="/assets/08JSP.html.35700bfa.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.6aea4067.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.9dfbf7b9.js"><link rel="prefetch" href="/assets/11Vue_Element.html.1966c648.js"><link rel="prefetch" href="/assets/12综合案例.html.5f95bc3d.js"><link rel="prefetch" href="/assets/index.html.d212be0c.js"><link rel="prefetch" href="/assets/POM文件帮助文档.html.81be4d59.js"><link rel="prefetch" href="/assets/index.html.424f11e3.js"><link rel="prefetch" href="/assets/index.html.36a503c1.js"><link rel="prefetch" href="/assets/index.html.ceee3cb5.js"><link rel="prefetch" href="/assets/index.html.b0020a33.js"><link rel="prefetch" href="/assets/index.html.c810cee8.js"><link rel="prefetch" href="/assets/index.html.b5c28815.js"><link rel="prefetch" href="/assets/index.html.12a5c12e.js"><link rel="prefetch" href="/assets/index.html.776ff0eb.js"><link rel="prefetch" href="/assets/index.html.aae3b646.js"><link rel="prefetch" href="/assets/index.html.4167b5c2.js"><link rel="prefetch" href="/assets/request.getInputStream只能读取一次问题.html.bd2c58f7.js"><link rel="prefetch" href="/assets/程序包com.alibaba.fastjson不存在.html.6944a42c.js"><link rel="prefetch" href="/assets/错误集合.html.aa7ecbd5.js"><link rel="prefetch" href="/assets/index.html.d93e5d1b.js"><link rel="prefetch" href="/assets/index.html.6074a4b2.js"><link rel="prefetch" href="/assets/index.html.126230e0.js"><link rel="prefetch" href="/assets/index.html.d984d618.js"><link rel="prefetch" href="/assets/Node多版本管理.html.b9ac5171.js"><link rel="prefetch" href="/assets/index.html.1d6f705e.js"><link rel="prefetch" href="/assets/Web调试入门.html.19e0c86f.js"><link rel="prefetch" href="/assets/关于ESLInk配置问题.html.8fde72e0.js"><link rel="prefetch" href="/assets/index.html.80ab1fc5.js"><link rel="prefetch" href="/assets/Maven高级.html.b2a9f6f0.js"><link rel="prefetch" href="/assets/SpringBoot.html.4ff0296d.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.142a22d5.js"><link rel="prefetch" href="/assets/RestTemplate.html.64604077.js"><link rel="prefetch" href="/assets/Dubbo详解.html.5962e998.js"><link rel="prefetch" href="/assets/Mac下ZooKeeper安装和使用.html.c1a51bab.js"><link rel="prefetch" href="/assets/Zookeeper集群搭建.html.0658289e.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第10章）.html.9c4c35b4.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第11章）.html.db35024a.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第12章）.html.d8b70e69.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第13章）.html.88609c9b.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第1章）.html.ae3266c6.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第2章）.html.f1261d89.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第3章）.html.d3f7bede.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第4章）.html.0858459d.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第5章）.html.e5198ebf.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第6章）.html.b8d47289.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第7章）.html.f77134ee.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第8章）.html.70dd80b1.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第9章）.html.bfca520b.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.83e4fdfd.js"><link rel="prefetch" href="/assets/Linux-Day01.html.253e571d.js"><link rel="prefetch" href="/assets/Linux-Day02.html.63f777ab.js"><link rel="prefetch" href="/assets/Redis基础.html.f0710ded.js"><link rel="prefetch" href="/assets/Git课程讲义.html.fc0326a7.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day01.html.344d54ae.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day02.html.74ffa222.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day03.html.4c736155.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day04.html.8c5f7db1.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day05.html.14d78f2f.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day06.html.9125ab2f.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day01.html.e9fc7f33.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day02.html.74275047.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day03.html.ce58aedd.js"><link rel="prefetch" href="/assets/微服务常见面试题.html.70a444e5.js"><link rel="prefetch" href="/assets/错误笔记.html.7f90044a.js"><link rel="prefetch" href="/assets/day01-HTML基础.html.83b374e8.js"><link rel="prefetch" href="/assets/day02-HTML进阶.html.4cf33ed8.js"><link rel="prefetch" href="/assets/day03-CSS基础.html.31fc73fd.js"><link rel="prefetch" href="/assets/day04-CSS进阶.html.16c20095.js"><link rel="prefetch" href="/assets/day05-盒子模型.html.961b8487.js"><link rel="prefetch" href="/assets/day06-Flex布局.html.75b59be8.js"><link rel="prefetch" href="/assets/day07-学成在线.html.a86b7b85.js"><link rel="prefetch" href="/assets/day08-CSS高级.html.27296862.js"><link rel="prefetch" href="/assets/day09-小兔鲜儿.html.1d86acad.js"><link rel="prefetch" href="/assets/day10-小兔鲜儿.html.d020dbbe.js"><link rel="prefetch" href="/assets/Day01-项目介绍及初始化-登录页面.html.e11fbd08.js"><link rel="prefetch" href="/assets/Day02-登录模块-主页鉴权.html.ead08a87.js"><link rel="prefetch" href="/assets/Day03-主页模块-修改密码.html.9b5309ed.js"><link rel="prefetch" href="/assets/Day04-组织架构.html.88c5500c.js"><link rel="prefetch" href="/assets/Day05-组织架构-角色管理.html.9fa7b208.js"><link rel="prefetch" href="/assets/Day06-角色管理-员工管理.html.dde328cc.js"><link rel="prefetch" href="/assets/Day07-员工管理-上传下载.html.06c2dac0.js"><link rel="prefetch" href="/assets/Day08-Cos上传和权限数据.html.bb1e1952.js"><link rel="prefetch" href="/assets/Day09-权限应用-首页.html.921e93d9.js"><link rel="prefetch" href="/assets/Day10-首页图表-Nginx上线.html.3d9cf349.js"><link rel="prefetch" href="/assets/1.Vue3入门.html.7a3e0d8a.js"><link rel="prefetch" href="/assets/10.购物车.html.20ea2ead.js"><link rel="prefetch" href="/assets/11.订单页.html.bc6d8649.js"><link rel="prefetch" href="/assets/12.支付页.html.d40cfeb4.js"><link rel="prefetch" href="/assets/13.会员中心.html.5fe719d8.js"><link rel="prefetch" href="/assets/14.拓展部分.html.035d5c83.js"><link rel="prefetch" href="/assets/2.Pinia入门.html.b2c06181.js"><link rel="prefetch" href="/assets/3.项目起步.html.dcb305d1.js"><link rel="prefetch" href="/assets/4.Layout页.html.05996fb4.js"><link rel="prefetch" href="/assets/5.Home页.html.d45d0a35.js"><link rel="prefetch" href="/assets/6.一级分类页.html.5eea439d.js"><link rel="prefetch" href="/assets/7.二级分类页.html.fe7411e1.js"><link rel="prefetch" href="/assets/8.商品详情.html.d409a15f.js"><link rel="prefetch" href="/assets/9.登录页.html.f44613c3.js"><link rel="prefetch" href="/assets/day01.html.fbe0c77d.js"><link rel="prefetch" href="/assets/day02.html.bf57e82f.js"><link rel="prefetch" href="/assets/day03.html.3f87b87d.js"><link rel="prefetch" href="/assets/index.html.ecf4772f.js"><link rel="prefetch" href="/assets/day01.html.351f5439.js"><link rel="prefetch" href="/assets/day02.html.9033a479.js"><link rel="prefetch" href="/assets/day03.html.bc46a39c.js"><link rel="prefetch" href="/assets/day04.html.32a035a0.js"><link rel="prefetch" href="/assets/index.html.13abadda.js"><link rel="prefetch" href="/assets/interview-base.html.d0e3b5ce.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.b2fc38f7.js"><link rel="prefetch" href="/assets/课堂笔记.html.73cc0644.js"><link rel="prefetch" href="/assets/课堂笔记.html.3411ecb3.js"><link rel="prefetch" href="/assets/Redis基础篇.html.4f17ecfc.js"><link rel="prefetch" href="/assets/Redis快速入门.html.176c3209.js"><link rel="prefetch" href="/assets/Redis实战篇.html.c0446a1e.js"><link rel="prefetch" href="/assets/Redis原理篇.html.ff47cd6d.js"><link rel="prefetch" href="/assets/Spring-day01.html.2591c6f9.js"><link rel="prefetch" href="/assets/Spring-day02.html.a3938deb.js"><link rel="prefetch" href="/assets/Spring-day03.html.27a0461c.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.f39177c9.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.92cd2e7a.js"><link rel="prefetch" href="/assets/错误笔记.html.ce11b667.js"><link rel="prefetch" href="/assets/SpringBootStart.html.e28c8523.js"><link rel="prefetch" href="/assets/SpringBoot整合SSMP.html.0a5bad92.js"><link rel="prefetch" href="/assets/SpringBoot综合案例.html.d254b936.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.170aeb64.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.bf5adc8a.js"><link rel="prefetch" href="/assets/Centos8-stream在真机上安装排坑.html.c1b5bffc.js"><link rel="prefetch" href="/assets/Centos9安装mysql.html.97318a7b.js"><link rel="prefetch" href="/assets/SpringCloud01.html.4c0913ab.js"><link rel="prefetch" href="/assets/SpringCloud实用篇02.html.6748f69e.js"><link rel="prefetch" href="/assets/Docker实用篇.html.f390c0e6.js"><link rel="prefetch" href="/assets/RabbitMQ.html.34befdb9.js"><link rel="prefetch" href="/assets/分布式搜索引擎01.html.e99c3207.js"><link rel="prefetch" href="/assets/分布式搜索引擎02.html.298d8dd9.js"><link rel="prefetch" href="/assets/分布式搜索引擎03.html.8f8df2d8.js"><link rel="prefetch" href="/assets/微服务保护.html.fb6f3406.js"><link rel="prefetch" href="/assets/分布式事务.html.8d42dced.js"><link rel="prefetch" href="/assets/分布式缓存.html.e5b2328f.js"><link rel="prefetch" href="/assets/多级缓存.html.1109e04b.js"><link rel="prefetch" href="/assets/RabbitMQ-高级篇.html.068e81ba.js"><link rel="prefetch" href="/assets/Mybatis第一天.html.d17fcb40.js"><link rel="prefetch" href="/assets/Mybatis第二天.html.1b60549f.js"><link rel="prefetch" href="/assets/移动web第一天.html.5386e935.js"><link rel="prefetch" href="/assets/移动Web第二天.html.a21706f0.js"><link rel="prefetch" href="/assets/移动Web第三天.html.54675ebf.js"><link rel="prefetch" href="/assets/移动Web第四天.html.f0cfeb65.js"><link rel="prefetch" href="/assets/移动Web第五天.html.d8a669d2.js"><link rel="prefetch" href="/assets/JavaScript基础第一天.html.891495a2.js"><link rel="prefetch" href="/assets/JavaScript基础第三天.html.50e03400.js"><link rel="prefetch" href="/assets/javascript基础第二天笔记.html.651a1cce.js"><link rel="prefetch" href="/assets/JavaScript基础第五天.html.532055f8.js"><link rel="prefetch" href="/assets/JavaScript基础第四天.html.48f9f757.js"><link rel="prefetch" href="/assets/index.html.2ae2a053.js"><link rel="prefetch" href="/assets/个人实战文档.html.a215a567.js"><link rel="prefetch" href="/assets/index.html.a41e5068.js"><link rel="prefetch" href="/assets/index.html.a943c6ed.js"><link rel="prefetch" href="/assets/index.html.f484fa51.js"><link rel="prefetch" href="/assets/index.html.b30fb1f3.js"><link rel="prefetch" href="/assets/index.html.987f5152.js"><link rel="prefetch" href="/assets/JavaScript进阶第一天.html.ec2e3daf.js"><link rel="prefetch" href="/assets/day03.html.6267d184.js"><link rel="prefetch" href="/assets/day02.html.09d76878.js"><link rel="prefetch" href="/assets/day04.html.0b590623.js"><link rel="prefetch" href="/assets/笔记.html.c9d930a9.js"><link rel="prefetch" href="/assets/笔记.html.06ba9256.js"><link rel="prefetch" href="/assets/笔记.html.a54bfa16.js"><link rel="prefetch" href="/assets/day01.html.d79c2345.js"><link rel="prefetch" href="/assets/day02.html.f509e6ac.js"><link rel="prefetch" href="/assets/day03.html.921fa42c.js"><link rel="prefetch" href="/assets/day04.html.5429aced.js"><link rel="prefetch" href="/assets/day05.html.2ee35e36.js"><link rel="prefetch" href="/assets/day06.html.3e19a000.js"><link rel="prefetch" href="/assets/day07.html.701034e2.js"><link rel="prefetch" href="/assets/智慧商城项目.html.2d8a4342.js"><link rel="prefetch" href="/assets/Vue3入门.html.3a51fd0e.js"><link rel="prefetch" href="/assets/Pinia.html.8dd4c37f.js"><link rel="prefetch" href="/assets/大事件管理系统.html.3ae81f5c.js"><link rel="prefetch" href="/assets/01-项目起步.html.40242e6f.js"><link rel="prefetch" href="/assets/02-首页模块.html.5c3c430b.js"><link rel="prefetch" href="/assets/03-推荐模块.html.ee78b4d8.js"><link rel="prefetch" href="/assets/04-分类模块.html.0812086c.js"><link rel="prefetch" href="/assets/05-详情模块.html.b637efab.js"><link rel="prefetch" href="/assets/06-登录模块.html.baebe0ce.js"><link rel="prefetch" href="/assets/07-用户模块.html.9843276f.js"><link rel="prefetch" href="/assets/08-地址模块.html.768b97bc.js"><link rel="prefetch" href="/assets/09-SKU模块.html.fe99e19d.js"><link rel="prefetch" href="/assets/10-购物车模块.html.e30fddab.js"><link rel="prefetch" href="/assets/11-订单模块.html.8d760634.js"><link rel="prefetch" href="/assets/12-项目打包.html.8f746655.js"><link rel="prefetch" href="/assets/index.html.0ef7e9e2.js"><link rel="prefetch" href="/assets/第1天.html.5285f02c.js"><link rel="prefetch" href="/assets/第2天.html.a31747e8.js"><link rel="prefetch" href="/assets/第3天.html.d4a9e617.js"><link rel="prefetch" href="/assets/第4天.html.ae52fb77.js"><link rel="prefetch" href="/assets/第5天.html.05d1cc31.js"><link rel="prefetch" href="/assets/小程序自定义tabBar.html.ef7ea157.js"><link rel="prefetch" href="/assets/第6天.html.346be0e3.js"><link rel="prefetch" href="/assets/多级缓存.html.bc54879d.js"><link rel="prefetch" href="/assets/Redis高级篇之最佳实践.html.187c57dc.js"><link rel="prefetch" href="/assets/Redis高级-分布式缓存.html.d4751937.js"><link rel="prefetch" href="/assets/Nacos安装指南.html.7df3cc60.js"><link rel="prefetch" href="/assets/Nacos集群搭建.html.fbd16a6a.js"><link rel="prefetch" href="/assets/Centos7安装Docker.html.5181da35.js"><link rel="prefetch" href="/assets/RabbitMQ部署指南.html.f7286eb5.js"><link rel="prefetch" href="/assets/安装elasticsearch.html.c7bb5c77.js"><link rel="prefetch" href="/assets/Day02_AJAX综合案例.html.f2a65bb1.js"><link rel="prefetch" href="/assets/Day03_AJAX原理.html.d00ba48d.js"><link rel="prefetch" href="/assets/Day04_AJAX进阶.html.cac2ce24.js"><link rel="prefetch" href="/assets/Day01_AJAX入门.html.374298e3.js"><link rel="prefetch" href="/assets/404.html.81c07e69.js"><link rel="prefetch" href="/assets/index.html.92fbf6ff.js"><link rel="prefetch" href="/assets/index.html.e40858f0.js"><link rel="prefetch" href="/assets/index.html.ec1567cc.js"><link rel="prefetch" href="/assets/Mac下mongodb安装和配置.html.736342d9.js"><link rel="prefetch" href="/assets/Mac下命令行配置环境变量.html.7d720e53.js"><link rel="prefetch" href="/assets/Mac全自动安装brew一键配置国内镜像源.html.421fe805.js"><link rel="prefetch" href="/assets/Mac终端命令记录.html.5f155e25.js"><link rel="prefetch" href="/assets/Nginx搭建HTTPS，并反向代理到web页面_mkcert生成本地SSL证书.html.b4ebda6f.js"><link rel="prefetch" href="/assets/PDF转Markdown文件.html.638323fb.js"><link rel="prefetch" href="/assets/index.html.9e2c0472.js"><link rel="prefetch" href="/assets/VSCode使用记录.html.e1d97562.js"><link rel="prefetch" href="/assets/docsearch全站搜索.html.68ee7ee4.js"><link rel="prefetch" href="/assets/idea插件分享.html.99b11191.js"><link rel="prefetch" href="/assets/jetbrains全家桶激活策略.html.49a730a7.js"><link rel="prefetch" href="/assets/中华人民共和国劳动合同法.html.901cd5e5.js"><link rel="prefetch" href="/assets/浅谈文言文与英语语法的相似点.html.9f127ec3.js"><link rel="prefetch" href="/assets/面向AI开发.html.a0de42d8.js"><link rel="prefetch" href="/assets/鸿蒙3安装apk无须登录.html.9ba7e260.js"><link rel="prefetch" href="/assets/index.html.4646d1b3.js"><link rel="prefetch" href="/assets/index.html.ed5f40cf.js"><link rel="prefetch" href="/assets/aboutme.html.80c5e6fb.js"><link rel="prefetch" href="/assets/FRP内网穿透搭建(无域名版).html.ed427348.js"><link rel="prefetch" href="/assets/index.html.c96fd998.js"><link rel="prefetch" href="/assets/linux前端项目部署.html.4a9e37f3.js"><link rel="prefetch" href="/assets/linux环境变量配置错误后命令无法使用解决方案.html.91152588.js"><link rel="prefetch" href="/assets/内网穿透工具比较.html.da1da9c1.js"><link rel="prefetch" href="/assets/在CentOS上搭建Samba服务器.html.3868ccef.js"><link rel="prefetch" href="/assets/index.html.d39227bb.js"><link rel="prefetch" href="/assets/第01章Android开发环境搭建.html.68778f2a.js"><link rel="prefetch" href="/assets/第02章AndroidApp开发基础.html.fc16bfe6.js"><link rel="prefetch" href="/assets/第03章简单控件.html.cc1bfff5.js"><link rel="prefetch" href="/assets/第04章活动Activity.html.542e1777.js"><link rel="prefetch" href="/assets/第05章中级控件.html.c7e7c4be.js"><link rel="prefetch" href="/assets/第06章数据存储.html.4f083cd8.js"><link rel="prefetch" href="/assets/第07章内容共享.html.9e0c731b.js"><link rel="prefetch" href="/assets/第08章高级控件.html.947fa527.js"><link rel="prefetch" href="/assets/第09章广播组件Broadcast.html.577b445d.js"><link rel="prefetch" href="/assets/第10章自定义控件.html.b11d240c.js"><link rel="prefetch" href="/assets/AndroidStudio代理问题Connect.html.66ee72e9.js"><link rel="prefetch" href="/assets/AndroidStudio打包aar丢失远程依赖问题解决.html.ba40c91c.js"><link rel="prefetch" href="/assets/AndroidStudio登录google账号失败问题.html.9eadda3e.js"><link rel="prefetch" href="/assets/Apk应用重签名—使用AndroidStudio自带工具apksigner.html.9255d4fb.js"><link rel="prefetch" href="/assets/不常用的ADB命令.html.2301d76a.js"><link rel="prefetch" href="/assets/01MySQL精简笔记.html.35bb5798.js"><link rel="prefetch" href="/assets/02JDBC.html.7d234328.js"><link rel="prefetch" href="/assets/03Maven.html.de9c3774.js"><link rel="prefetch" href="/assets/04Mybatis.html.eb63e606.js"><link rel="prefetch" href="/assets/05网页三剑客.html.6b60e1a4.js"><link rel="prefetch" href="/assets/06HTTP_Tomcat_Servlet.html.38b1ef22.js"><link rel="prefetch" href="/assets/07Request_Response.html.e1b24e4e.js"><link rel="prefetch" href="/assets/08JSP.html.194b24dc.js"><link rel="prefetch" href="/assets/09Cookie_Session.html.d1824ae8.js"><link rel="prefetch" href="/assets/10Filter_Listener_Ajax.html.69e8ab71.js"><link rel="prefetch" href="/assets/11Vue_Element.html.79fd0c2f.js"><link rel="prefetch" href="/assets/12综合案例.html.63b7cac5.js"><link rel="prefetch" href="/assets/index.html.8b3c8919.js"><link rel="prefetch" href="/assets/POM文件帮助文档.html.097a5d72.js"><link rel="prefetch" href="/assets/index.html.2d04fed8.js"><link rel="prefetch" href="/assets/index.html.a9d0c572.js"><link rel="prefetch" href="/assets/index.html.ad6479e1.js"><link rel="prefetch" href="/assets/index.html.707aa31d.js"><link rel="prefetch" href="/assets/index.html.1843b5e9.js"><link rel="prefetch" href="/assets/index.html.01da62ec.js"><link rel="prefetch" href="/assets/index.html.7e228cd6.js"><link rel="prefetch" href="/assets/index.html.ce0aa146.js"><link rel="prefetch" href="/assets/index.html.ae66a602.js"><link rel="prefetch" href="/assets/index.html.23188331.js"><link rel="prefetch" href="/assets/request.getInputStream只能读取一次问题.html.94ef0144.js"><link rel="prefetch" href="/assets/程序包com.alibaba.fastjson不存在.html.adc40fbf.js"><link rel="prefetch" href="/assets/错误集合.html.1902771e.js"><link rel="prefetch" href="/assets/index.html.07cc1e7c.js"><link rel="prefetch" href="/assets/index.html.ed46d2b2.js"><link rel="prefetch" href="/assets/index.html.26154657.js"><link rel="prefetch" href="/assets/index.html.a89d59ab.js"><link rel="prefetch" href="/assets/Node多版本管理.html.23432454.js"><link rel="prefetch" href="/assets/index.html.3220da42.js"><link rel="prefetch" href="/assets/Web调试入门.html.32e31997.js"><link rel="prefetch" href="/assets/关于ESLInk配置问题.html.601c708b.js"><link rel="prefetch" href="/assets/index.html.81dd64a7.js"><link rel="prefetch" href="/assets/Maven高级.html.f953be6e.js"><link rel="prefetch" href="/assets/SpringBoot.html.656f5974.js"><link rel="prefetch" href="/assets/MyBatisPlus.html.0618d8d7.js"><link rel="prefetch" href="/assets/RestTemplate.html.e4407e5b.js"><link rel="prefetch" href="/assets/Dubbo详解.html.b63868e7.js"><link rel="prefetch" href="/assets/Mac下ZooKeeper安装和使用.html.b7e9aa6d.js"><link rel="prefetch" href="/assets/Zookeeper集群搭建.html.8710cb4e.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第10章）.html.866d0852.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第11章）.html.fe6fc07f.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第12章）.html.dfedc3a4.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第13章）.html.c08efd79.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第1章）.html.fa66e48b.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第2章）.html.4dfeadd4.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第3章）.html.63143093.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第4章）.html.d0567d09.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第5章）.html.8af710b1.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第6章）.html.3c364cc8.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第7章）.html.72ba46fc.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第8章）.html.c8118794.js"><link rel="prefetch" href="/assets/传智健康项目讲义（第9章）.html.a0407ad1.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.25cc4594.js"><link rel="prefetch" href="/assets/Linux-Day01.html.116cbab9.js"><link rel="prefetch" href="/assets/Linux-Day02.html.7ba3c82c.js"><link rel="prefetch" href="/assets/Redis基础.html.8ccd3a80.js"><link rel="prefetch" href="/assets/Git课程讲义.html.9a252ae7.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day01.html.3ef486ec.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day02.html.15ded454.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day03.html.11e5154d.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day04.html.843344a7.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day05.html.38768af1.js"><link rel="prefetch" href="/assets/瑞吉外卖-Day06.html.bdbf82e0.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day01.html.78bb75f4.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day02.html.5292a2ce.js"><link rel="prefetch" href="/assets/瑞吉外卖优化-Day03.html.68069b64.js"><link rel="prefetch" href="/assets/微服务常见面试题.html.a4dc3b89.js"><link rel="prefetch" href="/assets/错误笔记.html.da1c139d.js"><link rel="prefetch" href="/assets/day01-HTML基础.html.34459185.js"><link rel="prefetch" href="/assets/day02-HTML进阶.html.c9732cc4.js"><link rel="prefetch" href="/assets/day03-CSS基础.html.1a5a9f88.js"><link rel="prefetch" href="/assets/day04-CSS进阶.html.d7898ffc.js"><link rel="prefetch" href="/assets/day05-盒子模型.html.a326bf54.js"><link rel="prefetch" href="/assets/day06-Flex布局.html.cb931421.js"><link rel="prefetch" href="/assets/day07-学成在线.html.4b5d140d.js"><link rel="prefetch" href="/assets/day08-CSS高级.html.1e1fd381.js"><link rel="prefetch" href="/assets/day09-小兔鲜儿.html.483fba8f.js"><link rel="prefetch" href="/assets/day10-小兔鲜儿.html.0af78916.js"><link rel="prefetch" href="/assets/Day01-项目介绍及初始化-登录页面.html.5583346a.js"><link rel="prefetch" href="/assets/Day02-登录模块-主页鉴权.html.4c64d2f9.js"><link rel="prefetch" href="/assets/Day03-主页模块-修改密码.html.5438e16a.js"><link rel="prefetch" href="/assets/Day04-组织架构.html.05f70f07.js"><link rel="prefetch" href="/assets/Day05-组织架构-角色管理.html.5d7edd53.js"><link rel="prefetch" href="/assets/Day06-角色管理-员工管理.html.7c82720b.js"><link rel="prefetch" href="/assets/Day07-员工管理-上传下载.html.f70ad5c9.js"><link rel="prefetch" href="/assets/Day08-Cos上传和权限数据.html.05a8a948.js"><link rel="prefetch" href="/assets/Day09-权限应用-首页.html.d6031099.js"><link rel="prefetch" href="/assets/Day10-首页图表-Nginx上线.html.64d67e52.js"><link rel="prefetch" href="/assets/1.Vue3入门.html.2f2fdbe0.js"><link rel="prefetch" href="/assets/10.购物车.html.02817c2d.js"><link rel="prefetch" href="/assets/11.订单页.html.bd292f6f.js"><link rel="prefetch" href="/assets/12.支付页.html.2c4eff75.js"><link rel="prefetch" href="/assets/13.会员中心.html.e4a42cd2.js"><link rel="prefetch" href="/assets/14.拓展部分.html.ca945d4b.js"><link rel="prefetch" href="/assets/2.Pinia入门.html.801fa8da.js"><link rel="prefetch" href="/assets/3.项目起步.html.702da6da.js"><link rel="prefetch" href="/assets/4.Layout页.html.193b1e52.js"><link rel="prefetch" href="/assets/5.Home页.html.bc87f5f6.js"><link rel="prefetch" href="/assets/6.一级分类页.html.20d3fdc1.js"><link rel="prefetch" href="/assets/7.二级分类页.html.628a82da.js"><link rel="prefetch" href="/assets/8.商品详情.html.3ee47103.js"><link rel="prefetch" href="/assets/9.登录页.html.cee6b53d.js"><link rel="prefetch" href="/assets/day01.html.44284e1b.js"><link rel="prefetch" href="/assets/day02.html.682f4e8c.js"><link rel="prefetch" href="/assets/day03.html.fc7e734f.js"><link rel="prefetch" href="/assets/index.html.d8ca12a6.js"><link rel="prefetch" href="/assets/day01.html.06b72e68.js"><link rel="prefetch" href="/assets/day02.html.e3155d4f.js"><link rel="prefetch" href="/assets/day03.html.d55bece0.js"><link rel="prefetch" href="/assets/day04.html.06703f2b.js"><link rel="prefetch" href="/assets/index.html.1db7cafe.js"><link rel="prefetch" href="/assets/interview-base.html.f0d9d148.js"><link rel="prefetch" href="/assets/interview-enjoy-plus.html.c5a4a893.js"><link rel="prefetch" href="/assets/课堂笔记.html.90350a6a.js"><link rel="prefetch" href="/assets/课堂笔记.html.c8eb77be.js"><link rel="prefetch" href="/assets/Redis基础篇.html.8d198d08.js"><link rel="prefetch" href="/assets/Redis快速入门.html.29627213.js"><link rel="prefetch" href="/assets/Redis实战篇.html.ea9a5e16.js"><link rel="prefetch" href="/assets/Redis原理篇.html.1c41beff.js"><link rel="prefetch" href="/assets/Spring-day01.html.1ddd29f9.js"><link rel="prefetch" href="/assets/Spring-day02.html.2cd4228e.js"><link rel="prefetch" href="/assets/Spring-day03.html.25153ee8.js"><link rel="prefetch" href="/assets/SpringMVC-day01.html.d00e8d3b.js"><link rel="prefetch" href="/assets/SpringMVC-day02.html.053ca17e.js"><link rel="prefetch" href="/assets/错误笔记.html.478ae0f3.js"><link rel="prefetch" href="/assets/SpringBootStart.html.ecdea1c3.js"><link rel="prefetch" href="/assets/SpringBoot整合SSMP.html.1fc33c49.js"><link rel="prefetch" href="/assets/SpringBoot综合案例.html.35be3f27.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.5aa6947a.js"><link rel="prefetch" href="/assets/SpringBoot讲义.html.2ff98050.js"><link rel="prefetch" href="/assets/Centos8-stream在真机上安装排坑.html.78cc33ff.js"><link rel="prefetch" href="/assets/Centos9安装mysql.html.7b62ca1b.js"><link rel="prefetch" href="/assets/SpringCloud01.html.60050f3f.js"><link rel="prefetch" href="/assets/SpringCloud实用篇02.html.3c26a7b2.js"><link rel="prefetch" href="/assets/Docker实用篇.html.faaf4482.js"><link rel="prefetch" href="/assets/RabbitMQ.html.3f620ea8.js"><link rel="prefetch" href="/assets/分布式搜索引擎01.html.2f9ec22c.js"><link rel="prefetch" href="/assets/分布式搜索引擎02.html.451e3843.js"><link rel="prefetch" href="/assets/分布式搜索引擎03.html.50a52a2a.js"><link rel="prefetch" href="/assets/微服务保护.html.42915502.js"><link rel="prefetch" href="/assets/分布式事务.html.6dd52011.js"><link rel="prefetch" href="/assets/分布式缓存.html.085c2312.js"><link rel="prefetch" href="/assets/多级缓存.html.e75749e3.js"><link rel="prefetch" href="/assets/RabbitMQ-高级篇.html.ad030046.js"><link rel="prefetch" href="/assets/Mybatis第一天.html.674d710d.js"><link rel="prefetch" href="/assets/Mybatis第二天.html.3121ba02.js"><link rel="prefetch" href="/assets/移动web第一天.html.b943ad87.js"><link rel="prefetch" href="/assets/移动Web第二天.html.30ef3091.js"><link rel="prefetch" href="/assets/移动Web第三天.html.06469be6.js"><link rel="prefetch" href="/assets/移动Web第四天.html.2aed5da8.js"><link rel="prefetch" href="/assets/移动Web第五天.html.d67549b0.js"><link rel="prefetch" href="/assets/JavaScript基础第一天.html.ede8ef34.js"><link rel="prefetch" href="/assets/JavaScript基础第三天.html.35d7938f.js"><link rel="prefetch" href="/assets/javascript基础第二天笔记.html.3fd96f35.js"><link rel="prefetch" href="/assets/JavaScript基础第五天.html.f0a8a230.js"><link rel="prefetch" href="/assets/JavaScript基础第四天.html.7135850d.js"><link rel="prefetch" href="/assets/index.html.5f5e0b19.js"><link rel="prefetch" href="/assets/个人实战文档.html.631875c9.js"><link rel="prefetch" href="/assets/index.html.1a1f6afc.js"><link rel="prefetch" href="/assets/index.html.4a8ed58a.js"><link rel="prefetch" href="/assets/index.html.6a243c14.js"><link rel="prefetch" href="/assets/index.html.0a7c4cfb.js"><link rel="prefetch" href="/assets/index.html.c428b37f.js"><link rel="prefetch" href="/assets/JavaScript进阶第一天.html.96e2d1af.js"><link rel="prefetch" href="/assets/day03.html.9eb0747e.js"><link rel="prefetch" href="/assets/day02.html.de03ec98.js"><link rel="prefetch" href="/assets/day04.html.b94fedb2.js"><link rel="prefetch" href="/assets/笔记.html.28579a85.js"><link rel="prefetch" href="/assets/笔记.html.d087f52f.js"><link rel="prefetch" href="/assets/笔记.html.08daabb2.js"><link rel="prefetch" href="/assets/day01.html.e54967f4.js"><link rel="prefetch" href="/assets/day02.html.2eb76045.js"><link rel="prefetch" href="/assets/day03.html.da3117e6.js"><link rel="prefetch" href="/assets/day04.html.8b76ea5b.js"><link rel="prefetch" href="/assets/day05.html.51c17e4d.js"><link rel="prefetch" href="/assets/day06.html.e573259d.js"><link rel="prefetch" href="/assets/day07.html.01aa477e.js"><link rel="prefetch" href="/assets/智慧商城项目.html.a2e62d32.js"><link rel="prefetch" href="/assets/Vue3入门.html.50761508.js"><link rel="prefetch" href="/assets/Pinia.html.4cfdc328.js"><link rel="prefetch" href="/assets/大事件管理系统.html.27717e98.js"><link rel="prefetch" href="/assets/01-项目起步.html.ad05a9a8.js"><link rel="prefetch" href="/assets/02-首页模块.html.b669b0bb.js"><link rel="prefetch" href="/assets/03-推荐模块.html.80203d9c.js"><link rel="prefetch" href="/assets/04-分类模块.html.7c5363b4.js"><link rel="prefetch" href="/assets/05-详情模块.html.bc4b3b74.js"><link rel="prefetch" href="/assets/06-登录模块.html.0aa33139.js"><link rel="prefetch" href="/assets/07-用户模块.html.a050825a.js"><link rel="prefetch" href="/assets/08-地址模块.html.5bf806c9.js"><link rel="prefetch" href="/assets/09-SKU模块.html.a08cd14a.js"><link rel="prefetch" href="/assets/10-购物车模块.html.78de12f9.js"><link rel="prefetch" href="/assets/11-订单模块.html.35819573.js"><link rel="prefetch" href="/assets/12-项目打包.html.58acec07.js"><link rel="prefetch" href="/assets/index.html.f91c372f.js"><link rel="prefetch" href="/assets/第1天.html.b5d1fd3e.js"><link rel="prefetch" href="/assets/第2天.html.8cc04eac.js"><link rel="prefetch" href="/assets/第3天.html.9d71fe8e.js"><link rel="prefetch" href="/assets/第4天.html.41bcc93c.js"><link rel="prefetch" href="/assets/第5天.html.a2468669.js"><link rel="prefetch" href="/assets/小程序自定义tabBar.html.b065556c.js"><link rel="prefetch" href="/assets/第6天.html.42dedd3e.js"><link rel="prefetch" href="/assets/多级缓存.html.f46bfabf.js"><link rel="prefetch" href="/assets/Redis高级篇之最佳实践.html.6124e0fe.js"><link rel="prefetch" href="/assets/Redis高级-分布式缓存.html.fe280cae.js"><link rel="prefetch" href="/assets/Nacos安装指南.html.42bd9daf.js"><link rel="prefetch" href="/assets/Nacos集群搭建.html.b1e61de8.js"><link rel="prefetch" href="/assets/Centos7安装Docker.html.63397394.js"><link rel="prefetch" href="/assets/RabbitMQ部署指南.html.7a82d766.js"><link rel="prefetch" href="/assets/安装elasticsearch.html.db2054a0.js"><link rel="prefetch" href="/assets/Day02_AJAX综合案例.html.b24bf7ed.js"><link rel="prefetch" href="/assets/Day03_AJAX原理.html.934584d6.js"><link rel="prefetch" href="/assets/Day04_AJAX进阶.html.af5a3f0d.js"><link rel="prefetch" href="/assets/Day01_AJAX入门.html.57fb7c06.js"><link rel="prefetch" href="/assets/404.html.143a0abb.js"><link rel="prefetch" href="/assets/404.af3fcab4.js"><link rel="prefetch" href="/assets/Layout.96a35c1f.js"><link rel="prefetch" href="/assets/index.0e8935cb.js"><link rel="prefetch" href="/assets/giscus.15440425.js">
    <link rel="stylesheet" href="/assets/style.5869c25b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="Hades"><span class="site-name can-hide">Hades</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/Android/" class="" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Java后端/" class="" aria-label="Java后端"><!--[--><!--]--> Java后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Web前端/" class="" aria-label="Web前端"><!--[--><!--]--> Web前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/数据库/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/运维技术/" class="" aria-label="运维技术"><!--[--><!--]--> 运维技术 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tips❤️‍"><!--[--><!--]--> Tips❤️‍ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>搜索</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="百度一下"><!--[--><!--]--> 百度一下 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>常用</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="哔哩哔哩"><!--[--><!--]--> 哔哩哔哩 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepress打包错误"><!--[--><!--]--> Vuepress打包错误 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/Android/" class="" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Java后端/" class="" aria-label="Java后端"><!--[--><!--]--> Java后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Web前端/" class="" aria-label="Web前端"><!--[--><!--]--> Web前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/数据库/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/运维技术/" class="" aria-label="运维技术"><!--[--><!--]--> 运维技术 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Tips/" class="" aria-label="Tips❤️‍"><!--[--><!--]--> Tips❤️‍ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="书签🔖"><span class="title">书签🔖</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>搜索</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="https://www.baidu.com" rel="noopener noreferrer" target="_blank" aria-label="百度一下"><!--[--><!--]--> 百度一下 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>常用</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a class="external-link" href="http://gitee.com" rel="noopener noreferrer" target="_blank" aria-label="gitee"><!--[--><!--]--> gitee <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a class="external-link" href="http://bilibili.com" rel="noopener noreferrer" target="_blank" aria-label="哔哩哔哩"><!--[--><!--]--> 哔哩哔哩 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/start/BuildError/README.md" class="" aria-label="Vuepress打包错误"><!--[--><!--]--> Vuepress打包错误 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">MySQL-基础篇 <!----></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-1-数据库相关概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1 数据库相关概念"><!--[--><!--]--> 1.1 数据库相关概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-mysql数据库" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2 MySQL数据库"><!--[--><!--]--> 1.2 MySQL数据库 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-3-版本" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.3 版本"><!--[--><!--]--> 1.2.3 版本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-4-下载" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.4 下载"><!--[--><!--]--> 1.2.4 下载 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-5-安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.5 安装"><!--[--><!--]--> 1.2.5 安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-6-启动停止" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.6 启动停止"><!--[--><!--]--> 1.2.6 启动停止 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-7-客户端连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.7 客户端连接"><!--[--><!--]--> 1.2.7 客户端连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_1-2-8-数据模型" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.8 数据模型"><!--[--><!--]--> 1.2.8 数据模型 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-1-sql通用语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1 SQL通用语法"><!--[--><!--]--> 2.1 SQL通用语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-2-sql分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2 SQL分类"><!--[--><!--]--> 2.2 SQL分类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-3-ddl" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3 DDL"><!--[--><!--]--> 2.3 DDL <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-3-1-数据库操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3.1 数据库操作"><!--[--><!--]--> 2.3.1 数据库操作 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-3-3-表操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3.3 表操作"><!--[--><!--]--> 2.3.3 表操作 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-4-图形化界面工具" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4 图形化界面工具"><!--[--><!--]--> 2.4 图形化界面工具 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-4-1-安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.1 安装"><!--[--><!--]--> 2.4.1 安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-4-2-使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.2 使用"><!--[--><!--]--> 2.4.2 使用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-5-dml" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5 DML"><!--[--><!--]--> 2.5 DML <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-5-1-添加数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5.1 添加数据"><!--[--><!--]--> 2.5.1 添加数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-5-2-修改数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5.2 修改数据"><!--[--><!--]--> 2.5.2 修改数据 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-5-3-删除数据" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5.3 删除数据"><!--[--><!--]--> 2.5.3 删除数据 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-dql" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6 DQL"><!--[--><!--]--> 2.6 DQL <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-1-基本语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.1 基本语法"><!--[--><!--]--> 2.6.1 基本语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-2-基础查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2..6.2 基础查询"><!--[--><!--]--> 2..6.2 基础查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-3条件查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.3条件查询"><!--[--><!--]--> 2.6.3条件查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-4-聚合函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.4 聚合函数"><!--[--><!--]--> 2.6.4 聚合函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-5-分组查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.5 分组查询"><!--[--><!--]--> 2.6.5 分组查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-6-排序查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.6 排序查询"><!--[--><!--]--> 2.6.6 排序查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-7-分页查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.7 分页查询"><!--[--><!--]--> 2.6.7 分页查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-8-案例" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.8 案例"><!--[--><!--]--> 2.6.8 案例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-6-9-执行顺序" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.9 执行顺序"><!--[--><!--]--> 2.6.9 执行顺序 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-7-dcl" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.7 DCL"><!--[--><!--]--> 2.7 DCL <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-7-1-管理用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.7.1 管理用户"><!--[--><!--]--> 2.7.1 管理用户 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_2-7-2-权限控制" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.7.2 权限控制"><!--[--><!--]--> 2.7.2 权限控制 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_3-1-字符串函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1 字符串函数"><!--[--><!--]--> 3.1 字符串函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_3-2-数值函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2 数值函数"><!--[--><!--]--> 3.2 数值函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_3-3-日期函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3 日期函数"><!--[--><!--]--> 3.3 日期函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_3-4-流程函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.4 流程函数"><!--[--><!--]--> 3.4 流程函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_4-1-概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1 概述"><!--[--><!--]--> 4.1 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_4-2-约束演示" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2 约束演示"><!--[--><!--]--> 4.2 约束演示 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_4-3-外键约束" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3 外键约束"><!--[--><!--]--> 4.3 外键约束 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_4-3-1-介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.1 介绍"><!--[--><!--]--> 4.3.1 介绍 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_4-3-2-语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.2 语法"><!--[--><!--]--> 4.3.2 语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_4-3-3-删除-更新行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.3 删除/更新行为"><!--[--><!--]--> 4.3.3 删除/更新行为 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-1-多表关系" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1 多表关系"><!--[--><!--]--> 5.1 多表关系 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-1-1-一对多" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.1 一对多"><!--[--><!--]--> 5.1.1 一对多 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-1-2-多对多" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.2 多对多"><!--[--><!--]--> 5.1.2 多对多 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-1-3-一对一" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.1.3 一对一"><!--[--><!--]--> 5.1.3 一对一 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-2-多表查询概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2 多表查询概述"><!--[--><!--]--> 5.2 多表查询概述 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-2-1-数据准备" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.1 数据准备"><!--[--><!--]--> 5.2.1 数据准备 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-2-2-概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.2 概述"><!--[--><!--]--> 5.2.2 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-2-3-分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.3 分类"><!--[--><!--]--> 5.2.3 分类 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-3-内连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.3 内连接"><!--[--><!--]--> 5.3 内连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-4-外连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.4 外连接"><!--[--><!--]--> 5.4 外连接 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-5-自连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5 自连接"><!--[--><!--]--> 5.5 自连接 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-5-1-自连接查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5.1 自连接查询"><!--[--><!--]--> 5.5.1 自连接查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-5-2-联合查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.5.2 联合查询"><!--[--><!--]--> 5.5.2 联合查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-6-子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6 子查询"><!--[--><!--]--> 5.6 子查询 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-6-1-概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6.1 概述"><!--[--><!--]--> 5.6.1 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-6-2-标量子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6.2 标量子查询"><!--[--><!--]--> 5.6.2 标量子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-6-3-列子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6.3 列子查询"><!--[--><!--]--> 5.6.3 列子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-6-4-行子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6.4 行子查询"><!--[--><!--]--> 5.6.4 行子查询 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-6-5-表子查询" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.6.5 表子查询"><!--[--><!--]--> 5.6.5 表子查询 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_5-7-多表查询案例" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.7 多表查询案例"><!--[--><!--]--> 5.7 多表查询案例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-1-事务简介" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.1 事务简介"><!--[--><!--]--> 6.1 事务简介 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-2-事务操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2 事务操作"><!--[--><!--]--> 6.2 事务操作 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-2-1-未控制事务" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.1 未控制事务"><!--[--><!--]--> 6.2.1 未控制事务 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-2-2-控制事务一" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.2 控制事务一"><!--[--><!--]--> 6.2.2 控制事务一 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-2-3-控制事务二" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.2.3 控制事务二"><!--[--><!--]--> 6.2.3 控制事务二 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-3-事务四大特性" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.3 事务四大特性"><!--[--><!--]--> 6.3 事务四大特性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-4-并发事务问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.4 并发事务问题"><!--[--><!--]--> 6.4 并发事务问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/MySQL-%E5%9F%BA%E7%A1%80%E7%AF%87.html#_6-5-事务隔离级别" class="router-link-active router-link-exact-active sidebar-item" aria-label="6.5 事务隔离级别"><!--[--><!--]--> 6.5 事务隔离级别 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="mysql-基础篇" tabindex="-1"><a class="header-anchor" href="#mysql-基础篇" aria-hidden="true">#</a> MySQL-基础篇</h1><h1 id="_1-mysql概述" tabindex="-1"><a class="header-anchor" href="#_1-mysql概述" aria-hidden="true">#</a> 1. MySQL概述</h1><p>在这一章节，我们主要介绍两个部分，数据库相关概念及MySQL数据库的介绍、下载、安装、启动及连接。</p><h2 id="_1-1-数据库相关概念" tabindex="-1"><a class="header-anchor" href="#_1-1-数据库相关概念" aria-hidden="true">#</a> 1.1 数据库相关概念</h2><p>在这一部分，我们先来讲解三个概念：数据库、数据库管理系统、SQL。</p><table><thead><tr><th>名称</th><th>全称</th><th>简称</th></tr></thead><tbody><tr><td>数据库</td><td>存储数据的仓库，数据是有组织的进行存储</td><td>DataBase（DB）</td></tr><tr><td>数据库管理系统</td><td>操纵和管理数据库的大型软件</td><td>DataBase Management &lt;br/System (DBMS)</td></tr><tr><td>SQL</td><td>操作关系型数据库的编程语言，定义了一套操作关系型数据库统一 标准</td><td>Structured Query &lt;br/Language (SQL)</td></tr></tbody></table><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091449252.jpeg" alt=""></p><p>而目前主流的关系型数据库管理系统的市场占有率排名如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091450661.png" alt=""></p><ul><li><p>Oracle：大型的收费数据库，Oracle公司产品，价格昂贵。</p></li><li><p>MySQL：开源免费的中小型数据库，后来Sun公司收购了MySQL，而Oracle又收购了Sun公司。 目前Oracle推出了收费版本的MySQL，也提供了免费的社区版本。</p></li><li><p>SQL Server：Microsoft 公司推出的收费的中型数据库，C#、.net等语言常用。</p></li><li><p>PostgreSQL：开源免费的中小型数据库。DB2：IBM公司的大型收费数据库产品。</p></li><li><p>SQLLite：嵌入式的微型数据库。Android内置的数据库采用的就是该数据库。</p></li><li><p>MariaDB：开源免费的中小型数据库。是MySQL数据库的另外一个分支、另外一个衍生产品，与MySQL数据库有很好的兼容性。</p></li></ul><p>而不论我们使用的是上面的哪一个关系型数据库，最终在操作时，都是使用SQL语言来进行统一操作， 因为我们前面讲到SQL语言，是操作关系型数据库的<strong>统一标准</strong> 。所以即使我们现在学习的是MySQL， 假如我们以后到了公司，使用的是别的关系型数据库，如：Oracle、DB2、SQLServer，也完全不用 担心，因为操作的方式都是一致的。</p><h2 id="_1-2-mysql数据库" tabindex="-1"><a class="header-anchor" href="#_1-2-mysql数据库" aria-hidden="true">#</a> 1.2 MySQL数据库</h2><h3 id="_1-2-3-版本" tabindex="-1"><a class="header-anchor" href="#_1-2-3-版本" aria-hidden="true">#</a> 1.2.3 版本</h3><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091502206.jpeg" alt=""></p><p>官方： <a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer"><strong>https://www.mysql.com/</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>MySQL官方提供了两种不同的版本：</p><ul><li><p>社区版本（MySQL Community Server） 免费， MySQL不提供任何技›术支持</p></li><li><p>商业版本（MySQL Enterprise Edition） 收费，可以使用30天，官方提供技术支持</p></li></ul><p>本课程采用的是MySQL最新的社区版-MySQL Community Server 8.0.26</p><h3 id="_1-2-4-下载" tabindex="-1"><a class="header-anchor" href="#_1-2-4-下载" aria-hidden="true">#</a> 1.2.4 下载</h3><p>下载地址： <a href="https://downloads.mysql.com/archives/installer/" target="_blank" rel="noopener noreferrer"><strong>https://downloads.mysql.com/archives/installer/</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091502949.jpeg" alt=""></p><p>也可以使用课程资料中提供的MySQL的安装包：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091502214.jpeg" alt=""></p><h3 id="_1-2-5-安装" tabindex="-1"><a class="header-anchor" href="#_1-2-5-安装" aria-hidden="true">#</a> 1.2.5 安装</h3><p>要想使用MySQL，我们首先先得将MySQL安装好，我们可以根据下面的步骤，一步一步的完成MySQL的 安装。</p><ol><li>双击官方下来的安装包文件</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091502008.png" alt=""></p><ol start="2"><li>根据安装提示进行安装</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091502801.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091503368.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091503677.jpeg" alt=""></p><p>安装MySQL的相关组件，这个过程可能需要耗时几分钟，耐心等待。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091503906.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091503416.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091503682.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091503118.jpeg" alt=""></p><p><strong>输入MySQL中root用户的密码,一定记得记住该密码</strong></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091504838.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091504243.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091504895.jpeg" alt=""></p><ol start="3"><li>配置</li></ol><p>安装好MySQL之后，还需要配置环境变量，这样才可以在任何目录下连接MySQL。</p><ol><li>在此电脑上，右键选择属性</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091504650.png" alt=""></p><ol start="2"><li>点击左侧的 &quot;高级系统设置&quot;，选择环境变量</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091504214.jpeg" alt=""></p><ol start="3"><li>找到 Path 系统变量, 点击 &quot;编辑&quot;</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091504652.png" alt=""></p><ol start="4"><li>选择 &quot;新建&quot; , 将MySQL Server的安装目录下的bin目录添加到环境变量</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091505057.png" alt=""></p><h3 id="_1-2-6-启动停止" tabindex="-1"><a class="header-anchor" href="#_1-2-6-启动停止" aria-hidden="true">#</a> 1.2.6 启动停止</h3><p>MySQL安装完成之后，在系统启动时，会自动启动MySQL服务，我们无需手动启动了。</p><p>当然，也可以手动的通过指令启动停止，以管理员身份运行cmd，进入命令行执行如下指令：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>net start mysql80
net stop mysql80
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091505683.png" alt=""></p><p>**注意：**上述的 mysql80 是我们在安装MySQL时，默认指定的mysql的系统服务名，不是固定的，如果未改动，默认就是mysql80。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091507241.jpeg" alt=""></p><h3 id="_1-2-7-客户端连接" tabindex="-1"><a class="header-anchor" href="#_1-2-7-客户端连接" aria-hidden="true">#</a> 1.2.7 客户端连接</h3><ol><li>方式一：使用MySQL提供的客户端命令行工具</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091508977.jpeg" alt=""></p><ol start="2"><li>方式二：使用系统自带的命令行工具执行指令</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql [-h 127.0.0.1] [-P 3306] -u root -p
参数：
				-h : MySQL服务所在的主机IP
        -P : MySQL服务端口号，    默认3306
	      -u : MySQL数据库用户名
        -p ：    MySQL数据库用户名对应的密码
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[]内为可选参数，如果需要连接远程的MySQL，需要加上这两个参数来指定远程主机IP、端口，如果 连接本地的MySQL，则无需指定这两个参数。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091509383.jpeg" alt=""></p><h3 id="_1-2-8-数据模型" tabindex="-1"><a class="header-anchor" href="#_1-2-8-数据模型" aria-hidden="true">#</a> 1.2.8 数据模型</h3><ol><li>关系型数据库（RDBMS）</li></ol><p>概念：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。而所谓二维表，指的是由行和列组成的表，如下图（就类似于Excel表格数据，有表头、有列、有行， 还可以通过一列关联另外一个表格中的某一列数据）。我们之前提到的MySQL、Oracle、DB2、SQLServer这些都是属于关系型数据库，里面都是基于二维表存储数据的。简单说，基于二维表存储 数据的数据库就成为关系型数据库，不是基于二维表存储数据的数据库，就是非关系型数据库。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091510311.jpeg" alt=""></p><p>特点：</p><ol><li><p>使用表存储数据，格式统一，便于维护。</p></li><li><p>使用SQL语言操作，标准统一，使用方便。</p></li></ol><p> </p><ol start="2"><li>数据模型</li></ol><p>MySQL是关系型数据库，是基于二维表进行数据存储的，具体的结构图下:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091510725.jpeg" alt=""></p><ul><li><p>我们可以通过MySQL客户端连接数据库管理系统DBMS，然后通过DBMS操作数据库。</p></li><li><p>可以使用SQL语句，通过数据库管理系统操作数据库，以及操作数据库中的表结构及数据。</p></li><li><p>一个数据库服务器中可以创建多个数据库，一个数据库中也可以包含多张表，而一张表中又可以包 含多行记录。</p></li></ul><h1 id="_2-sql" tabindex="-1"><a class="header-anchor" href="#_2-sql" aria-hidden="true">#</a> 2. SQL</h1><p>全称 Structured Query Language，结构化查询语言。操作关系型数据库的编程语言，定义了一套操作关系型数据库统一<strong>标准</strong> 。</p><h2 id="_2-1-sql通用语法" tabindex="-1"><a class="header-anchor" href="#_2-1-sql通用语法" aria-hidden="true">#</a> 2.1 SQL通用语法</h2><p>在学习具体的SQL语句之前，先来了解一下SQL语言的同于语法。</p><ol><li>SQL语句可以单行或多行书写，以分号结尾。</li><li>SQL语句可以使用空格/缩进来增强语句的可读性。</li><li>MySQL数据库的SQL语句不区分大小写，关键字建议使用大写。</li><li>注释： <ul><li>单行注释：-- 注释内容 或 # 注释内容</li><li>多行注释：/* 注释内容 */</li></ul></li></ol><h2 id="_2-2-sql分类" tabindex="-1"><a class="header-anchor" href="#_2-2-sql分类" aria-hidden="true">#</a> 2.2 SQL分类</h2><p>SQL语句，根据其功能，主要分为四类：DDL、DML、DQL、DCL。</p><table><thead><tr><th>分类</th><th>全称</th><th>说明</th></tr></thead><tbody><tr><td>DDL</td><td>Data Definition Language</td><td>数据定义语言，用来定义数据库对象(数据库，表，字段)</td></tr><tr><td>DML</td><td>Data Manipulation Language</td><td>数据操作语言，用来对数据库表中的数据进行增删改</td></tr><tr><td>DQL</td><td>Data Query Language</td><td>数据查询语言，用来查询数据库中表的记录</td></tr><tr><td>DCL</td><td>Data Control Language</td><td>数据控制语言，用来创建数据库用户、控制数据库的访问权限</td></tr></tbody></table><h2 id="_2-3-ddl" tabindex="-1"><a class="header-anchor" href="#_2-3-ddl" aria-hidden="true">#</a> 2.3 DDL</h2><p>Data Definition Language，数据定义语言，用来定义数据库对象(数据库，表，字段) 。</p><h3 id="_2-3-1-数据库操作" tabindex="-1"><a class="header-anchor" href="#_2-3-1-数据库操作" aria-hidden="true">#</a> 2.3.1 数据库操作</h3><ol><li><p><strong>查询所有数据库</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091517393.jpeg" alt=""></p></li><li><p><strong>查询当前使用的数据库</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>创建数据库</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token punctuation">[</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token punctuation">]</span> 数据库名    <span class="token punctuation">[</span> <span class="token keyword">default</span> <span class="token keyword">charset</span> 字符集    <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token keyword">collate</span> 排序规则  <span class="token punctuation">]</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例：</p><ol><li>创建一个itcast数据库, 使用数据库默认的字符集。</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091521263.jpeg" alt=""></p><p>在同一个数据库服务器中，不能创建两个名称相同的数据库，否则将会报错。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091521706.jpeg" alt=""></p><p>可以通过if not exists 参数来解决这个问题，数据库不存在, 则创建该数据库，如果存在，则不创建。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> extists itcast<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091522446.jpeg" alt=""></p><ol start="2"><li><p>创建一个itheima数据库，并且指定字符集</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> extists <span class="token keyword">default</span> <span class="token keyword">charset</span> utf8mb4<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091522117.jpeg" alt=""></p><ol start="4"><li><p>删除数据库</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token keyword">exists</span><span class="token punctuation">]</span> 数据库名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>如果删除一个不存在的数据库，将会报错。此时，可以加上参数 if exists ，如果数据库存在，再执行删除，否则不执行删除。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091522697.jpeg" alt=""></p><ol start="5"><li><p>切换数据库</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> 数据库名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>我们要操作某一个数据库下的表时，就需要通过该指令，切换到对应的数据库下，否则是不能操作的。 比如，切换到itcast数据，执行如下SQL：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> itcast
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-3-3-表操作" tabindex="-1"><a class="header-anchor" href="#_2-3-3-表操作" aria-hidden="true">#</a> 2.3.3 表操作</h3><h4 id="_2-3-3-1-表操作-查询创建" tabindex="-1"><a class="header-anchor" href="#_2-3-3-1-表操作-查询创建" aria-hidden="true">#</a> 2.3.3.1 表操作-查询创建</h4><ol><li><p><strong>查询当前数据库所有表</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>比如,我们可以切换到sys这个系统数据库,并查看系统数据库中的所有表结构。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> sys<span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091528438.jpeg" alt=""></p><ol start="2"><li><p>查看指定表结构</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">desc</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>通过这条指令，我们可以查看到指定表的字段，字段的类型、是否可以为NULL，是否存在默认值等信息。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091530097.jpeg" alt=""></p><ol start="3"><li><p>查询指定表的建表语句</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> creata <span class="token keyword">table</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>通过这条指令，主要是用来查看建表语句的，而有部分参数我们在创建表的时候，并未指定也会查询到，因为这部分是数据库的默认值，如：存储引擎、字符集等。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091531103.jpeg" alt=""></p><ol start="4"><li><p>创建表结构</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
				字段<span class="token number">1</span> 字段<span class="token number">1</span>类型 <span class="token punctuation">[</span> <span class="token keyword">COMMENT</span> 字段<span class="token number">1</span>注释 <span class="token punctuation">]</span><span class="token punctuation">,</span>
  			字段<span class="token number">2</span>  字段<span class="token number">2</span>类型    <span class="token punctuation">[</span><span class="token keyword">COMMENT</span>  字段<span class="token number">2</span>注释    <span class="token punctuation">]</span><span class="token punctuation">,</span>
	      字段<span class="token number">3</span>  字段<span class="token number">3</span>类型    <span class="token punctuation">[</span><span class="token keyword">COMMENT</span>  字段<span class="token number">3</span>注释    <span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  			字段n 字段n类型 <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 字段n注释 <span class="token punctuation">]</span>
			<span class="token punctuation">)</span> <span class="token punctuation">[</span> <span class="token keyword">COMMENT</span>  表注释    <span class="token punctuation">]</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>比如，我们创建一张表 tb_user ，对应的结构如下，那么建表语句为：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091534031.png" alt=""></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_user<span class="token punctuation">(</span>
      	id <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span>
 				name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
       	age <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
				gender <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;性别&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户表&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-3-2-表操作-数据类型" tabindex="-1"><a class="header-anchor" href="#_2-3-3-2-表操作-数据类型" aria-hidden="true">#</a> 2.3.3.2 表操作-数据类型</h4><p>在上述的建表语句中，我们在指定字段的数据类型时，用到了int ，varchar，那么在MySQL中除了以上的数据类型，还有哪些常见的数据类型呢？ 接下来,我们就来详细介绍一下MySQL的数据类型。</p><p>MySQL中的数据类型有很多，主要分为三类：数值类型、字符串类型、日期时间类型。</p><ol><li>数值类型</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091556862.png" alt="image-20220809155613833"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>如：
	1). 年龄字段    -- 不会出现负数, 而且人的年龄不会太大
	age tinyint unsigned
	2). 分数    -- 总分100分, 最多出现一位小数
	score double(4,1)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>字符串类型</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091558348.png" alt="image-20220809155801303"></p><p>char 与 varchar 都可以描述字符串，char是<strong>定长字符串</strong>，指定长度多长，就占用多少个字符，和字段值的长度无关 。而varchar是<strong>变长字符串</strong>，指定的长度为最大占用长度 。相对来说，char的性能会更高些。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>如
	1). 用户名    username ------&gt; 长度不定, 最长不会超过50
	username varchar(50)
	2). 性别    gender ---------&gt; 存储值, 不是男,就是
	gender char(1)
	3). 手机号    phone --------&gt; 固定长度为11
	phone char(11)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>日期时间类型</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091600179.png" alt="image-20220809160003121"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>如
		1). 生日字段    birthday
		birthday date
		2). 创建时间    createtime
		createtime  datetime
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-3-3-表操作-案例" tabindex="-1"><a class="header-anchor" href="#_2-3-3-3-表操作-案例" aria-hidden="true">#</a> 2.3.3.3 表操作-案例</h4><p>设计一张员工信息表，要求如下：</p><ol><li><p>编号（纯数字）</p></li><li><p>员工工号 (字符串类型，长度不超过10位)</p></li><li><p>员工姓名（字符串类型，长度不超过10位）</p></li><li><p>性别（男/女，存储一个汉字）</p></li><li><p>年龄（正常人年龄，不可能存储负数）</p></li><li><p>身份证号（二代身份证号均为18位，身份证中有X这样的字符）</p></li><li><p>入职时间（取值年月日即可）</p></li></ol><p>对应的建表语句如下:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> emp<span class="token punctuation">(</span>
       id <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span>
       workno <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;工号&#39;</span><span class="token punctuation">,</span>
       name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
       gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;性别&#39;</span><span class="token punctuation">,</span>
 	     age <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
       idcard <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;身份证号&#39;</span><span class="token punctuation">,</span>
       entrydate <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;入职时间&#39;</span>
   <span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SQL语句编写完毕之后，就可以在MySQL的命令行中执行SQL，然后也可以通过 desc 指令查询表结构信息：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091619758.jpeg" alt=""></p><p>表结构创建好了，里面的name字段是varchar类型，最大长度为10，也就意味着如果超过10将会报错，如果我们想修改这个字段的类型 或 修改字段的长度该如何操作呢？接下来再来讲解DDL语句中， 如何操作表字段。</p><h4 id="_2-3-3-4-表操作-修改" tabindex="-1"><a class="header-anchor" href="#_2-3-3-4-表操作-修改" aria-hidden="true">#</a> 2.3.3.4 表操作-修改</h4><ol><li><p>添加字段</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名  <span class="token keyword">ADD</span>  字段名    类型<span class="token punctuation">(</span>长度<span class="token punctuation">)</span> <span class="token punctuation">[</span> <span class="token keyword">COMMENT</span> 注释<span class="token punctuation">]</span>  <span class="token punctuation">[</span> 约束 <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例:</p><p>为emp表增加一个新的字段”昵称”为nickname，类型为varchar(20)</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp <span class="token keyword">ADD</span> nickname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;昵称&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>修改数据类型</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名  <span class="token keyword">MODIFY</span>  字段名   新数据类型<span class="token punctuation">(</span>长度<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>修改字段名和字段类型</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE  旧字段名 新字段名 类型<span class="token punctuation">(</span>长度<span class="token punctuation">)</span> <span class="token punctuation">[</span> <span class="token keyword">COMMENT</span> 注释<span class="token punctuation">]</span>  <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例:</p><p>将emp表的nickname字段修改为username，类型为varchar(30)</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp CHANGE  nickname  username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>  <span class="token keyword">COMMENT</span> <span class="token string">&#39;昵称&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>删除字段</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> 字段名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例:</p><p>将emp表的字段username删除</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp <span class="token keyword">DROP</span> username<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>修改表名</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名  <span class="token keyword">RENAME</span> <span class="token keyword">TO</span>  新表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例:</p><p>将emp表的表名修改为 employee</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> employee<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="_2-3-3-5-表操作-删除" tabindex="-1"><a class="header-anchor" href="#_2-3-3-5-表操作-删除" aria-hidden="true">#</a> 2.3.3.5 表操作-删除</h4><ol><li><p>删除表</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span> <span class="token keyword">IF</span>  <span class="token keyword">EXISTS</span> <span class="token punctuation">]</span>  表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可选项 IF EXISTS 代表，只有表名存在时才会删除该表，表名不存在，则不执行删除操作(如果不加该参数项，删除一张不存在的表，执行将会报错)。</p><p>案例:</p><p>如果tb_user表存在，则删除tb_user表</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span>  <span class="token keyword">EXISTS</span>  tb_user<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>删除指定表, 并重新创建表</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>注意: 在删除表的时候，表中的全部数据也都会被删除。</strong></p></li></ol><h2 id="_2-4-图形化界面工具" tabindex="-1"><a class="header-anchor" href="#_2-4-图形化界面工具" aria-hidden="true">#</a> 2.4 图形化界面工具</h2><p>上述，我们已经讲解了通过DDL语句，如何操作数据库、操作表、操作表中的字段，而通过DDL语句执 行在命令进行操作，主要存在以下两点问题：</p><ol><li><p>会影响开发效率 ;</p></li><li><p>使用起来，并不直观，并不方便 ；</p></li></ol><p>所以呢，我们在日常的开发中，会借助于MySQL的图形化界面，来简化开发，提高开发效率。而目前</p><p>mysql主流的图形化界面工具，有以下几种：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091619297.jpeg" alt=""></p><p>而本次课程中，选择最后一种DataGrip，这种图形化界面工具，功能更加强大，界面提示更加友好， 是我们使用MySQL的不二之选。接下来，我们来介绍一下DataGrip该如何安装、使用。</p><h3 id="_2-4-1-安装" tabindex="-1"><a class="header-anchor" href="#_2-4-1-安装" aria-hidden="true">#</a> 2.4.1 安装</h3><ol><li>找到资料中准备好的安装包，双击开始安装</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091619984.png" alt=""></p><ol start="2"><li>点击next，一步一步的完成安装</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091619938.jpeg" alt=""></p><p>选择DataGrip的安装目录，然后选择下一步</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091620272.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091620676.jpeg" alt=""></p><p>下一步，执行安装</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091620695.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091620242.jpeg" alt=""></p><h3 id="_2-4-2-使用" tabindex="-1"><a class="header-anchor" href="#_2-4-2-使用" aria-hidden="true">#</a> 2.4.2 使用</h3><ol><li>添加数据源</li></ol><p>参考图示, 一步步操作即可</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091621317.jpeg" alt=""></p><p>配置以及驱动jar包下载完毕之后，就可以点击 &quot;Test Connection&quot; 就可以测试，是否可以连接</p><p>MySQL，如果出现 &quot;Successed&quot;，就表名连接成功了 。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091621136.jpeg" alt=""></p><ol start="2"><li>展示所有数据库</li></ol><p>连接上了MySQL服务之后，并未展示出所有的数据库，此时，我们需要设置，展示所有的数据库，具体操作如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091621679.jpeg" alt=""></p><ol start="3"><li>创建数据库</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091622685.jpeg" alt=""></p><p><strong>注意:</strong> 以下两种方式都可以创建数据库： A. create database db01; B. create schema db01;</p><ol start="4"><li>创建表</li></ol><p>在指定的数据库上面右键，选择new --&gt;Table</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091623985.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091623969.jpeg" alt=""></p><ol start="5"><li>修改表结构</li></ol><p>在需要修改的表上，右键选择 &quot;Modify Table...&quot;</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091623223.jpeg" alt=""></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091624144.jpeg" alt=""></p><p>如果想增加字段，直接点击+号，录入字段信息，然后点击Execute即可。</p><p>如果想删除字段，直接点击-号，就可以删除字段，然后点击Execute即可。</p><p>如果想修改字段，双击对应的字段，修改字段信息，然后点击Execute即可。</p><p>如果要修改表名，或表的注释，直接在输入框修改，然后点击Execute即可。</p><ol start="6"><li>在DataGrip中执行SQL语句</li></ol><p>在指定的数据库上，右键，选择 New --&gt;Query Console</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091624151.jpeg" alt=""></p><p>然后就可以在打开的Query Console控制台，并在控制台中编写SQL，执行SQL。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091624902.jpeg" alt=""></p><h2 id="_2-5-dml" tabindex="-1"><a class="header-anchor" href="#_2-5-dml" aria-hidden="true">#</a> 2.5 DML</h2><p>DML英文全称是Data Manipulation Language(数据操作语言)，用来对数据库中表的数据记录进行增、删、改操作。</p><ul><li>添加数据（INSERT）</li><li>修改数据（UPDATE）</li><li>删除数据（DELETE）</li></ul><h3 id="_2-5-1-添加数据" tabindex="-1"><a class="header-anchor" href="#_2-5-1-添加数据" aria-hidden="true">#</a> 2.5.1 添加数据</h3><ol><li><p>给指定字段添加数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名    <span class="token punctuation">(</span>字段名<span class="token number">1</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例: 给employee表所有的字段添加数据 ；</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> employee<span class="token punctuation">(</span>id<span class="token punctuation">,</span>workno<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>age<span class="token punctuation">,</span>idcard<span class="token punctuation">,</span>entrydate<span class="token punctuation">)</span> 
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Itcast&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;123456789012345678&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>插入数据完成之后，我们有两种方式，查询数据库的数据：</p><p>方式一 在左侧的表名上双击，就可以查看这张表的数据。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091628940.jpeg" alt=""></p><p>方式二 可以直接一条查询数据的SQL语句, 语句如下:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例: 给employee表所有的字段添加数据 执行如下SQL，添加的年龄字段值为-1。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> employee<span class="token punctuation">(</span>id<span class="token punctuation">,</span>workno<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>age<span class="token punctuation">,</span>idcard<span class="token punctuation">,</span>entrydate<span class="token punctuation">)</span> 
<span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Itcast&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;123456789012345678&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>执行上述的SQL语句时，报错了，具体的错误信息如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091630827.jpeg" alt=""></p><p>因为 employee 表的age字段类型为 tinyint，而且还是无符号的 unsigned ，所以取值只能在</p><p>0-255 之间。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091631995.jpeg" alt=""></p></li><li><p>给全部字段添加数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名    <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例：插入数据到employee表，具体的SQL如下：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> employee <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&#39;123456789012345670&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2005-01- 
01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>批量添加数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token punctuation">(</span>字段名<span class="token number">1</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值 
<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名    <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例：批量插入数据到employee表，具体的SQL如下：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> employee <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token string">&#39;123456789012345670&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2005-01- 
01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;赵敏&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&#39;123456789012345670&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2005-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意事项:</strong></p><ul><li>插入数据时，指定的字段顺序需要与值的顺序是一一对应的。</li><li>字符串和日期型数据应该包含在引号中。</li><li>插入的数据大小，应该在字段的规定范围内。</li></ul></li></ol><h3 id="_2-5-2-修改数据" tabindex="-1"><a class="header-anchor" href="#_2-5-2-修改数据" aria-hidden="true">#</a> 2.5.2 修改数据</h3><p>修改数据的具体语法为:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> 表名 <span class="token keyword">SET</span>   字段名<span class="token number">1</span> <span class="token operator">=</span> 值<span class="token number">1</span><span class="token punctuation">,</span>字段名<span class="token number">2</span> <span class="token operator">=</span> 值<span class="token number">2</span> <span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span> <span class="token keyword">WHERE</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例:</p><ol><li><p>修改id为1的数据，将name修改为itheima</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> employee <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">&#39;itheima&#39;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>修改id为1的数据, 将name修改为小昭, gender修改为 女</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> employee <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">&#39;小昭&#39;</span> <span class="token punctuation">,</span> gender <span class="token operator">=</span> <span class="token string">&#39;女&#39;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>将所有的员工入职日期修改为 2008-01-01</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> employee <span class="token keyword">set</span> entrydate <span class="token operator">=</span> <span class="token string">&#39;2008-01-01&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>**注意事项:**修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据。</p></li></ol><h3 id="_2-5-3-删除数据" tabindex="-1"><a class="header-anchor" href="#_2-5-3-删除数据" aria-hidden="true">#</a> 2.5.3 删除数据</h3><p>删除数据的具体语法为：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> 表名  <span class="token punctuation">[</span> <span class="token keyword">WHERE</span> 条件    <span class="token punctuation">]</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>案例:</p><ol><li><p>删除gender为女的员工</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> employee <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>删除所有员工</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>注意事项:</strong></p><ul><li><p>DELETE 语句的条件可以有，也可以没有，如果没有条件，则会删除整张表的所有数 据。</p></li><li><p>DELETE 语句不能删除某一个字段的值(可以使用UPDATE，将该字段值置为NULL即 可)。</p></li><li><p>当进行删除全部数据操作时，datagrip会提示我们，询问是否确认删除，我们直接点击 Execute即可。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091703294.jpeg" alt=""></p></li></ul></li></ol><h2 id="_2-6-dql" tabindex="-1"><a class="header-anchor" href="#_2-6-dql" aria-hidden="true">#</a> 2.6 DQL</h2><p>DQL英文全称是Data Query Language(数据查询语言)，数据查询语言，用来查询数据库中表的记录。</p><p>查询关键字: SELECT</p><p>在一个正常的业务系统中，查询操作的频次是要远高于增删改的，当我们去访问企业官网、电商网站， 在这些网站中我们所看到的数据，实际都是需要从数据库中查询并展示的。而且在查询的过程中，可 还会涉及到条件、排序、分页等操作。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091704893.jpeg" alt=""></p><p>那么，本小节我们主要学习的就是如何进行数据的查询操作。 我们先来完成如下数据准备工作:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> employee<span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> emp
<span class="token punctuation">(</span>
    id          <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span>
    workno      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;工号&#39;</span><span class="token punctuation">,</span>
    name        <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    gender      <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;性别&#39;</span><span class="token punctuation">,</span>
    age         <span class="token keyword">tinyint</span> <span class="token keyword">unsigned</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    idcard      <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;身份证号&#39;</span><span class="token punctuation">,</span>
    workaddress <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;工作地址&#39;</span><span class="token punctuation">,</span>
    entrydate   <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;入职时间&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;00001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;柳岩666&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;123456789012345678&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;00002&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;123456789012345670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-09-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;00003&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&#39;123456789712345670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;上海&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-08-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;00004&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;赵敏&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&#39;123456757123845670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2009-12-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;00005&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;小昭&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&#39;123456769012345678&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;上海&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2007-07-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;00006&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杨逍&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">&#39;12345678931234567X&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2006-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&#39;00007&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;范瑶&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">&#39;123456789212345670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-05-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&#39;00008&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;黛绮丝&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&#39;123456157123645670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;天津&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2015-05-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">&#39;00009&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;范凉凉&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string">&#39;123156789012345678&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2010-04-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;00010&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;陈友谅&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token string">&#39;123456789012345670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;上海&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2011-01-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">&#39;00011&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;张士诚&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token string">&#39;123567897123465670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;江苏&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2015-05-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&#39;00012&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;常遇春&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token string">&#39;123446757152345670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-02-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">&#39;00013&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;张三丰&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token string">&#39;123656789012345678&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;江苏&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2020-11-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">&#39;00014&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;灭绝&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token string">&#39;123456719012345670&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;西安&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2019-05-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;00015&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;胡青牛&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token string">&#39;12345674971234567X&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;西安&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2018-04-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&#39;00016&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;周芷若&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;北京&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2012-06-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>准备完毕后，我们就可以看到emp表中准备的16条数据。接下来，我们再来完成DQL语法的学习。</p><h3 id="_2-6-1-基本语法" tabindex="-1"><a class="header-anchor" href="#_2-6-1-基本语法" aria-hidden="true">#</a> 2.6.1 基本语法</h3><p>DQL 查询语句，语法结构如下：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT
      字段列表
  FROM
      表名列表
  WHERE
      条件列表
  GROUP  BY
      分组字段列表
  HAVING
 分组后条件列表
   ORDER BY
       排序字段列表
   LIMIT
       分页参数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们在讲解这部分内容的时候，会将上面的完整语法进行拆分，分为以下几个部分：</p><ul><li><p>基本查询（不带任何条件）</p></li><li><p>条件查询（WHERE）</p></li><li><p>聚合函数（count、max、min、avg、sum）</p></li><li><p>分组查询（group by）</p></li><li><p>排序查询（order by）</p></li><li><p>分页查询（limit）</p></li></ul><h3 id="_2-6-2-基础查询" tabindex="-1"><a class="header-anchor" href="#_2-6-2-基础查询" aria-hidden="true">#</a> 2..6.2 基础查询</h3><p>在基本查询的DQL语句中，不带任何的查询条件，查询的语法如下：</p><ol><li><p><strong>查询多个字段</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span>  字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> 字段<span class="token number">3</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span>  表名<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span>  表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意 : * 号代表查询所有字段，在实际开发中尽量少用（不直观、影响效率）。</p></li><li><p><strong>字段设置别名</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span>  字段<span class="token number">1</span>  <span class="token punctuation">[</span> <span class="token keyword">AS</span> 别名<span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span> 字段<span class="token number">2</span>  <span class="token punctuation">[</span> <span class="token keyword">AS</span> 别名<span class="token number">2</span> <span class="token punctuation">]</span>   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span>  字段<span class="token number">1</span>  <span class="token punctuation">[</span> 别名<span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span> 字段<span class="token number">2</span>  <span class="token punctuation">[</span> 别名<span class="token number">2</span> <span class="token punctuation">]</span>   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>去除重复记录</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>  字段列表   <span class="token keyword">FROM</span>  表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例：</p><ol><li><p>查询指定字段 name, workno, age并返回</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> name<span class="token punctuation">,</span>workno<span class="token punctuation">,</span>age <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询返回所有字段</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id <span class="token punctuation">,</span>workno<span class="token punctuation">,</span>name<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>age<span class="token punctuation">,</span>idcard<span class="token punctuation">,</span>workaddress<span class="token punctuation">,</span>entrydate <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询所有员工的工作地址,起别名</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> workaddress <span class="token keyword">as</span> <span class="token string">&#39;工作地址&#39;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token comment">-- as可以省略</span>
<span class="token keyword">select</span> workaddress <span class="token string">&#39;工作地址&#39;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询公司员工的上班地址有哪些(不要重复)</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> workaddress <span class="token string">&#39;工作地址&#39;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-3条件查询" tabindex="-1"><a class="header-anchor" href="#_2-6-3条件查询" aria-hidden="true">#</a> 2.6.3条件查询</h3><ol><li><p><strong>语法</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">WHERE</span> 条件列表<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>条件</strong></p></li></ol><p>常用的比较运算符如下:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091718699.png" alt="image-20220809171801658"></p><p>常用的逻辑运算符如下:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091718472.png" alt="image-20220809171824442"></p><p>案例:</p><ol><li><p>查询年龄等于 88 的员工</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询年龄小于 20 的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询年龄小于等于 20 的员工信息</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>select * from emp where age &lt;= 20;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询没有身份证号的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询有身份证号的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询年龄不等于 88 的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">!=</span> <span class="token number">88</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;&gt;</span> <span class="token number">88</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询年龄在15岁(包含) 到 20岁(包含)之间的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">15</span> <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">15</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">15</span> <span class="token operator">and</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询性别为 女 且年龄小于 25岁的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">&#39;女&#39;</span> <span class="token operator">and</span> age <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询年龄等于18 或 20 或 40 的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">18</span> <span class="token operator">or</span> age <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">or</span> age <span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询姓名为两个字的员工信息 _ %</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&#39;__&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询身份证号最后一位是X的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">like</span> <span class="token string">&#39;%X&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">like</span> <span class="token string">&#39;_________________X&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-4-聚合函数" tabindex="-1"><a class="header-anchor" href="#_2-6-4-聚合函数" aria-hidden="true">#</a> 2.6.4 聚合函数</h3><ol><li>介绍</li></ol><p>​ 将一列数据作为一个整体，进行纵向计算。</p><ol start="2"><li>常见的聚合函数</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091724997.png" alt="image-20220809172425953"></p><ol start="3"><li><p>语法</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 聚合函数<span class="token punctuation">(</span>字段列表<span class="token punctuation">)</span> <span class="token keyword">FROM</span>  表名    <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>注意:</strong> NULL值是不参与所有聚合函数运算的。</p></li></ol><p>案例：</p><ol><li><p>统计该企业员工数量</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> <span class="token comment">-- 统计的是总记录数</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>idcard<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> <span class="token comment">-- 统计的是idcard字段不为null的记录数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>对于count聚合函数，统计符合条件的总记录数，还可以通过 count(数字/字符串)的形式进行统计查询，比如：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>对于count(*) 、count(字段)、 count(1) 的具体原理，我们在进阶篇中SQL优化部分会详 细讲解，此处大家只需要知道如何使用即可</p></li><li><p>统计该企业员工的平均年龄</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>统计该企业员工的最大年龄</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>统计该企业员工的最小年龄</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>统计西安地区员工的年龄之和</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> workaddress <span class="token operator">=</span> <span class="token string">&#39;西安&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-5-分组查询" tabindex="-1"><a class="header-anchor" href="#_2-6-5-分组查询" aria-hidden="true">#</a> 2.6.5 分组查询</h3><ol><li><p>语法</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span> <span class="token keyword">WHERE</span> 条件 <span class="token punctuation">]</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 分组字段名 <span class="token punctuation">[</span> <span class="token keyword">HAVING</span> 分组后过滤条件 <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>where与having区别</p><ul><li><p>执行时机不同：where是分组之前进行过滤，不满足where条件，不参与分组；而having是分组 之后对结果进行过滤。</p></li><li><p>判断条件不同：where不能对聚合函数进行判断，而having可以。</p><p><strong>注意事项:</strong></p><ul><li>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义。</li><li>执行顺序: where &gt; 聚合函数 &gt; having 。</li><li>支持多字段分组, 具体语法为 : group by columnA,columnB</li></ul></li></ul></li></ol><p>案例:</p><ol><li><p>根据性别分组 , 统计男性员工 和 女性员工的数量</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>根据性别分组 , 统计男性员工 和 女性员工的平均年龄</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> gender<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> gender <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询年龄小于45的员工 , 并根据工作地址分组 , 获取员工数量大于等于3的工作地址</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> workaddress<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> address_count <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">45</span> <span class="token keyword">group</span> <span class="token keyword">by</span> 
workaddress <span class="token keyword">having</span> address_count <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>g</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> workaddress<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">&#39;数量&#39;</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> gender <span class="token punctuation">,</span> workaddress<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-6-排序查询" tabindex="-1"><a class="header-anchor" href="#_2-6-6-排序查询" aria-hidden="true">#</a> 2.6.6 排序查询</h3><p>排序在日常开发中是非常常见的一个操作，有升序排序，也有降序排序。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091734601.jpeg" alt=""></p><ol><li><p>语法</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 字段<span class="token number">1</span>  排序方式<span class="token number">1</span> <span class="token punctuation">,</span> 字段<span class="token number">2</span>  排序方式<span class="token number">2</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>排序方式</p><ul><li><p>ASC : 升序(默认值)</p></li><li><p>DESC: 降序</p><p>注意事项：</p><ul><li>如果是升序, 可以不指定排序方式ASC ;</li><li>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序 ;</li></ul></li></ul><p><strong>MySQL 关于varchar 类型字段排序</strong></p><p>问题描述：</p><p>​ 如果我们根据某个id排序的时候，但是数据库字段是Varchar类型的，如果仔细看就会发现并没有按照预期来拍，比如：不是按照：10，9，8，7 这样来的~如果是varchar 类型其实照字符串来排的。</p><p>问题解决：</p><p>​ 在排序的字段后**+0**，为什么+0后可以，是因为+0后转换成INT类型排序了, 这样就可以按照大小排序了</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>ORDER BY (字段+0) asc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例:</p><ol><li><p>根据年龄对公司的员工进行升序排序</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>根据入职时间, 对员工进行降序排序</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> entrydate <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>根据年龄对公司的员工进行升序排序 , 年龄相同 , 再按照入职时间进行降序排序</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span> <span class="token punctuation">,</span> entrydate <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-7-分页查询" tabindex="-1"><a class="header-anchor" href="#_2-6-7-分页查询" aria-hidden="true">#</a> 2.6.7 分页查询</h3><p>分页操作在业务系统开发时，也是非常常见的一个功能，我们在网站中看到的各种各样的分页条，后台 都需要借助于数据库的分页操作。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091736604.png" alt=""></p><ol><li><p>语法</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span>  表名 <span class="token keyword">LIMIT</span> 起始索引<span class="token punctuation">,</span> 查询记录数<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意事项:</p><ul><li>起始索引从0开始，起始索引 = （查询页码 - 1）* 每页显示记录数。</li><li>分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中是LIMIT。</li><li>如果查询的是第一页数据，起始索引可以省略，直接简写为 limit 10。</li></ul></li></ol><p>案例:</p><ol><li><p>查询第1页员工数据, 每页展示10条记录</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询第2页员工数据, 每页展示10条记录 --------(页码-1)页展示记录数</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-8-案例" tabindex="-1"><a class="header-anchor" href="#_2-6-8-案例" aria-hidden="true">#</a> 2.6.8 案例</h3><ol><li><p>查询年龄为20,21,22,23岁的女员工信息。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">&#39;女&#39;</span> <span class="token operator">and</span> age <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询性别为 男 ，并且年龄在 20-40 岁(含)以内的姓名为三个字的员工。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">&#39;男&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span> age <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">40</span> <span class="token punctuation">)</span> <span class="token operator">and</span> name <span class="token operator">like</span> 
<span class="token string">&#39;___&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>统计员工表中, 年龄小于60岁的, 男性员工和女性员工的人数。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询所有年龄小于等于35岁员工的姓名和年龄，并对查询结果按年龄升序排序，如果年龄相同按 入职时间降序排序。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> name <span class="token punctuation">,</span> age <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;=</span> <span class="token number">35</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span> <span class="token punctuation">,</span> entrydate <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询性别为男，且年龄在20-40 岁(含)以内的前5个员工信息，对查询的结果按年龄升序排序， 年龄相同按入职时间升序排序。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">&#39;男&#39;</span> <span class="token operator">and</span> age <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">40</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span> <span class="token punctuation">,</span> 
entrydate <span class="token keyword">asc</span> <span class="token keyword">limit</span> <span class="token number">5</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_2-6-9-执行顺序" tabindex="-1"><a class="header-anchor" href="#_2-6-9-执行顺序" aria-hidden="true">#</a> 2.6.9 执行顺序</h3><p>在讲解DQL语句的具体语法之前，我们已经讲解了DQL语句的完整语法，及编写顺序，接下来，我们要来说明的是DQL语句在执行时的执行顺序，也就是先执行那一部分，后执行那一部分。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091741819.jpeg" alt=""></p><p>验证：</p><p>查询年龄大于15的员工姓名、年龄，并根据年龄进行升序排序。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> name <span class="token punctuation">,</span> age <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在查询时，我们给emp表起一个别名 e，然后在select 及 where中使用该别名。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name <span class="token punctuation">,</span> e<span class="token punctuation">.</span>age <span class="token keyword">from</span> emp e <span class="token keyword">where</span> e<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>执行上述SQL语句后，我们看到依然可以正常的查询到结果，此时就说明： from 先执行, 然后</p><p>where 和 select 执行。那 where 和 select 到底哪个先执行呢?</p><p>此时，此时我们可以给select后面的字段起别名，然后在 where 中使用这个别名，然后看看是否可以执行成功。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name ename <span class="token punctuation">,</span> e<span class="token punctuation">.</span>age eage <span class="token keyword">from</span> emp e <span class="token keyword">where</span> eage <span class="token operator">&gt;</span> <span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>执行上述SQL报错了:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091743399.png" alt=""></p><p>由此我们可以得出结论: from 先执行，然后执行 where ， 再执行select 。</p><p>接下来，我们再执行如下SQL语句，查看执行效果：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name ename <span class="token punctuation">,</span> e<span class="token punctuation">.</span>age eage <span class="token keyword">from</span> emp e <span class="token keyword">where</span> e<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">15</span> <span class="token keyword">order</span> <span class="token keyword">by</span> eage <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>结果执行成功。 那么也就验证了: order by 是在select 语句之后执行的。</p><p><strong>综上所述，我们可以看到DQL语句的执行顺序为： from ... where ... group by ... having ... select ... order by ... limit ...</strong></p><h2 id="_2-7-dcl" tabindex="-1"><a class="header-anchor" href="#_2-7-dcl" aria-hidden="true">#</a> 2.7 DCL</h2><p>DCL英文全称是<strong>Data Control Language</strong>(数据控制语言)，用来管理数据库用户、控制数据库的访问权限。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091744668.jpeg" alt=""></p><h3 id="_2-7-1-管理用户" tabindex="-1"><a class="header-anchor" href="#_2-7-1-管理用户" aria-hidden="true">#</a> 2.7.1 管理用户</h3><ol><li><p>查询用户</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>查询的结果如下:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091744844.jpeg" alt=""></p><p>其中 Host代表当前用户访问的主机, 如果为localhost, 仅代表只能够在当前本机访问，是不可以远程访问的。 User代表的是访问该数据库的用户名。在MySQL中需要通过Host和User来唯一标识一个用户。</p><ol start="2"><li><p>创建用户</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;密码&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>修改用户密码</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;新密码&#39;</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>删除用户</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>DROP USER &#39;用户名&#39;@&#39;主机名&#39; ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意事项:</p><ul><li>在MySQL中需要通过用户名@主机名的方式，来唯一标识一个用户。</li><li>主机名可以使用 % 通配。</li><li>这类SQL开发人员操作的比较少，主要是DBA（ Database Administrator 数据库 管理员）使用。</li></ul></li></ol><p>案例：</p><ol><li><p>创建用户itcast, 只能够在当前主机localhost访问, 密码123456;</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;itcast&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>创建用户heima, 可以在任意主机访问该数据库, 密码123456;</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>修改用户heima的访问密码为1234;</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">with</span> mysql_native_password <span class="token keyword">by</span> <span class="token string">&#39;1234&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>删除 itcast@localhost 用户</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">user</span> <span class="token string">&#39;itcast&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-7-2-权限控制" tabindex="-1"><a class="header-anchor" href="#_2-7-2-权限控制" aria-hidden="true">#</a> 2.7.2 权限控制</h3><p>MySQL中定义了很多种权限，但是常用的就以下几种：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091748246.png" alt="image-20220809174841224"></p><p>上述只是简单罗列了常见的几种权限描述，其他权限描述及含义，可以直接参考<a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html" target="_blank" rel="noopener noreferrer"><strong>官方文档</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><ol><li><p>查询权限</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>授予权限</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">GRANT</span> 权限列表    <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名    <span class="token keyword">TO</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>撤销权限</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> 权限列表    <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名    <span class="token keyword">FROM</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意事项：</p><ul><li>多个权限之间，使用逗号分隔</li><li>授权时， 数据库名和表名可以使用 * 进行通配，代表所有。</li></ul></li></ol><p>案例:</p><ol><li><p>查询 &#39;heima&#39;@&#39;%&#39; 用户的权限</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> grants <span class="token keyword">for</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>授予 &#39;heima&#39;@&#39;%&#39; 用户itcast数据库所有表的所有操作权限</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> itcast<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>撤销 &#39;heima&#39;@&#39;%&#39; 用户的itcast数据库的所有权限</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">revoke</span> <span class="token keyword">all</span> <span class="token keyword">on</span> itcast<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h1 id="_3-函数" tabindex="-1"><a class="header-anchor" href="#_3-函数" aria-hidden="true">#</a> 3. 函数</h1><p>函数 是指一段可以直接被另一段程序调用的程序或代码。 也就意味着，这一段程序或代码在MySQL中已经给我们提供了，我们要做的就是在合适的业务场景调用对应的函数完成对应的业务需求即可。 那么，函数到底在哪儿使用呢？</p><p>我们先来看两个场景：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091751828.jpeg" alt=""><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091751638.jpeg" alt=""></p><ol><li><p>在企业的OA或其他的人力系统中，经常会提供的有这样一个功能，每一个员工登录上来之后都能 够看到当前员工入职的天数。 而在数据库中，存储的都是入职日期，如 2000-11-12，那如果快速计算出天数呢？</p></li><li><p>在做报表这类的业务需求中,我们要展示出学员的分数等级分布。而在数据库中，存储的是学生的分数值，如98/75，如何快速判定分数的等级呢？</p></li></ol><p>其实，上述的这一类的需求呢，我们通过MySQL中的函数都可以很方便的实现 。</p><p>MySQL中的函数主要分为以下四类： 字符串函数、数值函数、日期函数、流程函数。</p><h2 id="_3-1-字符串函数" tabindex="-1"><a class="header-anchor" href="#_3-1-字符串函数" aria-hidden="true">#</a> 3.1 字符串函数</h2><p>MySQL中内置了很多字符串函数，常用的几个如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091753581.png" alt="image-20220809175312557"></p><p>演示如下：</p><ol><li><p>concat : 字符串拼接</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39; MySQL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>lower : 全部转小写</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lower<span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>upper : 全部转大写</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> upper<span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>lpad : 左填充（左填充,第一个参数是需要填充的数据源，第二个参数是共计长度，第三个参数是用什么字符串填充）</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lpad<span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>rpad : 右填充</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>select rpad(&#39;01&#39;, 5, &#39;-&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>trim : 去除头尾空格</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> trim<span class="token punctuation">(</span><span class="token string">&#39; Hello  MySQL &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>substring : 截取子字符串(MySQL索引是从1开始)</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&#39;Hello MySQL&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>replace:用于替换字符串：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">&#39;0012300&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#123</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091755697.png" alt=""></p><p>由于业务需求变更，企业员工的工号，统一为5位数，目前不足5位数的全部在前面补0。比如： 1号员工的工号应该为00001。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> emp <span class="token keyword">set</span> workno <span class="token operator">=</span> lpad<span class="token punctuation">(</span>workno<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>处理完毕后, 具体的数据为:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091755562.png" alt=""></p><h2 id="_3-2-数值函数" tabindex="-1"><a class="header-anchor" href="#_3-2-数值函数" aria-hidden="true">#</a> 3.2 数值函数</h2><p>常见的数值函数如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091756627.png" alt="image-20220809175606600"></p><p>演示如下：</p><ol><li><p>ceil：向上取整</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ceil<span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>floor：向下取整</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> floor<span class="token punctuation">(</span><span class="token number">1.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>mod：取模</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>rand：获取随机数</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>round：四舍五入</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">2.344</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例：</p><p>通过数据库的函数，生成一个六位数的随机验证码。</p><p>思路： 获取随机数可以通过rand()函数，但是获取出来的随机数是在0-1之间的，所以可以在其基础上乘以1000000，然后舍弃小数部分，如果长度不足6位，补0</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lpad<span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000000</span> <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-3-日期函数" tabindex="-1"><a class="header-anchor" href="#_3-3-日期函数" aria-hidden="true">#</a> 3.3 日期函数</h2><p>常见的日期函数如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091758315.png" alt="image-20220809175812266"></p><p>演示如下：</p><ol><li><p>curdate：当前日期</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>curtime：当前时间</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> curtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>now：当前日期和时间</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>YEAR , MONTH , DAY：当前年、月、日</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>date_add：增加指定的时间间隔</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">70</span> <span class="token keyword">YEAR</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>datediff：获取两个日期相差的天数</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token string">&#39;2021-10-01&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2021-12-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例：</p><p>查询所有员工的入职天数，并根据入职天数倒序排序。</p><p>思路： 入职天数，就是通过当前日期 - 入职日期，所以需要使用datediff函数来完成。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> name<span class="token punctuation">,</span> datediff<span class="token punctuation">(</span>curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> entrydate<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;entrydays&#39;</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> 
entrydays <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-4-流程函数" tabindex="-1"><a class="header-anchor" href="#_3-4-流程函数" aria-hidden="true">#</a> 3.4 流程函数</h2><p>流程函数也是很常用的一类函数，可以在SQL语句中实现条件筛选，从而提高语句的效率。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091801664.png" alt="image-20220809180129635"></p><p>演示如下：</p><ol><li><p>if</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&#39;Ok&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ifnull</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> ifnull<span class="token punctuation">(</span><span class="token string">&#39;Ok&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Default&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> ifnull<span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Default&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> ifnull<span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;Default&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>case when then else end</p><p>需求: 查询emp表的员工姓名和工作地址 (北京/上海 ----&gt;一线城市 , 其他 ----&gt;二线城市)</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>	<span class="token keyword">select</span>
       name<span class="token punctuation">,</span>
       <span class="token punctuation">(</span> <span class="token keyword">case</span> workaddress <span class="token keyword">when</span> <span class="token string">&#39;北京&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;一线城市&#39;</span> <span class="token keyword">when</span> 		<span class="token string">&#39;上海&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;一线城市&#39;</span> <span class="token keyword">else</span> 
	<span class="token string">&#39;二线城市&#39;</span> <span class="token keyword">end</span> <span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;工作地址&#39;</span>
   <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>案例:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> score
<span class="token punctuation">(</span>
    id      <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name    <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    math    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;数学&#39;</span><span class="token punctuation">,</span>
    english <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;英语&#39;</span><span class="token punctuation">,</span>
    chinese <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;语文&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学员成绩表&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> math<span class="token punctuation">,</span> english<span class="token punctuation">,</span> chinese<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;Tom&#39;</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;Rose&#39;</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;Jack&#39;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**需求：**查询同学们的数学、英文、语文等级（等级判定规则成绩&gt;=85 优秀，成绩&gt;=60 及格 成绩&lt;60 不及格）</p><p>具体的SQL语句如下:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> name<span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> math <span class="token operator">&gt;=</span> <span class="token number">85</span> <span class="token keyword">then</span> <span class="token string">&#39;优秀&#39;</span> <span class="token keyword">when</span> math <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">&#39;及格&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;不及格&#39;</span> <span class="token keyword">end</span><span class="token punctuation">)</span>       <span class="token string">&#39;数学&#39;</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> english <span class="token operator">&gt;=</span> <span class="token number">85</span> <span class="token keyword">then</span> <span class="token string">&#39;优秀&#39;</span> <span class="token keyword">when</span> english <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">&#39;及格&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;不及格&#39;</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token string">&#39;英语&#39;</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> chinese <span class="token operator">&gt;=</span> <span class="token number">85</span> <span class="token keyword">then</span> <span class="token string">&#39;优秀&#39;</span> <span class="token keyword">when</span> chinese <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">&#39;及格&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;不及格&#39;</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token string">&#39;语文&#39;</span>
<span class="token keyword">from</span> score
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>MySQL的常见函数我们学习完了，那接下来，我们就来分析一下，在前面讲到的两个函数的案例场景， 思考一下需要用到什么样的函数来实现?</p><ol><li>数据库中，存储的是入职日期，如 2000-01-01，如何快速计算出入职天数呢？</li></ol><p>答案: datediff</p><ol start="2"><li>数据库中，存储的是学生的分数值，如98、75，如何快速判定分数的等级呢？</li></ol><p>答案: case ... when ...</p><h1 id="_4-约束" tabindex="-1"><a class="header-anchor" href="#_4-约束" aria-hidden="true">#</a> 4. 约束</h1><h2 id="_4-1-概述" tabindex="-1"><a class="header-anchor" href="#_4-1-概述" aria-hidden="true">#</a> 4.1 概述</h2><p>概念：约束是作用于表中字段上的规则，用于限制存储在表中的数据。</p><p>目的：保证数据库中数据的正确、有效性和完整性。</p><p>分类:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091810687.png" alt="image-20220809181022660"></p><p><strong>注意：约束是作用于表中字段上的，可以在创建表/修改表的时候添加约束。</strong></p><h2 id="_4-2-约束演示" tabindex="-1"><a class="header-anchor" href="#_4-2-约束演示" aria-hidden="true">#</a> 4.2 约束演示</h2><p>上面我们介绍了数据库中常见的约束，以及约束涉及到的关键字，那这些约束我们到底如何在创建表、 修改表的时候来指定呢，接下来我们就通过一个案例，来演示一下。</p><p>案例需求： 根据需求，完成表结构的创建。需求如下：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091811774.png" alt="image-20220809181110718"></p><p>对应的建表语句为：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_user
<span class="token punctuation">(</span>
    id     <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID唯一标识&#39;</span><span class="token punctuation">,</span>
    name   <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age    <span class="token keyword">int</span> <span class="token keyword">check</span> <span class="token punctuation">(</span> age <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> tb_user<span class="token punctuation">.</span>age <span class="token operator">&lt;=</span> <span class="token number">120</span> <span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">status</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">comment</span> <span class="token string">&#39;状态&#39;</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;性别&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户表&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在为字段添加约束时，我们只需要在字段之后加上约束的关键字即可，需要关注其语法。我们执行上面 的SQL把表结构创建完成，然后接下来，就可以通过一组数据进行测试，从而验证一下，约束是否可以生效。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom1&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token string">&#39;Tom2&#39;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom3&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#  列 &#39;name&#39; 不能为null</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom3&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom4&#39;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 年龄违反了检查约束</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom5&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 年龄违反了检查约束</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom5&#39;</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;Tom5&#39;</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面，我们是通过编写SQL语句的形式来完成约束的指定，那加入我们是通过图形化界面来创建表结构 时，又该如何来指定约束呢？ 只需要在创建表的时候，根据我们的需要选择对应的约束即可。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091821523.png" alt=""></p><h2 id="_4-3-外键约束" tabindex="-1"><a class="header-anchor" href="#_4-3-外键约束" aria-hidden="true">#</a> 4.3 外键约束</h2><h3 id="_4-3-1-介绍" tabindex="-1"><a class="header-anchor" href="#_4-3-1-介绍" aria-hidden="true">#</a> 4.3.1 介绍</h3><p>外键：用来让两张表的数据之间建立连接，从而保证数据的一致性和完整性。</p><p>我们来看一个例子：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091821815.jpeg" alt=""></p><p>左侧的emp表是员工表，里面存储员工的基本信息，包含员工的ID、姓名、年龄、职位、薪资、入职日期、上级主管ID、部门ID，在员工的信息中存储的是部门的ID dept_id，而这个部门的ID是关联的部门表dept的主键id，那emp表的dept_id就是外键,关联的是另一张表的主键。</p><p>**注意：**目前上述两张表，只是在逻辑上存在这样一层关系；在数据库层面，并未建立外键关联， 所以是无法保证数据的一致性和完整性的。</p><p>没有数据库外键关联的情况下，能够保证一致性和完整性呢，我们来测试一下。</p><p>准备数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> dept<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> dept
<span class="token punctuation">(</span>
    id   <span class="token keyword">int</span> <span class="token keyword">auto_increment</span>  <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门名称&#39;</span>
<span class="token punctuation">)</span>
    <span class="token keyword">comment</span> <span class="token string">&#39;部门表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;总经办&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> emp
<span class="token punctuation">(</span>
    id        <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age       <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    job       <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;职位&#39;</span><span class="token punctuation">,</span>
    salary    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;薪资&#39;</span><span class="token punctuation">,</span>
    entrydate <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;入职时间&#39;</span><span class="token punctuation">,</span>
    managerid <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;直属领导ID&#39;</span><span class="token punctuation">,</span>
    dept_id   <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门ID&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> entrydate<span class="token punctuation">,</span> managerid<span class="token punctuation">,</span> dept_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;金庸&#39;</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&#39;总裁&#39;</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;项目经理&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-12-05&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;杨逍&#39;</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">8400</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-11-03&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">11000</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-02-05&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;常遇春&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">10500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-09-07&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;小昭&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;程序员鼓励师&#39;</span><span class="token punctuation">,</span> <span class="token number">6600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091822123.jpeg" alt=""></p><p>接下来，我们可以做一个测试，删除id为1的部门信息。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208091826528.jpeg" alt=""></p><p>结果，我们看到删除成功，而删除成功之后，部门表不存在id为1的部门，而在emp表中还有很多的员 工，关联的为id为1的部门，此时就出现了数据的不完整性。 而要想解决这个问题就得通过数据库的外键约束。</p><h3 id="_4-3-2-语法" tabindex="-1"><a class="header-anchor" href="#_4-3-2-语法" aria-hidden="true">#</a> 4.3.2 语法</h3><ol><li><p>添加外键</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
字段名	数据类型<span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span>   <span class="token punctuation">[</span>外键名称<span class="token punctuation">]</span>  <span class="token keyword">FOREIGN</span>  <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span>   <span class="token keyword">REFERENCES</span>   主表    <span class="token punctuation">(</span>主表列名<span class="token punctuation">)</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>案例:</p><p>为emp表的dept_id字段添加外键约束,关联dept表的主键id。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100922240.png" alt=""></p><p>添加了外键约束之后，我们再到dept表(父表)删除id为1的记录，然后看一下会发生什么现象。 此时将会报错，不能删除或更新父表记录，因为存在外键约束。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100923732.jpeg" alt=""></p><ol start="2"><li><p>删除外键</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span>  <span class="token keyword">TABLE</span> 表名  <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span>  <span class="token keyword">KEY</span>  外键名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例：</p><p>删除emp表的外键fk_emp_dept_id。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> fk_emp_dept_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-3-3-删除-更新行为" tabindex="-1"><a class="header-anchor" href="#_4-3-3-删除-更新行为" aria-hidden="true">#</a> 4.3.3 删除/更新行为</h3><p>添加了外键之后，再删除父表数据时产生的约束行为，我们就称为删除/更新行为。具体的删除/更新行 为有以下几种:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100924099.png" alt="image-20220810092437008"></p><p>具体语法为:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span>  外键名称 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span>  <span class="token punctuation">(</span>外键字段<span class="token punctuation">)</span>   <span class="token keyword">REFERENCES</span>
主表名    <span class="token punctuation">(</span>主表字段名<span class="token punctuation">)</span>  <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CASCADE</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>演示如下：</p><p>由于NO ACTION 是默认行为，我们前面语法演示的时候，已经测试过了，就不再演示了，这里我们再演示其他的两种行为：CASCADE、SET NULL。</p><ol><li><p>CASCADE</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span>
dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">cascade</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">cascade</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改父表id为1的记录，将id修改为6</p></li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100926362.jpeg" alt=""></p><p>我们发现，原来在子表中dept_id值为1的记录，现在也变为6了，这就是cascade级联的效果。</p><p><strong>在一般的业务系统中，不会修改一张表的主键值。</strong></p><ol start="2"><li>删除父表id为6的记录</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100926406.jpeg" alt=""></p><p>我们发现，父表的数据删除成功了，但是子表中关联的记录也被级联删除了。</p><ol start="2"><li>SET NULL</li></ol><p>在进行测试之前，我们先需要删除上面建立的外键 fk_emp_dept_id。然后再通过数据脚本，将emp、dept表的数据恢复了。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> 
dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">set</span> <span class="token boolean">null</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">set</span> <span class="token boolean">null</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，我们删除id为1的数据，看看会发生什么样的现象。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100927794.png" alt=""></p><p>我们发现父表的记录是可以正常的删除的，父表的数据删除之后，再打开子表 emp，我们发现子表emp</p><p>的dept_id字段，原来dept_id为1的数据，现在都被置为NULL了。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100927761.png" alt=""></p><p>这就是SET NULL这种删除/更新行为的效果。</p><h1 id="_5-多表查询" tabindex="-1"><a class="header-anchor" href="#_5-多表查询" aria-hidden="true">#</a> 5. 多表查询</h1><p>我们之前在讲解SQL语句的时候，讲解了DQL语句，也就是数据查询语句，但是之前讲解的查询都是单表查询，而本章节我们要学习的则是多表查询操作，主要从以下几个方面进行讲解。</p><h2 id="_5-1-多表关系" tabindex="-1"><a class="header-anchor" href="#_5-1-多表关系" aria-hidden="true">#</a> 5.1 多表关系</h2><p>项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：</p><ul><li><p>一对多(多对一)</p></li><li><p>多对多</p></li><li><p>一对一</p></li></ul><h3 id="_5-1-1-一对多" tabindex="-1"><a class="header-anchor" href="#_5-1-1-一对多" aria-hidden="true">#</a> 5.1.1 一对多</h3><p>案例: 部门 与 员工的关系</p><p>关系: 一个部门对应多个员工，一个员工对应一个部门</p><p>实现: <strong>在多的一方建立外键，指向一的一方的主键</strong></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100928316.jpeg" alt=""></p><h3 id="_5-1-2-多对多" tabindex="-1"><a class="header-anchor" href="#_5-1-2-多对多" aria-hidden="true">#</a> 5.1.2 多对多</h3><p>案例: 学生 与 课程的关系</p><p>关系: 一个学生可以选修多门课程，一门课程也可以供多个学生选择</p><p>实现: <strong>建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</strong></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100929276.jpeg" alt=""></p><p>对应的SQL脚本:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">no</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学号&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学生表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token keyword">no</span><span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;黛绮丝&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100101&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;谢逊&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100102&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;殷天正&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100103&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100104&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> course <span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;课程id&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;课程名称&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;课程表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;Java&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;PHP&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;MySQL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;Hadoop&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 建立一张中间表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student_course<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    studentid <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;学生ID&#39;</span><span class="token punctuation">,</span>
    courseid <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span>  <span class="token keyword">comment</span> <span class="token string">&#39;课程ID&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> fk_studentid <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>studentid<span class="token punctuation">)</span> <span class="token keyword">references</span> student<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> fk_courseid <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>courseid<span class="token punctuation">)</span> <span class="token keyword">references</span> course<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学生课程中间表&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student_course
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-1-3-一对一" tabindex="-1"><a class="header-anchor" href="#_5-1-3-一对一" aria-hidden="true">#</a> 5.1.3 一对一</h3><p>案例: 用户 与 用户详情的关系</p><p>关系: 一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率</p><p>实现: 在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的(UNIQUE)</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100931087.jpeg" alt=""></p><p>对应的SQL脚本:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tb_user
<span class="token punctuation">(</span>
    id     <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键ID&#39;</span><span class="token punctuation">,</span>
    name   <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;1: 男    , 2: 女&#39;</span><span class="token punctuation">,</span>
    phone  <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;手机号&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户基本信息表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> tb_user_edu
<span class="token punctuation">(</span>
    id            <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键ID&#39;</span><span class="token punctuation">,</span>
    degree        <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学历&#39;</span><span class="token punctuation">,</span>
    major         <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;专业&#39;</span><span class="token punctuation">,</span>
    primaryschool <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;小学&#39;</span><span class="token punctuation">,</span>
    middleschool  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;中学&#39;</span><span class="token punctuation">,</span>
    university    <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;大学&#39;</span><span class="token punctuation">,</span>
    userid        <span class="token keyword">int</span> <span class="token keyword">unique</span> <span class="token keyword">comment</span> <span class="token string">&#39; 用户ID &#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> fk_userid <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>userid<span class="token punctuation">)</span> <span class="token keyword">references</span> tb_user <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户教育信息表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> phone<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;黄渤&#39;</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800001111&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;冰冰&#39;</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800002222&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;码云&#39;</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800008888&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;李彦宏&#39;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800009999&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user_edu<span class="token punctuation">(</span>id<span class="token punctuation">,</span> degree<span class="token punctuation">,</span> major<span class="token punctuation">,</span> primaryschool<span class="token punctuation">,</span> middleschool<span class="token punctuation">,</span>
                        university<span class="token punctuation">,</span> userid<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;本科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;舞蹈&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;静安区第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;静安区第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京舞蹈学院&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;硕士&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;表演&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;朝阳区第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;朝阳区第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京电影学院&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;本科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;英语&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杭州市第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杭州市第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杭州师范大学&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;本科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;应用数学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;阳泉第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;阳泉区第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;清华大学&#39;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-2-多表查询概述" tabindex="-1"><a class="header-anchor" href="#_5-2-多表查询概述" aria-hidden="true">#</a> 5.2 多表查询概述</h2><h3 id="_5-2-1-数据准备" tabindex="-1"><a class="header-anchor" href="#_5-2-1-数据准备" aria-hidden="true">#</a> 5.2.1 数据准备</h3><ol><li><p>删除之前 emp, dept表的测试数据</p></li><li><p>执行如下脚本，创建emp表与dept表并插入测试数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建dept表，并插入数据</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> dept
<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门名称&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;总经办&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;人事部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 创建emp表，并插入数据</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp
<span class="token punctuation">(</span>
    id        <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age       <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    job       <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;职位&#39;</span><span class="token punctuation">,</span>
    salary    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;薪资&#39;</span><span class="token punctuation">,</span>
    entrydate <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;入职时间&#39;</span><span class="token punctuation">,</span>
    managerid <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;直属领导ID&#39;</span><span class="token punctuation">,</span>
    dept_id   <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门ID&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- 添加外键</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp
    <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> entrydate<span class="token punctuation">,</span> managerid<span class="token punctuation">,</span> dept_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;金庸&#39;</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&#39;总裁&#39;</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;项目经理&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-12-05&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;杨逍&#39;</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">8400</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-11-03&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">11000</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-02-05&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;常遇春&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">10500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-09-07&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;小昭&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;程序员鼓励师&#39;</span><span class="token punctuation">,</span> <span class="token number">6600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&#39;灭绝&#39;</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&#39;财务总监&#39;</span><span class="token punctuation">,</span> <span class="token number">8500</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-09-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&#39;周芷若&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;会计&#39;</span><span class="token punctuation">,</span> <span class="token number">48000</span><span class="token punctuation">,</span> <span class="token string">&#39;2006-06-02&#39;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">&#39;丁敏君&#39;</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token string">&#39;出纳&#39;</span><span class="token punctuation">,</span> <span class="token number">5250</span><span class="token punctuation">,</span> <span class="token string">&#39;2009-05-13&#39;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;赵敏&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部总监&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">&#39;鹿杖客&#39;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span> <span class="token number">3750</span><span class="token punctuation">,</span> <span class="token string">&#39;2006-10-03&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&#39;鹤笔翁&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span> <span class="token number">3750</span><span class="token punctuation">,</span> <span class="token string">&#39;2007-05-09&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">&#39;方东白&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span> <span class="token number">5500</span><span class="token punctuation">,</span> <span class="token string">&#39;2009-02-12&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">&#39;张三丰&#39;</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token string">&#39;销售总监&#39;</span><span class="token punctuation">,</span> <span class="token number">14000</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;俞莲舟&#39;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token number">4600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&#39;宋远桥&#39;</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token number">4600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">&#39;陈友谅&#39;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token string">&#39;2011-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>dept表共6条记录，emp表共17条记录。s</p></li></ol><h3 id="_5-2-2-概述" tabindex="-1"><a class="header-anchor" href="#_5-2-2-概述" aria-hidden="true">#</a> 5.2.2 概述</h3><p>多表查询就是指从多张表中查询数据。</p><p>原来查询单表数据，执行的SQL形式为：<code>select * from emp</code></p><p>那么我们要执行多表查询，就只需要使用逗号分隔多张表即可，如： <code>select * from emp , dept</code> 具体的执行结果如下:</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100937955.png" alt=""></p><p>此时,我们看到查询结果中包含了大量的结果集，总共102条记录，而这其实就是员工表emp所有的记录与部门表dept所有记录的所有组合情况，这种现象称之为<strong>笛卡尔积</strong>。接下来，就来简单介绍下笛卡尔积。</p><p>笛卡尔积: 笛卡尔乘积是指在数学中，两个集合A集合 和 B集合的所有组合情况。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100937275.png" alt=""></p><p>而在多表查询中，我们是需要消除无效的笛卡尔积的，只保留两张表关联部分的数据。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100938955.png" alt=""><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100938229.png" alt=""></p><p>在SQL语句中，如何来去除无效的笛卡尔积呢？ 我们可以给多表查询加上连接查询的条件即可。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token punctuation">,</span> dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100938905.png" alt=""></p><p>而由于id为17的员工，没有dept_id字段值，所以在多表查询时，根据连接查询的条件并没有查询到。</p><h3 id="_5-2-3-分类" tabindex="-1"><a class="header-anchor" href="#_5-2-3-分类" aria-hidden="true">#</a> 5.2.3 分类</h3><p><strong>连接查询</strong></p><ul><li>内连接：相当于查询A、B交集部分数据</li><li>外连接： <ul><li>左外连接：查询左表所有数据，以及两张表交集部分数据</li><li>右外连接：查询右表所有数据，以及两张表交集部分数据</li></ul></li><li>自连接：当前表与自身的连接查询，自连接必须使用表别名</li></ul><p><strong>子查询</strong></p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100940976.jpeg" alt=""></p><h2 id="_5-3-内连接" tabindex="-1"><a class="header-anchor" href="#_5-3-内连接" aria-hidden="true">#</a> 5.3 内连接</h2><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100943167.jpeg" alt=""></p><p>内连接查询的是两张表交集部分的数据。(也就是绿色部分的数据)</p><p>内连接的语法分为两种: 隐式内连接、显式内连接。先来学习一下具体的语法结构。</p><ol><li><p>隐式内连接</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span><span class="token punctuation">,</span>表<span class="token number">2</span> <span class="token keyword">WHERE</span> 条件<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>显式内连接</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span>  表<span class="token number">1</span>  <span class="token punctuation">[</span> <span class="token keyword">INNER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 连接条件    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例:</p><ol><li><p>查询每一个员工的姓名 , 及关联的部门的名称 (隐式内连接实现)</p><p>表结构: emp , dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> emp<span class="token punctuation">.</span>name <span class="token punctuation">,</span> dept<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp <span class="token punctuation">,</span> dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id <span class="token punctuation">;</span>
<span class="token comment">-- 为每一张表起别名,简化SQL编写</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token punctuation">,</span> dept d <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询每一个员工的姓名 , 及关联的部门的名称 (显式内连接实现) --- INNER JOIN ...ON ...</p><p>表结构: emp , dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">inner</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token comment">-- 省略inner 简化SQL</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">join</span> dept d <span class="token keyword">on</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>表的别名: ①. tablea as 别名1 , tableb as 别名2 ; ②. tablea 别名1 , tableb 别名2 ;</p><p>**注意事项:**一旦为表起了别名，就不能再使用表名来指定对应的字段了，此时只能够使用别名来指定字段。</p><h2 id="_5-4-外连接" tabindex="-1"><a class="header-anchor" href="#_5-4-外连接" aria-hidden="true">#</a> 5.4 外连接</h2><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100941461.jpeg" alt=""></p><p>外连接分为两种，分别是：左外连接 和 右外连接。具体的语法结构为：</p><ol><li><p>左外连接</p><p>左外连接相当于查询表1(左表)的所有数据，当然也包含表1和表2交集部分的数据。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span>  表<span class="token number">1</span>  <span class="token keyword">LEFT</span>  <span class="token punctuation">[</span> <span class="token keyword">OUTER</span> <span class="token punctuation">]</span>  <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>右外连接</p><p>右外连接相当于查询表2(右表)的所有数据，当然也包含表1和表2交集部分的数据。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span>  表<span class="token number">1</span>  <span class="token keyword">RIGHT</span>  <span class="token punctuation">[</span> <span class="token keyword">OUTER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>案例:</p><ol><li><p>查询emp表的所有数据, 和对应的部门信息</p><p>由于需求中提到，要查询emp的所有数据，所以是不能内连接查询的，需要考虑使用外连接查询。</p><p>表结构: emp, dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">left</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">left</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询dept表的所有数据, 和对应的员工信息(右外连接)</p><p>由于需求中提到，要查询dept表的所有数据，所以是不能内连接查询的，需要考虑使用外连接查 询。</p><p>表结构: emp, dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> d<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> emp e <span class="token keyword">right</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">select</span> d<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> dept d <span class="token keyword">left</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> emp e <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意事项：</strong> 左外连接和右外连接是可以相互替换的，只需要调整在连接查询时SQL中，表结构的先后顺序就可以了。而我们在日常开发使用时，更偏向于左外连接。</p></li></ol><h2 id="_5-5-自连接" tabindex="-1"><a class="header-anchor" href="#_5-5-自连接" aria-hidden="true">#</a> 5.5 自连接</h2><h3 id="_5-5-1-自连接查询" tabindex="-1"><a class="header-anchor" href="#_5-5-1-自连接查询" aria-hidden="true">#</a> 5.5.1 自连接查询</h3><p>自连接查询，顾名思义，就是自己连接自己，也就是把一张表连接查询多次。我们先来学习一下自连接 的查询语法：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表A 别名A <span class="token keyword">JOIN</span> 表A 别名B <span class="token keyword">ON</span> 条件<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>而对于自连接查询，可以是内连接查询，也可以是外连接查询。</p><p>案例：</p><ol><li><p>查询员工 及其 所属领导的名字表结构: emp</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> a<span class="token punctuation">.</span>name <span class="token punctuation">,</span> b<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp a <span class="token punctuation">,</span> emp b <span class="token keyword">where</span> a<span class="token punctuation">.</span>managerid <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询所有员工 emp 及其领导的名字 emp , 如果员工没有领导, 也需要查询出来表结构: emp a , emp b</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> a<span class="token punctuation">.</span>name 员工<span class="token punctuation">,</span>b<span class="token punctuation">.</span>name 领导 <span class="token keyword">from</span> emp a <span class="token keyword">left</span> <span class="token keyword">join</span> emp b <span class="token keyword">on</span> a<span class="token punctuation">.</span>managerid <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_5-5-2-联合查询" tabindex="-1"><a class="header-anchor" href="#_5-5-2-联合查询" aria-hidden="true">#</a> 5.5.2 联合查询</h3><p>对于union查询，就是把多次查询的结果合并起来，形成一个新的查询结果集。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表A <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">UNION</span>  <span class="token punctuation">[</span><span class="token keyword">ALL</span><span class="token punctuation">]</span>

<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表B <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。</p><p>union all 会将全部的数据直接合并在一起，union 会对合并之后的数据去重。</p><p>案例:</p><p>A. 将薪资低于 5000 的员工 , 和 年龄大于 50 岁的员工全部查询出来.</p><p>当前对于这个需求，我们可以直接使用多条件查询，使用逻辑运算符 or 连接即可。 那这里呢，我们也可以通过union/union all来联合查询.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&lt;</span> <span class="token number">5000</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100954361.png" alt=""></p><p>union all查询出来的结果，仅仅进行简单的合并，并未去重。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&lt;</span> <span class="token number">5000</span>
<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100954581.png" alt=""></p><p>union 联合查询，会对查询出来的结果进行去重处理。</p><p><strong>注意：</strong></p><p>如果多条查询语句查询出来的结果，字段数量不一致，在进行union/union all联合查询时，将会报错。如：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208100955556.png" alt=""></p><h2 id="_5-6-子查询" tabindex="-1"><a class="header-anchor" href="#_5-6-子查询" aria-hidden="true">#</a> 5.6 子查询</h2><h3 id="_5-6-1-概述" tabindex="-1"><a class="header-anchor" href="#_5-6-1-概述" aria-hidden="true">#</a> 5.6.1 概述</h3><ol><li><p>概念</p><p>SQL语句中嵌套SELECT语句，称为嵌套查询，又称子查询。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span>  t1   <span class="token keyword">WHERE</span> column1 <span class="token operator">=</span>  <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> column1 <span class="token keyword">FROM</span> t2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>子查询外部的语句可以是INSERT / UPDATE / DELETE / SELECT 的任何一个。</p></li><li><p>分类</p><p>根据子查询结果不同，分为：</p><ol><li><p>标量子查询（子查询结果为单个值）</p></li><li><p>列子查询（子查询结果为一列）</p></li><li><p>行子查询（子查询结果为一行）</p></li><li><p>表子查询（子查询结果为多行多列）</p></li></ol><p>根据子查询位置，分为：</p><ol><li><p>WHERE之后</p></li><li><p>FROM之后</p></li><li><p>SELECT之后</p></li></ol></li></ol><h3 id="_5-6-2-标量子查询" tabindex="-1"><a class="header-anchor" href="#_5-6-2-标量子查询" aria-hidden="true">#</a> 5.6.2 标量子查询</h3><p>子查询返回的结果是单个值（数字、字符串、日期等），最简单的形式，这种子查询称为标量子查询。 常用的操作符：= &lt;&gt; &gt; &gt;= &lt; &lt;=</p><p>案例:</p><ol><li><p>查询 &quot;销售部&quot; 的所有员工信息</p><p>完成这个需求时，我们可以将需求分解为两步：</p><p>①. 查询 &quot;销售部&quot; 部门ID</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 根据 &quot;销售部&quot; 部门ID, 查询员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> dept<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询在 &quot;方东白&quot; 入职之后的员工信息</p><p>完成这个需求时，我们可以将需求分解为两步：</p><p>①. 查询 方东白 的入职日期</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> entrydate <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;方东白&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 查询指定入职日期之后入职的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> entrydate <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> entrydate <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;方东白&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_5-6-3-列子查询" tabindex="-1"><a class="header-anchor" href="#_5-6-3-列子查询" aria-hidden="true">#</a> 5.6.3 列子查询</h3><p>子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。</p><p>常用的操作符：IN 、NOT IN 、 ANY 、SOME 、 ALL</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101000313.png" alt="image-20220810100007246"></p><p>案例:</p><ol><li><p>查询 &quot;销售部&quot; 和 &quot;市场部&quot; 的所有员工信息分解为以下两步:</p><p>①. 查询 &quot;销售部&quot; 和 &quot;市场部&quot; 的部门ID</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;销售部&#39;</span> <span class="token operator">or</span> name <span class="token operator">=</span> <span class="token string">&#39;市场部&#39;</span> <span class="token punctuation">;</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&#39;销售部&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;市场部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>②. 根据部门ID, 查询员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&#39;销售部&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;市场部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询比 财务部 所有人工资都高的员工信息分解为以下两步:</p><p>①. 查询所有 财务部 人员工资</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>②. 比 财务部 所有人工资都高的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token keyword">all</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> 
<span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询比研发部其中任意一人工资高的员工信息分解为以下两步:</p><p>①. 查询研发部所有人工资</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 比研发部其中任意一人工资高的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token keyword">any</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> 
<span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_5-6-4-行子查询" tabindex="-1"><a class="header-anchor" href="#_5-6-4-行子查询" aria-hidden="true">#</a> 5.6.4 行子查询</h3><p>子查询返回的结果是一行（可以是多列），这种子查询称为行子查询。常用的操作符：= 、&lt;&gt;、IN 、NOT IN</p><p>案例:</p><ol><li><p>查询与 &quot;张无忌&quot; 的薪资及直属领导相同的员工信息 ;</p><p>这个需求同样可以拆解为两步进行:</p><p>①. 查询 &quot;张无忌&quot; 的薪资及直属领导</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> salary<span class="token punctuation">,</span> managerid <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 查询与 &quot;张无忌&quot; 的薪资及直属领导相同的员工信息 ;</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> <span class="token punctuation">(</span>salary<span class="token punctuation">,</span>managerid<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> salary<span class="token punctuation">,</span> managerid <span class="token keyword">from</span> emp 
<span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_5-6-5-表子查询" tabindex="-1"><a class="header-anchor" href="#_5-6-5-表子查询" aria-hidden="true">#</a> 5.6.5 表子查询</h3><p>子查询返回的结果是多行多列，这种子查询称为表子查询。常用的操作符：IN</p><p>案例:</p><ol><li><p>查询与 &quot;鹿杖客&quot; , &quot;宋远桥&quot; 的职位和薪资相同的员工信息分解为两步执行:</p><p>①. 查询 &quot;鹿杖客&quot; , &quot;宋远桥&quot; 的职位和薪资</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> job<span class="token punctuation">,</span>salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&#39;鹿杖客&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;宋远桥&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> job<span class="token punctuation">,</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;鹿杖客&#39;</span> <span class="token operator">or</span> name <span class="token operator">=</span> <span class="token string">&#39;宋远桥&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>②. 查询与 &quot;鹿杖客&quot; , &quot;宋远桥&quot; 的职位和薪资相同的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> <span class="token punctuation">(</span>job<span class="token punctuation">,</span>salary<span class="token punctuation">)</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> job<span class="token punctuation">,</span>salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&#39;鹿杖客&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;宋远桥&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询入职日期是 &quot;2006-01-01&quot; 之后的员工信息 , 及其部门信息分解为两步执行:</p><p>①. 入职日期是 &quot;2006-01-01&quot; 之后的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> entrydate <span class="token operator">&gt;</span> <span class="token string">&#39;2006-01-01&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 查询这部分员工, 对应的部门信息;</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> emp<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">left</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> emp<span class="token punctuation">.</span>dept_id <span class="token keyword">where</span> entrydate<span class="token operator">&gt;</span><span class="token string">&#39;2006-01-01&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> entrydate <span class="token operator">&gt;</span> <span class="token string">&#39;2006-01-01&#39;</span><span class="token punctuation">)</span> e <span class="token keyword">left</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="_5-7-多表查询案例" tabindex="-1"><a class="header-anchor" href="#_5-7-多表查询案例" aria-hidden="true">#</a> 5.7 多表查询案例</h2><p>数据环境准备:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> salgrade<span class="token punctuation">(</span>
     grade <span class="token keyword">int</span><span class="token punctuation">,</span>
     losal <span class="token keyword">int</span><span class="token punctuation">,</span>
     hisal <span class="token keyword">int</span>
 <span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;薪资等级表&#39;</span><span class="token punctuation">;</span>
 
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3001</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5001</span><span class="token punctuation">,</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8001</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10001</span><span class="token punctuation">,</span><span class="token number">15000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">15001</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">20001</span><span class="token punctuation">,</span><span class="token number">25000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> salgrade <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">25001</span><span class="token punctuation">,</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个案例中，我们主要运用上面所讲解的多表查询的语法，完成以下的12个需求即可，而这里主要涉 及到的表就三张：emp员工表、dept部门表、salgrade薪资等级表 。</p><ol><li><p>查询员工的姓名、年龄、职位、部门信息 （隐式内连接）</p><p>表: emp , dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name 姓名<span class="token punctuation">,</span>e<span class="token punctuation">.</span>age 年龄<span class="token punctuation">,</span>e<span class="token punctuation">.</span>job 职位<span class="token punctuation">,</span>d<span class="token punctuation">.</span>name 部门信息 <span class="token keyword">from</span> emp e<span class="token punctuation">,</span>dept d <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询年龄小于30岁的员工的姓名、年龄、职位、部门信息（显式内连接）</p><p>表: emp , dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name <span class="token punctuation">,</span> e<span class="token punctuation">.</span>age <span class="token punctuation">,</span> e<span class="token punctuation">.</span>job <span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">inner</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token keyword">where</span> e<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询拥有员工的部门ID、部门名称</p><p>表: emp , dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> d<span class="token punctuation">.</span>id <span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token punctuation">,</span> dept d <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询所有年龄大于40岁的员工, 及其归属的部门名称; 如果员工没有分配部门, 也需要展示出来(外连接)</p><p>表: emp , dept</p><p>连接条件: emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">left</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> d<span class="token punctuation">.</span>id <span class="token operator">=</span> e<span class="token punctuation">.</span>dept_id <span class="token keyword">where</span> e<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">40</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询所有员工的工资等级</p><p>表: emp , salgrade</p><p>连接条件 : emp.salary &gt;= salgrade.losal and emp.salary &lt;= salgrade.hisal</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 方式一</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> s<span class="token punctuation">.</span>grade <span class="token punctuation">,</span> s<span class="token punctuation">.</span>losal<span class="token punctuation">,</span> s<span class="token punctuation">.</span>hisal <span class="token keyword">from</span> emp e <span class="token punctuation">,</span> salgrade s <span class="token keyword">where</span> e<span class="token punctuation">.</span>salary <span class="token operator">&gt;=</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> e<span class="token punctuation">.</span>salary <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span>
<span class="token comment">-- 方式二</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> emp e<span class="token punctuation">,</span>salgrade s <span class="token keyword">where</span> e<span class="token punctuation">.</span>salary <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询 &quot;研发部&quot; 所有员工的信息及 工资等级</p><p>表: emp , salgrade , dept</p><p>连接条件 : emp.salary between salgrade.losal and salgrade.hisal , emp.dept_id = dept.id</p><p>查询条件 : dept.name = &#39;研发部&#39;</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> s<span class="token punctuation">.</span>grade <span class="token keyword">from</span> emp e <span class="token punctuation">,</span> dept d <span class="token punctuation">,</span> salgrade s <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token operator">and</span> <span class="token punctuation">(</span> 
e<span class="token punctuation">.</span>salary <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal <span class="token punctuation">)</span> <span class="token operator">and</span> d<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询 &quot;研发部&quot; 员工的平均工资</p><p>表: emp , dept</p><p>连接条件 : emp.dept_id = dept.id</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp e<span class="token punctuation">,</span> dept d <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token operator">and</span> d<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询工资比 &quot;灭绝&quot; 高的员工信息。</p><p>①. 查询 &quot;灭绝&quot; 的薪资</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;灭绝&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 查询比她工资高的员工数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;灭绝&#39;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询比平均薪资高的员工信息</p><p>①. 查询员工的平均薪资</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>②. 查询比平均薪资高的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询低于本部门平均工资的员工信息</p><p>①. 查询指定部门平均薪资</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp e1 <span class="token keyword">where</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp e1 <span class="token keyword">where</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>②. 查询低于本部门平均工资的员工信息</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp e2 <span class="token keyword">where</span> e2<span class="token punctuation">.</span>salary <span class="token operator">&lt;</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp e1 <span class="token keyword">where</span> 
e1<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e2<span class="token punctuation">.</span>dept_id <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询所有的部门信息, 并统计部门的员工人数</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp e <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token punctuation">)</span> <span class="token string">&#39;人数&#39;</span> <span class="token keyword">from</span> dept d<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>查询所有学生的选课情况, 展示出学生名称, 学号, 课程名称</p><p>表: student , course , student_course</p><p>连接条件: student.id = student_course.studentid , course.id = student_course.courseid</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> s<span class="token punctuation">.</span>name <span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token keyword">no</span> <span class="token punctuation">,</span> c<span class="token punctuation">.</span>name <span class="token keyword">from</span> student s <span class="token punctuation">,</span> student_course sc <span class="token punctuation">,</span> course c <span class="token keyword">where</span> 
s<span class="token punctuation">.</span>id <span class="token operator">=</span> sc<span class="token punctuation">.</span>studentid <span class="token operator">and</span> sc<span class="token punctuation">.</span>courseid <span class="token operator">=</span> c<span class="token punctuation">.</span>id <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><strong>备注: 以上需求的实现方式可能会很多, SQL写法也有很多，只要能满足我们的需求，查询出符合条件的记录即可。</strong></p><h1 id="_6-事务" tabindex="-1"><a class="header-anchor" href="#_6-事务" aria-hidden="true">#</a> 6. 事务</h1><h2 id="_6-1-事务简介" tabindex="-1"><a class="header-anchor" href="#_6-1-事务简介" aria-hidden="true">#</a> 6.1 事务简介</h2><p>事务 是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。</p><p>就比如: 张三给李四转账1000块钱，张三银行账户的钱减少1000，而李四银行账户的钱要增加1000。 这一组操作就必须在一个事务的范围内，要么都成功，要么都失败。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101015227.jpeg" alt=""></p><p>正常情况: 转账这个操作, 需要分为以下这么三步来完成 , 三步完成之后, 张三减少1000, 而李四增加1000, 转账成功 :</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101015319.png" alt=""> <img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101015871.jpeg" alt=""></p><p>异常情况: 转账这个操作, 也是分为以下这么三步来完成 , 在执行第三步是报错了, 这样就导致张三减少1000块钱, 而李四的金额没变, 这样就造成了数据的不一致, 就出现问题了。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101015722.png" alt=""><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101016722.jpeg" alt=""></p><p>为了解决上述的问题，就需要通过数据的事务来完成，我们只需要在业务逻辑执行之前开启事务，执行 完毕后提交事务。如果执行过程中报错，则回滚事务，把数据恢复到事务开始之前的状态。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101016705.jpeg" alt=""></p><p><strong>注意： 默认MySQL的事务是自动提交的，也就是说，当执行完一条DML语句时，MySQL会立即隐式的提交事务。</strong></p><h2 id="_6-2-事务操作" tabindex="-1"><a class="header-anchor" href="#_6-2-事务操作" aria-hidden="true">#</a> 6.2 事务操作</h2><p>数据准备：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> account<span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> account
<span class="token punctuation">(</span>
    id    <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    money <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;余额&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;账户表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> account<span class="token punctuation">(</span>name<span class="token punctuation">,</span> money<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-1-未控制事务" tabindex="-1"><a class="header-anchor" href="#_6-2-1-未控制事务" aria-hidden="true">#</a> 6.2.1 未控制事务</h3><ol><li><p>测试正常情况</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 1. 查询张三余额</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> account <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">-- 2. 张三的余额减少1000</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">1000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">-- 3. 李四的余额增加1000</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">1000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试完毕之后检查数据的状态, 可以看到数据操作前后是一致的。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101017780.png" alt=""></p></li><li><p>测试异常情况</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 1. 查询张三余额</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> account <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">-- 2. 张三的余额减少1000</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">1000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>
  出错了<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token comment">-- 3. 李四的余额增加1000</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">1000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们把数据都恢复到2000， 然后再次一次性执行上述的SQL语句(出错了 这句话不符合SQL语</p><p>法,执行就会报错)，检查最终的数据情况, 发现数据在操作前后不一致了。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101018656.png" alt=""></p></li></ol><h3 id="_6-2-2-控制事务一" tabindex="-1"><a class="header-anchor" href="#_6-2-2-控制事务一" aria-hidden="true">#</a> 6.2.2 控制事务一</h3><ol><li><p>查看/设置事务提交方式</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@autocommit</span> <span class="token punctuation">;</span>
<span class="token keyword">SET</span> @<span class="token variable">@autocommit</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>提交事务</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>回滚事务</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>注意：上述的这种方式，我们是修改了事务的自动提交行为, 把默认的自动提交修改为了手动提交, 此时我们执行的DML语句都不会提交, 需要手动的执行commit进行提交。</strong></p></li></ol><h3 id="_6-2-3-控制事务二" tabindex="-1"><a class="header-anchor" href="#_6-2-3-控制事务二" aria-hidden="true">#</a> 6.2.3 控制事务二</h3><ol><li><p>开启事务</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">START</span>  <span class="token keyword">TRANSACTION</span>   或  <span class="token keyword">BEGIN</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>提交事务</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>回滚事务</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><p>转账案例：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 开启事务</span>
  <span class="token keyword">start</span> <span class="token keyword">transaction</span>

  <span class="token comment">-- 1. 查询张三余额</span>
  <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> account <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>

  <span class="token comment">-- 2. 张三的余额减少1000</span>
<span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">-</span> <span class="token number">1000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">;</span>

   <span class="token comment">-- 3. 李四的余额增加1000</span>
 <span class="token keyword">update</span> account <span class="token keyword">set</span> money <span class="token operator">=</span> money <span class="token operator">+</span> <span class="token number">1000</span> <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>

   <span class="token comment">-- 如果正常执行完毕, 则提交事务</span>
   <span class="token keyword">commit</span><span class="token punctuation">;</span>
   <span class="token comment">-- 如果执行过程中报错, 则回滚事务</span>
   <span class="token comment">-- rollback;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-3-事务四大特性" tabindex="-1"><a class="header-anchor" href="#_6-3-事务四大特性" aria-hidden="true">#</a> 6.3 事务四大特性</h2><ul><li><p>原子性（Atomicity）：事务是不可分割的最小操作单元，要么全部成功，要么全部失败。</p></li><li><p>一致性（Consistency）：事务完成时，必须使所有的数据都保持一致状态。</p></li><li><p>隔离性（Isolation）：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行。</p></li><li><p>持久性（Durability）：事务一旦提交或回滚，它对数据库中的数据的改变就是永久的。</p></li></ul><p>上述就是事务的四大特性，简称ACID。</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101023515.png" alt=""></p><h2 id="_6-4-并发事务问题" tabindex="-1"><a class="header-anchor" href="#_6-4-并发事务问题" aria-hidden="true">#</a> 6.4 并发事务问题</h2><ol><li>赃读：一个事务读到另外一个事务还没有提交的数据。</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101024010.jpeg" alt=""></p><p>比如B读取到了A未提交的数据。</p><ol start="2"><li>不可重复读：一个事务先后读取同一条记录，但两次读取的数据不同，称之为不可重复读。</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101024601.jpeg" alt=""></p><p>事务A两次读取同一条记录，但是读取到的数据却是不一样的。</p><ol start="3"><li>幻读：一个事务按照条件查询数据时，没有对应的数据行，但是在插入数据时，又发现这行数据 已经存在，好像出现了 &quot;幻影&quot;。</li></ol><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101024206.jpeg" alt=""></p><h2 id="_6-5-事务隔离级别" tabindex="-1"><a class="header-anchor" href="#_6-5-事务隔离级别" aria-hidden="true">#</a> 6.5 事务隔离级别</h2><p>为了解决并发事务所引发的问题，在数据库中引入了事务隔离级别。主要有以下几种：</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202208101024817.png" alt="image-20220810102452788"></p><ol><li><p>查看事务隔离级别</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@TRANSACTION_ISOLATION</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>设置事务隔离级别</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SET</span>  <span class="token punctuation">[</span> <span class="token keyword">SESSION</span> <span class="token operator">|</span> <span class="token keyword">GLOBAL</span> <span class="token punctuation">]</span>  <span class="token keyword">TRANSACTION</span>  <span class="token keyword">ISOLATION</span>  <span class="token keyword">LEVEL</span>  { <span class="token keyword">READ</span> <span class="token keyword">UNCOMMITTED</span> <span class="token operator">|</span> 
<span class="token keyword">READ</span> <span class="token keyword">COMMITTED</span> <span class="token operator">|</span> <span class="token keyword">REPEATABLE</span> <span class="token keyword">READ</span> <span class="token operator">|</span> <span class="token keyword">SERIALIZABLE</span> }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>注意：事务隔离级别越高，数据越安全，但是性能越低。</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://gitee.com/xiaweifeng/vuepress-source/edit/master/docs/数据库/MySQL/MySQL-基础篇.md" rel="noopener noreferrer" target="_blank" aria-label="在Gitee上编辑此页"><!--[--><!--]--> 在Gitee上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaweifeng@live.cn">夏一次</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!--]--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.166c275a.js" defer></script>
  </body>
</html>
