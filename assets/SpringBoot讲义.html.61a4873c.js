import{_ as p,o,c,a as n,b as t,e,d as s,r as l}from"./app.3222cd28.js";var i="/assets/image-20220222121257218.accc491a.png",u="/assets/image-20220222123543551.5b062f40.png",r="/assets/image-20220222124006910.12f98a37.png",d="/assets/image-20220222124240069.c16d2b1a.png",k="/assets/image-20220222145535749.8a405233.png",v="/assets/image-20220222173911102.5a4daaab.png",m="/assets/image-20220222174130102.5c387cd7.png",b="/assets/image-20220222225748370.f146b1a5.png",g="/assets/image-20211206100859236.ec4f241c.png",h="/assets/image-20220223125453317.e7a6f5ad.png",y="/assets/image-20220223135454862.dcadf2fa.png",q="/assets/image-20220224091709173.a3a73359.png",f="/assets/image-20220224101142220.9b9a9af6.png",w="/assets/image-20220224103104908.22f9de3d.png",j="/assets/image-20220224111306933.e12c0a8b.png",S="/assets/image-20220224111053408.9a02eca2.png",x="/assets/image-20220224113956882.4107db9a.png",M="/assets/image-20220224114911573.c45ad7ef.png",C="/assets/image-20220224115202422.567767e4.png",A="/assets/image-20220224115254200.4c91a27b.png",T="/assets/image-20220224115300266.aa18654f.png",_="/assets/image-20220224120721626.c46be5f4.png",B="/assets/image-20220225132756400.ed4eafc7.png",I="/assets/image-20220226154148303.cff15db9.png",D="/assets/image-20220226154233010.7948c368.png",R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARYAAABsCAYAAACvg51cAAAPRUlEQVR4nO3df2zT953H8adbuMEqmLZCQahTO5qwjgaKKn5o9jborVKJaaSoMKq0naLwhz10pbbactoODlUo3K7XXWUDo4r/icI0GFG6WQLsjeuObCgpqdpO/LhsYF/X9dqsHWyalt3CAfl+7o+v7diOndjw/SYhfT2kL+DvL39s6fvm83l/P35/PRcuXDCIiDjIY4xRYBERR9022Q0QkelHgUVEHKfAIiKOU2AREccpsIiI4xRYRMRxt125cmWy2yC3oMHBQV588UUGBwcnuykyyQYGBkatU49FqjY4OEgwGGTRokU8//zzCi4yigKLVCUbVJqamggEArzwwgsKLjKKAotULD+oNDQ0ALBkyRIFFxnFMzQ0ZGbNmjXZ7ZBbwODgIG+//Tbr1q0bte3ixYuAHWjkk2VgYIBFixYVrFNgEZGbUiqwaCgkIo5TYBERx7kYWPp5pWUvXR9VsOtH3YRadtDQcoQ+oC+2g1feca9lIuKuGe6ctp9XWn7ISYDv7KCjaOvijWGij83ng2N72frax8BydrbvYQ3YQeaN5TwZcKdlIuI+xwNLNlg8vG0PRx8q2vhRN6EDsP2x+QDc/dizHH3sEl27/jOzwyW6DvwH7wKtLWcLDs0GIxGZ+hwNLB8c28vWN5fzavs6PoztpWvRs2xamNn4zhEa4gt4dfc67gbgEl27InT8T2Z7LpAsZ2f7E3bvJaMvtoOeRQoqIrcKF28328Mhtu3B99YOWnmKo4GlZfY7h6/9CdbQT9ex+WzKDJNeponoyv+yezm5gCQiU0mp280u5VgAlrJ54wK27tsBpYZFWe+c4yRnOdnyMc3ffZZNjxVtX7iO6G73WikiznMlsPTFdtD6xsjrk/t22IncjJF8ySW63oKHP78c3+5l9Ozq5oPGj9n61jJeXQTZ4dL7jXt4rlxgEpEpx9HAkg0oiz+/gMUbm0onW985QijzK+sPjh3m1KJH+OoH54ClPLcbXmn5mJ3tS+HY68B8Nu1+yr5t/d28fI2ITGmOzmNZE9jD0fY9bF9d2f4fDizgyVzwuUTXrh/CtsLELSzluW0L6DjQ7WRTRcRFruVY3n0tQsNrpbct3vj3AKwJPAFcwr4xNJ9Nu/eUPuChJ8rnaERkynEtsJSdd5I3FCrpnSM07LNvPT+8TbeYRW5F+nWziNwU/bpZRCaEAouIOE6BRUQcp8AiIo5TYBERxymwiIjjFFhExHGaxyIijlOPRUQcp8AiIo5TYBERxymwiIjjFFhExHEKLCLiOAUWEXGca4WeDh06hGUMxrIwxmBZBmOs3DrLGD49ezbr169n3rx5bjVDRCaBa4HFMoYnm5pyr03uD1tn5xFWrFjB8USCDX6/govINOLaUMhYFgDDlsXwsMXw8DDDw8NczywA8+bNY9XKlRw9esytZojIJHAvsJhM98SAye+qZFcCBw8eJJlM8pe/Do5xpiRBT5AkQDqKz+MjmgZIE/V5CCYdb/rEKvhM5T6rw5JBPL4o9qnz3rPg3yI3zr2hkGUHj2xQ6TvdR1/faVavWcOaNWt4/PGNGGDG7bez//vfd6sZnwBJgh4/5yMpekI1k90YEcDVHouV66d0HPwBc+9aiP8bTcyat5ADbbGCPoxlrMpOWhOix/Qwra6fcp9p3M9q99g8njgEXG6jSJVcCyyWMWDg7JmzeL+2lvsX38OZ3l+y7L57+fLXH+Xc2bNkh0TGKh4qyfhqCPUYjGmjcbKbIlLE9eRtd/dJ7pg9mx93ddHU1ET8tS4+M2cO3d3d5NIwpsLAko7iG5UDSBL0ePBklsKcS/42H9Fofm5h9LG+XEKj3PpSTfLl9vOMk58ouW/JzzTG+htS+Hk8/pgjZxUpx90eC7B23TqGhobYuGkThw8fZkNDA+/97n2uz5rLz0/1cuXKFSyrwqFQCTF/nEZjMMZgEgFi/vxEpB8SmW2mAzrzL6iR3ITJHG/nKMqtLyEdpTlcRyL7/qaN+nINrWZfRxV/D4aEhk7iMhd7LAYwLF+2nJ5TvyD93vus+spafvWbd7l8xz1s2bKFy5/7Im+eOVd5j6WEQCLvAq3fTsQbI54EknFi3gjbcxtrCO3Mu6Iy2zuKg0a59aXULKGOGP5K7t5Us+8oRT2vao4f9T1AfaMii7jLxR6Lnbw1wNNPPc3l3w/wkx8d4o3TfTy65E5e/+0g9ffP58M//Kny5O2UU09btjfUPN5FX82+5Y41mOmWvJZpaQLmsRgwhlWrV/PMtm2serCOExf/yCNfmMNPL1xm5YMP3FTyNhYfyUKko82EewM01gP1jQR6w7yc25wm2po3FBq1PUk0mi6/vpR0lGgS7ERqioi3l/5UmYZWs+/Nyp8DM973IOIC93oslslMjiuYyc9DdV/is5f7OfGzEzww88/cfdeduXzMjQgQzyUla8N1JHK5i3raUhHO+7NDiGbYnD8EKN4eZ0moZoz1JdSEWBLP7ldLuC5BW7nESTX7OqqetkSAWNnvQcQFQ0NDxg179+0z165dN38bumIvfxsy/1tiuXrtmtnd2upKG0ZJBAzeiElNzLtVJhUxXgImUel6kVuAq3eFDIYZM263l5kzmFligZFZus5KE/Xl365NEvTH8G7ewFRKUaSPd9LrXUpthetFbgWuTek3lmHf/v0Yy2TKJmTKJxgLYxk78BgrU07BjcBSQ6hjKT6PB39mjfeGp73bt2yLMxOBhCkxnKlw32QwM58kQMKERoJdufUitxA9V0hEHKcKciLiOAUWEXGcAouIOE6BRUQcp8AiIo5TYBERxzk+j+Vf/u3fb+r4f/rH5x1qiYhMlknvsXzV5y34e/pJEnSqKHayuFCVyNTkyszblm8+WdX+NYvvBeBUT68bzRGRCebalP4sPYhM5JPH9cAC8He7/rvg9dXd99He3l6wrqWlZSKaIiITYMJyLHM/dRufmuHJvW5paSlYysvkKJJRfPkFs5PBMsWuxyqQ7cB50iPHj128u+h8x0fex1Nw0FiFu6spgl36PHYB75FfeSeD+e9fedFwkWpMWGD5v2HD1eGRXzG3t7cXLGPrJdwKHbmC2R488Ua7VGMqAuGX8wpot7I0lS3jmGJzZ23exV/NeUoV1E4TfTlzfJni3aWLcPcS7h95H2+sNe/Jh+XaW00R7PLnqQn1kAjEaI2mIRnEfz5Cqq2+gu9K5CY4Xehpz0vfMwMDA7nl6tWrhm//2ni+82vDt+3l6tWrJZc9L32vxBkTJoDXRFIVvE4EsgXrChavvbG684xRECoV8eadP1OMqewxxe+TMhFvBe0tdb5y7zHm5862AUN+O8Y9RuTGTUiOBaC45Ep+L8XR/Io3QqqnVB0TBwrMpqP4asMQSWFMTeZ1/82ds1x7q+05lP3cDh8jUoFJm8dSWX6lSqMKR0MyeAMP/SpXUDvVT2/eo0HSxzvpHe+YG23veEWwxyyYXfi5k0F7iJaKQLg5Mw/Gqe9KpIQJ6bFc3X3fRLwN2ULYvloP2TRxIGFou+nzBEiYNmA7kdZaaj1hALyBAN5xjxmrpzRWe+0i2B6/J1ONzkskEoDO6s6TDHoyeZUaaugg0llLbXAJps2p70pkNMcryGlKv4ioNKWIOG7SfyskItOPAouIOE6BRUQcp8AiIo5TYBERxymwiIjjXJsgd+jQIfsxqtlHq1qZR6pm1lnG8OnZs1m/fr1qtohMM64FFssYnmxqyr02uT9snZ1HWLFiBccTCTb4/QouItOIa0MhY1kADFsWw8MWw8PDDA8Pcz2zgF1dbtXKlRw9esytZojIJHAvsGR/zmzAYIq3AnDw4EGSySR/+eugg+/sYPHqqt96ChW7LmhLkqAnv26Mfmwo7nItsFiWHTyyQaXvdB9790bp6zsNwOOPb+QfntlGKBTGWMWBZzpJE/XlVYEreVEXVYoLFvzkOO/YSQqYIlVyscdi5fopHQd/wNy7FuL/RhOz5i3kQFusoA9jGesm3sm+cKdk5bN0FJ+nlv6dI1XgjGkknt+rSQbxFFWKM43xTJnIJMHWpaRyFevqCNeqtyFTn3s9FmPAwNkzZ/F+bS33L76HM72/ZNl99/Llrz/KubNnyQ6JpmePJU20OUxdwtBWn7++nrZccaUkQX/MLleQv099W6asZf6+2DVUOM9F9VpkinM9edvdfZI7Zs/mx11dNDU1EX+ti8/MmUN3d3euqpwpLi9XINsjKRwujNSFrSXci12/Nr8nULJ4ddG5CnIQZYpKV1E8u6DYdfo4nUTYXhBUiiTjxLzj7FO8P3UsKVnyrZrC2yLucrfHAqxdt46hoSE2btrE4cOH2dDQwHu/e5/rs+by81O9XLlyBcsafygU88dpHFXEup42kyLitYsUmdz/7uWKVxedqydEzZhFpccvnl222HWqn4LHrxUEqBsYzqSj+PwxAok2Rsehagpvi7jPxR6LXZ95+bLl9Jz6Ben33mfVV9byq9+8y+U77mHLli1c/twXefPMuXF6LLaCC6p+OxFvjHjZq9NLJNsNqNnA5qKntxacKxknRi/h2uxFb/eAzl9MAzWE2kIQ9Y3uBZTobdQ3jnE114ToMQZjElR7zaejPjy1nWxOFQ+rbrAtIi5zscdi5Uq/P/3U01z+/QA/+dEh3jjdx6NL7uT13w5Sf/98PvzDn24yeesAb2QkQZr/6I5ML6OZjpHeT6XnrG8k0NvJ8bHyIRXskwx6qO3fiTE9hFT1Wm4REzCPxYAxrFq9mme2bWPVg3WcuPhHHvnCHH564TIrH3ygouRtLK97ko42E+4N0FhpbmIsYxWVrqp4dlGxa+rZHoFw7Vi3iMvskwzaeZ50lNZYgESpbsqYxbSL2yIysdydx2JGHliT9VDdl/js5X5O/OwED8z8M3ffdWcuHzOWAPFcYrI2XEfCZIczNWzY7B2dvK2YXVT6vH8k8RlvzJy7fjsRwtRm1jf31xUWz84+9MzjweNphs2Fw4+aUA8mtZnO2rykqsfP+cj23FCsJtSTuY2ct0+80e4xpfrpJYY/Pyk7KoFcWVtEJpJrNW/37d/P1m9t5dr16/YKM3r+LcDMmTP415de4p937ChzpjRRnz0XpGR+QUSmHFd/hGgwzJhx+/j7Tst5LCKfXK4FFmMZ9u3fj7FMpmxCpnyCsTCWsQOPsTLlFBRYRKYTPf5DRBynCnIi4jgFFhFxnAKLiDhOgUVEHKfAIiKOU2AREcf9P/gtt3CW5hgoAAAAAElFTkSuQmCC",E="/assets/image-20220226175141986.03482c5a.png",L="/assets/image-20220226175302903.b6df5ce8.png",P="/assets/image-20220226175441675.6568c5e9.png",O="/assets/image-20220228111251036.19b23fcf.png",F="/assets/image-20220228160001620.fbb28ea1.png",Q="/assets/image-20220228160844972.2d44f424.png",N="/assets/image-20220228161010401.4014bcc8.png",z="/assets/image-20220228164851551.0f434c81.png",J="/assets/image-20220228165151524.5815b1d0.png",H="/assets/image-20220228170147193.abe98ec4.png",U="/assets/image-20220228170504793.2dfbe071.png",X="/assets/image-20220228170535261.36004c49.png",K="/assets/image-20220228174453471.aea5a0b9.png",Y="/assets/image-20220228175123790.a1fc5df4.png",V="/assets/image-20220228181442155.86b42668.png",W="/assets/image-20220301093704396.88e34967.png",G="/assets/image-20220301094001896.006574de.png",Z="/assets/image-20220301094259844.a6950469.png",$="/assets/image-20220301094547748.2701ec0f.png",nn="/assets/image-20220301102432817.4adab24a.png",sn="/assets/image-20220301103028468.117a57d4.png",an="/assets/image-20220301103838079.8b891ee7.png",tn="/assets/image-20220301103936386.4ca63f6b.png",en="/assets/image-20220301104742563.b8075cdf.png",pn="/assets/image-20220301105116554.e8d00f5c.png",on="/assets/image-20220301105554494.f564b9d0.png",cn="/assets/image-20220301110352170.31095f34.png",ln="/assets/image-20220301161246835.5a2747ba.png",un="/assets/image-20220301161418791.4d44236c.png",rn="/assets/image-20220301162008737.1aa4d5c9.png",dn="/assets/image-20220301161906949.2cb5c53f.png",kn="/assets/image-20220301162040670.9137be5d.png",vn="/assets/image-20220301170214076.b47395c9.png",mn="/assets/image-20220301170723057.416ac8d3.png",bn="/assets/image-20220301171025615.4eabe937.png",gn="/assets/image-20220301171437817.a966c2f7.png",hn="/assets/image-20220301174133248.0467e976.png",yn="/assets/image-20220301174241310.845523ad.png",qn="/assets/image-20220301174751845.d9f85027.png",fn="/assets/image-20220301175101812.5fc894cf.png",wn="/assets/image-20220301175355482.e5ce5152.png";const jn={},Sn=e(`<h1 id="springboot\u5F00\u53D1\u5B9E\u7528\u7BC7" tabindex="-1"><a class="header-anchor" href="#springboot\u5F00\u53D1\u5B9E\u7528\u7BC7" aria-hidden="true">#</a> SpringBoot\u5F00\u53D1\u5B9E\u7528\u7BC7</h1><p>\u200B \u6000\u7740\u5FD0\u5FD1\u7684\u5FC3\u60C5\uFF0C\u5F00\u59CB\u4E86\u5F00\u53D1\u5B9E\u7528\u7BC7\u6587\u6863\u7684\u7F16\u5199\u3002\u4E3A\u4EC0\u4E48\u5FD0\u5FD1\uFF1F\u7279\u55B5\u7684\u503A\u6B20\u7684\u592A\u591A\uFF0C\u4E0D\u77E5\u9053\u4ECE\u4F55\u5199\u8D77\u3002\u54CE\uFF0C\u4E0D\u717D\u60C5\u4E86\uFF0C\u5F00\u5DE5\u3002</p><p>\u200B \u8FD0\u7EF4\u5B9E\u7528\u7BC7\u5B8C\u7ED3\u4EE5\u540E\uFF0C\u5F00\u53D1\u5B9E\u7528\u7BC7\u91C7\u7528\u65E5\u66F4\u65B0\u7684\u5F62\u5F0F\u53D1\u5E03\u7ED9\u5404\u4F4D\u5C0F\u4F19\u4F34\uFF0C\u57FA\u672C\u4E0A\u662F\u6BCF\u5929\u4E00\u96C6\uFF0C\u76EE\u524D\u5DF2\u7ECF\u53D1\u5E03\u5B8C\u6BD5\u3002\u770B\u8BC4\u8BBA\u533A\uFF0C\u597D\u591A\u5C0F\u4F19\u4F34\u5728\u6C42\u6587\u6863\uFF0C\u6240\u4EE5\u8D76\u7D27\u6765\u8865\u6587\u6863\uFF0C\u52A0\u73ED\u52A0\u70B9\u628A\u5F00\u53D1\u5B9E\u7528\u7BC7\u7684\u6587\u6863\u5228\u51FA\u6765\u3002</p><p>\u200B \u5F00\u53D1\u5B9E\u7528\u7BC7\u4E2D\u56E0\u4E3A\u7275\u626F\u5230SpringBoot\u6574\u5408\u5404\u79CD\u5404\u6837\u7684\u6280\u672F\uFF0C\u7531\u4E8E\u4E0D\u662F\u6BCF\u4E2A\u5C0F\u4F19\u4F34\u5BF9\u5404\u79CD\u6280\u672F\u90FD\u6709\u6240\u638C\u63E1\uFF0C\u6240\u4EE5\u5728\u6574\u5408\u6BCF\u4E00\u4E2A\u6280\u672F\u4E4B\u524D\uFF0C\u90FD\u4F1A\u505A\u4E00\u4E2A\u5FEB\u901F\u7684\u666E\u53CA\uFF0C\u8FD9\u6837\u7684\u8BDD\u5185\u5BB9\u6574\u4E2A\u5F00\u53D1\u5B9E\u7528\u7BC7\u6240\u5305\u542B\u7684\u5185\u5BB9\u5C31\u4F1A\u6BD4\u8F83\u591A\u3002\u5404\u4F4D\u5C0F\u4F19\u4F34\u5728\u5B66\u4E60\u7684\u65F6\u5019\uFF0C\u5982\u679C\u5BF9\u67D0\u4E00\u4E2A\u6280\u672F\u4E0D\u662F\u5F88\u6E05\u695A\uFF0C\u53EF\u4EE5\u5148\u8DF3\u8FC7\u5BF9\u5E94\u7AE0\u8282\uFF0C\u6216\u8005\u5148\u8865\u5145\u4E00\u4E0B\u6280\u672F\u77E5\u8BC6\uFF0C\u7136\u540E\u518D\u6765\u770B\u5BF9\u5E94\u7684\u8BFE\u7A0B\u3002\u5F00\u53D1\u5B9E\u7528\u7BC7\u5177\u4F53\u5305\u542B\u7684\u5185\u5BB9\u5982\u4E0B\uFF1A</p><ul><li>\u70ED\u90E8\u7F72</li><li>\u914D\u7F6E\u9AD8\u7EA7</li><li>\u6D4B\u8BD5</li><li>\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848</li><li>\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F</li><li>\u76D1\u63A7</li></ul><p>\u200B \u770B\u76EE\u5F55\u611F\u89C9\u5185\u5BB9\u91CF\u5E76\u4E0D\u662F\u5F88\u5927\uFF0C\u4F46\u662F\u5728\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u548C\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u4E2D\u5305\u542B\u4E86\u5927\u91CF\u7684\u77E5\u8BC6\uFF0C\u4E00\u70B9\u4E00\u70B9\u6162\u6162\u5B66\u5427\u3002\u4E0B\u9762\u5F00\u542F\u7B2C\u4E00\u90E8\u5206\u70ED\u90E8\u7F72\u76F8\u5173\u77E5\u8BC6\u7684\u5B66\u4E60</p><h2 id="_1-\u70ED\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#_1-\u70ED\u90E8\u7F72" aria-hidden="true">#</a> 1.\u70ED\u90E8\u7F72</h2><p>\u200B \u4EC0\u4E48\u662F\u70ED\u90E8\u7F72\uFF1F\u7B80\u5355\u8BF4\u5C31\u662F\u4F60\u7A0B\u5E8F\u6539\u4E86\uFF0C\u73B0\u5728\u8981\u91CD\u65B0\u542F\u52A8\u670D\u52A1\u5668\uFF0C\u5ACC\u9EBB\u70E6\uFF1F\u4E0D\u7528\u91CD\u542F\uFF0C\u670D\u52A1\u5668\u4F1A\u81EA\u5DF1\u6084\u6084\u7684\u628A\u66F4\u65B0\u540E\u7684\u7A0B\u5E8F\u7ED9\u91CD\u65B0\u52A0\u8F7D\u4E00\u904D\uFF0C\u8FD9\u5C31\u662F\u70ED\u90E8\u7F72\u3002</p><p>\u200B \u70ED\u90E8\u7F72\u7684\u529F\u80FD\u662F\u5982\u4F55\u5B9E\u73B0\u7684\u5462\uFF1F\u8FD9\u5C31\u8981\u5206\u4E24\u79CD\u60C5\u51B5\u6765\u8BF4\u4E86\uFF0C\u975Espringboot\u5DE5\u7A0B\u548Cspringboot\u5DE5\u7A0B\u7684\u70ED\u90E8\u7F72\u5B9E\u73B0\u65B9\u5F0F\u5B8C\u5168\u4E0D\u4E00\u6837\u3002\u5148\u8BF4\u4E00\u4E0B\u539F\u59CB\u7684\u975Espringboot\u9879\u76EE\u662F\u5982\u4F55\u5B9E\u73B0\u70ED\u90E8\u7F72\u7684\u3002</p><p><strong>\u975Espringboot\u9879\u76EE\u70ED\u90E8\u7F72\u5B9E\u73B0\u539F\u7406</strong></p><p>\u200B \u5F00\u53D1\u975Espringboot\u9879\u76EE\u65F6\uFF0C\u6211\u4EEC\u8981\u5236\u4F5C\u4E00\u4E2Aweb\u5DE5\u7A0B\u5E76\u901A\u8FC7tomcat\u542F\u52A8\uFF0C\u901A\u5E38\u9700\u8981\u5148\u5B89\u88C5tomcat\u670D\u52A1\u5668\u5230\u78C1\u76D8\u4E2D\uFF0C\u5F00\u53D1\u7684\u7A0B\u5E8F\u914D\u7F6E\u53D1\u5E03\u5230\u5B89\u88C5\u7684tomcat\u670D\u52A1\u5668\u4E0A\u3002\u5982\u679C\u60F3\u5B9E\u73B0\u70ED\u90E8\u7F72\u7684\u6548\u679C\uFF0C\u8FD9\u79CD\u60C5\u51B5\u5176\u5B9E\u6709\u4E24\u79CD\u505A\u6CD5\uFF0C\u4E00\u79CD\u662F\u5728tomcat\u670D\u52A1\u5668\u7684\u914D\u7F6E\u6587\u4EF6\u4E2D\u8FDB\u884C\u914D\u7F6E\uFF0C\u8FD9\u79CD\u505A\u6CD5\u4E0E\u4F60\u4F7F\u7528\u4EC0\u4E48IDE\u5DE5\u5177\u65E0\u5173\uFF0C\u4E0D\u7BA1\u4F60\u4F7F\u7528eclipse\u8FD8\u662Fidea\u90FD\u884C\u3002\u8FD8\u6709\u4E00\u79CD\u505A\u6CD5\u662F\u901A\u8FC7IDE\u5DE5\u5177\u8FDB\u884C\u914D\u7F6E\uFF0C\u6BD4\u5982\u5728idea\u5DE5\u5177\u4E2D\u8FDB\u884C\u8BBE\u7F6E\uFF0C\u8FD9\u79CD\u5F62\u5F0F\u9700\u8981\u4F9D\u8D56IDE\u5DE5\u5177\uFF0C\u6BCF\u6B3EIDE\u5DE5\u5177\u4E0D\u540C\uFF0C\u5BF9\u5E94\u7684\u914D\u7F6E\u4E5F\u4E0D\u592A\u4E00\u6837\u3002\u4F46\u662F\u6838\u5FC3\u601D\u60F3\u662F\u4E00\u6837\u7684\uFF0C\u5C31\u662F\u4F7F\u7528\u670D\u52A1\u5668\u53BB\u76D1\u63A7\u5176\u4E2D\u52A0\u8F7D\u7684\u5E94\u7528\uFF0C\u53D1\u73B0\u4EA7\u751F\u4E86\u53D8\u5316\u5C31\u91CD\u65B0\u52A0\u8F7D\u4E00\u6B21\u3002</p><p>\u200B \u4E0A\u9762\u6240\u8BF4\u7684\u975Espringboot\u9879\u76EE\u5B9E\u73B0\u70ED\u90E8\u7F72\u770B\u4E0A\u53BB\u662F\u4E00\u4E2A\u975E\u5E38\u7B80\u5355\u7684\u8FC7\u7A0B\uFF0C\u51E0\u4E4E\u6BCF\u4E2A\u5C0F\u4F19\u4F34\u90FD\u80FD\u81EA\u5DF1\u5199\u51FA\u6765\u3002\u5982\u679C\u4F60\u4E0D\u4F1A\u5199\uFF0C\u6211\u7ED9\u4F60\u4E2A\u6700\u7B80\u5355\u7684\u601D\u8DEF\uFF0C\u4F46\u662F\u5B9E\u9645\u8BBE\u8BA1\u8981\u6BD4\u8FD9\u590D\u6742\u4E00\u4E9B\u3002\u4F8B\u5982\u542F\u52A8\u4E00\u4E2A\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u4EFB\u52A1\u542F\u52A8\u65F6\u8BB0\u5F55\u6BCF\u4E2A\u6587\u4EF6\u7684\u5927\u5C0F\uFF0C\u4EE5\u540E\u6BCF5\u79D2\u6BD4\u5BF9\u4E00\u4E0B\u6BCF\u4E2A\u6587\u4EF6\u7684\u5927\u5C0F\u662F\u5426\u6709\u6539\u53D8\uFF0C\u6216\u8005\u662F\u5426\u6709\u65B0\u6587\u4EF6\u3002\u5982\u679C\u6CA1\u6709\u6539\u53D8\uFF0C\u653E\u884C\uFF0C\u5982\u679C\u6709\u6539\u53D8\uFF0C\u5237\u65B0\u5F53\u524D\u8BB0\u5F55\u7684\u6587\u4EF6\u4FE1\u606F\uFF0C\u7136\u540E\u91CD\u65B0\u542F\u52A8\u670D\u52A1\u5668\uFF0C\u8FD9\u5C31\u53EF\u4EE5\u5B9E\u73B0\u70ED\u90E8\u7F72\u4E86\u3002\u5F53\u7136\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u80AF\u5B9A\u4E0D\u80FD\u8FD9\u4E48\u505A\uFF0C\u6BD4\u5982\u6211\u628A\u4E00\u4E2A\u6253\u5370\u8F93\u51FA\u7684\u5B57\u7B26\u4E32&quot;abc&quot;\u6539\u6210&quot;cba&quot;\uFF0C\u6BD4\u5BF9\u5927\u5C0F\u662F\u6CA1\u6709\u53D8\u5316\u7684\uFF0C\u4F46\u662F\u5185\u5BB9\u7F3A\u5B9E\u53D8\u4E86\uFF0C\u6240\u4EE5\u8FD9\u4E48\u505A\u80AF\u5B9A\u4E0D\u884C\uFF0C\u53EA\u662F\u7ED9\u5927\u5BB6\u6253\u4E2A\u6BD4\u65B9\uFF0C\u800C\u4E14\u91CD\u542F\u670D\u52A1\u5668\u8FD9\u5C31\u662F\u51B7\u542F\u52A8\u4E86\uFF0C\u4E0D\u80FD\u7B97\u70ED\u90E8\u7F72\uFF0C\u9886\u4F1A\u7CBE\u795E\u5427\u3002</p><p>\u200B \u770B\u4E0A\u53BB\u8FD9\u4E2A\u8FC7\u7A0B\u4E5F\u6CA1\u591A\u590D\u6742\uFF0C\u5728springboot\u9879\u76EE\u4E2D\u96BE\u9053\u8FD8\u6709\u5176\u4ED6\u7684\u5F2F\u5F2F\u7ED5\u5417\uFF1F\u8FD8\u771F\u6709\u3002</p><p><strong>springboot\u9879\u76EE\u70ED\u90E8\u7F72\u5B9E\u73B0\u539F\u7406</strong></p><p>\u200B \u57FA\u4E8Espringboot\u5F00\u53D1\u7684web\u5DE5\u7A0B\u5176\u5B9E\u6709\u4E00\u4E2A\u663E\u8457\u7684\u7279\u5F81\uFF0C\u5C31\u662Ftomcat\u670D\u52A1\u5668\u5185\u7F6E\u4E86\uFF0C\u8FD8\u8BB0\u5F97\u5185\u5D4C\u670D\u52A1\u5668\u5417\uFF1F\u670D\u52A1\u5668\u662F\u4EE5\u4E00\u4E2A\u5BF9\u8C61\u7684\u5F62\u5F0F\u5728spring\u5BB9\u5668\u4E2D\u8FD0\u884C\u7684\u3002\u672C\u6765\u6211\u4EEC\u671F\u671B\u4E8Etomcat\u670D\u52A1\u5668\u52A0\u8F7D\u7A0B\u5E8F\u540E\u7531tomcat\u670D\u52A1\u5668\u76EF\u7740\u7A0B\u5E8F\uFF0C\u4F60\u53D8\u5316\u540E\u6211\u5C31\u91CD\u65B0\u542F\u52A8\u91CD\u65B0\u52A0\u8F7D\uFF0C\u4F46\u662F\u73B0\u5728tomcat\u548C\u6211\u4EEC\u7684\u7A0B\u5E8F\u662F\u5E73\u7EA7\u7684\u4E86\uFF0C\u90FD\u662Fspring\u5BB9\u5668\u4E2D\u7684\u7EC4\u4EF6\uFF0C\u8FD9\u4E0B\u5C31\u9EBB\u70E6\u4E86\uFF0C\u7F3A\u4E4F\u4E86\u4E00\u4E2A\u76F4\u63A5\u7684\u7BA1\u7406\u6743\uFF0C\u90A3\u8BE5\u600E\u4E48\u505A\u5462\uFF1F\u7B80\u5355\uFF0C\u518D\u641E\u4E00\u4E2A\u7A0B\u5E8FX\u5728spring\u5BB9\u5668\u4E2D\u76EF\u7740\u4F60\u539F\u59CB\u5F00\u53D1\u7684\u7A0B\u5E8FA\u4E0D\u5C31\u884C\u4E86\u5417\uFF1F\u786E\u5B9E\uFF0C\u641E\u4E00\u4E2A\u76EF\u7740\u7A0B\u5E8FA\u7684\u7A0B\u5E8FX\u5C31\u884C\u4E86\uFF0C\u5982\u679C\u4F60\u81EA\u5DF1\u5F00\u53D1\u7684\u7A0B\u5E8FA\u53D8\u5316\u4E86\uFF0C\u90A3\u4E48\u7A0B\u5E8FX\u5C31\u547D\u4EE4tomcat\u5BB9\u5668\u91CD\u65B0\u52A0\u8F7D\u7A0B\u5E8FA\u5C31OK\u4E86\u3002\u5E76\u4E14\u8FD9\u6837\u505A\u6709\u4E00\u4E2A\u597D\u5904\uFF0Cspring\u5BB9\u5668\u4E2D\u4E1C\u897F\u4E0D\u7528\u5168\u90E8\u91CD\u65B0\u52A0\u8F7D\u4E00\u904D\uFF0C\u53EA\u9700\u8981\u91CD\u65B0\u52A0\u8F7D\u4F60\u5F00\u53D1\u7684\u7A0B\u5E8F\u90A3\u4E00\u90E8\u5206\u5C31\u53EF\u4EE5\u4E86\uFF0C\u8FD9\u4E0B\u6548\u7387\u53C8\u9AD8\u4E86\uFF0C\u633A\u597D\u3002</p><p>\u200B \u4E0B\u9762\u5C31\u8BF4\u8BF4\uFF0C\u600E\u4E48\u641E\u51FA\u6765\u8FD9\u4E48\u4E00\u4E2A\u7A0B\u5E8FX\uFF0C\u80AF\u5B9A\u4E0D\u662F\u6211\u4EEC\u81EA\u5DF1\u624B\u5199\u4E86\uFF0Cspringboot\u65E9\u5C31\u505A\u597D\u4E86\uFF0C\u641E\u4E00\u4E2A\u5750\u6807\u5BFC\u5165\u8FDB\u53BB\u5C31\u884C\u4E86\u3002</p><h3 id="_1-1-\u624B\u52A8\u542F\u52A8\u70ED\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#_1-1-\u624B\u52A8\u542F\u52A8\u70ED\u90E8\u7F72" aria-hidden="true">#</a> 1-1.\u624B\u52A8\u542F\u52A8\u70ED\u90E8\u7F72</h3><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165\u5F00\u53D1\u8005\u5DE5\u5177\u5BF9\u5E94\u7684\u5750\u6807</p><div class="language-XML ext-XML line-numbers-mode"><pre class="language-XML"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u6784\u5EFA\u9879\u76EE\uFF0C\u53EF\u4EE5\u4F7F\u7528\u5FEB\u6377\u952E\u6FC0\u6D3B\u6B64\u529F\u80FD</p><p><img src="`+i+`" alt="image-20220222121257218"></p><p>\u200B \u5BF9\u5E94\u7684\u5FEB\u6377\u952E\u4E00\u5B9A\u8981\u8BB0\u5F97</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>&lt;CTR&gt;L+&lt;F9&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u4EE5\u4E0A\u8FC7\u7A0B\u5C31\u5B9E\u73B0\u4E86springboot\u5DE5\u7A0B\u7684\u70ED\u90E8\u7F72\uFF0C\u662F\u4E0D\u662F\u633A\u7B80\u5355\u7684\u3002\u4E0D\u8FC7\u8FD9\u91CC\u9700\u8981\u628A\u5E95\u5C42\u7684\u5DE5\u4F5C\u5DE5\u7A0B\u7ED9\u666E\u53CA\u4E00\u4E0B\u3002</p><p><strong>\u91CD\u542F\u4E0E\u91CD\u8F7D</strong></p><p>\u200B \u4E00\u4E2Aspringboot\u9879\u76EE\u5728\u8FD0\u884C\u65F6\u5B9E\u9645\u4E0A\u662F\u5206\u4E24\u4E2A\u8FC7\u7A0B\u8FDB\u884C\u7684\uFF0C\u6839\u636E\u52A0\u8F7D\u7684\u4E1C\u897F\u4E0D\u540C\uFF0C\u5212\u5206\u6210base\u7C7B\u52A0\u8F7D\u5668\u4E0Erestart\u7C7B\u52A0\u8F7D\u5668\u3002</p><ul><li>base\u7C7B\u52A0\u8F7D\u5668\uFF1A\u7528\u6765\u52A0\u8F7Djar\u5305\u4E2D\u7684\u7C7B\uFF0Cjar\u5305\u4E2D\u7684\u7C7B\u548C\u914D\u7F6E\u6587\u4EF6\u7531\u4E8E\u4E0D\u4F1A\u53D1\u751F\u53D8\u5316\uFF0C\u56E0\u6B64\u4E0D\u7BA1\u52A0\u8F7D\u591A\u5C11\u6B21\uFF0C\u52A0\u8F7D\u7684\u5185\u5BB9\u4E0D\u4F1A\u53D1\u751F\u53D8\u5316</li><li>restart\u7C7B\u52A0\u8F7D\u5668\uFF1A\u7528\u6765\u52A0\u8F7D\u5F00\u53D1\u8005\u81EA\u5DF1\u5F00\u53D1\u7684\u7C7B\u3001\u914D\u7F6E\u6587\u4EF6\u3001\u9875\u9762\u7B49\u4FE1\u606F\uFF0C\u8FD9\u4E00\u7C7B\u6587\u4EF6\u53D7\u5F00\u53D1\u8005\u5F71\u54CD</li></ul><p>\u200B \u5F53springboot\u9879\u76EE\u542F\u52A8\u65F6\uFF0Cbase\u7C7B\u52A0\u8F7D\u5668\u6267\u884C\uFF0C\u52A0\u8F7Djar\u5305\u4E2D\u7684\u4FE1\u606F\u540E\uFF0Crestart\u7C7B\u52A0\u8F7D\u5668\u6267\u884C\uFF0C\u52A0\u8F7D\u5F00\u53D1\u8005\u5236\u4F5C\u7684\u5185\u5BB9\u3002\u5F53\u6267\u884C\u6784\u5EFA\u9879\u76EE\u540E\uFF0C\u7531\u4E8Ejar\u4E2D\u7684\u4FE1\u606F\u4E0D\u4F1A\u53D8\u5316\uFF0C\u56E0\u6B64base\u7C7B\u52A0\u8F7D\u5668\u65E0\u9700\u518D\u6B21\u6267\u884C\uFF0C\u6240\u4EE5\u4EC5\u4EC5\u8FD0\u884Crestart\u7C7B\u52A0\u8F7D\u5373\u53EF\uFF0C\u4E5F\u5C31\u662F\u5C06\u5F00\u53D1\u8005\u81EA\u5DF1\u5236\u4F5C\u7684\u5185\u5BB9\u91CD\u65B0\u52A0\u8F7D\u5C31\u884C\u4E86\uFF0C\u8FD9\u5C31\u5B8C\u6210\u4E86\u4E00\u6B21\u70ED\u90E8\u7F72\u7684\u8FC7\u7A0B\uFF0C\u4E5F\u53EF\u4EE5\u8BF4\u70ED\u90E8\u7F72\u7684\u8FC7\u7A0B\u5B9E\u9645\u4E0A\u662F\u91CD\u65B0\u52A0\u8F7Drestart\u7C7B\u52A0\u8F7D\u5668\u4E2D\u7684\u4FE1\u606F\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u4F7F\u7528\u5F00\u53D1\u8005\u5DE5\u5177\u53EF\u4EE5\u4E3A\u5F53\u524D\u9879\u76EE\u5F00\u542F\u70ED\u90E8\u7F72\u529F\u80FD</li><li>\u4F7F\u7528\u6784\u5EFA\u9879\u76EE\u64CD\u4F5C\u5BF9\u5DE5\u7A0B\u8FDB\u884C\u70ED\u90E8\u7F72</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u4E0A\u8FF0\u8FC7\u7A0B\u6BCF\u6B21\u8FDB\u884C\u70ED\u90E8\u7F72\u90FD\u9700\u8981\u5F00\u53D1\u8005\u624B\u5DE5\u64CD\u4F5C\uFF0C\u4E0D\u7BA1\u662F\u70B9\u51FB\u6309\u94AE\u8FD8\u662F\u5FEB\u6377\u952E\u90FD\u9700\u8981\u5F00\u53D1\u8005\u624B\u5DE5\u6267\u884C\u3002\u8FD9\u79CD\u64CD\u4F5C\u7684\u5E94\u7528\u573A\u666F\u4E3B\u8981\u662F\u5728\u5F00\u53D1\u8C03\u8BD5\u671F\uFF0C\u5E76\u4E14\u8C03\u8BD5\u7684\u4EE3\u7801\u5904\u4E8E\u4E0D\u540C\u7684\u6587\u4EF6\u4E2D\uFF0C\u6BD4\u5982\u670D\u52A1\u5668\u542F\u52A8\u4E86\uFF0C\u6211\u9700\u8981\u65394\u4E2A\u6587\u4EF6\u4E2D\u7684\u5185\u5BB9\uFF0C\u7136\u540E\u91CD\u542F\uFF0C\u7B494\u4E2A\u6587\u4EF6\u90FD\u6539\u5B8C\u4E86\u518D\u6267\u884C\u70ED\u90E8\u7F72\uFF0C\u4F7F\u7528\u4E00\u4E2A\u5FEB\u6377\u952E\u5C31OK\u4E86\u3002\u4F46\u662F\u5982\u679C\u73B0\u5728\u5F00\u53D1\u8005\u8981\u4FEE\u6539\u7684\u5185\u5BB9\u5C31\u53EA\u6709\u4E00\u4E2A\u6587\u4EF6\u4E2D\u7684\u5C11\u91CF\u4EE3\u7801\uFF0C\u8FD9\u4E2A\u65F6\u5019\u4EE3\u7801\u4FEE\u6539\u5B8C\u6BD5\u5982\u679C\u80FD\u591F\u8BA9\u7A0B\u5E8F\u81EA\u5DF1\u6267\u884C\u70ED\u90E8\u7F72\u529F\u80FD\uFF0C\u5C31\u53EF\u4EE5\u51CF\u5C11\u5F00\u53D1\u8005\u7684\u64CD\u4F5C\uFF0C\u4E5F\u5C31\u662F\u81EA\u52A8\u8FDB\u884C\u70ED\u90E8\u7F72\uFF0C\u80FD\u8FD9\u4E48\u505A\u5417\uFF1F\u662F\u53EF\u4EE5\u7684\u3002\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BF4\u3002</p><p>\u200B</p><h3 id="_1-2-\u81EA\u52A8\u542F\u52A8\u70ED\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#_1-2-\u81EA\u52A8\u542F\u52A8\u70ED\u90E8\u7F72" aria-hidden="true">#</a> 1-2.\u81EA\u52A8\u542F\u52A8\u70ED\u90E8\u7F72</h3><p>\u200B \u81EA\u52A8\u70ED\u90E8\u7F72\u5176\u5B9E\u5C31\u662F\u8BBE\u8BA1\u4E00\u4E2A\u5F00\u5173\uFF0C\u6253\u5F00\u8FD9\u4E2A\u5F00\u5173\u540E\uFF0CIDE\u5DE5\u5177\u5C31\u53EF\u4EE5\u81EA\u52A8\u70ED\u90E8\u7F72\u3002\u56E0\u6B64\u8FD9\u4E2A\u64CD\u4F5C\u548CIDE\u5DE5\u5177\u6709\u5173\uFF0C\u4EE5\u4E0B\u4EE5idea\u4E3A\u4F8B\u8BBE\u7F6Eidea\u4E2D\u542F\u52A8\u70ED\u90E8\u7F72</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u8BBE\u7F6E\u81EA\u52A8\u6784\u5EFA\u9879\u76EE</p><p>\u200B \u6253\u5F00\u3010File\u3011\uFF0C\u9009\u62E9\u3010settings...\u3011,\u5728\u9762\u677F\u5DE6\u4FA7\u7684\u83DC\u5355\u4E2D\u627E\u5230\u3010Compile\u3011\u9009\u9879\uFF0C\u7136\u540E\u52FE\u9009\u3010Build project automatically\u3011\uFF0C\u610F\u601D\u662F\u81EA\u52A8\u6784\u5EFA\u9879\u76EE</p><p><img src="`+u+'" alt="image-20220222123543551"></p><p>\u200B \u81EA\u52A8\u6784\u5EFA\u9879\u76EE\u9009\u9879\u52FE\u9009\u540E</p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5141\u8BB8\u5728\u7A0B\u5E8F\u8FD0\u884C\u65F6\u8FDB\u884C\u81EA\u52A8\u6784\u5EFA</p><p>\u200B \u4F7F\u7528\u5FEB\u6377\u952E\u3010Ctrl\u3011+\u3010Alt\u3011+\u3010Shit\u3011+\u3010/\u3011\u6253\u5F00\u7EF4\u62A4\u9762\u677F\uFF0C\u9009\u62E9\u7B2C1\u9879\u3010Registry...\u3011</p><p><img src="'+r+'" alt="image-20220222124006910"></p><p>\u200B \u5728\u9009\u9879\u4E2D\u641C\u7D22comple\uFF0C\u7136\u540E\u52FE\u9009\u5BF9\u5E94\u9879\u5373\u53EF</p><img src="'+d+`" alt="image-20220222124240069" style="zoom:80%;"><p>\u200B \u8FD9\u6837\u7A0B\u5E8F\u5728\u8FD0\u884C\u7684\u65F6\u5019\u5C31\u53EF\u4EE5\u8FDB\u884C\u81EA\u52A8\u6784\u5EFA\u4E86\uFF0C\u5B9E\u73B0\u4E86\u70ED\u90E8\u7F72\u7684\u6548\u679C\u3002</p><p>\u200B \u5173\u4E8E\u5728IDEA2022.x\u4E2D\uFF0C\u5F00\u542F\u81EA\u52A8\u70ED\u90E8\u7F72\uFF0C\u9700\u8981\u6253\u5F00\u8BBE\u7F6E\u9762\u677F-&gt;\u9AD8\u7EA7\u8BBE\u7F6E\uFF0C\u52FE\u9009<strong>\u5373\u4F7F\u5F00\u53D1\u7684\u5E94\u7528\u7A0B\u5E8F\u5F53\u524D\u6B63\u5728\u8FD0\u884C\uFF0C\u4E5F\u5141\u8BB8\u81EA\u52A8 make \u542F\u52A8</strong>\u3002</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202211151038655.png" alt="image-20221115103838556"></p><p>**\u5173\u6CE8\uFF1A**\u5982\u679C\u4F60\u6BCF\u6572\u4E00\u4E2A\u5B57\u6BCD\uFF0C\u670D\u52A1\u5668\u5C31\u91CD\u65B0\u6784\u5EFA\u4E00\u6B21\uFF0C\u8FD9\u672A\u514D\u6709\u70B9\u592A\u9891\u7E41\u4E86\uFF0C\u6240\u4EE5idea\u8BBE\u7F6E\u5F53idea\u5DE5\u5177\u5931\u53BB\u7126\u70B95\u79D2\u540E\u8FDB\u884C\u70ED\u90E8\u7F72\u3002\u5176\u5B9E\u5C31\u662F\u4F60\u4ECEidea\u5DE5\u5177\u4E2D\u5207\u6362\u5230\u5176\u4ED6\u5DE5\u5177\u65F6\u8FDB\u884C\u70ED\u90E8\u7F72\uFF0C\u6BD4\u5982\u6539\u5B8C\u7A0B\u5E8F\u9700\u8981\u5230\u6D4F\u89C8\u5668\u4E0A\u53BB\u8C03\u8BD5\uFF0C\u8FD9\u4E2A\u65F6\u5019idea\u5C31\u81EA\u52A8\u8FDB\u884C\u70ED\u90E8\u7F72\u64CD\u4F5C\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u81EA\u52A8\u70ED\u90E8\u7F72\u8981\u5F00\u542F\u81EA\u52A8\u6784\u5EFA\u9879\u76EE</li><li>\u81EA\u52A8\u70ED\u90E8\u7F72\u8981\u5F00\u542F\u5728\u7A0B\u5E8F\u8FD0\u884C\u65F6\u81EA\u52A8\u6784\u5EFA\u9879\u76EE</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u73B0\u5728\u5DF2\u7ECF\u5B9E\u73B0\u4E86\u70ED\u90E8\u7F72\u4E86\uFF0C\u4F46\u662F\u5230\u4F01\u4E1A\u5F00\u53D1\u7684\u65F6\u5019\u4F60\u4F1A\u53D1\u73B0\uFF0C\u4E3A\u4E86\u4FBF\u4E8E\u7BA1\u7406\uFF0C\u5728\u4F60\u7684\u7A0B\u5E8F\u76EE\u5F55\u4E2D\u9664\u4E86\u6709\u4EE3\u7801\uFF0C\u8FD8\u6709\u53EF\u80FD\u6709\u6587\u6863\uFF0C\u5982\u679C\u4F60\u4FEE\u6539\u4E86\u4E00\u4E0B\u6587\u6863\uFF0C\u8FD9\u4E2A\u65F6\u5019\u4F1A\u8FDB\u884C\u70ED\u90E8\u7F72\u5417\uFF1F\u4E0D\u7BA1\u662F\u5426\u8FDB\u884C\u70ED\u90E8\u7F72\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u6211\u4EEC\u9700\u8981\u81EA\u5DF1\u63A7\u5236\u624D\u6BD4\u8F83\u5408\u7406\uFF0C\u90A3\u8FD9\u4E2A\u4E1C\u897F\u80FD\u63A7\u5236\u5417\uFF1F\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BF4\u3002</p><h3 id="_1-3-\u53C2\u4E0E\u70ED\u90E8\u7F72\u76D1\u63A7\u7684\u6587\u4EF6\u8303\u56F4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-3-\u53C2\u4E0E\u70ED\u90E8\u7F72\u76D1\u63A7\u7684\u6587\u4EF6\u8303\u56F4\u914D\u7F6E" aria-hidden="true">#</a> 1-3.\u53C2\u4E0E\u70ED\u90E8\u7F72\u76D1\u63A7\u7684\u6587\u4EF6\u8303\u56F4\u914D\u7F6E</h3><p>\u200B \u901A\u8FC7\u4FEE\u6539\u9879\u76EE\u4E2D\u7684\u6587\u4EF6\uFF0C\u4F60\u53EF\u4EE5\u53D1\u73B0\u5176\u5B9E\u5E76\u4E0D\u662F\u6240\u6709\u7684\u6587\u4EF6\u4FEE\u6539\u90FD\u4F1A\u6FC0\u6D3B\u70ED\u90E8\u7F72\u7684\uFF0C\u539F\u56E0\u5728\u4E8E\u5728\u5F00\u53D1\u8005\u5DE5\u5177\u4E2D\u6709\u4E00\u7EC4\u914D\u7F6E\uFF0C\u5F53\u6EE1\u8DB3\u4E86\u914D\u7F6E\u4E2D\u7684\u6761\u4EF6\u540E\uFF0C\u624D\u4F1A\u542F\u52A8\u70ED\u90E8\u7F72\uFF0C\u914D\u7F6E\u4E2D\u9ED8\u8BA4\u4E0D\u53C2\u4E0E\u70ED\u90E8\u7F72\u7684\u76EE\u5F55\u4FE1\u606F\u5982\u4E0B</p><ul><li>/META-INF/maven</li><li>/META-INF/resources</li><li>/resources</li><li>/static</li><li>/public</li><li>/templates</li></ul><p>\u200B \u4EE5\u4E0A\u76EE\u5F55\u4E2D\u7684\u6587\u4EF6\u5982\u679C\u53D1\u751F\u53D8\u5316\uFF0C\u662F\u4E0D\u53C2\u4E0E\u70ED\u90E8\u7F72\u7684\u3002\u5982\u679C\u60F3\u4FEE\u6539\u914D\u7F6E\uFF0C\u53EF\u4EE5\u901A\u8FC7application.yml\u6587\u4EF6\u8FDB\u884C\u8BBE\u5B9A\u54EA\u4E9B\u6587\u4EF6\u4E0D\u53C2\u4E0E\u70ED\u90E8\u7F72\u64CD\u4F5C</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token comment"># \u8BBE\u7F6E\u4E0D\u53C2\u4E0E\u70ED\u90E8\u7F72\u7684\u6587\u4EF6\u6216\u6587\u4EF6\u5939</span>
      <span class="token key atrule">exclude</span><span class="token punctuation">:</span> static/<span class="token important">**</span><span class="token punctuation">,</span>public/<span class="token important">**</span><span class="token punctuation">,</span>config/application.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>\u901A\u8FC7\u914D\u7F6E\u53EF\u4EE5\u4FEE\u6539\u4E0D\u53C2\u4E0E\u70ED\u90E8\u7F72\u7684\u6587\u4EF6\u6216\u76EE\u5F55</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u70ED\u90E8\u7F72\u529F\u80FD\u662F\u4E00\u4E2A\u5178\u578B\u7684\u5F00\u53D1\u9636\u6BB5\u4F7F\u7528\u7684\u529F\u80FD\uFF0C\u5230\u4E86\u7EBF\u4E0A\u73AF\u5883\u8FD0\u884C\u7A0B\u5E8F\u65F6\uFF0C\u8FD9\u4E2A\u529F\u80FD\u5C31\u6CA1\u6709\u610F\u4E49\u4E86\u3002\u80FD\u5426\u5173\u95ED\u70ED\u90E8\u7F72\u529F\u80FD\u5462\uFF1F\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BF4\u3002</p><h3 id="_1-4-\u5173\u95ED\u70ED\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#_1-4-\u5173\u95ED\u70ED\u90E8\u7F72" aria-hidden="true">#</a> 1-4.\u5173\u95ED\u70ED\u90E8\u7F72</h3><p>\u200B \u7EBF\u4E0A\u73AF\u5883\u8FD0\u884C\u65F6\u662F\u4E0D\u53EF\u80FD\u4F7F\u7528\u70ED\u90E8\u7F72\u529F\u80FD\u7684\uFF0C\u6240\u4EE5\u9700\u8981\u5F3A\u5236\u5173\u95ED\u6B64\u529F\u80FD\uFF0C\u901A\u8FC7\u914D\u7F6E\u53EF\u4EE5\u5173\u95ED\u6B64\u529F\u80FD\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u5F53\u5FC3\u914D\u7F6E\u6587\u4EF6\u5C42\u7EA7\u8FC7\u591A\u5BFC\u81F4\u76F8\u7B26\u8986\u76D6\u6700\u7EC8\u5F15\u8D77\u914D\u7F6E\u5931\u6548\uFF0C\u53EF\u4EE5\u63D0\u9AD8\u914D\u7F6E\u7684\u5C42\u7EA7\uFF0C\u5728\u66F4\u9AD8\u5C42\u7EA7\u4E2D\u914D\u7F6E\u5173\u95ED\u70ED\u90E8\u7F72\u3002\u4F8B\u5982\u5728\u542F\u52A8\u5BB9\u5668\u524D\u901A\u8FC7\u7CFB\u7EDF\u5C5E\u6027\u8BBE\u7F6E\u5173\u95ED\u70ED\u90E8\u7F72\u529F\u80FD\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SSMPApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;spring.devtools.restart.enabled&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SSMPApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5176\u5B9E\u4E0A\u8FF0\u62C5\u5FC3\u7565\u5FAE\u6709\u70B9\u591A\u4F59\uFF0C\u56E0\u4E3A\u7EBF\u4E0A\u73AF\u5883\u7684\u7EF4\u62A4\u662F\u4E0D\u53EF\u80FD\u51FA\u73B0\u4FEE\u6539\u4EE3\u7801\u7684\u64CD\u4F5C\u7684\uFF0C\u8FD9\u4E48\u505A\u552F\u4E00\u7684\u4F5C\u7528\u662F\u964D\u4F4E\u8D44\u6E90\u6D88\u8017\uFF0C\u6BD5\u7ADF\u90A3\u53CC\u76EF\u7740\u4F60\u9879\u76EE\u662F\u4E0D\u662F\u4EA7\u751F\u53D8\u5316\u7684\u773C\u775B\u53EA\u8981\u95ED\u4E0A\u4E86\uFF0C\u5C31\u4E0D\u5177\u6709\u70ED\u90E8\u7F72\u529F\u80FD\u4E86\uFF0C\u8FD9\u4E2A\u5F00\u5173\u7684\u4F5C\u7528\u5C31\u662F\u7981\u7528\u5BF9\u5E94\u529F\u80FD\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u901A\u8FC7\u914D\u7F6E\u53EF\u4EE5\u5173\u95ED\u70ED\u90E8\u7F72\u529F\u80FD\u964D\u4F4E\u7EBF\u4E0A\u7A0B\u5E8F\u7684\u8D44\u6E90\u6D88\u8017</li></ol><h2 id="_2-\u914D\u7F6E\u9AD8\u7EA7" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E\u9AD8\u7EA7" aria-hidden="true">#</a> 2.\u914D\u7F6E\u9AD8\u7EA7</h2><p>\u200B \u8FDB\u5165\u5F00\u53D1\u5B9E\u7528\u7BC7\u7B2C\u4E8C\u7AE0\u5185\u5BB9\uFF0C\u914D\u7F6E\u9AD8\u7EA7\uFF0C\u5176\u5B9E\u914D\u7F6E\u5728\u57FA\u7840\u7BC7\u8BB2\u4E86\u4E00\u90E8\u5206\uFF0C\u5728\u8FD0\u7EF4\u5B9E\u7528\u7BC7\u8BB2\u4E86\u4E00\u90E8\u5206\uFF0C\u8FD9\u91CC\u8FD8\u8981\u8BB2\uFF0C\u8BB2\u7684\u4E1C\u897F\u6709\u4EC0\u4E48\u533A\u522B\u5462\uFF1F\u8DDD\u79BB\u5F00\u53D1\u8FC7\u7A0B\u8D8A\u6765\u8D8A\u63A5\u8FD1\uFF0C\u89E3\u51B3\u7684\u95EE\u9898\u4E5F\u8D8A\u6765\u8D8A\u9760\u8FD1\u7EBF\u4E0A\u73AF\u5883\uFF0C\u4E0B\u9762\u5C31\u5F00\u542F\u672C\u7AE0\u7684\u5B66\u4E60\u3002</p><h3 id="_2-1-configurationproperties" tabindex="-1"><a class="header-anchor" href="#_2-1-configurationproperties" aria-hidden="true">#</a> 2-1.@ConfigurationProperties</h3><p>\u200B \u5728\u57FA\u7840\u7BC7\u5B66\u4E60\u4E86@ConfigurationProperties\u6CE8\u89E3\uFF0C\u6B64\u6CE8\u89E3\u7684\u4F5C\u7528\u662F\u7528\u6765\u4E3Abean\u7ED1\u5B9A\u5C5E\u6027\u7684\u3002\u5F00\u53D1\u8005\u53EF\u4EE5\u5728yml\u914D\u7F6E\u6587\u4EF6\u4E2D\u4EE5\u5BF9\u8C61\u7684\u683C\u5F0F\u6DFB\u52A0\u82E5\u5E72\u5C5E\u6027</p><div class="language-YML ext-YML line-numbers-mode"><pre class="language-YML"><code>servers:
  ip-address: 192.168.0.1 
  port: 2345
  timeout: -1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6CE8\u610F\uFF0Cyml\u8BED\u6CD5\u89C4\u8303\uFF0C\u5C5E\u6027\u548Cvalue\u4E4B\u95F4\u8981\u6709\u7A7A\u683C\uFF0C\u4E0D\u7136\u6570\u636E\u65E0\u6CD5\u6620\u5C04\u6210\u529F\u3002</strong></p><p>\u7136\u540E\u518D\u5F00\u53D1\u4E00\u4E2A\u7528\u6765\u5C01\u88C5\u6570\u636E\u7684\u5B9E\u4F53\u7C7B\uFF0C\u6CE8\u610F\u8981\u63D0\u4F9B\u5C5E\u6027\u5BF9\u5E94\u7684setter\u65B9\u6CD5</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ipAddress<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> timeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u5C31\u53EF\u4EE5\u5C06\u914D\u7F6E\u4E2D\u7684\u5C5E\u6027\u503C\u5173\u8054\u5230\u5F00\u53D1\u7684\u6A21\u578B\u7C7B\u4E0A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ipAddress<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> timeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD9\u6837\u52A0\u8F7D\u5BF9\u5E94bean\u7684\u65F6\u5019\u5C31\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7D\u914D\u7F6E\u5C5E\u6027\u503C\u4E86\u3002\u4F46\u662F\u76EE\u524D\u6211\u4EEC\u5B66\u7684\u90FD\u662F\u7ED9\u81EA\u5B9A\u4E49\u7684bean\u4F7F\u7528\u8FD9\u79CD\u5F62\u5F0F\u52A0\u8F7D\u5C5E\u6027\u503C\uFF0C\u5982\u679C\u662F\u7B2C\u4E09\u65B9\u7684bean\u5462\uFF1F\u80FD\u4E0D\u80FD\u7528\u8FD9\u79CD\u5F62\u5F0F\u52A0\u8F7D\u5C5E\u6027\u503C\u5462\uFF1F\u4E3A\u4EC0\u4E48\u4F1A\u63D0\u51FA\u8FD9\u4E2A\u7591\u95EE\uFF1F\u539F\u56E0\u5C31\u5728\u4E8E\u5F53\u524D@ConfigurationProperties\u6CE8\u89E3\u662F\u5199\u5728\u7C7B\u5B9A\u4E49\u7684\u4E0A\u65B9\uFF0C\u800C\u7B2C\u4E09\u65B9\u5F00\u53D1\u7684bean\u6E90\u4EE3\u7801\u4E0D\u662F\u4F60\u81EA\u5DF1\u4E66\u5199\u7684\uFF0C\u4F60\u4E5F\u4E0D\u53EF\u80FD\u5230\u6E90\u4EE3\u7801\u4E2D\u53BB\u6DFB\u52A0@ConfigurationProperties\u6CE8\u89E3\uFF0C\u8FD9\u79CD\u95EE\u9898\u8BE5\u600E\u4E48\u89E3\u51B3\u5462\uFF1F\u4E0B\u9762\u5C31\u6765\u8BF4\u8BF4\u8FD9\u4E2A\u95EE\u9898\u3002</p><p>\u200B \u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u5176\u5B9E\u53EF\u4EE5\u4E3A\u7B2C\u4E09\u65B9bean\u52A0\u8F7D\u5C5E\u6027\uFF0C\u683C\u5F0F\u7279\u6B8A\u4E00\u70B9\u800C\u5DF2\u3002</p><p>\u200B \u5BFC\u5165\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u4F7F\u7528@Bean\u6CE8\u89E3\u5B9A\u4E49\u7B2C\u4E09\u65B9bean</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DruidDataSource</span> <span class="token function">datasource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5728yml\u4E2D\u5B9A\u4E49\u8981\u7ED1\u5B9A\u7684\u5C5E\u6027\uFF0C\u6CE8\u610Fdatasource\u6B64\u65F6\u5168\u5C0F\u5199</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>datasource:
  driverClassName: com.mysql.jdbc.Driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u4E3A\u7B2C\u4E09\u65B9bean\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\uFF0C\u6CE8\u610F\u524D\u7F00\u662F\u5168\u5C0F\u5199\u7684datasource</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;datasource&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">DruidDataSource</span> <span class="token function">datasource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8C03\u7528\u7B2C\u4E09\u65B9bean\uFF0C\u5E76\u8BBE\u7F6E\u6570\u636E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot13ConfigurationApplication</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;datasource&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DruidDataSource</span> <span class="token function">datasource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ConfigurableApplicationContext</span> context <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot13ConfigurationApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">DruidDataSource</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ds<span class="token punctuation">.</span><span class="token function">getDriverClassName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        \u6253\u5370\u7ED3\u679C\uFF1Acom.mysql.jdbc.Driver123</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u64CD\u4F5C\u65B9\u5F0F\u5B8C\u5168\u4E00\u6837\uFF0C\u53EA\u4E0D\u8FC7@ConfigurationProperties\u6CE8\u89E3\u4E0D\u4EC5\u80FD\u6DFB\u52A0\u5230\u7C7B\u4E0A\uFF0C\u8FD8\u53EF\u4EE5\u6DFB\u52A0\u5230\u65B9\u6CD5\u4E0A\uFF0C\u6DFB\u52A0\u5230\u7C7B\u4E0A\u662F\u4E3Aspring\u5BB9\u5668\u7BA1\u7406\u7684\u5F53\u524D\u7C7B\u7684\u5BF9\u8C61\u7ED1\u5B9A\u5C5E\u6027\uFF0C\u6DFB\u52A0\u5230\u65B9\u6CD5\u4E0A\u662F\u4E3Aspring\u5BB9\u5668\u7BA1\u7406\u7684\u5F53\u524D\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u5BF9\u8C61\u7ED1\u5B9A\u5C5E\u6027\uFF0C\u5176\u5B9E\u672C\u8D28\u4E0A\u90FD\u4E00\u6837\u3002</p><p>\u200B \u505A\u5230\u8FD9\u5176\u5B9E\u5C31\u51FA\u73B0\u4E86\u4E00\u4E2A\u65B0\u7684\u95EE\u9898\uFF0C\u76EE\u524D\u6211\u4EEC\u5B9A\u4E49bean\u4E0D\u662F\u901A\u8FC7\u7C7B\u6CE8\u89E3\u5B9A\u4E49\u5C31\u662F\u901A\u8FC7@Bean\u5B9A\u4E49\uFF0C\u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u53EF\u4EE5\u4E3Abean\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\uFF0C\u90A3\u5728\u4E00\u4E2A\u4E1A\u52A1\u7CFB\u7EDF\u4E2D\uFF0C\u54EA\u4E9Bbean\u901A\u8FC7\u6CE8\u89E3@ConfigurationProperties\u53BB\u7ED1\u5B9A\u5C5E\u6027\u4E86\u5462\uFF1F\u56E0\u4E3A\u8FD9\u4E2A\u6CE8\u89E3\u4E0D\u4EC5\u53EF\u4EE5\u5199\u5728\u7C7B\u4E0A\uFF0C\u8FD8\u53EF\u4EE5\u5199\u5728\u65B9\u6CD5\u4E0A\uFF0C\u6240\u4EE5\u627E\u8D77\u6765\u5C31\u6BD4\u8F83\u9EBB\u70E6\u4E86\u3002\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0Cspring\u7ED9\u6211\u4EEC\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5168\u65B0\u7684\u6CE8\u89E3\uFF0C\u4E13\u95E8\u6807\u6CE8\u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u7ED1\u5B9A\u5C5E\u6027\u7684bean\u662F\u54EA\u4E9B\u3002\u8FD9\u4E2A\u6CE8\u89E3\u53EB\u505A@EnableConfigurationProperties\u3002\u5177\u4F53\u5982\u4F55\u4F7F\u7528\u5462\uFF1F</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5728\u914D\u7F6E\u7C7B\u4E0A\u5F00\u542F@EnableConfigurationProperties\u6CE8\u89E3\uFF0C\u5E76\u6807\u6CE8\u8981\u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u7ED1\u5B9A\u5C5E\u6027\u7684\u7C7B</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>@SpringBootApplication
@EnableConfigurationProperties(ServerConfig.class)
public class Springboot13ConfigurationApplication {
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5728\u5BF9\u5E94\u7684\u7C7B\u4E0A\u76F4\u63A5\u4F7F\u7528@ConfigurationProperties\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ipAddress<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> timeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6709\u4EBA\u611F\u89C9\u8FD9\u6CA1\u533A\u522B\u554A\uFF1F\u6CE8\u610F\u89C2\u5BDF\uFF0C\u73B0\u5728\u7ED1\u5B9A\u5C5E\u6027\u7684ServerConfig\u7C7B\u5E76\u6CA1\u6709\u58F0\u660E@Component\u6CE8\u89E3\u3002\u5F53\u4F7F\u7528@EnableConfigurationProperties\u6CE8\u89E3\u65F6\uFF0Cspring\u4F1A\u9ED8\u8BA4\u5C06\u5176\u6807\u6CE8\u7684\u7C7B\u5B9A\u4E49\u4E3Abean\uFF0C\u56E0\u6B64\u65E0\u9700\u518D\u6B21\u58F0\u660E@Component\u6CE8\u89E3\u4E86\u3002</p><p>\u200B \u6700\u540E\u518D\u8BF4\u4E00\u4E2A\u5C0F\u6280\u5DE7\uFF0C\u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u65F6\uFF0C\u4F1A\u51FA\u73B0\u4E00\u4E2A\u63D0\u793A\u4FE1\u606F</p><p><img src="`+k+`" alt="image-20220222145535749"></p><p>\u200B \u51FA\u73B0\u8FD9\u4E2A\u63D0\u793A\u540E\u53EA\u9700\u8981\u6DFB\u52A0\u4E00\u4E2A\u5750\u6807\u6B64\u63D0\u9192\u5C31\u6D88\u5931\u4E86</p><div class="language-XML ext-XML line-numbers-mode"><pre class="language-XML"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>\u4F7F\u7528@ConfigurationProperties\u53EF\u4EE5\u4E3A\u4F7F\u7528@Bean\u58F0\u660E\u7684\u7B2C\u4E09\u65B9bean\u7ED1\u5B9A\u5C5E\u6027</li><li>\u5F53\u4F7F\u7528@EnableConfigurationProperties\u58F0\u660E\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\u7684bean\u540E\uFF0C\u65E0\u9700\u4F7F\u7528@Component\u6CE8\u89E3\u518D\u6B21\u8FDB\u884Cbean\u58F0\u660E</li></ol><h3 id="_2-2-\u5BBD\u677E\u7ED1\u5B9A-\u677E\u6563\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#_2-2-\u5BBD\u677E\u7ED1\u5B9A-\u677E\u6563\u7ED1\u5B9A" aria-hidden="true">#</a> 2-2.\u5BBD\u677E\u7ED1\u5B9A/\u677E\u6563\u7ED1\u5B9A</h3><p>\u200B \u5728\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\u65F6\uFF0C\u53EF\u80FD\u4F1A\u9047\u5230\u5982\u4E0B\u60C5\u51B5\uFF0C\u4E3A\u4E86\u8FDB\u884C\u6807\u51C6\u547D\u540D\uFF0C\u5F00\u53D1\u8005\u4F1A\u5C06\u5C5E\u6027\u540D\u4E25\u683C\u6309\u7167\u9A7C\u5CF0\u547D\u540D\u6CD5\u4E66\u5199\uFF0C\u5728yml\u914D\u7F6E\u6587\u4EF6\u4E2D\u5C06datasource\u4FEE\u6539\u4E3AdataSource\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>dataSource:
  driverClassName: com.mysql.jdbc.Driver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6B64\u65F6\u7A0B\u5E8F\u53EF\u4EE5\u6B63\u5E38\u8FD0\u884C\uFF0C\u7136\u540E\u53C8\u5C06\u4EE3\u7801\u4E2D\u7684\u524D\u7F00datasource\u4FEE\u6539\u4E3AdataSource\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;dataSource&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">DruidDataSource</span> <span class="token function">datasource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6B64\u65F6\u5C31\u53D1\u751F\u4E86\u7F16\u8BD1\u9519\u8BEF\uFF0C\u800C\u4E14\u5E76\u4E0D\u662Fidea\u5DE5\u5177\u5BFC\u81F4\u7684\uFF0C\u8FD0\u884C\u540E\u4F9D\u7136\u4F1A\u51FA\u73B0\u95EE\u9898\uFF0C\u914D\u7F6E\u5C5E\u6027\u540DdataSource\u662F\u65E0\u6548\u7684</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>Configuration property name &#39;dataSource&#39; is not valid:

    Invalid characters: &#39;S&#39;
    Bean: datasource
    Reason: Canonical names should be kebab-case (&#39;-&#39; separated), lowercase alpha-numeric characters and must start with a letter

Action:
Modify &#39;dataSource&#39; so that it conforms to the canonical names requirements.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E3A\u4EC0\u4E48\u4F1A\u51FA\u73B0\u8FD9\u79CD\u95EE\u9898\uFF0C\u8FD9\u5C31\u8981\u6765\u8BF4\u4E00\u8BF4springboot\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\u65F6\u7684\u4E00\u4E2A\u91CD\u8981\u77E5\u8BC6\u70B9\u4E86\uFF0C\u6709\u5173\u5C5E\u6027\u540D\u79F0\u7684\u5BBD\u677E\u7ED1\u5B9A\uFF0C\u4E5F\u53EF\u4EE5\u79F0\u4E3A\u5BBD\u677E\u7ED1\u5B9A\u3002</p><p>\u200B \u4EC0\u4E48\u662F\u5BBD\u677E\u7ED1\u5B9A\uFF1F\u5B9E\u9645\u4E0A\u662Fspringboot\u8FDB\u884C\u7F16\u7A0B\u65F6\u4EBA\u6027\u5316\u8BBE\u8BA1\u7684\u4E00\u79CD\u4F53\u73B0\uFF0C\u5373\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u547D\u540D\u683C\u5F0F\u4E0E\u53D8\u91CF\u540D\u7684\u547D\u540D\u683C\u5F0F\u53EF\u4EE5\u8FDB\u884C\u683C\u5F0F\u4E0A\u7684\u6700\u5927\u5316\u517C\u5BB9\u3002\u517C\u5BB9\u5230\u4EC0\u4E48\u7A0B\u5EA6\u5462\uFF1F\u51E0\u4E4E\u4E3B\u6D41\u7684\u547D\u540D\u683C\u5F0F\u90FD\u652F\u6301\uFF0C\u4F8B\u5982\uFF1A</p><p>\u200B \u5728ServerConfig\u4E2D\u7684ipAddress\u5C5E\u6027\u540D</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ipAddress<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u53EF\u4EE5\u4E0E\u4E0B\u9762\u7684\u914D\u7F6E\u5C5E\u6027\u540D\u89C4\u5219\u5168\u517C\u5BB9\uFF0C\u5F53\u5168\u90E8\u51FA\u73B0\u65F6\uFF0C\u5339\u914D\u7EA7\u522B\u5982\u4E0B</p><div class="language-YML ext-YML line-numbers-mode"><pre class="language-YML"><code>servers:
 ip-address: 192.168.0.1      # \u70E4\u8089\u4E32\u6A21\u5F0F
# IP_ADDRESS: 192.168.0.2      # \u5E38\u91CF\u6A21\u5F0F
# ip_address: 192.168.0.3      # \u4E0B\u5212\u7EBF\u6A21\u5F0F
# ipAddress: 192.168.0.4       # \u9A7C\u5CF0\u6A21\u5F0F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E5F\u53EF\u4EE5\u8BF4\uFF0C\u4EE5\u4E0A4\u79CD\u6A21\u5F0F\u6700\u7EC8\u90FD\u53EF\u4EE5\u5339\u914D\u5230ipAddress\u8FD9\u4E2A\u5C5E\u6027\u540D\u3002\u4E3A\u4EC0\u4E48\u8FD9\u6837\u5462\uFF1F\u539F\u56E0\u5C31\u662F\u5728\u8FDB\u884C\u5339\u914D\u65F6\uFF0C\u914D\u7F6E\u4E2D\u7684\u540D\u79F0\u8981\u53BB\u6389\u4E2D\u5212\u7EBF\u548C\u4E0B\u5212\u7EBF\u540E\uFF0C\u5FFD\u7565\u5927\u5C0F\u5199\u7684\u60C5\u51B5\u4E0B\u53BB\u4E0Ejava\u4EE3\u7801\u4E2D\u7684\u5C5E\u6027\u540D\u8FDB\u884C\u5FFD\u7565\u5927\u5C0F\u5199\u7684\u7B49\u503C\u5339\u914D\uFF0C\u4EE5\u4E0A4\u79CD\u547D\u540D\u53BB\u6389\u4E0B\u5212\u7EBF\u4E2D\u5212\u7EBF\u5FFD\u7565\u5927\u5C0F\u5199\u540E\u90FD\u662F\u4E00\u4E2A\u8BCDipaddress\uFF0Cjava\u4EE3\u7801\u4E2D\u7684\u5C5E\u6027\u540D\u5FFD\u7565\u5927\u5C0F\u5199\u540E\u4E5F\u662Fipaddress\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u8FDB\u884C\u7B49\u503C\u5339\u914D\u4E86\uFF0C\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u8FD94\u79CD\u683C\u5F0F\u90FD\u80FD\u5339\u914D\u6210\u529F\u7684\u539F\u56E0\u3002\u4E0D\u8FC7<strong>springboot\u5B98\u65B9\u63A8\u8350\u4F7F\u7528\u70E4\u8089\u4E32\u6A21\u5F0F</strong>\uFF0C\u4E5F\u5C31\u662F\u4E2D\u5212\u7EBF\u6A21\u5F0F\u3002</p><p>\u200B \u5230\u8FD9\u91CC\u6211\u4EEC\u638C\u63E1\u4E86\u4E00\u4E2A\u77E5\u8BC6\u70B9\uFF0C\u5C31\u662F\u547D\u540D\u7684\u89C4\u8303\u95EE\u9898\u3002\u518D\u6765\u770B\u5F00\u59CB\u51FA\u73B0\u7684\u7F16\u7A0B\u9519\u8BEF\u4FE1\u606F</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>Configuration property name &#39;dataSource&#39; is not valid:

    Invalid characters: &#39;S&#39;
    Bean: datasource
    Reason: Canonical names should be kebab-case (&#39;-&#39; separated), lowercase alpha-numeric characters and must start with a letter

Action:
Modify &#39;dataSource&#39; so that it conforms to the canonical names requirements.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5176\u4E2DReason\u63CF\u8FF0\u4E86\u62A5\u9519\u7684\u539F\u56E0\uFF0C\u89C4\u8303\u7684\u540D\u79F0\u5E94\u8BE5\u662F\u70E4\u8089\u4E32(kebab)\u6A21\u5F0F(case)\uFF0C\u5373\u4F7F\u7528-\u5206\u9694\uFF0C\u4F7F\u7528\u5C0F\u5199\u5B57\u6BCD\u6570\u5B57\u4F5C\u4E3A\u6807\u51C6\u5B57\u7B26\uFF0C\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934\u3002\u7136\u540E\u518D\u770B\u6211\u4EEC\u5199\u7684\u540D\u79F0dataSource\uFF0C\u5C31\u4E0D\u6EE1\u8DB3\u4E0A\u8FF0\u8981\u6C42\u3002\u95F9\u4E86\u534A\u5929\uFF0C\u5728**@ConfigurationProperties**\u4E66\u5199\u524D\u7F00\u65F6\uFF0C\u8FD9\u4E2A\u8BCD\u4E0D\u662F\u968F\u610F\u652F\u6301\u7684\uFF0C\u5FC5\u987B\u4F7F\u7528\u4E0A\u8FF0\u6807\u51C6\u3002\u7F16\u7A0B\u5199\u4E86\u8FD9\u4E48\u4E45\uFF0C\u57FA\u672C\u4E0A\u7F16\u7A0B\u4E60\u60EF\u90FD\u517B\u6210\u4E86\uFF0C\u5230\u8FD9\u91CC\u53C8\u88ABspringboot\u6559\u80B2\u4E86\uFF0C\u6CA1\u8F99\uFF0C\u8C01\u8BA9\u4EBA\u5BB6\u4E1C\u897F\u597D\u7528\u5462\uFF0C\u6309\u7167\u4EBA\u5BB6\u7684\u8981\u6C42\u5199\u5427\u3002</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202211151441416.png" alt="image-20221115144103285"></p><p>\u200B \u6700\u540E\u8BF4\u4E00\u53E5\uFF0C\u4EE5\u4E0A\u89C4\u5219\u4EC5\u9488\u5BF9springboot\u4E2D@ConfigurationProperties\u6CE8\u89E3\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\u65F6\u6709\u6548\uFF0C\u5BF9@Value\u6CE8\u89E3\u8FDB\u884C\u5C5E\u6027\u6620\u5C04\u65E0\u6548\u3002\u6709\u4EBA\u5C31\u8BF4\uFF0C\u90A3\u6211\u4E0D\u7528\u4F60\u4E0D\u5C31\u884C\u4E86\uFF1F\u4E0D\u7528\uFF0C\u4F60\u5C0F\u770Bspringboot\u7684\u63A8\u5E7F\u80FD\u529B\u4E86\uFF0C\u5230\u539F\u7406\u7BC7\u6211\u4EEC\u770B\u6E90\u7801\u65F6\uFF0C\u4F60\u4F1A\u53D1\u73B0\u5185\u90E8\u5168\u662F\u8FD9\u73A9\u610F\u513F\uFF0C\u7B97\u4E86\uFF0C\u62FF\u4EBA\u624B\u77ED\u5403\u4EBA\u5634\u77ED\uFF0C\u8BA4\u6002\u5427\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>@ConfigurationProperties\u7ED1\u5B9A\u5C5E\u6027\u65F6\u652F\u6301\u5C5E\u6027\u540D\u5BBD\u677E\u7ED1\u5B9A\uFF0C\u8FD9\u4E2A\u5BBD\u677E\u4F53\u73B0\u5728\u5C5E\u6027\u540D\u7684\u547D\u540D\u89C4\u5219\u4E0A</li><li>@Value\u6CE8\u89E3\u4E0D\u652F\u6301\u677E\u6563\u7ED1\u5B9A\u89C4\u5219</li><li>\u7ED1\u5B9A\u524D\u7F00\u540D\u63A8\u8350\u91C7\u7528\u70E4\u8089\u4E32\u547D\u540D\u89C4\u5219\uFF0C\u5373\u4F7F\u7528\u4E2D\u5212\u7EBF\u505A\u5206\u9694\u7B26</li></ol><h3 id="_2-3-\u5E38\u7528\u8BA1\u91CF\u5355\u4F4D\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#_2-3-\u5E38\u7528\u8BA1\u91CF\u5355\u4F4D\u7ED1\u5B9A" aria-hidden="true">#</a> 2-3.\u5E38\u7528\u8BA1\u91CF\u5355\u4F4D\u7ED1\u5B9A</h3><p>\u200B \u5728\u524D\u9762\u7684\u914D\u7F6E\u4E2D\uFF0C\u6211\u4EEC\u4E66\u5199\u4E86\u5982\u4E0B\u914D\u7F6E\u503C\uFF0C\u5176\u4E2D\u7B2C\u4E09\u9879\u8D85\u65F6\u65F6\u95F4timeout\u63CF\u8FF0\u4E86\u670D\u52A1\u5668\u64CD\u4F5C\u8D85\u65F6\u65F6\u95F4\uFF0C\u5F53\u524D\u503C\u662F-1\u8868\u793A\u6C38\u4E0D\u8D85\u65F6\u3002</p><div class="language-YML ext-YML line-numbers-mode"><pre class="language-YML"><code>servers:
  ip-address: 192.168.0.1 
  port: 2345
  timeout: -1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F46\u662F\u6BCF\u4E2A\u4EBA\u90FD\u8FD9\u4E2A\u503C\u7684\u7406\u89E3\u4F1A\u4EA7\u751F\u4E0D\u540C\uFF0C\u6BD4\u5982\u7EBF\u4E0A\u670D\u52A1\u5668\u5B8C\u6210\u4E00\u6B21\u4E3B\u4ECE\u5907\u4EFD\uFF0C\u914D\u7F6E\u8D85\u65F6\u65F6\u95F4240\uFF0C\u8FD9\u4E2A240\u5982\u679C\u5355\u4F4D\u662F\u79D2\u5C31\u662F\u8D85\u65F6\u65F6\u95F44\u5206\u949F\uFF0C\u5982\u679C\u5355\u4F4D\u662F\u5206\u949F\u5C31\u662F\u8D85\u65F6\u65F6\u95F44\u5C0F\u65F6\u3002\u9762\u5BF9\u4E00\u6B21\u7EBF\u4E0A\u670D\u52A1\u5668\u7684\u4E3B\u4ECE\u5907\u4EFD\uFF0C\u8BBE\u7F6E4\u5206\u949F\uFF0C\u7B80\u76F4\u662F\u5F00\u73A9\u7B11\uFF0C\u522B\u8BF4\u62F7\u8D1D\u8FC7\u7A0B\uFF0C\u5907\u4EFD\u4E4B\u524D\u7684\u538B\u7F29\u8FC7\u7A0B4\u5206\u949F\u4E5F\u641E\u4E0D\u5B9A\uFF0C\u8FD9\u4E2A\u65F6\u5019\u95EE\u9898\u5C31\u6765\u4E86\uFF0C\u600E\u4E48\u89E3\u51B3\u8FD9\u4E2A\u8BEF\u4F1A\uFF1F</p><p>\u200B \u9664\u4E86\u52A0\u5F3A\u7EA6\u5B9A\u4E4B\u5916\uFF0Cspringboot\u5145\u5206\u5229\u7528\u4E86JDK8\u4E2D\u63D0\u4F9B\u7684\u5168\u65B0\u7684\u7528\u6765\u8868\u793A\u8BA1\u91CF\u5355\u4F4D\u7684\u65B0\u6570\u636E\u7C7B\u578B\uFF0C\u4ECE\u6839\u672C\u4E0A\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002\u4EE5\u4E0B\u6A21\u578B\u7C7B\u4E2D\u6DFB\u52A0\u4E86\u4E24\u4E2AJDK8\u4E2D\u65B0\u589E\u7684\u7C7B\uFF0C\u5206\u522B\u662FDuration\u548CDataSize</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@DurationUnit</span><span class="token punctuation">(</span><span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span><span class="token constant">HOURS</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Duration</span> serverTimeOut<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@DataSizeUnit</span><span class="token punctuation">(</span><span class="token class-name">DataUnit</span><span class="token punctuation">.</span><span class="token constant">MEGABYTES</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">DataSize</span> dataSize<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Duration</strong>\uFF1A\u8868\u793A\u65F6\u95F4\u95F4\u9694\uFF0C\u53EF\u4EE5\u901A\u8FC7@DurationUnit\u6CE8\u89E3\u63CF\u8FF0\u65F6\u95F4\u5355\u4F4D\uFF0C\u4F8B\u5982\u4E0A\u4F8B\u4E2D\u63CF\u8FF0\u7684\u5355\u4F4D\u4E3A\u5C0F\u65F6\uFF08ChronoUnit.HOURS\uFF09</p><p><strong>DataSize</strong>\uFF1A\u8868\u793A\u5B58\u50A8\u7A7A\u95F4\uFF0C\u53EF\u4EE5\u901A\u8FC7@DataSizeUnit\u6CE8\u89E3\u63CF\u8FF0\u5B58\u50A8\u7A7A\u95F4\u5355\u4F4D\uFF0C\u4F8B\u5982\u4E0A\u4F8B\u4E2D\u63CF\u8FF0\u7684\u5355\u4F4D\u4E3AMB\uFF08DataUnit.MEGABYTES\uFF09</p><p>\u200B \u4F7F\u7528\u4E0A\u8FF0\u4E24\u4E2A\u5355\u4F4D\u5C31\u53EF\u4EE5\u6709\u6548\u907F\u514D\u56E0\u6C9F\u901A\u4E0D\u540C\u6B65\u6216\u6587\u6863\u4E0D\u5065\u5168\u5BFC\u81F4\u7684\u4FE1\u606F\u4E0D\u5BF9\u79F0\u95EE\u9898\uFF0C\u4ECE\u6839\u672C\u4E0A\u89E3\u51B3\u4E86\u95EE\u9898\uFF0C\u907F\u514D\u4EA7\u751F\u8BEF\u8BFB\u3002</p><p>Druation\u5E38\u7528\u5355\u4F4D\u5982\u4E0B\uFF1A</p><img src="`+v+'" alt="image-20220222173911102" style="zoom:50%;"><p>DataSize\u5E38\u7528\u5355\u4F4D\u5982\u4E0B\uFF1A</p><img src="'+m+`" alt="image-20220222174130102" style="zoom:67%;"><h3 id="_2-4-\u6821\u9A8C" tabindex="-1"><a class="header-anchor" href="#_2-4-\u6821\u9A8C" aria-hidden="true">#</a> 2-4.\u6821\u9A8C</h3><p>\u200B \u76EE\u524D\u6211\u4EEC\u5728\u8FDB\u884C\u5C5E\u6027\u7ED1\u5B9A\u65F6\u53EF\u4EE5\u901A\u8FC7\u677E\u6563\u7ED1\u5B9A\u89C4\u5219\u5728\u4E66\u5199\u65F6\u653E\u98DE\u81EA\u6211\u4E86\uFF0C\u4F46\u662F\u5728\u4E66\u5199\u65F6\u7531\u4E8E\u65E0\u6CD5\u611F\u77E5\u6A21\u578B\u7C7B\u4E2D\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u5C31\u4F1A\u51FA\u73B0\u7C7B\u578B\u4E0D\u5339\u914D\u7684\u95EE\u9898\uFF0C\u6BD4\u5982\u4EE3\u7801\u4E2D\u9700\u8981int\u7C7B\u578B\uFF0C\u914D\u7F6E\u4E2D\u7ED9\u4E86\u975E\u6CD5\u7684\u6570\u503C\uFF0C\u4F8B\u5982\u5199\u4E00\u4E2A\u201Ca&quot;\uFF0C\u8FD9\u79CD\u6570\u636E\u80AF\u5B9A\u65E0\u6CD5\u6709\u6548\u7684\u7ED1\u5B9A\uFF0C\u8FD8\u4F1A\u5F15\u53D1\u9519\u8BEF\u3002 SpringBoot\u7ED9\u51FA\u4E86\u5F3A\u5927\u7684\u6570\u636E\u6821\u9A8C\u529F\u80FD\uFF0C\u53EF\u4EE5\u6709\u6548\u7684\u907F\u514D\u6B64\u7C7B\u95EE\u9898\u7684\u53D1\u751F\u3002\u5728JAVAEE\u7684JSR303\u89C4\u8303\u4E2D\u7ED9\u51FA\u4E86\u5177\u4F53\u7684\u6570\u636E\u6821\u9A8C\u6807\u51C6\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u7684\u9700\u8981\u9009\u62E9\u5BF9\u5E94\u7684\u6821\u9A8C\u6846\u67B6\uFF0C\u6B64\u5904\u4F7F\u7528Hibernate\u63D0\u4F9B\u7684\u6821\u9A8C\u6846\u67B6\u6765\u4F5C\u4E3A\u5B9E\u73B0\u8FDB\u884C\u6570\u636E\u6821\u9A8C\u3002\u4E66\u5199\u5E94\u7528\u683C\u5F0F\u975E\u5E38\u56FA\u5B9A\uFF0C\u8BDD\u4E0D\u591A\u8BF4\uFF0C\u76F4\u63A5\u4E0A\u6B65\u9AA4</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5F00\u542F\u6821\u9A8C\u6846\u67B6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--1.\u5BFC\u5165JSR303\u89C4\u8303--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>validation-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--\u4F7F\u7528hibernate\u6846\u67B6\u63D0\u4F9B\u7684\u6821\u9A8C\u5668\u505A\u5B9E\u73B0--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5728\u9700\u8981\u5F00\u542F\u6821\u9A8C\u529F\u80FD\u7684\u7C7B\u4E0A\u4F7F\u7528\u6CE8\u89E3@Validated\u5F00\u542F\u6821\u9A8C\u529F\u80FD</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//\u5F00\u542F\u5BF9\u5F53\u524Dbean\u7684\u5C5E\u6027\u6CE8\u5165\u6821\u9A8C</span>
<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u5BF9\u5177\u4F53\u7684\u5B57\u6BB5\u8BBE\u7F6E\u6821\u9A8C\u89C4\u5219</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;servers&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//\u5F00\u542F\u5BF9\u5F53\u524Dbean\u7684\u5C5E\u6027\u6CE8\u5165\u6821\u9A8C</span>
<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServerConfig</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u8BBE\u7F6E\u5177\u4F53\u7684\u89C4\u5219</span>
    <span class="token annotation punctuation">@Max</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">8888</span><span class="token punctuation">,</span>message <span class="token operator">=</span> <span class="token string">&quot;\u6700\u5927\u503C\u4E0D\u80FD\u8D85\u8FC78888&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">202</span><span class="token punctuation">,</span>message <span class="token operator">=</span> <span class="token string">&quot;\u6700\u5C0F\u503C\u4E0D\u80FD\u4F4E\u4E8E202&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u901A\u8FC7\u8BBE\u7F6E\u6570\u636E\u683C\u5F0F\u6821\u9A8C\uFF0C\u5C31\u53EF\u4EE5\u6709\u6548\u907F\u514D\u975E\u6CD5\u6570\u636E\u52A0\u8F7D\uFF0C\u5176\u5B9E\u4F7F\u7528\u8D77\u6765\u8FD8\u662F\u633A\u8F7B\u677E\u7684\uFF0C\u57FA\u672C\u4E0A\u5C31\u662F\u4E00\u4E2A\u683C\u5F0F\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u5F00\u542FBean\u5C5E\u6027\u6821\u9A8C\u529F\u80FD\u4E00\u51713\u6B65\uFF1A\u5BFC\u5165JSR303\u4E0EHibernate\u6821\u9A8C\u6846\u67B6\u5750\u6807\u3001\u4F7F\u7528@Validated\u6CE8\u89E3\u542F\u7528\u6821\u9A8C\u529F\u80FD\u3001\u4F7F\u7528\u5177\u4F53\u6821\u9A8C\u89C4\u5219\u89C4\u8303\u6570\u636E\u6821\u9A8C\u683C\u5F0F</li></ol><h3 id="_2-5-\u6570\u636E\u7C7B\u578B\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#_2-5-\u6570\u636E\u7C7B\u578B\u8F6C\u6362" aria-hidden="true">#</a> 2-5.\u6570\u636E\u7C7B\u578B\u8F6C\u6362</h3><p>\u200B \u6709\u5173spring\u5C5E\u6027\u6CE8\u5165\u7684\u95EE\u9898\u5230\u8FD9\u91CC\u57FA\u672C\u4E0A\u5C31\u8BB2\u5B8C\u4E86\uFF0C\u4F46\u662F\u6700\u8FD1\u4E00\u540D\u5F00\u53D1\u8005\u5411\u6211\u54A8\u8BE2\u4E86\u4E00\u4E2A\u95EE\u9898\uFF0C\u6211\u89C9\u5F97\u9700\u8981\u7ED9\u5404\u4F4D\u5B66\u4E60\u8005\u5206\u4EAB\u4E00\u4E0B\u3002\u5728\u5B66\u4E60\u9636\u6BB5\u5176\u5B9E\u6211\u4EEC\u9047\u5230\u7684\u95EE\u9898\u5F80\u5F80\u590D\u6742\u5EA6\u6BD4\u8F83\u4F4E\uFF0C\u5355\u4E00\u6027\u6BD4\u8F83\u5F3A\uFF0C\u4F46\u662F\u5230\u4E86\u7EBF\u4E0A\u5F00\u53D1\u65F6\uFF0C\u90FD\u662F\u7EFC\u5408\u6027\u7684\u95EE\u9898\uFF0C\u800C\u8FD9\u4E2A\u5F00\u53D1\u8005\u9047\u5230\u7684\u95EE\u9898\u5C31\u662F\u7531\u4E8Ebean\u7684\u5C5E\u6027\u6CE8\u5165\u5F15\u53D1\u7684\u707E\u96BE\u3002</p><p>\u200B \u5148\u628A\u95EE\u9898\u63CF\u8FF0\u4E00\u4E0B\uFF0C\u8FD9\u4F4D\u5F00\u53D1\u8005\u8FDE\u63A5\u6570\u636E\u5E93\u6B63\u5E38\u64CD\u4F5C\uFF0C\u4F46\u662F\u8FD0\u884C\u7A0B\u5E8F\u540E\u663E\u793A\u7684\u4FE1\u606F\u662F\u5BC6\u7801\u9519\u8BEF\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u5176\u5B9E\u770B\u5230\u8FD9\u4E2A\u62A5\u9519\uFF0C\u51E0\u4E4E\u6240\u6709\u7684\u5B66\u4E60\u8005\u90FD\u80FD\u5206\u8FA8\u51FA\u6765\uFF0C\u8FD9\u662F\u7528\u6237\u540D\u548C\u5BC6\u7801\u4E0D\u5339\u914D\uFF0C\u5C31\u5C31\u662F\u5BC6\u7801\u8F93\u5165\u9519\u4E86\uFF0C\u4F46\u662F\u95EE\u9898\u5C31\u5728\u4E8E\u5BC6\u7801\u5E76\u6CA1\u6709\u8F93\u5165\u9519\u8BEF\uFF0C\u8FD9\u5C31\u6BD4\u8F83\u8BA8\u538C\u4E86\u3002\u7ED9\u7684\u62A5\u9519\u4FE1\u606F\u65E0\u6CD5\u5E2E\u52A9\u4F60\u6709\u6548\u7684\u5206\u6790\u95EE\u9898\uFF0C\u751A\u81F3\u4F1A\u7ED9\u4F60\u5E26\u5230\u6C9F\u91CC\u3002\u5982\u679C\u662F\u521D\u5B66\u8005\uFF0C\u4F30\u8BA1\u8FD9\u4F1A\u5FC3\u6001\u5C31\u5D29\u4E86\uFF0C\u6211\u5BC6\u7801\u6CA1\u9519\u554A\uFF0C\u4F60\u600E\u4E48\u80FD\u8BF4\u6211\u6709\u9519\u8BEF\u5462\uFF1F\u6765\u770B\u770B\u7528\u6237\u540D\u5BC6\u7801\u7684\u914D\u7F6E\u662F\u5982\u4F55\u5199\u7684\uFF1A</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC
    username: root
    password: 0127
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD9\u540D\u5F00\u53D1\u8005\u7684\u751F\u65E5\u662F1\u670827\u65E5\uFF0C\u6240\u4EE5\u5BC6\u7801\u5C31\u4F7F\u7528\u4E860127\uFF0C\u5176\u5B9E\u95EE\u9898\u5C31\u51FA\u5728\u8FD9\u91CC\u4E86\u3002</p><p>\u200B \u4E4B\u524D\u5728\u57FA\u7840\u7BC7\u8BB2\u5C5E\u6027\u6CE8\u5165\u65F6\uFF0C\u63D0\u5230\u8FC7\u7C7B\u578B\u76F8\u5173\u7684\u77E5\u8BC6\uFF0C\u5728\u6574\u6570\u76F8\u5173\u77E5\u8BC6\u4E2D\u6709\u8FD9\u4E48\u4E00\u53E5\u8BDD\uFF0C<strong>\u652F\u6301\u4E8C\u8FDB\u5236\uFF0C\u516B\u8FDB\u5236\uFF0C\u5341\u516D\u8FDB\u5236</strong></p><img src="`+b+`" alt="image-20220222225748370" style="zoom:80%;"><p>\u200B \u8FD9\u4E2A\u95EE\u9898\u5C31\u5904\u5728\u8FD9\u91CC\u4E86\uFF0C\u56E0\u4E3A0127\u5728\u5F00\u53D1\u8005\u773C\u4E2D\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\u201C0127\u201D\uFF0C\u4F46\u662F\u5728springboot\u770B\u6765\uFF0C\u8FD9\u5C31\u662F\u4E00\u4E2A\u6570\u5B57\uFF0C\u800C\u4E14\u662F\u4E00\u4E2A\u516B\u8FDB\u5236\u7684\u6570\u5B57\u3002\u5F53\u540E\u53F0\u4F7F\u7528String\u7C7B\u578B\u63A5\u6536\u6570\u636E\u65F6\uFF0C\u5982\u679C\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E\u4E86\u4E00\u4E2A\u6574\u6570\u503C\uFF0C\u4ED6\u662F\u5148\u5B89\u88C5\u6574\u6570\u8FDB\u884C\u5904\u7406\uFF0C\u8BFB\u53D6\u540E\u518D\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\u3002\u5DE7\u4E86\uFF0C0127\u649E\u4E0A\u4E86\u516B\u8FDB\u5236\u7684\u683C\u5F0F\uFF0C\u6240\u4EE5\u6700\u7EC8\u4EE5\u5341\u8FDB\u5236\u6570\u5B5787\u7684\u7ED3\u679C\u5B58\u5728\u4E86\u3002</p><p>\u200B \u8FD9\u91CC\u63D0\u4E24\u4E2A\u6CE8\u610F\u70B9\uFF0C\u7B2C\u4E00\uFF0C\u5B57\u7B26\u4E32\u6807\u51C6\u4E66\u5199\u52A0\u4E0A\u5F15\u53F7\u5305\u88F9\uFF0C\u517B\u6210\u4E60\u60EF\uFF0C\u7B2C\u4E8C\uFF0C\u9047\u52300\u5F00\u5934\u7684\u6570\u636E\u591A\u6CE8\u610F\u5427\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>yaml\u6587\u4EF6\u4E2D\u5BF9\u4E8E\u6570\u5B57\u7684\u5B9A\u4E49\u652F\u6301\u8FDB\u5236\u4E66\u5199\u683C\u5F0F\uFF0C\u5982\u9700\u4F7F\u7528\u5B57\u7B26\u4E32\u8BF7\u4F7F\u7528\u5F15\u53F7\u660E\u786E\u6807\u6CE8</li></ol><h2 id="_3-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_3-\u6D4B\u8BD5" aria-hidden="true">#</a> 3.\u6D4B\u8BD5</h2><p>\u200B \u8BF4\u5B8Cbean\u914D\u7F6E\u76F8\u5173\u7684\u5185\u5BB9\uFF0C\u4E0B\u9762\u8981\u5BF9\u524D\u9762\u8BB2\u8FC7\u7684\u4E00\u4E2A\u77E5\u8BC6\u505A\u52A0\u5F3A\u4E86\uFF0C\u6D4B\u8BD5\u3002\u6D4B\u8BD5\u662F\u4FDD\u969C\u7A0B\u5E8F\u6B63\u786E\u6027\u7684\u552F\u4E00\u5C4F\u969C\uFF0C\u5728\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\u66F4\u662F\u4E0D\u53EF\u7F3A\u5C11\uFF0C\u4F46\u662F\u7531\u4E8E\u6D4B\u8BD5\u4EE3\u7801\u5F80\u5F80\u4E0D\u4EA7\u751F\u5B9E\u9645\u6548\u76CA\uFF0C\u6240\u4EE5\u4E00\u4E9B\u5C0F\u578B\u516C\u53F8\u5E76\u4E0D\u662F\u5F88\u5173\u6CE8\uFF0C\u5BFC\u81F4\u4E00\u4E9B\u5F00\u53D1\u8005\u4ECE\u5C0F\u578B\u516C\u53F8\u8FDB\u5165\u4E2D\u5927\u578B\u516C\u53F8\u540E\uFF0C\u5F80\u5F80\u8FD9\u4E00\u5757\u6BD4\u8F83\u77ED\u677F\uFF0C\u6240\u4EE5\u8FD8\u662F\u8981\u62FF\u51FA\u6765\u628A\u8FD9\u4E00\u5757\u77E5\u8BC6\u597D\u597D\u8BF4\u8BF4\uFF0C\u505A\u4E00\u540D\u4E13\u4E1A\u7684\u5F00\u53D1\u4EBA\u5458\u3002</p><h3 id="_3-1-\u52A0\u8F7D\u6D4B\u8BD5\u4E13\u7528\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#_3-1-\u52A0\u8F7D\u6D4B\u8BD5\u4E13\u7528\u5C5E\u6027" aria-hidden="true">#</a> 3-1.\u52A0\u8F7D\u6D4B\u8BD5\u4E13\u7528\u5C5E\u6027</h3><p>\u200B \u6D4B\u8BD5\u8FC7\u7A0B\u672C\u8EAB\u5E76\u4E0D\u662F\u4E00\u4E2A\u590D\u6742\u7684\u8FC7\u7A0B\uFF0C\u4F46\u662F\u5F88\u591A\u60C5\u51B5\u4E0B\u6D4B\u8BD5\u65F6\u9700\u8981\u6A21\u62DF\u4E00\u4E9B\u7EBF\u4E0A\u60C5\u51B5\uFF0C\u6216\u8005\u6A21\u62DF\u4E00\u4E9B\u7279\u6B8A\u60C5\u51B5\u3002\u5982\u679C\u5F53\u524D\u73AF\u5883\u6309\u7167\u7EBF\u4E0A\u73AF\u5883\u5DF2\u7ECF\u8BBE\u5B9A\u597D\u4E86\uFF0C\u4F8B\u5982\u662F\u4E0B\u9762\u7684\u914D\u7F6E</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>env:
  maxMemory: 32GB
  minMemory: 16GB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F46\u662F\u4F60\u73B0\u5728\u60F3\u6D4B\u8BD5\u5BF9\u5E94\u7684\u517C\u5BB9\u6027\uFF0C\u9700\u8981\u6D4B\u8BD5\u5982\u4E0B\u914D\u7F6E</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>env:
  maxMemory: 16GB
  minMemory: 8GB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD9\u4E2A\u65F6\u5019\u6211\u4EEC\u80FD\u4E0D\u80FD\u6BCF\u6B21\u6D4B\u8BD5\u7684\u65F6\u5019\u90FD\u53BB\u4FEE\u6539\u6E90\u7801application.yml\u4E2D\u7684\u914D\u7F6E\u8FDB\u884C\u6D4B\u8BD5\u5462\uFF1F\u663E\u7136\u662F\u4E0D\u884C\u7684\u3002\u6BCF\u6B21\u6D4B\u8BD5\u524D\u6539\u8FC7\u6765\uFF0C\u6BCF\u6B21\u6D4B\u8BD5\u540E\u6539\u56DE\u53BB\uFF0C\u8FD9\u592A\u9EBB\u70E6\u4E86\u3002\u4E8E\u662F\u6211\u4EEC\u5C31\u60F3\uFF0C\u9700\u8981\u5728\u6D4B\u8BD5\u73AF\u5883\u4E2D\u521B\u5EFA\u4E00\u7EC4\u4E34\u65F6\u5C5E\u6027\uFF0C\u53BB\u8986\u76D6\u6211\u4EEC\u6E90\u7801\u4E2D\u8BBE\u5B9A\u7684\u5C5E\u6027\uFF0C\u8FD9\u6837\u6D4B\u8BD5\u7528\u4F8B\u5C31\u76F8\u5F53\u4E8E\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u73AF\u5883\uFF0C\u80FD\u591F\u72EC\u7ACB\u6D4B\u8BD5\uFF0C\u8FD9\u6837\u5C31\u65B9\u4FBF\u591A\u4E86\u3002</p><p><strong>\u4E34\u65F6\u5C5E\u6027</strong></p><p>\u200B springboot\u5DF2\u7ECF\u4E3A\u6211\u4EEC\u5F00\u53D1\u8005\u65E9\u5C31\u60F3\u597D\u4E86\u8FD9\u79CD\u95EE\u9898\u8BE5\u5982\u4F55\u89E3\u51B3\uFF0C\u5E76\u4E14\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684\u529F\u80FD\u5165\u53E3\u3002\u5728\u6D4B\u8BD5\u7528\u4F8B\u7A0B\u5E8F\u4E2D\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5BF9\u6CE8\u89E3@SpringBootTest\u6DFB\u52A0\u5C5E\u6027\u6765\u6A21\u62DF\u4E34\u65F6\u5C5E\u6027\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//properties\u5C5E\u6027\u53EF\u4EE5\u4E3A\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u6DFB\u52A0\u4E34\u65F6\u7684\u5C5E\u6027\u914D\u7F6E</span>
<span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>properties <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;test.prop=testValue1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesAndArgsTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${test.prop}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528\u6CE8\u89E3@SpringBootTest\u7684properties\u5C5E\u6027\u5C31\u53EF\u4EE5\u4E3A\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u6DFB\u52A0\u4E34\u65F6\u7684\u5C5E\u6027\uFF0C\u8986\u76D6\u6E90\u7801\u914D\u7F6E\u6587\u4EF6\u4E2D\u5BF9\u5E94\u7684\u5C5E\u6027\u503C\u8FDB\u884C\u6D4B\u8BD5\u3002</p><p><strong>\u4E34\u65F6\u53C2\u6570</strong></p><p>\u200B \u9664\u4E86\u4E0A\u8FF0\u8FD9\u79CD\u60C5\u51B5\uFF0C\u5728\u524D\u9762\u8BB2\u89E3\u4F7F\u7528\u547D\u4EE4\u884C\u542F\u52A8springboot\u7A0B\u5E8F\u65F6\u8BB2\u8FC7\uFF0C\u901A\u8FC7\u547D\u4EE4\u884C\u53C2\u6570\u4E5F\u53EF\u4EE5\u8BBE\u7F6E\u5C5E\u6027\u503C\u3002\u800C\u4E14\u7EBF\u4E0A\u542F\u52A8\u7A0B\u5E8F\u65F6\uFF0C\u901A\u5E38\u90FD\u4F1A\u6DFB\u52A0\u4E00\u4E9B\u4E13\u7528\u7684\u914D\u7F6E\u4FE1\u606F\u3002\u4F5C\u4E3A\u8FD0\u7EF4\u4EBA\u5458\u4ED6\u4EEC\u624D\u4E0D\u61C2java\uFF0C\u66F4\u4E0D\u61C2\u8FD9\u4E9B\u914D\u7F6E\u7684\u4FE1\u606F\u5177\u4F53\u683C\u5F0F\u8BE5\u600E\u4E48\u5199\uFF0C\u90A3\u5982\u679C\u6211\u4EEC\u4F5C\u4E3A\u5F00\u53D1\u8005\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684\u4E66\u5199\u5185\u5BB9\u540E\uFF0C\u80FD\u5426\u63D0\u524D\u6D4B\u8BD5\u4E00\u4E0B\u8FD9\u4E9B\u914D\u7F6E\u4FE1\u606F\u662F\u5426\u6709\u6548\u5462\uFF1F\u5F53\u65F6\u662F\u53EF\u4EE5\u7684\uFF0C\u8FD8\u662F\u901A\u8FC7\u6CE8\u89E3@SpringBootTest\u7684\u53E6\u4E00\u4E2A\u5C5E\u6027\u6765\u8FDB\u884C\u8BBE\u5B9A\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//args\u5C5E\u6027\u53EF\u4EE5\u4E3A\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u6DFB\u52A0\u4E34\u65F6\u7684\u547D\u4EE4\u884C\u53C2\u6570</span>
<span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>args<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;--test.prop=testValue2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesAndArgsTest</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${test.prop}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528\u6CE8\u89E3@SpringBootTest\u7684args\u5C5E\u6027\u5C31\u53EF\u4EE5\u4E3A\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u6A21\u62DF\u547D\u4EE4\u884C\u53C2\u6570\u5E76\u8FDB\u884C\u6D4B\u8BD5\u3002</p><p>\u200B \u8BF4\u5230\u8FD9\u91CC\uFF0C\u597D\u5947\u5B9D\u5B9D\u4EEC\u80AF\u5B9A\u5C31\u6709\u65B0\u95EE\u9898\u4E86\uFF0C\u5982\u679C\u4E24\u8005\u5171\u5B58\u5462\uFF1F\u5176\u5B9E\u5982\u679C\u601D\u8003\u4E00\u4E0B\u914D\u7F6E\u5C5E\u6027\u4E0E\u547D\u4EE4\u884C\u53C2\u6570\u7684\u52A0\u8F7D\u4F18\u5148\u7EA7\uFF0C\u8FD9\u4E2A\u7ED3\u679C\u5C31\u4E0D\u8A00\u800C\u55BB\u4E86\u3002\u5728\u5C5E\u6027\u52A0\u8F7D\u7684\u4F18\u5148\u7EA7\u8BBE\u5B9A\u4E2D\uFF0C\u6709\u660E\u786E\u7684\u4F18\u5148\u7EA7\u8BBE\u5B9A\u987A\u5E8F\uFF0C\u8FD8\u8BB0\u5F97\u4E0B\u9762\u8FD9\u4E2A\u987A\u5E8F\u5417\uFF1F</p><img src="`+g+`" alt="image-20211206100859236" style="zoom:67%;"><p>\u200B \u5728\u8FD9\u4E2A\u5C5E\u6027\u52A0\u8F7D\u4F18\u5148\u7EA7\u7684\u987A\u5E8F\u4E2D\uFF0C\u660E\u786E\u89C4\u5B9A\u4E86\u547D\u4EE4\u884C\u53C2\u6570\u7684\u4F18\u5148\u7EA7\u6392\u5E8F\u662F11\uFF0C\u800C\u914D\u7F6E\u5C5E\u6027\u7684\u4F18\u5148\u7EA7\u662F3\uFF0C\u7ED3\u679C\u4E0D\u8A00\u800C\u55BB\u4E86\uFF0Cargs\u5C5E\u6027\u914D\u7F6E\u4F18\u5148\u4E8Eproperties\u5C5E\u6027\u914D\u7F6E\u52A0\u8F7D\u3002</p><p>\u200B \u5230\u8FD9\u91CC\u6211\u4EEC\u5C31\u638C\u63E1\u4E86\u5982\u679C\u5728\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u53BB\u6A21\u62DF\u4E34\u65F6\u5C5E\u6027\u7684\u8BBE\u5B9A\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u52A0\u8F7D\u6D4B\u8BD5\u4E34\u65F6\u5C5E\u6027\u53EF\u4EE5\u901A\u8FC7\u6CE8\u89E3@SpringBootTest\u7684properties\u548Cargs\u5C5E\u6027\u8FDB\u884C\u8BBE\u5B9A\uFF0C\u6B64\u8BBE\u5B9A\u5E94\u7528\u8303\u56F4\u4EC5\u9002\u7528\u4E8E\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u5E94\u7528\u4E8E\u6D4B\u8BD5\u73AF\u5883\u7684\u4E34\u65F6\u5C5E\u6027\u89E3\u51B3\u4E86\uFF0C\u5982\u679C\u60F3\u5728\u6D4B\u8BD5\u7684\u65F6\u5019\u4E34\u65F6\u52A0\u8F7D\u4E00\u4E9Bbean\u80FD\u4E0D\u505A\u5462\uFF1F\u4E5F\u5C31\u662F\u8BF4\u6211\u6D4B\u8BD5\u65F6\uFF0C\u60F3\u641E\u4E00\u4E9B\u72EC\u7ACB\u7684bean\u51FA\u6765\uFF0C\u4E13\u95E8\u5E94\u7528\u4E8E\u6D4B\u8BD5\u73AF\u5883\uFF0C\u80FD\u5426\u5B9E\u73B0\u5462\uFF1F\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BB2\u3002</p><h3 id="_3-2-\u52A0\u8F7D\u6D4B\u8BD5\u4E13\u7528\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-2-\u52A0\u8F7D\u6D4B\u8BD5\u4E13\u7528\u914D\u7F6E" aria-hidden="true">#</a> 3-2.\u52A0\u8F7D\u6D4B\u8BD5\u4E13\u7528\u914D\u7F6E</h3><p>\u200B \u4E0A\u4E00\u8282\u63D0\u51FA\u4E86\u4E34\u65F6\u914D\u7F6E\u4E00\u4E9B\u4E13\u7528\u4E8E\u6D4B\u8BD5\u73AF\u5883\u7684bean\u7684\u9700\u6C42\uFF0C\u8FD9\u4E00\u8282\u6211\u4EEC\u5C31\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002</p><p>\u200B \u5B66\u4E60\u8FC7Spring\u7684\u77E5\u8BC6\uFF0C\u6211\u4EEC\u90FD\u77E5\u9053\uFF0C\u5176\u5B9E\u4E00\u4E2Aspring\u73AF\u5883\u4E2D\u53EF\u4EE5\u8BBE\u7F6E\u82E5\u5E72\u4E2A\u914D\u7F6E\u6587\u4EF6\u6216\u914D\u7F6E\u7C7B\uFF0C\u82E5\u5E72\u4E2A\u914D\u7F6E\u4FE1\u606F\u53EF\u4EE5\u540C\u65F6\u751F\u6548\u3002\u73B0\u5728\u6211\u4EEC\u7684\u9700\u6C42\u5C31\u662F\u5728\u6D4B\u8BD5\u73AF\u5883\u4E2D\u518D\u6DFB\u52A0\u4E00\u4E2A\u914D\u7F6E\u7C7B\uFF0C\u7136\u540E\u542F\u52A8\u6D4B\u8BD5\u73AF\u5883\u65F6\uFF0C\u751F\u6548\u6B64\u914D\u7F6E\u5C31\u884C\u4E86\u3002\u5176\u5B9E\u505A\u6CD5\u548Cspring\u73AF\u5883\u4E2D\u52A0\u8F7D\u591A\u4E2A\u914D\u7F6E\u4FE1\u606F\u7684\u65B9\u5F0F\u5B8C\u5168\u4E00\u6837\u3002\u5177\u4F53\u64CD\u4F5C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5728\u6D4B\u8BD5\u5305test\u4E2D\u521B\u5EFA\u4E13\u7528\u7684\u6D4B\u8BD5\u73AF\u5883\u914D\u7F6E\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MsgConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">msg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;bean msg&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u914D\u7F6E\u4EC5\u7528\u4E8E\u6F14\u793A\u5F53\u524D\u5B9E\u9A8C\u6548\u679C\uFF0C\u5B9E\u9645\u5F00\u53D1\u53EF\u4E0D\u80FD\u8FD9\u4E48\u6CE8\u5165String\u7C7B\u578B\u7684\u6570\u636E</p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5728\u542F\u52A8\u6D4B\u8BD5\u73AF\u5883\u65F6\uFF0C\u5BFC\u5165\u6D4B\u8BD5\u73AF\u5883\u4E13\u7528\u7684\u914D\u7F6E\u7C7B\uFF0C\u4F7F\u7528@Import\u6CE8\u89E3\u5373\u53EF\u5B9E\u73B0</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">MsgConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigurationTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5230\u8FD9\u91CC\u5C31\u901A\u8FC7@Import\u5C5E\u6027\u5B9E\u73B0\u4E86\u57FA\u4E8E\u5F00\u53D1\u73AF\u5883\u7684\u914D\u7F6E\u57FA\u7840\u4E0A\uFF0C\u5BF9\u914D\u7F6E\u8FDB\u884C\u6D4B\u8BD5\u73AF\u5883\u7684\u8FFD\u52A0\u64CD\u4F5C\uFF0C\u5B9E\u73B0\u4E861+1\u7684\u914D\u7F6E\u73AF\u5883\u6548\u679C\u3002\u8FD9\u6837\u6211\u4EEC\u5C31\u53EF\u4EE5\u5B9E\u73B0\u6BCF\u4E00\u4E2A\u4E0D\u540C\u7684\u6D4B\u8BD5\u7528\u4F8B\u52A0\u8F7D\u4E0D\u540C\u7684bean\u7684\u6548\u679C\uFF0C\u4E30\u5BCC\u6D4B\u8BD5\u7528\u4F8B\u7684\u7F16\u5199\uFF0C\u540C\u65F6\u4E0D\u5F71\u54CD\u5F00\u53D1\u73AF\u5883\u7684\u914D\u7F6E\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u5B9A\u4E49\u6D4B\u8BD5\u73AF\u5883\u4E13\u7528\u7684\u914D\u7F6E\u7C7B\uFF0C\u7136\u540E\u901A\u8FC7@Import\u6CE8\u89E3\u5728\u5177\u4F53\u7684\u6D4B\u8BD5\u4E2D\u5BFC\u5165\u4E34\u65F6\u7684\u914D\u7F6E\uFF0C\u4F8B\u5982\u6D4B\u8BD5\u7528\u4F8B\uFF0C\u65B9\u4FBF\u6D4B\u8BD5\u8FC7\u7A0B\uFF0C\u4E14\u4E0A\u8FF0\u914D\u7F6E\u4E0D\u5F71\u54CD\u5176\u4ED6\u7684\u6D4B\u8BD5\u7C7B\u73AF\u5883</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u5F53\u524D\u6211\u4EEC\u5DF2\u7ECF\u53EF\u4EE5\u5B9E\u73B0\u4E1A\u52A1\u5C42\u548C\u6570\u636E\u5C42\u7684\u6D4B\u8BD5\uFF0C\u5E76\u4E14\u901A\u8FC7\u4E34\u65F6\u914D\u7F6E\uFF0C\u63A7\u5236\u6BCF\u4E2A\u6D4B\u8BD5\u7528\u4F8B\u52A0\u8F7D\u4E0D\u540C\u7684\u6D4B\u8BD5\u6570\u636E\u3002\u4F46\u662F\u5B9E\u9645\u4F01\u4E1A\u5F00\u53D1\u4E0D\u4EC5\u8981\u4FDD\u969C\u4E1A\u52A1\u5C42\u4E0E\u6570\u636E\u5C42\u7684\u529F\u80FD\u5B89\u5168\u6709\u6548\uFF0C\u4E5F\u8981\u4FDD\u969C\u8868\u73B0\u5C42\u7684\u529F\u80FD\u6B63\u5E38\u3002\u4F46\u662F\u6211\u4EEC\u76EE\u7684\u5BF9\u8868\u73B0\u5C42\u7684\u6D4B\u8BD5\u90FD\u662F\u901A\u8FC7postman\u624B\u5DE5\u6D4B\u8BD5\u7684\uFF0C\u5E76\u6CA1\u6709\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u4F53\u73B0\u8868\u73B0\u5C42\u529F\u80FD\u88AB\u6D4B\u8BD5\u901A\u8FC7\u3002\u80FD\u5426\u5728\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u5BF9\u8868\u73B0\u5C42\u8FDB\u884C\u529F\u80FD\u6D4B\u8BD5\u5462\uFF1F\u8FD8\u771F\u53EF\u4EE5\uFF0C\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BB2\u3002</p><h3 id="_3-3-web\u73AF\u5883\u6A21\u62DF\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_3-3-web\u73AF\u5883\u6A21\u62DF\u6D4B\u8BD5" aria-hidden="true">#</a> 3-3.Web\u73AF\u5883\u6A21\u62DF\u6D4B\u8BD5</h3><p>\u200B \u5728\u6D4B\u8BD5\u4E2D\u5BF9\u8868\u73B0\u5C42\u529F\u80FD\u8FDB\u884C\u6D4B\u8BD5\u9700\u8981\u4E00\u4E2A\u57FA\u7840\u548C\u4E00\u4E2A\u529F\u80FD\u3002\u6240\u8C13\u7684\u4E00\u4E2A\u57FA\u7840\u662F\u8FD0\u884C\u6D4B\u8BD5\u7A0B\u5E8F\u65F6\uFF0C\u5FC5\u987B\u542F\u52A8web\u73AF\u5883\uFF0C\u4E0D\u7136\u6CA1\u6CD5\u6D4B\u8BD5web\u529F\u80FD\u3002\u4E00\u4E2A\u529F\u80FD\u662F\u5FC5\u987B\u5728\u6D4B\u8BD5\u7A0B\u5E8F\u4E2D\u5177\u5907\u53D1\u9001web\u8BF7\u6C42\u7684\u80FD\u529B\uFF0C\u4E0D\u7136\u65E0\u6CD5\u5B9E\u73B0web\u529F\u80FD\u7684\u6D4B\u8BD5\u3002\u6240\u4EE5\u5728\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u6D4B\u8BD5\u8868\u73B0\u5C42\u63A5\u53E3\u8FD9\u9879\u5DE5\u4F5C\u5C31\u8F6C\u6362\u6210\u4E86\u4E24\u4EF6\u4E8B\uFF0C\u4E00\uFF0C\u5982\u4F55\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u542F\u52A8web\u6D4B\u8BD5\uFF0C\u4E8C\uFF0C\u5982\u4F55\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u53D1\u9001web\u8BF7\u6C42\u3002\u4E0B\u9762\u4E00\u4EF6\u4E8B\u4E00\u4EF6\u4E8B\u8FDB\u884C\uFF0C\u5148\u8BF4\u7B2C\u4E00\u4E2A</p><p><strong>\u6D4B\u8BD5\u7C7B\u4E2D\u542F\u52A8web\u73AF\u5883</strong></p><p>\u200B \u6BCF\u4E00\u4E2Aspringboot\u7684\u6D4B\u8BD5\u7C7B\u4E0A\u65B9\u90FD\u4F1A\u6807\u51C6@SpringBootTest\u6CE8\u89E3\uFF0C\u800C\u6CE8\u89E3\u5E26\u6709\u4E00\u4E2A\u5C5E\u6027\uFF0C\u53EB\u505AwebEnvironment\u3002\u901A\u8FC7\u8BE5\u5C5E\u6027\u5C31\u53EF\u4EE5\u8BBE\u7F6E\u5728\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u542F\u52A8web\u73AF\u5883\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span><span class="token constant">RANDOM_PORT</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebTest</span> <span class="token punctuation">{</span>	
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6D4B\u8BD5\u7C7B\u4E2D\u542F\u52A8web\u73AF\u5883\u65F6\uFF0C\u53EF\u4EE5\u6307\u5B9A\u542F\u52A8\u7684Web\u73AF\u5883\u5BF9\u5E94\u7684\u7AEF\u53E3\uFF0Cspringboot\u63D0\u4F9B\u4E864\u79CD\u8BBE\u7F6E\u503C\uFF0C\u5206\u522B\u5982\u4E0B\uFF1A</p><img src="`+h+`" alt="image-20220223125453317" style="zoom:80%;"><ul><li>MOCK\uFF1A\u6839\u636E\u5F53\u524D\u8BBE\u7F6E\u786E\u8BA4\u662F\u5426\u542F\u52A8web\u73AF\u5883\uFF0C\u4F8B\u5982\u4F7F\u7528\u4E86Servlet\u7684API\u5C31\u542F\u52A8web\u73AF\u5883\uFF0C\u5C5E\u4E8E\u9002\u914D\u6027\u7684\u914D\u7F6E</li><li>DEFINED_PORT\uFF1A\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u7AEF\u53E3\u4F5C\u4E3Aweb\u670D\u52A1\u5668\u7AEF\u53E3</li><li>RANDOM_PORT\uFF1A\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\u4F5C\u4E3Aweb\u670D\u52A1\u5668\u7AEF\u53E3</li><li>NONE\uFF1A\u4E0D\u542F\u52A8web\u73AF\u5883</li></ul><p>\u200B \u901A\u8FC7\u4E0A\u8FF0\u914D\u7F6E\uFF0C\u73B0\u5728\u542F\u52A8\u6D4B\u8BD5\u7A0B\u5E8F\u65F6\u5C31\u53EF\u4EE5\u6B63\u5E38\u542F\u7528web\u73AF\u5883\u4E86\uFF0C\u5EFA\u8BAE\u5927\u5BB6\u6D4B\u8BD5\u65F6\u4F7F\u7528RANDOM_PORT\uFF0C\u907F\u514D\u4EE3\u7801\u4E2D\u56E0\u4E3A\u5199\u6B7B\u8BBE\u5B9A\u5F15\u53D1\u7EBF\u4E0A\u529F\u80FD\u6253\u5305\u6D4B\u8BD5\u65F6\u7531\u4E8E\u7AEF\u53E3\u51B2\u7A81\u5BFC\u81F4\u610F\u5916\u73B0\u8C61\u7684\u51FA\u73B0\u3002\u5C31\u662F\u8BF4\u4F60\u7A0B\u5E8F\u4E2D\u5199\u4E86\u75288080\u7AEF\u53E3\uFF0C\u7ED3\u679C\u7EBF\u4E0A\u73AF\u58838080\u7AEF\u53E3\u88AB\u5360\u7528\u4E86\uFF0C\u7ED3\u679C\u4F60\u4EE3\u7801\u4E2D\u6240\u6709\u5199\u7684\u4E1C\u897F\u90FD\u8981\u6539\uFF0C\u8FD9\u5C31\u662F\u5199\u6B7B\u4EE3\u7801\u7684\u4EE3\u4EF7\u3002\u73B0\u5728\u4F60\u7528\u968F\u673A\u7AEF\u53E3\u5C31\u53EF\u4EE5\u6D4B\u8BD5\u51FA\u6765\u4F60\u6709\u6CA1\u6709\u8FD9\u79CD\u95EE\u9898\u7684\u9690\u60A3\u4E86\u3002</p><p>\u200B \u6D4B\u8BD5\u73AF\u5883\u4E2D\u7684web\u73AF\u5883\u5DF2\u7ECF\u642D\u5EFA\u597D\u4E86\uFF0C\u4E0B\u9762\u5C31\u53EF\u4EE5\u6765\u89E3\u51B3\u7B2C\u4E8C\u4E2A\u95EE\u9898\u4E86\uFF0C\u5982\u4F55\u5728\u7A0B\u5E8F\u4EE3\u7801\u4E2D\u53D1\u9001web\u8BF7\u6C42\u3002</p><p><strong>\u6D4B\u8BD5\u7C7B\u4E2D\u53D1\u9001\u8BF7\u6C42</strong></p><p>\u200B \u5BF9\u4E8E\u6D4B\u8BD5\u7C7B\u4E2D\u53D1\u9001\u8BF7\u6C42\uFF0C\u5176\u5B9Ejava\u7684API\u5C31\u63D0\u4F9B\u5BF9\u5E94\u7684\u529F\u80FD\uFF0C\u53EA\u4E0D\u8FC7\u5E73\u65F6\u5404\u4F4D\u5C0F\u4F19\u4F34\u63A5\u89E6\u7684\u6BD4\u8F83\u5C11\uFF0C\u6240\u4EE5\u8F83\u4E3A\u964C\u751F\u3002springboot\u4E3A\u4E86\u4FBF\u4E8E\u5F00\u53D1\u8005\u8FDB\u884C\u5BF9\u5E94\u7684\u529F\u80FD\u5F00\u53D1\uFF0C\u5BF9\u5176\u53C8\u8FDB\u884C\u4E86\u5305\u88C5\uFF0C\u7B80\u5316\u4E86\u5F00\u53D1\u6B65\u9AA4\uFF0C\u5177\u4F53\u64CD\u4F5C\u5982\u4E0B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u5F00\u542Fweb\u865A\u62DF\u8C03\u7528\u529F\u80FD\uFF0C\u901A\u8FC7\u6CE8\u89E3@AutoConfigureMockMvc\u5B9E\u73B0\u6B64\u529F\u80FD\u7684\u5F00\u542F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span><span class="token constant">RANDOM_PORT</span><span class="token punctuation">)</span>
<span class="token comment">//\u5F00\u542F\u865A\u62DFMVC\u8C03\u7528</span>
<span class="token annotation punctuation">@AutoConfigureMockMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebTest</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5B9A\u4E49\u53D1\u8D77\u865A\u62DF\u8C03\u7528\u7684\u5BF9\u8C61MockMVC\uFF0C\u901A\u8FC7\u81EA\u52A8\u88C5\u914D\u7684\u5F62\u5F0F\u521D\u59CB\u5316\u5BF9\u8C61</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span><span class="token constant">RANDOM_PORT</span><span class="token punctuation">)</span>
<span class="token comment">//\u5F00\u542F\u865A\u62DFMVC\u8C03\u7528</span>
<span class="token annotation punctuation">@AutoConfigureMockMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testWeb</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u8BF7\u6C42\u5BF9\u8C61\uFF0C\u5C01\u88C5\u8BF7\u6C42\u7684\u8DEF\u5F84\uFF0C\u5E76\u4F7F\u7528MockMVC\u5BF9\u8C61\u53D1\u9001\u5BF9\u5E94\u8BF7\u6C42</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span><span class="token constant">RANDOM_PORT</span><span class="token punctuation">)</span>
<span class="token comment">//\u5F00\u542F\u865A\u62DFMVC\u8C03\u7528</span>
<span class="token annotation punctuation">@AutoConfigureMockMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testWeb</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//http://localhost:8080/books</span>
        <span class="token comment">//\u521B\u5EFA\u865A\u62DF\u8BF7\u6C42\uFF0C\u5F53\u524D\u8BBF\u95EE/books</span>
        <span class="token class-name">MockHttpServletRequestBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u6267\u884C\u5BF9\u5E94\u7684\u8BF7\u6C42</span>
        mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6267\u884C\u6D4B\u8BD5\u7A0B\u5E8F\uFF0C\u73B0\u5728\u5C31\u53EF\u4EE5\u6B63\u5E38\u7684\u53D1\u9001/books\u5BF9\u5E94\u7684\u8BF7\u6C42\u4E86\uFF0C\u6CE8\u610F\u8BBF\u95EE\u8DEF\u5F84\u4E0D\u8981\u5199http://localhost:8080/books\uFF0C\u56E0\u4E3A\u524D\u9762\u7684\u670D\u52A1\u5668IP\u5730\u5740\u548C\u7AEF\u53E3\u4F7F\u7528\u7684\u662F\u5F53\u524D\u865A\u62DF\u7684web\u73AF\u5883\uFF0C\u65E0\u9700\u6307\u5B9A\uFF0C\u4EC5\u6307\u5B9A\u8BF7\u6C42\u7684\u5177\u4F53\u8DEF\u5F84\u5373\u53EF\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u6D4B\u8BD5web\u5C42\u63A5\u53E3\u8981\u4FDD\u969C\u6D4B\u8BD5\u7C7B\u542F\u52A8\u65F6\u542F\u52A8web\u5BB9\u5668\uFF0C\u4F7F\u7528@SpringBootTest\u6CE8\u89E3\u7684webEnvironment\u5C5E\u6027\u53EF\u4EE5\u865A\u62DFweb\u73AF\u5883\u7528\u4E8E\u6D4B\u8BD5</li><li>\u4E3A\u6D4B\u8BD5\u65B9\u6CD5\u6CE8\u5165MockMvc\u5BF9\u8C61\uFF0C\u901A\u8FC7MockMvc\u5BF9\u8C61\u53EF\u4EE5\u53D1\u9001\u865A\u62DF\u8BF7\u6C42\uFF0C\u6A21\u62DFweb\u8BF7\u6C42\u8C03\u7528\u8FC7\u7A0B</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u76EE\u524D\u5DF2\u7ECF\u6210\u529F\u7684\u53D1\u9001\u4E86\u8BF7\u6C42\uFF0C\u4F46\u662F\u8FD8\u6CA1\u6709\u8D77\u5230\u6D4B\u8BD5\u7684\u6548\u679C\uFF0C\u6D4B\u8BD5\u8FC7\u7A0B\u5FC5\u987B\u51FA\u73B0\u9884\u8BA1\u503C\u4E0E\u771F\u5B9E\u503C\u7684\u6BD4\u5BF9\u7ED3\u679C\u624D\u80FD\u786E\u8BA4\u6D4B\u8BD5\u7ED3\u679C\u662F\u5426\u901A\u8FC7\uFF0C\u865A\u62DF\u8BF7\u6C42\u4E2D\u80FD\u5BF9\u54EA\u4E9B\u8BF7\u6C42\u7ED3\u679C\u8FDB\u884C\u6BD4\u5BF9\u5462\uFF1F\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BB2\u3002</p><p><strong>web\u73AF\u5883\u8BF7\u6C42\u7ED3\u679C\u6BD4\u5BF9</strong></p><p>\u200B \u4E0A\u4E00\u8282\u5DF2\u7ECF\u5728\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u6210\u529F\u7684\u6A21\u62DF\u51FA\u4E86web\u73AF\u5883\uFF0C\u5E76\u6210\u529F\u7684\u53D1\u9001\u4E86web\u8BF7\u6C42\uFF0C\u672C\u8282\u5C31\u6765\u89E3\u51B3\u53D1\u9001\u8BF7\u6C42\u540E\u5982\u4F55\u6BD4\u5BF9\u53D1\u9001\u7ED3\u679C\u7684\u95EE\u9898\u3002\u5176\u5B9E\u53D1\u5B8C\u8BF7\u6C42\u5F97\u5230\u7684\u4FE1\u606F\u53EA\u6709\u4E00\u79CD\uFF0C\u5C31\u662F\u54CD\u5E94\u5BF9\u8C61\u3002\u81F3\u4E8E\u54CD\u5E94\u5BF9\u8C61\u4E2D\u5305\u542B\u4EC0\u4E48\uFF0C\u5C31\u53EF\u4EE5\u6BD4\u5BF9\u4EC0\u4E48\u3002\u5E38\u89C1\u7684\u6BD4\u5BF9\u5185\u5BB9\u5982\u4E0B\uFF1A</p><ul><li><p>\u54CD\u5E94\u72B6\u6001\u5339\u914D</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testStatus</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">MockHttpServletRequestBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultActions</span> action <span class="token operator">=</span> mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u5B9A\u9884\u671F\u503C \u4E0E\u771F\u5B9E\u503C\u8FDB\u884C\u6BD4\u8F83\uFF0C\u6210\u529F\u6D4B\u8BD5\u901A\u8FC7\uFF0C\u5931\u8D25\u6D4B\u8BD5\u5931\u8D25</span>
    <span class="token comment">//\u5B9A\u4E49\u672C\u6B21\u8C03\u7528\u7684\u9884\u671F\u503C</span>
    <span class="token class-name">StatusResultMatchers</span> status <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u9884\u8BA1\u672C\u6B21\u8C03\u7528\u65F6\u6210\u529F\u7684\uFF1A\u72B6\u6001200</span>
    <span class="token class-name">ResultMatcher</span> ok <span class="token operator">=</span> status<span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6DFB\u52A0\u9884\u8BA1\u503C\u5230\u672C\u6B21\u8C03\u7528\u8FC7\u7A0B\u4E2D\u8FDB\u884C\u5339\u914D</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u54CD\u5E94\u4F53\u5339\u914D\uFF08\u975Ejson\u6570\u636E\u683C\u5F0F\uFF09</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testBody</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">MockHttpServletRequestBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultActions</span> action <span class="token operator">=</span> mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u5B9A\u9884\u671F\u503C \u4E0E\u771F\u5B9E\u503C\u8FDB\u884C\u6BD4\u8F83\uFF0C\u6210\u529F\u6D4B\u8BD5\u901A\u8FC7\uFF0C\u5931\u8D25\u6D4B\u8BD5\u5931\u8D25</span>
    <span class="token comment">//\u5B9A\u4E49\u672C\u6B21\u8C03\u7528\u7684\u9884\u671F\u503C</span>
    <span class="token class-name">ContentResultMatchers</span> content <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultMatcher</span> result <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">&quot;springboot2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6DFB\u52A0\u9884\u8BA1\u503C\u5230\u672C\u6B21\u8C03\u7528\u8FC7\u7A0B\u4E2D\u8FDB\u884C\u5339\u914D</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u54CD\u5E94\u4F53\u5339\u914D\uFF08json\u6570\u636E\u683C\u5F0F\uFF0C\u5F00\u53D1\u4E2D\u7684\u4E3B\u6D41\u4F7F\u7528\u65B9\u5F0F\uFF09</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testJson</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">MockHttpServletRequestBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultActions</span> action <span class="token operator">=</span> mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u5B9A\u9884\u671F\u503C \u4E0E\u771F\u5B9E\u503C\u8FDB\u884C\u6BD4\u8F83\uFF0C\u6210\u529F\u6D4B\u8BD5\u901A\u8FC7\uFF0C\u5931\u8D25\u6D4B\u8BD5\u5931\u8D25</span>
    <span class="token comment">//\u5B9A\u4E49\u672C\u6B21\u8C03\u7528\u7684\u9884\u671F\u503C</span>
    <span class="token class-name">ContentResultMatchers</span> content <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultMatcher</span> result <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string">&quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;springboot2\\&quot;,\\&quot;type\\&quot;:\\&quot;springboot\\&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6DFB\u52A0\u9884\u8BA1\u503C\u5230\u672C\u6B21\u8C03\u7528\u8FC7\u7A0B\u4E2D\u8FDB\u884C\u5339\u914D</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u54CD\u5E94\u5934\u4FE1\u606F\u5339\u914D</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testContentType</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">MockHttpServletRequestBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultActions</span> action <span class="token operator">=</span> mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u5B9A\u9884\u671F\u503C \u4E0E\u771F\u5B9E\u503C\u8FDB\u884C\u6BD4\u8F83\uFF0C\u6210\u529F\u6D4B\u8BD5\u901A\u8FC7\uFF0C\u5931\u8D25\u6D4B\u8BD5\u5931\u8D25</span>
    <span class="token comment">//\u5B9A\u4E49\u672C\u6B21\u8C03\u7528\u7684\u9884\u671F\u503C</span>
    <span class="token class-name">HeaderResultMatchers</span> header <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultMatcher</span> contentType <span class="token operator">=</span> header<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6DFB\u52A0\u9884\u8BA1\u503C\u5230\u672C\u6B21\u8C03\u7528\u8FC7\u7A0B\u4E2D\u8FDB\u884C\u5339\u914D</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>\u200B \u57FA\u672C\u4E0A\u9F50\u4E86\uFF0C\u5934\u4FE1\u606F\uFF0C\u6B63\u6587\u4FE1\u606F\uFF0C\u72B6\u6001\u4FE1\u606F\u90FD\u6709\u4E86\uFF0C\u5C31\u53EF\u4EE5\u7EC4\u5408\u51FA\u4E00\u4E2A\u5B8C\u7F8E\u7684\u54CD\u5E94\u7ED3\u679C\u6BD4\u5BF9\u7ED3\u679C\u4E86\u3002\u4EE5\u4E0B\u8303\u4F8B\u5C31\u662F\u4E09\u79CD\u4FE1\u606F\u540C\u65F6\u8FDB\u884C\u5339\u914D\u6821\u9A8C\uFF0C\u4E5F\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u4FE1\u606F\u5339\u914D\u8FC7\u7A0B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testGetById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">MockHttpServletRequestBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultActions</span> action <span class="token operator">=</span> mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">StatusResultMatchers</span> status <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultMatcher</span> ok <span class="token operator">=</span> status<span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HeaderResultMatchers</span> header <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultMatcher</span> contentType <span class="token operator">=</span> header<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>contentType<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">ContentResultMatchers</span> content <span class="token operator">=</span> <span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultMatcher</span> result <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string">&quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;springboot\\&quot;,\\&quot;type\\&quot;:\\&quot;springboot\\&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    action<span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>web\u865A\u62DF\u8C03\u7528\u53EF\u4EE5\u5BF9\u672C\u5730\u865A\u62DF\u8BF7\u6C42\u7684\u8FD4\u56DE\u54CD\u5E94\u4FE1\u606F\u8FDB\u884C\u6BD4\u5BF9\uFF0C\u5206\u4E3A\u54CD\u5E94\u5934\u4FE1\u606F\u6BD4\u5BF9\u3001\u54CD\u5E94\u4F53\u4FE1\u606F\u6BD4\u5BF9\u3001\u54CD\u5E94\u72B6\u6001\u4FE1\u606F\u6BD4\u5BF9</li></ol><h3 id="_3-4-\u6570\u636E\u5C42\u6D4B\u8BD5\u56DE\u6EDA" tabindex="-1"><a class="header-anchor" href="#_3-4-\u6570\u636E\u5C42\u6D4B\u8BD5\u56DE\u6EDA" aria-hidden="true">#</a> 3-4.\u6570\u636E\u5C42\u6D4B\u8BD5\u56DE\u6EDA</h3><p>\u200B \u5F53\u524D\u6211\u4EEC\u7684\u6D4B\u8BD5\u7A0B\u5E8F\u53EF\u4EE5\u5B8C\u7F8E\u7684\u8FDB\u884C\u8868\u73B0\u5C42\u3001\u4E1A\u52A1\u5C42\u3001\u6570\u636E\u5C42\u63A5\u53E3\u5BF9\u5E94\u7684\u529F\u80FD\u6D4B\u8BD5\u4E86\uFF0C\u4F46\u662F\u6D4B\u8BD5\u7528\u4F8B\u5F00\u53D1\u5B8C\u6210\u540E\uFF0C\u5728\u6253\u5305\u7684\u9636\u6BB5\u7531\u4E8Etest\u751F\u547D\u5468\u671F\u5C5E\u4E8E\u5FC5\u987B\u88AB\u8FD0\u884C\u7684\u751F\u547D\u5468\u671F\uFF0C\u5982\u679C\u8DF3\u8FC7\u4F1A\u7ED9\u7CFB\u7EDF\u5E26\u6765\u6781\u9AD8\u7684\u5B89\u5168\u9690\u60A3\uFF0C\u6240\u4EE5\u6D4B\u8BD5\u7528\u4F8B\u5FC5\u987B\u6267\u884C\u3002\u4F46\u662F\u65B0\u7684\u95EE\u9898\u5C31\u5448\u73B0\u4E86\uFF0C\u6D4B\u8BD5\u7528\u4F8B\u5982\u679C\u6D4B\u8BD5\u65F6\u4EA7\u751F\u4E86\u4E8B\u52A1\u63D0\u4EA4\u5C31\u4F1A\u5728\u6D4B\u8BD5\u8FC7\u7A0B\u4E2D\u5BF9\u6570\u636E\u5E93\u6570\u636E\u4EA7\u751F\u5F71\u54CD\uFF0C\u8FDB\u800C\u4EA7\u751F\u5783\u573E\u6570\u636E\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u4E0D\u662F\u6211\u4EEC\u5E0C\u671B\u53D1\u751F\u7684\uFF0C\u4F5C\u4E3A\u5F00\u53D1\u8005\u6D4B\u8BD5\u7528\u4F8B\u8BE5\u8FD0\u884C\u8FD0\u884C\uFF0C\u4F46\u662F\u8FC7\u7A0B\u4E2D\u4EA7\u751F\u7684\u6570\u636E\u4E0D\u8981\u5728\u6211\u7684\u7CFB\u7EDF\u4E2D\u7559\u75D5\uFF0C\u8FD9\u6837\u8BE5\u5982\u4F55\u5904\u7406\u5462\uFF1F</p><p>\u200B springboot\u65E9\u5C31\u4E3A\u5F00\u53D1\u8005\u60F3\u5230\u4E86\u8FD9\u4E2A\u95EE\u9898\uFF0C\u5E76\u4E14\u9488\u5BF9\u6B64\u95EE\u9898\u7ED9\u51FA\u4E86\u6700\u7B80\u89E3\u51B3\u65B9\u6848\uFF0C\u5728\u539F\u59CB\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u6DFB\u52A0\u6CE8\u89E3@Transactional\u5373\u53EF\u5B9E\u73B0\u5F53\u524D\u6D4B\u8BD5\u7528\u4F8B\u7684\u4E8B\u52A1\u4E0D\u63D0\u4EA4\u3002\u5F53\u7A0B\u5E8F\u8FD0\u884C\u540E\uFF0C\u53EA\u8981\u6CE8\u89E3@Transactional\u51FA\u73B0\u7684\u4F4D\u7F6E\u5B58\u5728\u6CE8\u89E3@SpringBootTest\uFF0Cspringboot\u5C31\u4F1A\u8BA4\u4E3A\u8FD9\u662F\u4E00\u4E2A\u6D4B\u8BD5\u7A0B\u5E8F\uFF0C\u65E0\u9700\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u6240\u4EE5\u4E5F\u5C31\u53EF\u4EE5\u907F\u514D\u4E8B\u52A1\u7684\u63D0\u4EA4\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token annotation punctuation">@Transactional</span>
<span class="token annotation punctuation">@Rollback</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DaoTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookService</span> bookService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;springboot3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">&quot;springboot3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">&quot;springboot3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        bookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u5F00\u53D1\u8005\u60F3\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u4E5F\u53EF\u4EE5\uFF0C\u518D\u6DFB\u52A0\u4E00\u4E2A@RollBack\u7684\u6CE8\u89E3\uFF0C\u8BBE\u7F6E\u56DE\u6EDA\u72B6\u6001\u4E3Afalse\u5373\u53EF\u6B63\u5E38\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u662F\u4E0D\u662F\u5F88\u65B9\u4FBF\uFF1Fspringboot\u5728\u8F85\u52A9\u5F00\u53D1\u8005\u65E5\u5E38\u5DE5\u4F5C\u8FD9\u4E00\u5757\u5C55\u73B0\u51FA\u4E86\u60CA\u4EBA\u7684\u80FD\u529B\uFF0C\u5B9E\u5728\u592A\u8D34\u5FC3\u4E86\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u5728springboot\u7684\u6D4B\u8BD5\u7C7B\u4E2D\u901A\u8FC7\u6DFB\u52A0\u6CE8\u89E3@Transactional\u6765\u963B\u6B62\u6D4B\u8BD5\u7528\u4F8B\u63D0\u4EA4\u4E8B\u52A1</li><li>\u901A\u8FC7\u6CE8\u89E3@Rollback\u63A7\u5236springboot\u6D4B\u8BD5\u7C7B\u6267\u884C\u7ED3\u679C\u662F\u5426\u63D0\u4EA4\u4E8B\u52A1\uFF0C\u9700\u8981\u914D\u5408\u6CE8\u89E3@Transactional\u4F7F\u7528</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u5F53\u524D\u6D4B\u8BD5\u7A0B\u5E8F\u5DF2\u7ECF\u8FD1\u4E4E\u5B8C\u7F8E\u4E86\uFF0C\u4F46\u662F\u7531\u4E8E\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u4E66\u5199\u7684\u6D4B\u8BD5\u6570\u636E\u5C5E\u4E8E\u56FA\u5B9A\u6570\u636E\uFF0C\u5F80\u5F80\u5931\u53BB\u4E86\u6D4B\u8BD5\u7684\u610F\u4E49\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u9488\u5BF9\u6D4B\u8BD5\u7528\u4F8B\u8FDB\u884C\u9488\u5BF9\u6027\u5F00\u53D1\uFF0C\u8FD9\u6837\u5C31\u6709\u53EF\u80FD\u51FA\u73B0\u6D4B\u8BD5\u7528\u4F8B\u4E0D\u80FD\u5B8C\u7F8E\u5448\u73B0\u4E1A\u52A1\u903B\u8F91\u4EE3\u7801\u662F\u5426\u771F\u5B9E\u6709\u6548\u7684\u8FBE\u6210\u4E1A\u52A1\u76EE\u6807\u7684\u73B0\u8C61\uFF0C\u89E3\u51B3\u65B9\u6848\u5176\u5B9E\u5F88\u5BB9\u6613\u60F3\uFF0C\u6D4B\u8BD5\u7528\u4F8B\u7684\u6570\u636E\u53EA\u8981\u968F\u673A\u4EA7\u751F\u5C31\u53EF\u4EE5\u4E86\uFF0C\u80FD\u5B9E\u73B0\u5417\uFF1F\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BB2\u3002</p><h3 id="_3-5-\u6D4B\u8BD5\u7528\u4F8B\u6570\u636E\u8BBE\u5B9A" tabindex="-1"><a class="header-anchor" href="#_3-5-\u6D4B\u8BD5\u7528\u4F8B\u6570\u636E\u8BBE\u5B9A" aria-hidden="true">#</a> 3-5.\u6D4B\u8BD5\u7528\u4F8B\u6570\u636E\u8BBE\u5B9A</h3><p>\u200B \u5BF9\u4E8E\u6D4B\u8BD5\u7528\u4F8B\u7684\u6570\u636E\u56FA\u5B9A\u4E66\u5199\u80AF\u5B9A\u662F\u4E0D\u5408\u7406\u7684\uFF0Cspringboot\u63D0\u4F9B\u4E86\u5728\u914D\u7F6E\u4E2D\u4F7F\u7528\u968F\u673A\u503C\u7684\u673A\u5236\uFF0C\u786E\u4FDD\u6BCF\u6B21\u8FD0\u884C\u7A0B\u5E8F\u52A0\u8F7D\u7684\u6570\u636E\u90FD\u662F\u968F\u673A\u7684\u3002\u5177\u4F53\u5982\u4E0B\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">testcase</span><span class="token punctuation">:</span>
  <span class="token key atrule">book</span><span class="token punctuation">:</span>
    <span class="token key atrule">id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.int<span class="token punctuation">}</span>
    <span class="token key atrule">id2</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.int(10)<span class="token punctuation">}</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.int<span class="token tag">!5</span><span class="token punctuation">,</span>10<span class="token tag">!</span><span class="token punctuation">}</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.value<span class="token punctuation">}</span>
    <span class="token key atrule">uuid</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.uuid<span class="token punctuation">}</span>
    <span class="token key atrule">publishTime</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.long<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5F53\u524D\u914D\u7F6E\u5C31\u53EF\u4EE5\u5728\u6BCF\u6B21\u8FD0\u884C\u7A0B\u5E8F\u65F6\u521B\u5EFA\u4E00\u7EC4\u968F\u673A\u6570\u636E\uFF0C\u907F\u514D\u6BCF\u6B21\u8FD0\u884C\u65F6\u6570\u636E\u90FD\u662F\u56FA\u5B9A\u503C\u7684\u5C34\u5C2C\u73B0\u8C61\u53D1\u751F\uFF0C\u6709\u52A9\u4E8E\u6D4B\u8BD5\u529F\u80FD\u7684\u8FDB\u884C\u3002\u6570\u636E\u7684\u52A0\u8F7D\u6309\u7167\u4E4B\u524D\u52A0\u8F7D\u6570\u636E\u7684\u5F62\u5F0F\uFF0C\u4F7F\u7528@ConfigurationProperties\u6CE8\u89E3\u5373\u53EF</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;testcase.book&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookCase</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> id2<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> type<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> uuid<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> publishTime<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5BF9\u4E8E\u968F\u673A\u503C\u7684\u4EA7\u751F\uFF0C\u8FD8\u6709\u4E00\u4E9B\u5C0F\u7684\u9650\u5B9A\u89C4\u5219\uFF0C\u6BD4\u5982\u4EA7\u751F\u7684\u6570\u503C\u6027\u6570\u636E\u53EF\u4EE5\u8BBE\u7F6E\u8303\u56F4\u7B49\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><img src="`+y+`" alt="image-20220223135454862" style="zoom:80%;"><ul><li>\${random.int}\u8868\u793A\u968F\u673A\u6574\u6570</li><li>\${random.int(10)}\u8868\u793A10\u4EE5\u5185\u7684\u968F\u673A\u6570</li><li>\${random.int(10,20)}\u8868\u793A10\u523020\u7684\u968F\u673A\u6570</li><li>\u5176\u4E2D()\u53EF\u4EE5\u662F\u4EFB\u610F\u5B57\u7B26\uFF0C\u4F8B\u5982[]\uFF0C!!\u5747\u53EF</li></ul><p><strong>\u603B\u7ED3</strong></p><ol><li>\u4F7F\u7528\u968F\u673A\u6570\u636E\u53EF\u4EE5\u66FF\u6362\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u4E66\u5199\u7684\u56FA\u5B9A\u6570\u636E\uFF0C\u63D0\u9AD8\u6D4B\u8BD5\u7528\u4F8B\u4E2D\u7684\u6D4B\u8BD5\u6570\u636E\u6709\u6548\u6027</li></ol><h2 id="_4-\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#_4-\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> 4.\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848</h2><p>\u200B \u5F00\u53D1\u5B9E\u7528\u7BC7\u524D\u4E09\u7AE0\u57FA\u672C\u4E0A\u662F\u5F00\u80C3\u83DC\uFF0C\u4ECE\u7B2C\u56DB\u7AE0\u5F00\u59CB\uFF0C\u5F00\u53D1\u5B9E\u7528\u7BC7\u8FDB\u5165\u5230\u4E86\u5669\u68A6\u96BE\u5EA6\u4E86\uFF0C\u4ECE\u8FD9\u91CC\u5F00\u59CB\uFF0C\u4E0D\u518D\u662F\u5355\u7EAF\u7684\u5728springboot\u5185\u90E8\u641E\u4E8B\u60C5\u4E86\uFF0C\u8981\u6D89\u53CA\u5230\u5F88\u591A\u76F8\u5173\u77E5\u8BC6\u3002\u672C\u7AE0\u8282\u4E3B\u8981\u5185\u5BB9\u90FD\u662F\u548C\u6570\u636E\u5B58\u50A8\u4E0E\u8BFB\u53D6\u76F8\u5173\uFF0C\u524D\u671F\u5B66\u4E60\u7684\u77E5\u8BC6\u4E0E\u6570\u636E\u5C42\u6709\u5173\u7684\u6280\u672F\u57FA\u672C\u4E0A\u90FD\u56F4\u7ED5\u5728\u6570\u636E\u5E93\u8FD9\u4E2A\u5C42\u9762\u4E0A\uFF0C\u6240\u4EE5\u672C\u7AE0\u8981\u8BB2\u7684\u7B2C\u4E00\u4E2A\u5927\u7684\u5206\u652F\u5C31\u662FSQL\u89E3\u51B3\u65B9\u6848\u76F8\u5173\u7684\u5185\u5BB9\uFF0C\u9664\u6B64\u4E4B\u5916\uFF0C\u6570\u636E\u7684\u6765\u6E90\u8FD8\u53EF\u4EE5\u662F\u975ESQL\u6280\u672F\u76F8\u5173\u7684\u6570\u636E\u64CD\u4F5C\uFF0C\u56E0\u6B64\u7B2C\u4E8C\u90E8\u5206\u56F4\u7ED5\u7740NOSQL\u89E3\u51B3\u65B9\u6848\u8BB2\u89E3\u3002\u81F3\u4E8E\u4EC0\u4E48\u662FNOSQL\u89E3\u51B3\u65B9\u6848\uFF0C\u8BB2\u5230\u4E86\u518D\u8BF4\u5427\u3002\u4E0B\u9762\u5C31\u4ECESQL\u89E3\u51B3\u65B9\u6848\u8BF4\u8D77\u3002</p><h3 id="_4-1-sql" tabindex="-1"><a class="header-anchor" href="#_4-1-sql" aria-hidden="true">#</a> 4-1.SQL</h3><p>\u200B \u56DE\u5FC6\u4E00\u4E0B\u4E4B\u524D\u505ASSMP\u6574\u5408\u7684\u65F6\u5019\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u6D89\u53CA\u5230\u4E86\u54EA\u4E9B\u6280\u672F\uFF1FMySQL\u6570\u636E\u5E93\u4E0EMyBatisPlus\u6846\u67B6\uFF0C\u540E\u9762\u53C8\u5B66\u4E86Druid\u6570\u636E\u6E90\u7684\u914D\u7F6E\uFF0C\u6240\u4EE5\u73B0\u5728\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u53EF\u4EE5\u8BF4\u662FMysql+Druid+MyBatisPlus\u3002\u800C\u4E09\u4E2A\u6280\u672F\u5206\u522B\u5BF9\u5E94\u4E86\u6570\u636E\u5C42\u64CD\u4F5C\u7684\u4E09\u4E2A\u5C42\u9762\uFF1A</p><ul><li>\u6570\u636E\u6E90\u6280\u672F\uFF1ADruid</li><li>\u6301\u4E45\u5316\u6280\u672F\uFF1AMyBatisPlus</li><li>\u6570\u636E\u5E93\u6280\u672F\uFF1AMySQL</li></ul><p>\u200B \u4E0B\u9762\u7684\u7814\u7A76\u5C31\u5206\u4E3A\u4E09\u4E2A\u5C42\u9762\u8FDB\u884C\u7814\u7A76\uFF0C\u5BF9\u5E94\u4E0A\u9762\u5217\u51FA\u7684\u4E09\u4E2A\u65B9\u9762\uFF0C\u54B1\u4EEC\u5C31\u4ECE\u7B2C\u4E00\u4E2A\u6570\u636E\u6E90\u6280\u672F\u5F00\u59CB\u8BF4\u8D77\u3002</p><h4 id="\u6570\u636E\u6E90\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u6E90\u6280\u672F" aria-hidden="true">#</a> \u6570\u636E\u6E90\u6280\u672F</h4><p>\u200B \u76EE\u524D\u6211\u4EEC\u4F7F\u7528\u7684\u6570\u636E\u6E90\u6280\u672F\u662FDruid\uFF0C\u8FD0\u884C\u65F6\u53EF\u4EE5\u5728\u65E5\u5FD7\u4E2D\u770B\u5230\u5BF9\u5E94\u7684\u6570\u636E\u6E90\u521D\u59CB\u5316\u4FE1\u606F\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>INFO 28600 --- [           main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
INFO 28600 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u4E0D\u4F7F\u7528Druid\u6570\u636E\u6E90\uFF0C\u7A0B\u5E8F\u8FD0\u884C\u540E\u662F\u4EC0\u4E48\u6837\u5B50\u5462\uFF1F\u662F\u72EC\u7ACB\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u5BF9\u8C61\u8FD8\u662F\u6709\u5176\u4ED6\u7684\u8FDE\u63A5\u6C60\u6280\u672F\u652F\u6301\u5462\uFF1F\u5C06Druid\u6280\u672F\u5BF9\u5E94\u7684starter\u53BB\u6389\u518D\u6B21\u8FD0\u884C\u7A0B\u5E8F\u53EF\u4EE5\u5728\u65E5\u5FD7\u4E2D\u627E\u5230\u5982\u4E0B\u521D\u59CB\u5316\u4FE1\u606F\uFF1A</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>INFO 31820 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
INFO 31820 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u867D\u7136\u6CA1\u6709DruidDataSource\u76F8\u5173\u7684\u4FE1\u606F\u4E86\uFF0C\u4F46\u662F\u6211\u4EEC\u53D1\u73B0\u65E5\u5FD7\u4E2D\u6709HikariDataSource\u8FD9\u4E2A\u4FE1\u606F\uFF0C\u5C31\u7B97\u4E0D\u61C2\u8FD9\u662F\u4E2A\u4EC0\u4E48\u6280\u672F\uFF0C\u770B\u540D\u5B57\u4E5F\u80FD\u770B\u51FA\u6765\uFF0C\u4EE5DataSource\u7ED3\u5C3E\u7684\u540D\u79F0\uFF0C\u8FD9\u4E00\u5B9A\u662F\u4E00\u4E2A\u6570\u636E\u6E90\u6280\u672F\u3002\u6211\u4EEC\u53C8\u6CA1\u6709\u624B\u5DE5\u6DFB\u52A0\u8FD9\u4E2A\u6280\u672F\uFF0C\u8FD9\u4E2A\u6280\u672F\u54EA\u91CC\u6765\u7684\u5462\uFF1F\u8FD9\u5C31\u662F\u8FD9\u4E00\u8282\u8981\u8BB2\u7684\u77E5\u8BC6\uFF0Cspringboot\u5185\u5D4C\u6570\u636E\u6E90\u3002</p><p>\u200B \u6570\u636E\u5C42\u6280\u672F\u662F\u6BCF\u4E00\u4E2A\u4F01\u4E1A\u7EA7\u5E94\u7528\u7A0B\u5E8F\u90FD\u4F1A\u7528\u5230\u7684\uFF0C\u800C\u5176\u4E2D\u5FC5\u5B9A\u4F1A\u8FDB\u884C\u6570\u636E\u5E93\u8FDE\u63A5\u7684\u7BA1\u7406\u3002springboot\u6839\u636E\u5F00\u53D1\u8005\u7684\u4E60\u60EF\u51FA\u53D1\uFF0C\u5F00\u53D1\u8005\u63D0\u4F9B\u4E86\u6570\u636E\u6E90\u6280\u672F\uFF0C\u5C31\u7528\u4F60\u63D0\u4F9B\u7684\uFF0C\u5F00\u53D1\u8005\u6CA1\u6709\u63D0\u4F9B\uFF0C\u90A3\u603B\u4E0D\u80FD\u624B\u5DE5\u7BA1\u7406\u4E00\u4E2A\u4E00\u4E2A\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u5BF9\u8C61\u554A\uFF0C\u600E\u4E48\u529E\uFF1F\u6211\u7ED9\u4F60\u4E00\u4E2A\u9ED8\u8BA4\u7684\u5C31\u597D\u4E86\uFF0C\u8FD9\u6837\u7701\u5FC3\u53C8\u7701\u4E8B\uFF0C\u5927\u5BB6\u90FD\u65B9\u4FBF\u3002</p><p>\u200B springboot\u63D0\u4F9B\u4E863\u6B3E\u5185\u5D4C\u6570\u636E\u6E90\u6280\u672F\uFF0C\u5206\u522B\u5982\u4E0B\uFF1A</p><ul><li>HikariCP</li><li>Tomcat\u63D0\u4F9BDataSource</li><li>Commons</li></ul><p>\u200B \u7B2C\u4E00\u79CD\uFF0CHikartCP\uFF0C\u8FD9\u662Fspringboot\u5B98\u65B9\u63A8\u8350\u7684\u6570\u636E\u6E90\u6280\u672F\uFF0C\u4F5C\u4E3A\u9ED8\u8BA4\u5185\u7F6E\u6570\u636E\u6E90\u4F7F\u7528\u3002\u5565\u610F\u601D\uFF1F\u4F60\u4E0D\u914D\u7F6E\u6570\u636E\u6E90\uFF0C\u90A3\u5C31\u7528\u8FD9\u4E2A\u3002</p><p>\u200B \u7B2C\u4E8C\u79CD\uFF0CTomcat\u63D0\u4F9B\u7684DataSource\uFF0C\u5982\u679C\u4E0D\u60F3\u7528HikartCP\uFF0C\u5E76\u4E14\u4F7F\u7528tomcat\u4F5C\u4E3Aweb\u670D\u52A1\u5668\u8FDB\u884Cweb\u7A0B\u5E8F\u7684\u5F00\u53D1\uFF0C\u4F7F\u7528\u8FD9\u4E2A\u3002\u4E3A\u4EC0\u4E48\u662FTomcat\uFF0C\u4E0D\u662F\u5176\u4ED6web\u670D\u52A1\u5668\u5462\uFF1F\u56E0\u4E3Aweb\u6280\u672F\u5BFC\u5165starter\u540E\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5185\u5D4Ctomcat\uFF0C\u65E2\u7136\u90FD\u662F\u9ED8\u8BA4\u4F7F\u7528\u7684\u6280\u672F\u4E86\uFF0C\u90A3\u5C31\u4E00\u7528\u5230\u5E95\uFF0C\u6570\u636E\u6E90\u4E5F\u7528\u5B83\u7684\u3002\u6709\u4EBA\u5C31\u63D0\u51FA\u600E\u4E48\u624D\u80FD\u4E0D\u4F7F\u7528HikartCP\u7528tomcat\u63D0\u4F9B\u7684\u9ED8\u8BA4\u6570\u636E\u6E90\u5BF9\u8C61\u5462\uFF1F\u628AHikartCP\u6280\u672F\u7684\u5750\u6807\u6392\u9664\u6389\u5C31OK\u4E86\u3002</p><p>\u200B \u7B2C\u4E09\u79CD\uFF0CDBCP\uFF0C\u8FD9\u4E2A\u4F7F\u7528\u7684\u6761\u4EF6\u5C31\u66F4\u82DB\u523B\u4E86\uFF0C\u65E2\u4E0D\u4F7F\u7528HikartCP\u4E5F\u4E0D\u4F7F\u7528tomcat\u7684DataSource\u65F6\uFF0C\u9ED8\u8BA4\u7ED9\u4F60\u7528\u8FD9\u4E2A\u3002</p><p>\u200B springboot\u8FD9\u5FC3\u64CD\u7684\uFF0C\u4E5F\u662F\u7A00\u788E\u554A\uFF0C\u5C31\u6015\u4F60\u81EA\u5DF1\u7BA1\u4E0D\u597D\u8FDE\u63A5\u5BF9\u8C61\uFF0C\u7ED9\u4F60\u4E00\u987F\u63A8\u8350\uFF0C\u771F\u662F\u5F00\u53D1\u754C\u7684\u6700\u5F3A\u8F85\u52A9\u3002\u65E2\u7136\u90FD\u7ED9\u4F60\u5976\u4E0A\u4E86\uFF0C\u90A3\u5C31\u53D7\u7528\u5427\uFF0C\u600E\u4E48\u914D\u7F6E\u4F7F\u7528\u8FD9\u4E9B\u4E1C\u897F\u5462\uFF1F\u4E4B\u524D\u6211\u4EEC\u914D\u7F6Edruid\u65F6\u4F7F\u7528druid\u7684starter\u5BF9\u5E94\u7684\u914D\u7F6E\u5982\u4E0B\uFF1A</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>spring:
  datasource:
    druid:	
   	  url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC
      driver-class-name: com.mysql.cj.jdbc.Driver
      username: root
      password: root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6362\u6210\u662F\u9ED8\u8BA4\u7684\u6570\u636E\u6E90HikariCP\u540E\uFF0C\u76F4\u63A5\u5427druid\u5220\u6389\u5C31\u884C\u4E86\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>spring:
  datasource:
    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5F53\u7136\uFF0C\u4E5F\u53EF\u4EE5\u5199\u4E0A\u662F\u5BF9hikari\u505A\u7684\u914D\u7F6E\uFF0C\u4F46\u662Furl\u5730\u5740\u8981\u5355\u72EC\u914D\u7F6E\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>spring:
  datasource:
    url: jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC
    hikari:
      driver-class-name: com.mysql.cj.jdbc.Driver
      username: root
      password: root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD9\u5C31\u662F\u914D\u7F6Ehikari\u6570\u636E\u6E90\u7684\u65B9\u5F0F\u3002\u5982\u679C\u60F3\u5BF9hikari\u505A\u8FDB\u4E00\u6B65\u7684\u914D\u7F6E\uFF0C\u53EF\u4EE5\u7EE7\u7EED\u914D\u7F6E\u5176\u72EC\u7ACB\u7684\u5C5E\u6027\u3002\u4F8B\u5982\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/ssm_db<span class="token punctuation">?</span>seC
    <span class="token key atrule">hikari</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
      <span class="token key atrule">username</span><span class="token punctuation">:</span> root
      <span class="token key atrule">password</span><span class="token punctuation">:</span> root
      <span class="token key atrule">maximum-pool-size</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u4E0D\u60F3\u4F7F\u7528hikari\u6570\u636E\u6E90\uFF0C\u4F7F\u7528tomcat\u7684\u6570\u636E\u6E90\u6216\u8005DBCP\u914D\u7F6E\u683C\u5F0F\u4E5F\u662F\u4E00\u6837\u7684\u3002\u5B66\u4E60\u5230\u8FD9\u91CC\uFF0C\u4EE5\u540E\u6211\u4EEC\u505A\u6570\u636E\u5C42\u65F6\uFF0C\u6570\u636E\u6E90\u5BF9\u8C61\u7684\u9009\u62E9\u5C31\u4E0D\u518D\u662F\u5355\u4E00\u7684\u4F7F\u7528druid\u6570\u636E\u6E90\u6280\u672F\u4E86\uFF0C\u53EF\u4EE5\u6839\u636E\u9700\u8981\u81EA\u884C\u9009\u62E9\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6280\u672F\u63D0\u4F9B\u4E863\u79CD\u5185\u7F6E\u7684\u6570\u636E\u6E90\u6280\u672F\uFF0C\u5206\u522B\u662FHikari\u3001tomcat\u5185\u7F6E\u6570\u636E\u6E90\u3001DBCP</li></ol><h4 id="\u6301\u4E45\u5316\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#\u6301\u4E45\u5316\u6280\u672F" aria-hidden="true">#</a> \u6301\u4E45\u5316\u6280\u672F</h4><p>\u200B \u8BF4\u5B8C\u6570\u636E\u6E90\u89E3\u51B3\u65B9\u6848\uFF0C\u518D\u6765\u8BF4\u4E00\u4E0B\u6301\u4E45\u5316\u89E3\u51B3\u65B9\u6848\u3002springboot\u5145\u5206\u53D1\u6325\u5176\u6700\u5F3A\u8F85\u52A9\u7684\u7279\u5F81\uFF0C\u7ED9\u5F00\u53D1\u8005\u63D0\u4F9B\u4E86\u4E00\u5957\u73B0\u6210\u7684\u6570\u636E\u5C42\u6280\u672F\uFF0C\u53EB\u505AJdbcTemplate\u3002\u5176\u5B9E\u8FD9\u4E2A\u6280\u672F\u4E0D\u80FD\u8BF4\u662Fspringboot\u63D0\u4F9B\u7684\uFF0C\u56E0\u4E3A\u4E0D\u4F7F\u7528springboot\u6280\u672F\uFF0C\u4E00\u6837\u80FD\u4F7F\u7528\u5B83\uFF0C\u8C01\u63D0\u4F9B\u7684\u5462\uFF1Fspring\u6280\u672F\u63D0\u4F9B\u7684\uFF0C\u6240\u4EE5\u5728springboot\u6280\u672F\u8303\u7574\u4E2D\uFF0C\u8FD9\u4E2A\u6280\u672F\u4E5F\u662F\u5B58\u5728\u7684\uFF0C\u6BD5\u7ADFspringboot\u6280\u672F\u662F\u52A0\u901Fspring\u7A0B\u5E8F\u5F00\u53D1\u800C\u521B\u5EFA\u7684\u3002</p><p>\u200B \u8FD9\u4E2A\u6280\u672F\u5176\u5B9E\u5C31\u662F\u56DE\u5F52\u5230jdbc\u6700\u539F\u59CB\u7684\u7F16\u7A0B\u5F62\u5F0F\u6765\u8FDB\u884C\u6570\u636E\u5C42\u7684\u5F00\u53D1\uFF0C\u4E0B\u9762\u76F4\u63A5\u4E0A\u64CD\u4F5C\u6B65\u9AA4\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165jdbc\u5BF9\u5E94\u7684\u5750\u6807\uFF0C\u8BB0\u5F97\u662Fstarter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
&lt;/dependency
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u81EA\u52A8\u88C5\u914DJdbcTemplate\u5BF9\u8C61</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot15SqlApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testJdbcTemplate</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528JdbcTemplate\u5B9E\u73B0\u67E5\u8BE2\u64CD\u4F5C\uFF08\u975E\u5B9E\u4F53\u7C7B\u5C01\u88C5\u6570\u636E\u7684\u67E5\u8BE2\u64CD\u4F5C\uFF09</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testJdbcTemplate</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from tbl_book&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> maps <span class="token operator">=</span> jdbcTemplate<span class="token punctuation">.</span><span class="token function">queryForList</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>maps<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528JdbcTemplate\u5B9E\u73B0\u67E5\u8BE2\u64CD\u4F5C\uFF08\u5B9E\u4F53\u7C7B\u5C01\u88C5\u6570\u636E\u7684\u67E5\u8BE2\u64CD\u4F5C\uFF09</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testJdbcTemplate</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from tbl_book&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">RowMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> rm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RowMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">mapRow</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> rs<span class="token punctuation">,</span> <span class="token keyword">int</span> rowNum<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
            <span class="token class-name">Book</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            temp<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> jdbcTemplate<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> rm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2464</strong>\uFF1A\u4F7F\u7528JdbcTemplate\u5B9E\u73B0\u589E\u5220\u6539\u64CD\u4F5C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testJdbcTemplateSave</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into tbl_book values(3,&#39;springboot1&#39;,&#39;springboot2&#39;,&#39;springboot3&#39;)&quot;</span><span class="token punctuation">;</span>
    jdbcTemplate<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u60F3\u5BF9JdbcTemplate\u5BF9\u8C61\u8FDB\u884C\u76F8\u5173\u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728yml\u6587\u4EF6\u4E2D\u8FDB\u884C\u8BBE\u5B9A\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">jdbc</span><span class="token punctuation">:</span>
    template<span class="token punctuation">:</span>z
      <span class="token key atrule">query-timeout</span><span class="token punctuation">:</span> <span class="token number">-1</span>   <span class="token comment"># \u67E5\u8BE2\u8D85\u65F6\u65F6\u95F4</span>
      <span class="token key atrule">max-rows</span><span class="token punctuation">:</span> <span class="token number">500</span>       <span class="token comment"># \u6700\u5927\u884C\u6570</span>
      <span class="token key atrule">fetch-size</span><span class="token punctuation">:</span> <span class="token number">-1</span>      <span class="token comment"># \u7F13\u5B58\u884C\u6570</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>SpringBoot\u5185\u7F6EJdbcTemplate\u6301\u4E45\u5316\u89E3\u51B3\u65B9\u6848</li><li>\u4F7F\u7528JdbcTemplate\u9700\u8981\u5BFC\u5165spring-boot-starter-jdbc\u7684\u5750\u6807</li></ol><h4 id="\u6570\u636E\u5E93\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u6280\u672F" aria-hidden="true">#</a> \u6570\u636E\u5E93\u6280\u672F</h4><p>\u200B \u622A\u6B62\u5230\u76EE\u524D\uFF0Cspringboot\u7ED9\u5F00\u53D1\u8005\u63D0\u4F9B\u4E86\u5185\u7F6E\u7684\u6570\u636E\u6E90\u89E3\u51B3\u65B9\u6848\u548C\u6301\u4E45\u5316\u89E3\u51B3\u65B9\u6848\uFF0C\u5728\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u4E09\u4EF6\u5957\u4E2D\u8FD8\u5269\u4E0B\u4E00\u4E2A\u6570\u636E\u5E93\uFF0C\u83AB\u975Espringboot\u4E5F\u63D0\u4F9B\u6709\u5185\u7F6E\u7684\u89E3\u51B3\u65B9\u6848\uFF1F\u8FD8\u771F\u6709\uFF0C\u8FD8\u4E0D\u662F\u4E00\u4E2A\uFF0C\u4E09\u4E2A\uFF0C\u8FD9\u4E00\u8282\u5C31\u6765\u8BF4\u8BF4\u5185\u7F6E\u7684\u6570\u636E\u5E93\u89E3\u51B3\u65B9\u6848\u3002</p><p>\u200B springboot\u63D0\u4F9B\u4E863\u6B3E\u5185\u7F6E\u7684\u6570\u636E\u5E93\uFF0C\u5206\u522B\u662F</p><ul><li>H2</li><li>HSQL</li><li>Derby</li></ul><p>\u200B \u4EE5\u4E0A\u4E09\u6B3E\u6570\u636E\u5E93\u9664\u4E86\u53EF\u4EE5\u72EC\u7ACB\u5B89\u88C5\u4E4B\u5916\uFF0C\u8FD8\u53EF\u4EE5\u50CF\u662Ftomcat\u670D\u52A1\u5668\u4E00\u6837\uFF0C\u91C7\u7528\u5185\u5D4C\u7684\u5F62\u5F0F\u8FD0\u884C\u5728spirngboot\u5BB9\u5668\u4E2D\u3002\u5185\u5D4C\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\uFF0C\u90A3\u5FC5\u987B\u662Fjava\u5BF9\u8C61\u554A\uFF0C\u5BF9\uFF0C\u8FD9\u4E09\u6B3E\u6570\u636E\u5E93\u5E95\u5C42\u90FD\u662F\u4F7F\u7528java\u8BED\u8A00\u5F00\u53D1\u7684\u3002</p><p>\u200B \u6211\u4EEC\u4E00\u76F4\u4F7F\u7528MySQL\u6570\u636E\u5E93\u5C31\u633A\u597D\u7684\uFF0C\u4E3A\u4EC0\u4E48\u6709\u9700\u6C42\u7528\u8FD9\u4E2A\u5462\uFF1F\u539F\u56E0\u5C31\u5728\u4E8E\u8FD9\u4E09\u4E2A\u6570\u636E\u5E93\u90FD\u53EF\u4EE5\u91C7\u7528\u5185\u5D4C\u5BB9\u5668\u7684\u5F62\u5F0F\u8FD0\u884C\uFF0C\u5728\u5E94\u7528\u7A0B\u5E8F\u8FD0\u884C\u540E\uFF0C\u5982\u679C\u6211\u4EEC\u8FDB\u884C\u6D4B\u8BD5\u5DE5\u4F5C\uFF0C\u6B64\u65F6\u6D4B\u8BD5\u7684\u6570\u636E\u65E0\u9700\u5B58\u50A8\u5728\u78C1\u76D8\u4E0A\uFF0C\u4F46\u662F\u53C8\u8981\u6D4B\u8BD5\u4F7F\u7528\uFF0C\u5185\u5D4C\u6570\u636E\u5E93\u5C31\u65B9\u4FBF\u4E86\uFF0C\u8FD0\u884C\u5728\u5185\u5B58\u4E2D\uFF0C\u8BE5\u6D4B\u8BD5\u6D4B\u8BD5\uFF0C\u8BE5\u8FD0\u884C\u8FD0\u884C\uFF0C\u7B49\u670D\u52A1\u5668\u5173\u95ED\u540E\uFF0C\u4E00\u5207\u70DF\u6D88\u4E91\u6563\uFF0C\u591A\u597D\uFF0C\u7701\u5F97\u4F60\u7EF4\u62A4\u5916\u90E8\u6570\u636E\u5E93\u4E86\u3002\u8FD9\u4E5F\u662F\u5185\u5D4C\u6570\u636E\u5E93\u7684\u6700\u5927\u4F18\u70B9\uFF0C\u65B9\u4FBF\u8FDB\u884C\u529F\u80FD\u6D4B\u8BD5\u3002</p><p>\u200B \u4E0B\u9762\u4EE5H2\u6570\u636E\u5E93\u4E3A\u4F8B\u8BB2\u89E3\u5982\u4F55\u4F7F\u7528\u8FD9\u4E9B\u5185\u5D4C\u6570\u636E\u5E93\uFF0C\u64CD\u4F5C\u6B65\u9AA4\u4E5F\u975E\u5E38\u7B80\u5355\uFF0C\u7B80\u5355\u624D\u597D\u7528\u561B</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165H2\u6570\u636E\u5E93\u5BF9\u5E94\u7684\u5750\u6807\uFF0C\u4E00\u51712\u4E2A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.h2database<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>h2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5C06\u5DE5\u7A0B\u8BBE\u7F6E\u4E3Aweb\u5DE5\u7A0B\uFF0C\u542F\u52A8\u5DE5\u7A0B\u65F6\u542F\u52A8H2\u6570\u636E\u5E93</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u901A\u8FC7\u914D\u7F6E\u5F00\u542FH2\u6570\u636E\u5E93\u63A7\u5236\u53F0\u8BBF\u95EE\u7A0B\u5E8F\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5176\u4ED6\u7684\u6570\u636E\u5E93\u8FDE\u63A5\u8F6F\u4EF6\u64CD\u4F5C</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">h2</span><span class="token punctuation">:</span>
    <span class="token key atrule">console</span><span class="token punctuation">:</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">path</span><span class="token punctuation">:</span> /h2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B web\u7AEF\u8BBF\u95EE\u8DEF\u5F84/h2\uFF0C\u8BBF\u95EE\u5BC6\u7801123456\uFF0C\u5982\u679C\u8BBF\u95EE\u5931\u8D25\uFF0C\u5148\u914D\u7F6E\u4E0B\u5217\u6570\u636E\u6E90\uFF0C\u542F\u52A8\u7A0B\u5E8F\u8FD0\u884C\u540E\u518D\u6B21\u8BBF\u95EE/h2\u8DEF\u5F84\u5C31\u53EF\u4EE5\u6B63\u5E38\u8BBF\u95EE\u4E86</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">datasource</span><span class="token punctuation">:</span>
  <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>~/test
  <span class="token key atrule">hikari</span><span class="token punctuation">:</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> org.h2.Driver
    <span class="token key atrule">username</span><span class="token punctuation">:</span> sa
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528JdbcTemplate\u6216MyBatisPlus\u6280\u672F\u64CD\u4F5C\u6570\u636E\u5E93</p><p><img src="https://gitee.com/xiaweifeng/picgo/raw/master/images/202211251545854.png" alt=""></p><p>H2 \u8BED\u6CD5\u548CMySQL\u6709\u4E00\u70B9\u7684\u5C0F\u533A\u522B</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> tbl_book<span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">,</span> name <span class="token keyword">varchar</span><span class="token punctuation">,</span><span class="token keyword">type</span> <span class="token keyword">varchar</span><span class="token punctuation">,</span>description <span class="token keyword">varchar</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> tbl_book <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;SpringBoot&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;SpringBoot&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;SpringBoot&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tbl_book<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u64CD\u4F5C\u7684\u8BDD\uFF0C\u548CMySQL\u662F\u4E00\u6837\u7684\uFF0C\u53EA\u662F\u94FE\u63A5\u5E93\u6709\u4E00\u70B9\u7684\u533A\u522B</p><p>\u5BFC\u5165\u64CD\u4F5C\u6570\u636E\u5E93\u7684\u5750\u6807\uFF0C\u8FD9\u91CC\u4F7F\u7528JDBC</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test\u6D4B\u8BD5\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoTest</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">h2GetDataTest</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">JdbcTemplate</span> jdbcTemplate<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from tbl_book&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">RowMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> rm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RowMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">mapRow</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> rs<span class="token punctuation">,</span> <span class="token keyword">int</span> rowNum<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
                <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                book<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                book<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> book<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> query <span class="token operator">=</span> jdbcTemplate<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> rm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u5B9E\u6211\u4EEC\u53EA\u662F\u6362\u4E86\u4E00\u4E2A\u6570\u636E\u5E93\u800C\u5DF2\uFF0C\u5176\u4ED6\u7684\u4E1C\u897F\u90FD\u4E0D\u53D7\u5F71\u54CD\u3002\u4E00\u4E2A\u91CD\u8981\u63D0\u9192\uFF0C\u522B\u5FD8\u4E86\uFF0C\u4E0A\u7EBF\u65F6\uFF0C\u628A\u5185\u5B58\u7EA7\u6570\u636E\u5E93\u5173\u95ED\uFF0C\u91C7\u7528MySQL\u6570\u636E\u5E93\u4F5C\u4E3A\u6570\u636E\u6301\u4E45\u5316\u65B9\u6848\uFF0C\u5173\u95ED\u65B9\u5F0F\u5C31\u662F\u8BBE\u7F6Eenabled\u5C5E\u6027\u4E3Afalse\u5373\u53EF\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>H2\u5185\u5D4C\u5F0F\u6570\u636E\u5E93\u542F\u52A8\u65B9\u5F0F\uFF0C\u6DFB\u52A0\u5750\u6807\uFF0C\u6DFB\u52A0\u914D\u7F6E</li><li>H2\u6570\u636E\u5E93\u7EBF\u4E0A\u8FD0\u884C\u65F6\u8BF7\u52A1\u5FC5\u5173\u95ED</li></ol><p>\u200B \u5230\u8FD9\u91CCSQL\u76F8\u5173\u7684\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u5C31\u8BB2\u5B8C\u4E86\uFF0C\u73B0\u5728\u7684\u53EF\u9009\u6280\u672F\u5C31\u4E30\u5BCC\u7684\u591A\u4E86\u3002</p><ul><li>\u6570\u636E\u6E90\u6280\u672F\uFF1ADruid\u3001Hikari\u3001tomcat DataSource\u3001DBCP</li><li>\u6301\u4E45\u5316\u6280\u672F\uFF1AMyBatisPlus\u3001MyBatis\u3001JdbcTemplate</li><li>\u6570\u636E\u5E93\u6280\u672F\uFF1AMySQL\u3001H2\u3001HSQL\u3001Derby</li></ul><p>\u200B \u73B0\u5728\u5F00\u53D1\u7A0B\u5E8F\u65F6\u5C31\u53EF\u4EE5\u5728\u4EE5\u4E0A\u6280\u672F\u4E2D\u4EFB\u9009\u4E00\u79CD\u7EC4\u7EC7\u6210\u4E00\u5957\u6570\u636E\u5E93\u89E3\u51B3\u65B9\u6848\u4E86\u3002</p><h3 id="_4-2-nosql" tabindex="-1"><a class="header-anchor" href="#_4-2-nosql" aria-hidden="true">#</a> 4-2.NoSQL</h3><p>\u200B SQL\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u8BF4\u5B8C\u4E86\uFF0C\u4E0B\u9762\u6765\u8BF4\u8BF4NoSQL\u6570\u636E\u5C42\u89E3\u51B3\u65B9\u6848\u3002\u8FD9\u4E2ANoSQL\u662F\u4EC0\u4E48\u610F\u601D\u5462\uFF1F\u4ECE\u5B57\u9762\u6765\u770B\uFF0CNo\u8868\u793A\u5426\u5B9A\uFF0CNoSQL\u5C31\u662F\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93\u89E3\u51B3\u65B9\u6848\uFF0C\u610F\u601D\u5C31\u662F\u6570\u636E\u8BE5\u5B58\u5B58\u8BE5\u53D6\u53D6\uFF0C\u53EA\u662F\u8FD9\u4E9B\u6570\u636E\u4E0D\u653E\u5728\u5173\u7CFB\u578B\u6570\u636E\u5E93\u4E2D\u4E86\uFF0C\u90A3\u653E\u5728\u54EA\u91CC\uFF1F\u81EA\u7136\u662F\u4E00\u4E9B\u80FD\u591F\u5B58\u50A8\u6570\u636E\u7684\u5176\u4ED6\u76F8\u5173\u6280\u672F\u4E2D\u4E86\uFF0C\u6BD4\u5982Redis\u7B49\u3002\u672C\u8282\u8BB2\u89E3\u7684\u5185\u5BB9\u5C31\u662Fspringboot\u5982\u4F55\u6574\u5408\u8FD9\u4E9B\u6280\u672F\uFF0C\u5728springboot\u5B98\u65B9\u6587\u6863\u4E2D\u63D0\u4F9B\u4E8610\u79CD\u76F8\u5173\u6280\u672F\u7684\u6574\u5408\u65B9\u6848\uFF0C\u6211\u4EEC\u5C06\u8BB2\u89E3\u56FD\u5185\u5E02\u573A\u4E0A\u6700\u6D41\u884C\u7684\u51E0\u6B3ENoSQL\u6570\u636E\u5E93\u6574\u5408\u65B9\u6848\uFF0C\u5206\u522B\u662FRedis\u3001MongoDB\u3001ES\u3002</p><p>\u200B \u56E0\u4E3A\u6BCF\u4E2A\u5C0F\u4F19\u4F34\u5B66\u4E60\u8FD9\u95E8\u8BFE\u7A0B\u7684\u65F6\u5019\u8D77\u70B9\u4E0D\u540C\uFF0C\u4E3A\u4E86\u4FBF\u4E8E\u5404\u4F4D\u5B66\u4E60\u8005\u66F4\u597D\u7684\u5B66\u4E60\uFF0C\u6BCF\u79CD\u6280\u672F\u5728\u8BB2\u89E3\u6574\u5408\u524D\u90FD\u4F1A\u5148\u8BB2\u4E00\u4E0B\u5B89\u88C5\u548C\u57FA\u672C\u4F7F\u7528\uFF0C\u7136\u540E\u518D\u8BB2\u6574\u5408\u3002\u5982\u679C\u5BF9\u67D0\u4E2A\u6280\u672F\u6BD4\u8F83\u719F\u6089\u7684\u5C0F\u4F19\u4F34\u53EF\u4EE5\u76F4\u63A5\u8DF3\u8FC7\u5B89\u88C5\u7684\u5B66\u4E60\u8FC7\u7A0B\uFF0C\u76F4\u63A5\u770B\u6574\u5408\u65B9\u6848\u5373\u53EF\u3002\u6B64\u5916\u4E0A\u8FF0\u8FD9\u4E9B\u6280\u672F\u6700\u4F73\u4F7F\u7528\u65B9\u6848\u90FD\u662F\u5728Linux\u670D\u52A1\u5668\u4E0A\u90E8\u7F72\uFF0C\u4F46\u662F\u8003\u8651\u5230\u5404\u4F4D\u5C0F\u4F19\u4F34\u7684\u5B66\u4E60\u8D77\u70B9\u5DEE\u5F02\u8FC7\u5927\uFF0C\u6240\u4EE5\u4E0B\u9762\u7684\u8BFE\u7A0B\u90FD\u662F\u4EE5Windows\u5E73\u53F0\u4F5C\u4E3A\u5B89\u88C5\u57FA\u7840\u8BB2\u89E3\uFF0C\u5982\u679C\u60F3\u770BLinux\u7248\u8F6F\u4EF6\u5B89\u88C5\uFF0C\u53EF\u4EE5\u518D\u627E\u5230\u5BF9\u5E94\u6280\u672F\u7684\u5B66\u4E60\u6587\u6863\u67E5\u9605\u5B66\u4E60\u3002</p><h4 id="springboot\u6574\u5408redis" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408redis" aria-hidden="true">#</a> SpringBoot\u6574\u5408Redis</h4><p>\u200B Redis\u662F\u4E00\u6B3E\u91C7\u7528key-value\u6570\u636E\u5B58\u50A8\u683C\u5F0F\u7684\u5185\u5B58\u7EA7NoSQL\u6570\u636E\u5E93\uFF0C\u91CD\u70B9\u5173\u6CE8\u6570\u636E\u5B58\u50A8\u683C\u5F0F\uFF0C\u662Fkey-value\u683C\u5F0F\uFF0C\u4E5F\u5C31\u662F\u952E\u503C\u5BF9\u7684\u5B58\u50A8\u5F62\u5F0F\u3002\u4E0EMySQL\u6570\u636E\u5E93\u4E0D\u540C\uFF0CMySQL\u6570\u636E\u5E93\u6709\u8868\u3001\u6709\u5B57\u6BB5\u3001\u6709\u8BB0\u5F55\uFF0CRedis\u6CA1\u6709\u8FD9\u4E9B\u4E1C\u897F\uFF0C\u5C31\u662F\u4E00\u4E2A\u540D\u79F0\u5BF9\u5E94\u4E00\u4E2A\u503C\uFF0C\u5E76\u4E14\u6570\u636E\u4EE5\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\u4F7F\u7528\u4E3A\u4E3B\u3002\u4EC0\u4E48\u53EB\u4EE5\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\u4E3A\u4E3B\uFF1F\u5176\u5B9ERedis\u6709\u5B83\u7684\u6570\u636E\u6301\u4E45\u5316\u65B9\u6848\uFF0C\u5206\u522B\u662FRDB\u548CAOF\uFF0C\u4F46\u662FRedis\u81EA\u8EAB\u5E76\u4E0D\u662F\u4E3A\u4E86\u6570\u636E\u6301\u4E45\u5316\u800C\u751F\u7684\uFF0C\u4E3B\u8981\u662F\u5728\u5185\u5B58\u4E2D\u4FDD\u5B58\u6570\u636E\uFF0C\u52A0\u901F\u6570\u636E\u8BBF\u95EE\u7684\uFF0C\u6240\u4EE5\u8BF4\u662F\u4E00\u6B3E\u5185\u5B58\u7EA7\u6570\u636E\u5E93\u3002</p><p>\u200B Redis\u652F\u6301\u591A\u79CD\u6570\u636E\u5B58\u50A8\u683C\u5F0F\uFF0C\u6BD4\u5982\u53EF\u4EE5\u76F4\u63A5\u5B58\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u5B58\u4E00\u4E2Amap\u96C6\u5408\uFF0Clist\u96C6\u5408\uFF0C\u540E\u9762\u4F1A\u6D89\u53CA\u5230\u4E00\u4E9B\u4E0D\u540C\u683C\u5F0F\u7684\u6570\u636E\u64CD\u4F5C\uFF0C\u8FD9\u4E2A\u9700\u8981\u5148\u5B66\u4E60\u4E00\u4E0B\u624D\u80FD\u8FDB\u884C\u6574\u5408\uFF0C\u6240\u4EE5\u5728\u57FA\u672C\u64CD\u4F5C\u4E2D\u4F1A\u4ECB\u7ECD\u4E00\u4E9B\u76F8\u5173\u64CD\u4F5C\u3002\u4E0B\u9762\u5C31\u5148\u5B89\u88C5\uFF0C\u518D\u64CD\u4F5C\uFF0C\u6700\u540E\u8BF4\u6574\u5408</p><h5 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h5><p>\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1Ahttps://github.com/tporadowski/redis/releases</p><p>\u200B \u4E0B\u8F7D\u7684\u5B89\u88C5\u5305\u6709\u4E24\u79CD\u5F62\u5F0F\uFF0C\u4E00\u79CD\u662F\u4E00\u952E\u5B89\u88C5\u7684msi\u6587\u4EF6\uFF0C\u8FD8\u6709\u4E00\u79CD\u662F\u89E3\u538B\u7F29\u5C31\u80FD\u4F7F\u7528\u7684zip\u6587\u4EF6\uFF0C\u54EA\u79CD\u5F62\u5F0F\u90FD\u884C\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u4ECB\u7ECD\u5B89\u88C5\u8FC7\u7A0B\u4E86\uFF0C\u672C\u8BFE\u7A0B\u91C7\u7528\u7684\u662Fmsi\u4E00\u952E\u5B89\u88C5\u7684msi\u6587\u4EF6\u8FDB\u884C\u5B89\u88C5\u7684\u3002</p><p>\u200B \u5565\u662Fmsi\uFF0C\u5176\u5B9E\u5C31\u662F\u4E00\u4E2A\u6587\u4EF6\u5B89\u88C5\u5305\uFF0C\u4E0D\u4EC5\u5B89\u88C5\u8F6F\u4EF6\uFF0C\u8FD8\u5E2E\u4F60\u628A\u5B89\u88C5\u8F6F\u4EF6\u65F6\u9700\u8981\u7684\u529F\u80FD\u5173\u8054\u5728\u4E00\u8D77\uFF0C\u6253\u5305\u64CD\u4F5C\u3002\u6BD4\u5982\u5982\u5B89\u88C5\u5E8F\u5217\u3001\u521B\u5EFA\u548C\u8BBE\u7F6E\u5B89\u88C5\u8DEF\u5F84\u3001\u8BBE\u7F6E\u7CFB\u7EDF\u4F9D\u8D56\u9879\u3001\u9ED8\u8BA4\u8BBE\u5B9A\u5B89\u88C5\u9009\u9879\u548C\u63A7\u5236\u5B89\u88C5\u8FC7\u7A0B\u7684\u5C5E\u6027\u3002\u8BF4\u7B80\u5355\u70B9\u5C31\u662F\u4E00\u7AD9\u5F0F\u670D\u52A1\uFF0C\u5B89\u88C5\u8FC7\u7A0B\u4E00\u6761\u9F99\u64CD\u4F5C\u4E00\u6C14\u5475\u6210\uFF0C\u5C31\u662F\u4E3A\u5C0F\u767D\u7528\u6237\u63D0\u4F9B\u7684\u8F6F\u4EF6\u5B89\u88C5\u7A0B\u5E8F\u3002</p><p>\u200B \u5B89\u88C5\u5B8C\u6BD5\u540E\u4F1A\u5F97\u5230\u5982\u4E0B\u6587\u4EF6\uFF0C\u5176\u4E2D\u6709\u4E24\u4E2A\u6587\u4EF6\u5BF9\u5E94\u4E24\u4E2A\u547D\u4EE4\uFF0C\u662F\u542F\u52A8Redis\u7684\u6838\u5FC3\u547D\u4EE4\uFF0C\u9700\u8981\u518DCMD\u547D\u4EE4\u884C\u6A21\u5F0F\u6267\u884C\u3002</p><img src="`+q+`" alt="image-20220224091709173" style="zoom:80%;"><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>redis-server.exe redis.windows.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u521D\u5B66\u8005\u65E0\u9700\u8C03\u6574\u670D\u52A1\u5668\u5BF9\u5916\u670D\u52A1\u7AEF\u53E3\uFF0C\u9ED8\u8BA46379\u3002</p><p><strong>\u542F\u52A8\u5BA2\u6237\u7AEF</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>redis-cli.exe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u542F\u52A8redis\u670D\u52A1\u5668\u5931\u8D25\uFF0C\u53EF\u4EE5\u5148\u542F\u52A8\u5BA2\u6237\u7AEF\uFF0C\u7136\u540E\u6267\u884Cshutdown\u64CD\u4F5C\u540E\u9000\u51FA\uFF0C\u6B64\u65F6redis\u670D\u52A1\u5668\u5C31\u53EF\u4EE5\u6B63\u5E38\u6267\u884C\u4E86\u3002</p><h5 id="\u57FA\u672C\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u64CD\u4F5C" aria-hidden="true">#</a> \u57FA\u672C\u64CD\u4F5C</h5><p>\u200B \u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u4F7F\u7528\u5BA2\u6237\u7AEF\u5C31\u53EF\u4EE5\u8FDE\u63A5\u670D\u52A1\u5668\uFF0C\u7C7B\u4F3C\u4E8E\u542F\u52A8\u5B8CMySQL\u6570\u636E\u5E93\uFF0C\u7136\u540E\u542F\u52A8SQL\u547D\u4EE4\u884C\u64CD\u4F5C\u6570\u636E\u5E93\u3002</p><p>\u200B \u653E\u7F6E\u4E00\u4E2A\u5B57\u7B26\u4E32\u6570\u636E\u5230redis\u4E2D\uFF0C\u5148\u4E3A\u6570\u636E\u5B9A\u4E49\u4E00\u4E2A\u540D\u79F0\uFF0C\u6BD4\u5982name,age\u7B49\uFF0C\u7136\u540E\u4F7F\u7528\u547D\u4EE4set\u8BBE\u7F6E\u6570\u636E\u5230redis\u670D\u52A1\u5668\u4E2D\u5373\u53EF</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>set name itheima
set age 12
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4ECEredis\u4E2D\u53D6\u51FA\u5DF2\u7ECF\u653E\u5165\u7684\u6570\u636E\uFF0C\u6839\u636E\u540D\u79F0\u53D6\uFF0C\u5C31\u53EF\u4EE5\u5F97\u5230\u5BF9\u5E94\u6570\u636E\u3002\u5982\u679C\u6CA1\u6709\u5BF9\u5E94\u6570\u636E\u5C31\u4F1A\u5F97\u5230(nil)</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>get name
get age
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4EE5\u4E0A\u4F7F\u7528\u7684\u6570\u636E\u5B58\u50A8\u662F\u4E00\u4E2A\u540D\u79F0\u5BF9\u5E94\u4E00\u4E2A\u503C\uFF0C\u5982\u679C\u8981\u7EF4\u62A4\u7684\u6570\u636E\u8FC7\u591A\uFF0C\u53EF\u4EE5\u4F7F\u7528\u522B\u7684\u6570\u636E\u5B58\u50A8\u7ED3\u6784\u3002\u4F8B\u5982hash\uFF0C\u5B83\u662F\u4E00\u79CD\u4E00\u4E2A\u540D\u79F0\u4E0B\u53EF\u4EE5\u5B58\u50A8\u591A\u4E2A\u6570\u636E\u7684\u5B58\u50A8\u6A21\u578B\uFF0C\u5E76\u4E14\u6BCF\u4E2A\u6570\u636E\u4E5F\u53EF\u4EE5\u6709\u81EA\u5DF1\u7684\u4E8C\u7EA7\u5B58\u50A8\u540D\u79F0\u3002\u5411hash\u7ED3\u6784\u4E2D\u5B58\u50A8\u6570\u636E\u683C\u5F0F\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>hset a a1 aa1		#\u5BF9\u5916key\u540D\u79F0\u662Fa\uFF0C\u5728\u540D\u79F0\u4E3Aa\u7684\u5B58\u50A8\u6A21\u578B\u4E2D\uFF0Ca1\u8FD9\u4E2Akey\u4E2D\u4FDD\u5B58\u4E86\u6570\u636Eaa1
hset a a2 aa2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u83B7\u53D6hash\u7ED3\u6784\u4E2D\u7684\u6570\u636E\u547D\u4EE4\u5982\u4E0B</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>hget a a1			#\u5F97\u5230aa1
hget a a2			#\u5F97\u5230aa2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6709\u5173redis\u7684\u57FA\u7840\u64CD\u4F5C\u5C31\u666E\u53CA\u5230\u8FD9\u91CC\uFF0C\u9700\u8981\u5168\u9762\u638C\u63E1redis\u6280\u672F\uFF0C\u8BF7\u53C2\u770B\u76F8\u5173\u6559\u7A0B\u5B66\u4E60\u3002</p><h5 id="\u6574\u5408" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408" aria-hidden="true">#</a> \u6574\u5408</h5><p>\u200B \u5728\u8FDB\u884C\u6574\u5408\u4E4B\u524D\u5148\u68B3\u7406\u4E00\u4E0B\u6574\u5408\u7684\u601D\u60F3\uFF0Cspringboot\u6574\u5408\u4EFB\u4F55\u6280\u672F\u5176\u5B9E\u5C31\u662F\u5728springboot\u4E2D\u4F7F\u7528\u5BF9\u5E94\u6280\u672F\u7684API\u3002\u5982\u679C\u4E24\u4E2A\u6280\u672F\u6CA1\u6709\u4EA4\u96C6\uFF0C\u5C31\u4E0D\u5B58\u5728\u6574\u5408\u7684\u6982\u5FF5\u4E86\u3002\u6240\u8C13\u6574\u5408\u5176\u5B9E\u5C31\u662F\u4F7F\u7528springboot\u6280\u672F\u53BB\u7BA1\u7406\u5176\u4ED6\u6280\u672F\uFF0C\u51E0\u4E2A\u95EE\u9898\u662F\u8EB2\u4E0D\u6389\u7684\u3002</p><p>\u200B \u7B2C\u4E00\uFF0C\u9700\u8981\u5148\u5BFC\u5165\u5BF9\u5E94\u6280\u672F\u7684\u5750\u6807\uFF0C\u800C\u6574\u5408\u4E4B\u540E\uFF0C\u8FD9\u4E9B\u5750\u6807\u90FD\u6709\u4E86\u4E00\u4E9B\u53D8\u5316</p><p>\u200B \u7B2C\u4E8C\uFF0C\u4EFB\u4F55\u6280\u672F\u901A\u5E38\u90FD\u4F1A\u6709\u4E00\u4E9B\u76F8\u5173\u7684\u8BBE\u7F6E\u4FE1\u606F\uFF0C\u6574\u5408\u4E4B\u540E\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u5982\u4F55\u5199\uFF0C\u5199\u5728\u54EA\u662F\u4E00\u4E2A\u95EE\u9898</p><p>\u200B \u7B2C\u4E09\uFF0C\u6CA1\u6709\u6574\u5408\u4E4B\u524D\u64CD\u4F5C\u5982\u679C\u662F\u6A21\u5F0FA\u7684\u8BDD\uFF0C\u6574\u5408\u4E4B\u540E\u5982\u679C\u6CA1\u6709\u7ED9\u5F00\u53D1\u8005\u5E26\u6765\u4E00\u4E9B\u4FBF\u6377\u64CD\u4F5C\uFF0C\u90A3\u6574\u5408\u5C06\u6BEB\u65E0\u610F\u4E49\uFF0C\u6240\u4EE5\u6574\u5408\u540E\u64CD\u4F5C\u80AF\u5B9A\u8981\u7B80\u5316\u4E00\u4E9B\uFF0C\u90A3\u5BF9\u5E94\u7684\u64CD\u4F5C\u65B9\u5F0F\u81EA\u7136\u4E5F\u6709\u6240\u4E0D\u540C</p><p>\u200B \u6309\u7167\u4E0A\u9762\u7684\u4E09\u4E2A\u95EE\u9898\u53BB\u601D\u8003springboot\u6574\u5408\u6240\u6709\u6280\u672F\u662F\u4E00\u79CD\u901A\u7528\u601D\u60F3\uFF0C\u5728\u6574\u5408\u7684\u8FC7\u7A0B\u4E2D\u4F1A\u9010\u6B65\u6478\u7D22\u51FA\u6574\u5408\u7684\u5957\u8DEF\uFF0C\u800C\u4E14\u9002\u7528\u6027\u975E\u5E38\u5F3A\uFF0C\u7ECF\u8FC7\u82E5\u5E72\u79CD\u6280\u672F\u7684\u6574\u5408\u540E\u57FA\u672C\u4E0A\u53EF\u4EE5\u603B\u7ED3\u51FA\u4E00\u5957\u56FA\u5B9A\u601D\u7EF4\u3002</p><p>\u200B \u4E0B\u9762\u5C31\u5F00\u59CBspringboot\u6574\u5408redis\uFF0C\u64CD\u4F5C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408redis\u7684starter\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u5750\u6807\u53EF\u4EE5\u5728\u521B\u5EFA\u6A21\u5757\u7684\u65F6\u5019\u901A\u8FC7\u52FE\u9009\u7684\u5F62\u5F0F\u8FDB\u884C\u9009\u62E9\uFF0C\u5F52\u5C5ENoSQL\u5206\u7C7B\u4E2D</p><img src="`+f+`" alt="image-20220224101142220" style="zoom:50%;"><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u8FDB\u884C\u57FA\u7840\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u64CD\u4F5Credis\uFF0C\u6700\u57FA\u672C\u7684\u4FE1\u606F\u5C31\u662F\u64CD\u4F5C\u54EA\u4E00\u53F0redis\u670D\u52A1\u5668\uFF0C\u6240\u4EE5\u670D\u52A1\u5668\u5730\u5740\u5C5E\u4E8E\u57FA\u7840\u914D\u7F6E\u4FE1\u606F\uFF0C\u4E0D\u53EF\u7F3A\u5C11\u3002\u4F46\u662F\u5373\u4FBF\u4F60\u4E0D\u914D\u7F6E\uFF0C\u76EE\u524D\u4E5F\u662F\u53EF\u4EE5\u7528\u7684\u3002\u56E0\u4E3A\u4EE5\u4E0A\u4E24\u7EC4\u4FE1\u606F\u90FD\u6709\u9ED8\u8BA4\u914D\u7F6E\uFF0C\u521A\u597D\u5C31\u662F\u4E0A\u8FF0\u914D\u7F6E\u503C\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528springboot\u6574\u5408redis\u7684\u4E13\u7528\u5BA2\u6237\u7AEF\u63A5\u53E3\u64CD\u4F5C\uFF0C\u6B64\u5904\u4F7F\u7528\u7684\u662FRedisTemplate</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot16RedisApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ValueOperations</span> ops <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ops<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">41</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ValueOperations</span> ops <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> age <span class="token operator">=</span> ops<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">hset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashOperations</span> ops <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ops<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">hget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashOperations</span> ops <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> val <span class="token operator">=</span> ops<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5728\u64CD\u4F5Credis\u65F6\uFF0C\u9700\u8981\u5148\u786E\u8BA4\u64CD\u4F5C\u4F55\u79CD\u6570\u636E\uFF0C\u6839\u636E\u6570\u636E\u79CD\u7C7B\u5F97\u5230\u64CD\u4F5C\u63A5\u53E3\u3002\u4F8B\u5982\u4F7F\u7528opsForValue()\u83B7\u53D6string\u7C7B\u578B\u7684\u6570\u636E\u64CD\u4F5C\u63A5\u53E3\uFF0C\u4F7F\u7528opsForHash()\u83B7\u53D6hash\u7C7B\u578B\u7684\u6570\u636E\u64CD\u4F5C\u63A5\u53E3\uFF0C\u5269\u4E0B\u7684\u5C31\u662F\u8C03\u7528\u5BF9\u5E94api\u64CD\u4F5C\u4E86\u3002\u5404\u79CD\u7C7B\u578B\u7684\u6570\u636E\u64CD\u4F5C\u63A5\u53E3\u5982\u4E0B\uFF1A</p><img src="`+w+`" alt="image-20220224103104908" style="zoom:80%;"><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408redis\u6B65\u9AA4 <ol><li>\u5BFC\u5165springboot\u6574\u5408redis\u7684starter\u5750\u6807</li><li>\u8FDB\u884C\u57FA\u7840\u914D\u7F6E</li><li>\u4F7F\u7528springboot\u6574\u5408redis\u7684\u4E13\u7528\u5BA2\u6237\u7AEF\u63A5\u53E3RedisTemplate\u64CD\u4F5C</li></ol></li></ol><p><strong>StringRedisTemplate</strong></p><p>\u200B \u7531\u4E8Eredis\u5185\u90E8\u4E0D\u63D0\u4F9Bjava\u5BF9\u8C61\u7684\u5B58\u50A8\u683C\u5F0F\uFF0C\u56E0\u6B64\u5F53\u64CD\u4F5C\u7684\u6570\u636E\u4EE5\u5BF9\u8C61\u7684\u5F62\u5F0F\u5B58\u5728\u65F6\uFF0C\u4F1A\u8FDB\u884C\u8F6C\u7801\uFF0C\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\u683C\u5F0F\u540E\u8FDB\u884C\u64CD\u4F5C\u3002\u4E3A\u4E86\u65B9\u4FBF\u5F00\u53D1\u8005\u4F7F\u7528\u57FA\u4E8E\u5B57\u7B26\u4E32\u4E3A\u6570\u636E\u7684\u64CD\u4F5C\uFF0Cspringboot\u6574\u5408redis\u65F6\u63D0\u4F9B\u4E86\u4E13\u7528\u7684API\u63A5\u53E3StringRedisTemplate\uFF0C\u4F60\u53EF\u4EE5\u7406\u89E3\u4E3A\u8FD9\u662FRedisTemplate\u7684\u4E00\u79CD\u6307\u5B9A\u6570\u636E\u6CDB\u578B\u7684\u64CD\u4F5CAPI\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringRedisTemplateTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">StringRedisTemplate</span> stringRedisTemplate<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ValueOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ops <span class="token operator">=</span> stringRedisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> ops<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>redis\u5BA2\u6237\u7AEF\u9009\u62E9</strong></p><pre><code>	springboot\u6574\u5408redis\u6280\u672F\u63D0\u4F9B\u4E86\u591A\u79CD\u5BA2\u6237\u7AEF\u517C\u5BB9\u6A21\u5F0F\uFF0C\u9ED8\u8BA4\u63D0\u4F9B\u7684\u662Flettucs\u5BA2\u6237\u7AEF\u6280\u672F\uFF0C\u4E5F\u53EF\u4EE5\u6839\u636E\u9700\u8981\u5207\u6362\u6210\u6307\u5B9A\u5BA2\u6237\u7AEF\u6280\u672F\uFF0C\u4F8B\u5982jedis\u5BA2\u6237\u7AEF\u6280\u672F\uFF0C\u5207\u6362\u6210jedis\u5BA2\u6237\u7AEF\u6280\u672F\u64CD\u4F5C\u6B65\u9AA4\u5982\u4E0B\uFF1A
</code></pre><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165jedis\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>redis.clients<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jedis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B jedis\u5750\u6807\u53D7springboot\u7BA1\u7406\uFF0C\u65E0\u9700\u63D0\u4F9B\u7248\u672C\u53F7</p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6E\u5BA2\u6237\u7AEF\u6280\u672F\u7C7B\u578B\uFF0C\u8BBE\u7F6E\u4E3Ajedis</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
    <span class="token key atrule">client-type</span><span class="token punctuation">:</span> jedis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u6839\u636E\u9700\u8981\u8BBE\u7F6E\u5BF9\u5E94\u7684\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
    <span class="token key atrule">client-type</span><span class="token punctuation">:</span> jedis
    <span class="token key atrule">lettuce</span><span class="token punctuation">:</span>
      <span class="token key atrule">pool</span><span class="token punctuation">:</span>
        <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">16</span>
    <span class="token key atrule">jedis</span><span class="token punctuation">:</span>
      <span class="token key atrule">pool</span><span class="token punctuation">:</span>
        <span class="token key atrule">max-active</span><span class="token punctuation">:</span> <span class="token number">16</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>lettcus\u4E0Ejedis\u533A\u522B</strong></p><ul><li>jedis\u8FDE\u63A5Redis\u670D\u52A1\u5668\u662F\u76F4\u8FDE\u6A21\u5F0F\uFF0C\u5F53\u591A\u7EBF\u7A0B\u6A21\u5F0F\u4E0B\u4F7F\u7528jedis\u4F1A\u5B58\u5728\u7EBF\u7A0B\u5B89\u5168\u95EE\u9898\uFF0C\u89E3\u51B3\u65B9\u6848\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u8FDE\u63A5\u6C60\u4F7F\u6BCF\u4E2A\u8FDE\u63A5\u4E13\u7528\uFF0C\u8FD9\u6837\u6574\u4F53\u6027\u80FD\u5C31\u5927\u53D7\u5F71\u54CD</li><li>lettcus\u57FA\u4E8ENetty\u6846\u67B6\u8FDB\u884C\u4E0ERedis\u670D\u52A1\u5668\u8FDE\u63A5\uFF0C\u5E95\u5C42\u8BBE\u8BA1\u4E2D\u91C7\u7528StatefulRedisConnection\u3002 StatefulRedisConnection\u81EA\u8EAB\u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF0C\u53EF\u4EE5\u4FDD\u969C\u5E76\u53D1\u8BBF\u95EE\u5B89\u5168\u95EE\u9898\uFF0C\u6240\u4EE5\u4E00\u4E2A\u8FDE\u63A5\u53EF\u4EE5\u88AB\u591A\u7EBF\u7A0B\u590D\u7528\u3002\u5F53\u7136lettcus\u4E5F\u652F\u6301\u591A\u8FDE\u63A5\u5B9E\u4F8B\u4E00\u8D77\u5DE5\u4F5C</li></ul><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408redis\u63D0\u4F9B\u4E86StringRedisTemplate\u5BF9\u8C61\uFF0C\u4EE5\u5B57\u7B26\u4E32\u7684\u6570\u636E\u683C\u5F0F\u64CD\u4F5Credis</li><li>\u5982\u679C\u9700\u8981\u5207\u6362redis\u5BA2\u6237\u7AEF\u5B9E\u73B0\u6280\u672F\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u7684\u5F62\u5F0F\u8FDB\u884C</li></ol><h4 id="springboot\u6574\u5408mongodb" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408mongodb" aria-hidden="true">#</a> SpringBoot\u6574\u5408MongoDB</h4><p>\u200B \u4F7F\u7528Redis\u6280\u672F\u53EF\u4EE5\u6709\u6548\u7684\u63D0\u9AD8\u6570\u636E\u8BBF\u95EE\u901F\u5EA6\uFF0C\u4F46\u662F\u7531\u4E8ERedis\u7684\u6570\u636E\u683C\u5F0F\u5355\u4E00\u6027\uFF0C\u65E0\u6CD5\u64CD\u4F5C\u7ED3\u6784\u5316\u6570\u636E\uFF0C\u5F53\u64CD\u4F5C\u5BF9\u8C61\u578B\u7684\u6570\u636E\u65F6\uFF0CRedis\u5C31\u663E\u5F97\u6349\u895F\u89C1\u8098\u3002\u5728\u4FDD\u969C\u8BBF\u95EE\u901F\u5EA6\u7684\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u60F3\u64CD\u4F5C\u7ED3\u6784\u5316\u6570\u636E\uFF0C\u770B\u6765Redis\u65E0\u6CD5\u6EE1\u8DB3\u8981\u6C42\u4E86\uFF0C\u6B64\u65F6\u9700\u8981\u4F7F\u7528\u5168\u65B0\u7684\u6570\u636E\u5B58\u50A8\u7ED3\u675F\u6765\u89E3\u51B3\u6B64\u95EE\u9898\uFF0C\u672C\u8282\u8BB2\u89E3springboot\u5982\u4F55\u6574\u5408MongoDB\u6280\u672F\u3002</p><p>\u200B MongoDB\u662F\u4E00\u4E2A\u5F00\u6E90\u3001\u9AD8\u6027\u80FD\u3001\u65E0\u6A21\u5F0F\u7684\u6587\u6863\u578B\u6570\u636E\u5E93\uFF0C\u5B83\u662FNoSQL\u6570\u636E\u5E93\u4EA7\u54C1\u4E2D\u7684\u4E00\u79CD\uFF0C\u662F\u6700\u50CF\u5173\u7CFB\u578B\u6570\u636E\u5E93\u7684\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93\u3002</p><p>\u200B \u4E0A\u8FF0\u63CF\u8FF0\u4E2D\u51E0\u4E2A\u8BCD\uFF0C\u5176\u4E2D\u5BF9\u4E8E\u6211\u4EEC\u6700\u964C\u751F\u7684\u8BCD\u662F\u65E0\u6A21\u5F0F\u7684\u3002\u4EC0\u4E48\u53EB\u65E0\u6A21\u5F0F\u5462\uFF1F\u7B80\u5355\u8BF4\u5C31\u662F\u4F5C\u4E3A\u4E00\u6B3E\u6570\u636E\u5E93\uFF0C\u6CA1\u6709\u56FA\u5B9A\u7684\u6570\u636E\u5B58\u50A8\u7ED3\u6784\uFF0C\u7B2C\u4E00\u6761\u6570\u636E\u53EF\u80FD\u6709A\u3001B\u3001C\u4E00\u51713\u4E2A\u5B57\u6BB5\uFF0C\u7B2C\u4E8C\u6761\u6570\u636E\u53EF\u80FD\u6709D\u3001E\u3001F\u4E5F\u662F3\u4E2A\u5B57\u6BB5\uFF0C\u7B2C\u4E09\u6761\u6570\u636E\u53EF\u80FD\u662FA\u3001C\u3001E3\u4E2A\u5B57\u6BB5\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6570\u636E\u7684\u7ED3\u6784\u4E0D\u56FA\u5B9A\uFF0C\u8FD9\u5C31\u662F\u65E0\u6A21\u5F0F\u3002\u6709\u4EBA\u4F1A\u8BF4\u8FD9\u6709\u4EC0\u4E48\u7528\u554A\uFF1F\u7075\u6D3B\uFF0C\u968F\u65F6\u53D8\u66F4\uFF0C\u4E0D\u53D7\u7EA6\u675F\u3002\u57FA\u4E8E\u4E0A\u8FF0\u7279\u70B9\uFF0CMongoDB\u7684\u5E94\u7528\u9762\u4E5F\u4F1A\u4EA7\u751F\u4E00\u4E9B\u53D8\u5316\u3002\u4EE5\u4E0B\u5217\u51FA\u4E86\u4E00\u4E9B\u53EF\u4EE5\u4F7F\u7528MongoDB\u4F5C\u4E3A\u6570\u636E\u5B58\u50A8\u7684\u573A\u666F\uFF0C\u4F46\u662F\u5E76\u4E0D\u662F\u5FC5\u987B\u4F7F\u7528MongoDB\u7684\u573A\u666F\uFF1A</p><ul><li>\u6DD8\u5B9D\u7528\u6237\u6570\u636E <ul><li>\u5B58\u50A8\u4F4D\u7F6E\uFF1A\u6570\u636E\u5E93</li><li>\u7279\u5F81\uFF1A\u6C38\u4E45\u6027\u5B58\u50A8\uFF0C\u4FEE\u6539\u9891\u5EA6\u6781\u4F4E</li></ul></li><li>\u6E38\u620F\u88C5\u5907\u6570\u636E\u3001\u6E38\u620F\u9053\u5177\u6570\u636E <ul><li>\u5B58\u50A8\u4F4D\u7F6E\uFF1A\u6570\u636E\u5E93\u3001Mongodb</li><li>\u7279\u5F81\uFF1A\u6C38\u4E45\u6027\u5B58\u50A8\u4E0E\u4E34\u65F6\u5B58\u50A8\u76F8\u7ED3\u5408\u3001\u4FEE\u6539\u9891\u5EA6\u8F83\u9AD8</li></ul></li><li>\u76F4\u64AD\u6570\u636E\u3001\u6253\u8D4F\u6570\u636E\u3001\u7C89\u4E1D\u6570\u636E <ul><li>\u5B58\u50A8\u4F4D\u7F6E\uFF1A\u6570\u636E\u5E93\u3001Mongodb</li><li>\u7279\u5F81\uFF1A\u6C38\u4E45\u6027\u5B58\u50A8\u4E0E\u4E34\u65F6\u5B58\u50A8\u76F8\u7ED3\u5408\uFF0C\u4FEE\u6539\u9891\u5EA6\u6781\u9AD8</li></ul></li><li>\u7269\u8054\u7F51\u6570\u636E <ul><li>\u5B58\u50A8\u4F4D\u7F6E\uFF1AMongodb</li><li>\u7279\u5F81\uFF1A\u4E34\u65F6\u5B58\u50A8\uFF0C\u4FEE\u6539\u9891\u5EA6\u98DE\u901F</li></ul></li></ul><p>\u200B \u5FEB\u901F\u4E86\u89E3\u4E00\u4E0BMongoDB\uFF0C\u4E0B\u9762\u76F4\u63A5\u5F00\u59CB\u6211\u4EEC\u7684\u5B66\u4E60\uFF0C\u8001\u89C4\u77E9\uFF0C\u5148\u5B89\u88C5\uFF0C\u518D\u64CD\u4F5C\uFF0C\u6700\u540E\u8BF4\u6574\u5408</p><h5 id="\u5B89\u88C5-1" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-1" aria-hidden="true">#</a> \u5B89\u88C5</h5><p>\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1Ahttps://www.mongodb.com/try/download</p><p>\u200B \u4E0B\u8F7D\u7684\u5B89\u88C5\u5305\u4E5F\u6709\u4E24\u79CD\u5F62\u5F0F\uFF0C\u4E00\u79CD\u662F\u4E00\u952E\u5B89\u88C5\u7684msi\u6587\u4EF6\uFF0C\u8FD8\u6709\u4E00\u79CD\u662F\u89E3\u538B\u7F29\u5C31\u80FD\u4F7F\u7528\u7684zip\u6587\u4EF6\uFF0C\u54EA\u79CD\u5F62\u5F0F\u90FD\u884C\uFF0C\u672C\u8BFE\u7A0B\u91C7\u7528\u89E3\u538B\u7F29zip\u6587\u4EF6\u8FDB\u884C\u5B89\u88C5\u3002</p><p>\u200B \u89E3\u538B\u7F29\u5B8C\u6BD5\u540E\u4F1A\u5F97\u5230\u5982\u4E0B\u6587\u4EF6\uFF0C\u5176\u4E2Dbin\u76EE\u5F55\u5305\u542B\u4E86\u6240\u6709mongodb\u7684\u53EF\u6267\u884C\u547D\u4EE4</p><p><img src="`+j+'" alt="image-20220224111306933"></p><p>\u200B mongodb\u5728\u8FD0\u884C\u65F6\u9700\u8981\u6307\u5B9A\u4E00\u4E2A\u6570\u636E\u5B58\u50A8\u7684\u76EE\u5F55\uFF0C\u6240\u4EE5\u521B\u5EFA\u4E00\u4E2A\u6570\u636E\u5B58\u50A8\u76EE\u5F55\uFF0C\u901A\u5E38\u653E\u7F6E\u5728\u5B89\u88C5\u76EE\u5F55\u4E2D\uFF0C\u6B64\u5904\u521B\u5EFAdata\u7684\u76EE\u5F55\u7528\u6765\u5B58\u50A8\u6570\u636E\uFF0C\u5177\u4F53\u5982\u4E0B</p><p><img src="'+S+'" alt="image-20220224111053408"></p><p>\u200B \u5982\u679C\u5728\u5B89\u88C5\u7684\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u4E86\u5982\u4E0B\u8B66\u544A\u4FE1\u606F\uFF0C\u5C31\u662F\u544A\u8BC9\u4F60\uFF0C\u4F60\u5F53\u524D\u7684\u64CD\u4F5C\u7CFB\u7EDF\u7F3A\u5C11\u4E86\u4E00\u4E9B\u7CFB\u7EDF\u6587\u4EF6\uFF0C\u8FD9\u4E2A\u4E0D\u7528\u62C5\u5FC3\u3002</p><img src="'+x+`" alt="image-20220224113956882" style="zoom:50%;"><p>\u200B \u6839\u636E\u4E0B\u5217\u65B9\u6848\u5373\u53EF\u89E3\u51B3\uFF0C\u5728\u6D4F\u89C8\u5668\u4E2D\u641C\u7D22\u63D0\u793A\u7F3A\u5C11\u7684\u540D\u79F0\u5BF9\u5E94\u7684\u6587\u4EF6\uFF0C\u5E76\u4E0B\u8F7D\uFF0C\u5C06\u4E0B\u8F7D\u7684\u6587\u4EF6\u62F7\u8D1D\u5230windows\u5B89\u88C5\u76EE\u5F55\u7684system32\u76EE\u5F55\u4E0B\uFF0C\u7136\u540E\u5728\u547D\u4EE4\u884C\u4E2D\u6267\u884Cregsvr32\u547D\u4EE4\u6CE8\u518C\u6B64\u6587\u4EF6\u3002\u6839\u636E\u4E0B\u8F7D\u7684\u6587\u4EF6\u540D\u4E0D\u540C\uFF0C\u6267\u884C\u547D\u4EE4\u524D\u66F4\u6539\u5BF9\u5E94\u540D\u79F0\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>regsvr32 vcruntime140_1.dll
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>mongod --dbpath=..\\data\\db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u542F\u52A8\u670D\u52A1\u5668\u65F6\u9700\u8981\u6307\u5B9A\u6570\u636E\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u901A\u8FC7\u53C2\u6570--dbpath\u8FDB\u884C\u8BBE\u7F6E\uFF0C\u53EF\u4EE5\u6839\u636E\u9700\u8981\u81EA\u884C\u8BBE\u7F6E\u6570\u636E\u5B58\u50A8\u8DEF\u5F84\u3002\u9ED8\u8BA4\u670D\u52A1\u7AEF\u53E327017\u3002</p><p><strong>\u542F\u52A8\u5BA2\u6237\u7AEF</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>mongo --host=127.0.0.1 --port=27017
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="\u57FA\u672C\u64CD\u4F5C-1" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u64CD\u4F5C-1" aria-hidden="true">#</a> \u57FA\u672C\u64CD\u4F5C</h5><p>\u200B MongoDB\u867D\u7136\u662F\u4E00\u6B3E\u6570\u636E\u5E93\uFF0C\u4F46\u662F\u5B83\u7684\u64CD\u4F5C\u5E76\u4E0D\u662F\u4F7F\u7528SQL\u8BED\u53E5\u8FDB\u884C\u7684\uFF0C\u56E0\u6B64\u64CD\u4F5C\u65B9\u5F0F\u5404\u4F4D\u5C0F\u4F19\u4F34\u53EF\u80FD\u6BD4\u8F83\u964C\u751F\uFF0C\u597D\u5728\u6709\u4E00\u4E9B\u7C7B\u4F3C\u4E8ENavicat\u7684\u6570\u636E\u5E93\u5BA2\u6237\u7AEF\u8F6F\u4EF6\uFF0C\u80FD\u591F\u4FBF\u6377\u7684\u64CD\u4F5CMongoDB\uFF0C\u5148\u5B89\u88C5\u4E00\u4E2A\u5BA2\u6237\u7AEF\uFF0C\u518D\u6765\u64CD\u4F5CMongoDB\u3002</p><p>\u200B \u540C\u7C7B\u578B\u7684\u8F6F\u4EF6\u8F83\u591A\uFF0C\u672C\u6B21\u5B89\u88C5\u7684\u8F6F\u4EF6\u65F6Robo3t\uFF0CRobot3t\u662F\u4E00\u6B3E\u7EFF\u8272\u8F6F\u4EF6\uFF0C\u65E0\u9700\u5B89\u88C5\uFF0C\u89E3\u538B\u7F29\u5373\u53EF\u3002\u89E3\u538B\u7F29\u5B8C\u6BD5\u540E\u8FDB\u5165\u5B89\u88C5\u76EE\u5F55\u53CC\u51FBrobot3t.exe\u5373\u53EF\u4F7F\u7528\u3002</p><img src="`+M+'" alt="image-20220224114911573" style="zoom:33%;"><p>\u200B \u6253\u5F00\u8F6F\u4EF6\u9996\u5148\u8981\u8FDE\u63A5MongoDB\u670D\u52A1\u5668\uFF0C\u9009\u62E9\u3010File\u3011\u83DC\u5355\uFF0C\u9009\u62E9\u3010Connect...\u3011</p><p><img src="'+C+'" alt="image-20220224115202422"></p><p>\u200B \u8FDB\u5165\u8FDE\u63A5\u7BA1\u7406\u754C\u9762\u540E\uFF0C\u9009\u62E9\u5DE6\u4E0A\u89D2\u7684\u3010Create\u3011\u94FE\u63A5\uFF0C\u521B\u5EFA\u65B0\u7684\u8FDE\u63A5\u8BBE\u7F6E</p><img src="'+A+'" alt="image-20220224115254200" style="zoom:80%;"><p>\u200B \u5982\u679C\u8F93\u5165\u8BBE\u7F6E\u503C\u5373\u53EF\u8FDE\u63A5\uFF08\u9ED8\u8BA4\u4E0D\u4FEE\u6539\u5373\u53EF\u8FDE\u63A5\u672C\u673A27017\u7AEF\u53E3\uFF09</p><p><img src="'+T+`" alt="image-20220224115300266"></p><p>\u200B \u8FDE\u63A5\u6210\u529F\u540E\u5728\u547D\u4EE4\u8F93\u5165\u533A\u57DF\u8F93\u5165\u547D\u4EE4\u5373\u53EF\u64CD\u4F5CMongoDB\u3002</p><p>\u200B \u521B\u5EFA\u6570\u636E\u5E93\uFF1A\u5728\u5DE6\u4FA7\u83DC\u5355\u4E2D\u4F7F\u7528\u53F3\u952E\u521B\u5EFA\uFF0C\u8F93\u5165\u6570\u636E\u5E93\u540D\u79F0\u5373\u53EF</p><p>\u200B \u521B\u5EFA\u96C6\u5408\uFF1A\u5728Collections\u4E0A\u4F7F\u7528\u53F3\u952E\u521B\u5EFA\uFF0C\u8F93\u5165\u96C6\u5408\u540D\u79F0\u5373\u53EF\uFF0C\u96C6\u5408\u7B49\u540C\u4E8E\u6570\u636E\u5E93\u4E2D\u7684\u8868\u7684\u4F5C\u7528</p><p>\u200B \u65B0\u589E\u6587\u6863\uFF1A\uFF08\u6587\u6863\u662F\u4E00\u79CD\u7C7B\u4F3Cjson\u683C\u5F0F\u7684\u6570\u636E\uFF0C\u521D\u5B66\u8005\u53EF\u4EE5\u5148\u628A\u6570\u636E\u7406\u89E3\u4E3A\u5C31\u662Fjson\u6570\u636E\uFF09</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>db.\u96C6\u5408\u540D\u79F0.insert/save/insertOne(\u6587\u6863)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u5220\u9664\u6587\u6863\uFF1A</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>db.\u96C6\u5408\u540D\u79F0.remove(\u6761\u4EF6)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u4FEE\u6539\u6587\u6863\uFF1A</p><div class="language-cmd ext-cmd line-numbers-mode"><pre class="language-cmd"><code>db.\u96C6\u5408\u540D\u79F0.update(\u6761\u4EF6\uFF0C{\u64CD\u4F5C\u79CD\u7C7B:{\u6587\u6863}})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u67E5\u8BE2\u6587\u6863\uFF1A</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>\u57FA\u7840\u67E5\u8BE2
\u67E5\u8BE2\u5168\u90E8\uFF1A		   db.\u96C6\u5408.find();
\u67E5\u7B2C\u4E00\u6761\uFF1A		   db.\u96C6\u5408.findOne()
\u67E5\u8BE2\u6307\u5B9A\u6570\u91CF\u6587\u6863\uFF1A	db.\u96C6\u5408.find().limit(10)					//\u67E510\u6761\u6587\u6863
\u8DF3\u8FC7\u6307\u5B9A\u6570\u91CF\u6587\u6863\uFF1A	db.\u96C6\u5408.find().skip(20)					//\u8DF3\u8FC720\u6761\u6587\u6863
\u7EDF\u8BA1\uFF1A			  	db.\u96C6\u5408.count()
\u6392\u5E8F\uFF1A				db.\u96C6\u5408.sort({age:1})						//\u6309age\u5347\u5E8F\u6392\u5E8F
\u6295\u5F71\uFF1A				db.\u96C6\u5408\u540D\u79F0.find(\u6761\u4EF6,{name:1,age:1})		 //\u4EC5\u4FDD\u7559name\u4E0Eage\u57DF

\u6761\u4EF6\u67E5\u8BE2
\u57FA\u672C\u683C\u5F0F\uFF1A			db.\u96C6\u5408.find({\u6761\u4EF6})
\u6A21\u7CCA\u67E5\u8BE2\uFF1A			db.\u96C6\u5408.find({\u57DF\u540D:/\u6B63\u5219\u8868\u8FBE\u5F0F/})		  //\u7B49\u540CSQL\u4E2D\u7684like\uFF0C\u6BD4like\u5F3A\u5927\uFF0C\u53EF\u4EE5\u6267\u884C\u6B63\u5219\u6240\u6709\u89C4\u5219
\u6761\u4EF6\u6BD4\u8F83\u8FD0\u7B97\uFF1A		   db.\u96C6\u5408.find({\u57DF\u540D:{$gt:\u503C}})				//\u7B49\u540CSQL\u4E2D\u7684\u6570\u503C\u6BD4\u8F83\u64CD\u4F5C\uFF0C\u4F8B\u5982\uFF1Aname&gt;18
\u5305\u542B\u67E5\u8BE2\uFF1A			db.\u96C6\u5408.find({\u57DF\u540D:{$in:[\u503C1\uFF0C\u503C2]}})		//\u7B49\u540C\u4E8ESQL\u4E2D\u7684in
\u6761\u4EF6\u8FDE\u63A5\u67E5\u8BE2\uFF1A		   db.\u96C6\u5408.find({$and:[{\u6761\u4EF61},{\u6761\u4EF62}]})	   //\u7B49\u540C\u4E8ESQL\u4E2D\u7684and\u3001or
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6709\u5173MongoDB\u7684\u57FA\u7840\u64CD\u4F5C\u5C31\u666E\u53CA\u5230\u8FD9\u91CC\uFF0C\u9700\u8981\u5168\u9762\u638C\u63E1MongoDB\u6280\u672F\uFF0C\u8BF7\u53C2\u770B\u76F8\u5173\u6559\u7A0B\u5B66\u4E60\u3002</p><h5 id="\u6574\u5408-1" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-1" aria-hidden="true">#</a> \u6574\u5408</h5><p>\u200B \u4F7F\u7528springboot\u6574\u5408MongDB\u8BE5\u5982\u4F55\u8FDB\u884C\u5462\uFF1F\u5176\u5B9Espringboot\u4E3A\u4EC0\u4E48\u4F7F\u7528\u7684\u5F00\u53D1\u8005\u8FD9\u4E48\u591A\uFF0C\u5C31\u662F\u56E0\u4E3A\u4ED6\u7684\u5957\u8DEF\u51E0\u4E4E\u5B8C\u5168\u4E00\u6837\u3002\u5BFC\u5165\u5750\u6807\uFF0C\u505A\u914D\u7F6E\uFF0C\u4F7F\u7528API\u63A5\u53E3\u64CD\u4F5C\u3002\u6574\u5408Redis\u5982\u6B64\uFF0C\u6574\u5408MongoDB\u540C\u6837\u5982\u6B64\u3002</p><p>\u200B \u7B2C\u4E00\uFF0C\u5148\u5BFC\u5165\u5BF9\u5E94\u6280\u672F\u7684\u6574\u5408starter\u5750\u6807</p><p>\u200B \u7B2C\u4E8C\uFF0C\u914D\u7F6E\u5FC5\u8981\u4FE1\u606F</p><p>\u200B \u7B2C\u4E09\uFF0C\u4F7F\u7528\u63D0\u4F9B\u7684API\u64CD\u4F5C\u5373\u53EF</p><p>\u200B \u4E0B\u9762\u5C31\u5F00\u59CBspringboot\u6574\u5408MongoDB\uFF0C\u64CD\u4F5C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408MongoDB\u7684starter\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-mongodb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u5750\u6807\u4E5F\u53EF\u4EE5\u5728\u521B\u5EFA\u6A21\u5757\u7684\u65F6\u5019\u901A\u8FC7\u52FE\u9009\u7684\u5F62\u5F0F\u8FDB\u884C\u9009\u62E9\uFF0C\u540C\u6837\u5F52\u5C5ENoSQL\u5206\u7C7B\u4E2D</p><img src="`+_+`" alt="image-20220224120721626" style="zoom:67%;"><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u8FDB\u884C\u57FA\u7840\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">data</span><span class="token punctuation">:</span>
    <span class="token key atrule">mongodb</span><span class="token punctuation">:</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> mongodb<span class="token punctuation">:</span>//localhost/itheima
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u64CD\u4F5CMongoDB\u9700\u8981\u7684\u914D\u7F6E\u4E0E\u64CD\u4F5Credis\u4E00\u6837\uFF0C\u6700\u57FA\u672C\u7684\u4FE1\u606F\u90FD\u662F\u64CD\u4F5C\u54EA\u4E00\u53F0\u670D\u52A1\u5668\uFF0C\u533A\u522B\u5C31\u662F\u8FDE\u63A5\u7684\u670D\u52A1\u5668IP\u5730\u5740\u548C\u7AEF\u53E3\u4E0D\u540C\uFF0C\u4E66\u5199\u683C\u5F0F\u4E0D\u540C\u800C\u5DF2\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528springboot\u6574\u5408MongoDB\u7684\u4E13\u7528\u5BA2\u6237\u7AEF\u63A5\u53E3MongoTemplate\u6765\u8FDB\u884C\u64CD\u4F5C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot17MongodbApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MongoTemplate</span> mongoTemplate<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;springboot2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">&quot;springboot2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">&quot;springboot2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mongoTemplate<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> all <span class="token operator">=</span> mongoTemplate<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6574\u5408\u5DE5\u4F5C\u5230\u8FD9\u91CC\u5C31\u505A\u5B8C\u4E86\uFF0C\u611F\u89C9\u65E2\u719F\u6089\u4E5F\u964C\u751F\u3002\u719F\u6089\u7684\u662F\u8FD9\u4E2A\u5957\u8DEF\uFF0C\u4E09\u677F\u65A7\uFF0C\u5C31\u8FD9\u4E09\u62DB\uFF0C\u5BFC\u5750\u6807\u505A\u914D\u7F6E\u7528API\u64CD\u4F5C\uFF0C\u964C\u751F\u7684\u662F\u8FD9\u4E2A\u6280\u672F\uFF0C\u91CC\u9762\u5177\u4F53\u7684\u64CD\u4F5CAPI\u53EF\u80FD\u4F1A\u4E0D\u719F\u6089\uFF0C\u6709\u5173springboot\u6574\u5408MongoDB\u6211\u4EEC\u5C31\u8BB2\u5230\u8FD9\u91CC\u3002\u6709\u5174\u8DA3\u53EF\u4EE5\u7EE7\u7EED\u5B66\u4E60MongoDB\u7684\u64CD\u4F5C\uFF0C\u7136\u540E\u518D\u6765\u8FD9\u91CC\u901A\u8FC7\u7F16\u7A0B\u7684\u5F62\u5F0F\u64CD\u4F5CMongoDB\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408MongoDB\u6B65\u9AA4 <ol><li>\u5BFC\u5165springboot\u6574\u5408MongoDB\u7684starter\u5750\u6807</li><li>\u8FDB\u884C\u57FA\u7840\u914D\u7F6E</li><li>\u4F7F\u7528springboot\u6574\u5408MongoDB\u7684\u4E13\u7528\u5BA2\u6237\u7AEF\u63A5\u53E3MongoTemplate\u64CD\u4F5C</li></ol></li></ol><h4 id="springboot\u6574\u5408es" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408es" aria-hidden="true">#</a> SpringBoot\u6574\u5408ES</h4><p>\u200B NoSQL\u89E3\u51B3\u65B9\u6848\u5DF2\u7ECF\u8BB2\u5B8C\u4E86\u4E24\u79CD\u6280\u672F\u7684\u6574\u5408\u4E86\uFF0CRedis\u53EF\u4EE5\u4F7F\u7528\u5185\u5B58\u52A0\u8F7D\u6570\u636E\u5E76\u5B9E\u73B0\u6570\u636E\u5FEB\u901F\u8BBF\u95EE\uFF0CMongoDB\u53EF\u4EE5\u5728\u5185\u5B58\u4E2D\u5B58\u50A8\u7C7B\u4F3C\u5BF9\u8C61\u7684\u6570\u636E\u5E76\u5B9E\u73B0\u6570\u636E\u7684\u5FEB\u901F\u8BBF\u95EE\uFF0C\u5728\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\u5BF9\u4E8E\u901F\u5EA6\u7684\u8FFD\u6C42\u662F\u6C38\u65E0\u6B62\u5883\u7684\u3002\u4E0B\u9762\u8981\u8BB2\u7684\u5185\u5BB9\u4E5F\u662F\u4E00\u6B3ENoSQL\u89E3\u51B3\u65B9\u6848\uFF0C\u53EA\u4E0D\u8FC7\u4ED6\u7684\u4F5C\u7528\u4E0D\u662F\u4E3A\u4E86\u76F4\u63A5\u52A0\u901F\u6570\u636E\u7684\u8BFB\u5199\uFF0C\u800C\u662F\u52A0\u901F\u6570\u636E\u7684\u67E5\u8BE2\u7684\uFF0C\u53EB\u505AES\u6280\u672F\u3002</p><p>\u200B ES\uFF08Elasticsearch\uFF09\u662F\u4E00\u4E2A\u5206\u5E03\u5F0F\u5168\u6587\u641C\u7D22\u5F15\u64CE\uFF0C\u91CD\u70B9\u662F\u5168\u6587\u641C\u7D22\u3002</p><p>\u200B \u90A3\u4EC0\u4E48\u662F\u5168\u6587\u641C\u7D22\u5462\uFF1F\u6BD4\u5982\u7528\u6237\u8981\u4E70\u4E00\u672C\u4E66\uFF0C\u4EE5Java\u4E3A\u5173\u952E\u5B57\u8FDB\u884C\u641C\u7D22\uFF0C\u4E0D\u7BA1\u662F\u4E66\u540D\u4E2D\u8FD8\u662F\u4E66\u7684\u4ECB\u7ECD\u4E2D\uFF0C\u751A\u81F3\u662F\u4E66\u7684\u4F5C\u8005\u540D\u5B57\uFF0C\u53EA\u8981\u5305\u542Bjava\u5C31\u4F5C\u4E3A\u67E5\u8BE2\u7ED3\u679C\u8FD4\u56DE\u7ED9\u7528\u6237\u67E5\u770B\uFF0C\u4E0A\u8FF0\u8FC7\u7A0B\u5C31\u4F7F\u7528\u4E86\u5168\u6587\u641C\u7D22\u6280\u672F\u3002\u641C\u7D22\u7684\u6761\u4EF6\u4E0D\u518D\u662F\u4EC5\u7528\u4E8E\u5BF9\u67D0\u4E00\u4E2A\u5B57\u6BB5\u8FDB\u884C\u6BD4\u5BF9\uFF0C\u800C\u662F\u5728\u4E00\u6761\u6570\u636E\u4E2D\u4F7F\u7528\u641C\u7D22\u6761\u4EF6\u53BB\u6BD4\u5BF9\u66F4\u591A\u7684\u5B57\u6BB5\uFF0C\u53EA\u8981\u80FD\u5339\u914D\u4E0A\u5C31\u5217\u5165\u67E5\u8BE2\u7ED3\u679C\uFF0C\u8FD9\u5C31\u662F\u5168\u6587\u641C\u7D22\u7684\u76EE\u7684\u3002\u800CES\u6280\u672F\u5C31\u662F\u4E00\u79CD\u53EF\u4EE5\u5B9E\u73B0\u4E0A\u8FF0\u6548\u679C\u7684\u6280\u672F\u3002</p><p>\u200B \u8981\u5B9E\u73B0\u5168\u6587\u641C\u7D22\u7684\u6548\u679C\uFF0C\u4E0D\u53EF\u80FD\u4F7F\u7528\u6570\u636E\u5E93\u4E2Dlike\u64CD\u4F5C\u53BB\u8FDB\u884C\u6BD4\u5BF9\uFF0C\u8FD9\u79CD\u6548\u7387\u592A\u4F4E\u4E86\u3002ES\u8BBE\u8BA1\u4E86\u4E00\u79CD\u5168\u65B0\u7684\u601D\u60F3\uFF0C\u6765\u5B9E\u73B0\u5168\u6587\u641C\u7D22\u3002\u5177\u4F53\u64CD\u4F5C\u8FC7\u7A0B\u5982\u4E0B\uFF1A</p><ol><li><p>\u5C06\u88AB\u67E5\u8BE2\u7684\u5B57\u6BB5\u7684\u6570\u636E\u5168\u90E8\u6587\u672C\u4FE1\u606F\u8FDB\u884C\u67E5\u5206\uFF0C\u5206\u6210\u82E5\u5E72\u4E2A\u8BCD</p><ul><li>\u4F8B\u5982\u201C\u4E2D\u534E\u4EBA\u6C11\u5171\u548C\u56FD\u201D\u5C31\u4F1A\u88AB\u62C6\u5206\u6210\u4E09\u4E2A\u8BCD\uFF0C\u5206\u522B\u662F\u201C\u4E2D\u534E\u201D\u3001\u201C\u4EBA\u6C11\u201D\u3001\u201C\u5171\u548C\u56FD\u201D\uFF0C\u6B64\u8FC7\u7A0B\u6709\u4E13\u4E1A\u672F\u8BED\u53EB\u505A\u5206\u8BCD\u3002\u5206\u8BCD\u7684\u7B56\u7565\u4E0D\u540C\uFF0C\u5206\u51FA\u7684\u6548\u679C\u4E0D\u4E00\u6837\uFF0C\u4E0D\u540C\u7684\u5206\u8BCD\u7B56\u7565\u79F0\u4E3A\u5206\u8BCD\u5668\u3002</li></ul></li><li><p>\u5C06\u5206\u8BCD\u5F97\u5230\u7684\u7ED3\u679C\u5B58\u50A8\u8D77\u6765\uFF0C\u5BF9\u5E94\u6BCF\u6761\u6570\u636E\u7684id</p><ul><li><p>\u4F8B\u5982id\u4E3A1\u7684\u6570\u636E\u4E2D\u540D\u79F0\u8FD9\u4E00\u9879\u7684\u503C\u662F\u201C\u4E2D\u534E\u4EBA\u6C11\u5171\u548C\u56FD\u201D\uFF0C\u90A3\u4E48\u5206\u8BCD\u7ED3\u675F\u540E\uFF0C\u5C31\u4F1A\u51FA\u73B0\u201C\u4E2D\u534E\u201D\u5BF9\u5E94id\u4E3A1\uFF0C\u201C\u4EBA\u6C11\u201D\u5BF9\u5E94id\u4E3A1\uFF0C\u201C\u5171\u548C\u56FD\u201D\u5BF9\u5E94id\u4E3A1</p></li><li><p>\u4F8B\u5982id\u4E3A2\u7684\u6570\u636E\u4E2D\u540D\u79F0\u8FD9\u4E00\u9879\u7684\u503C\u662F\u201C\u4EBA\u6C11\u4EE3\u8868\u5927\u4F1A\u201C\uFF0C\u90A3\u4E48\u5206\u8BCD\u7ED3\u675F\u540E\uFF0C\u5C31\u4F1A\u51FA\u73B0\u201C\u4EBA\u6C11\u201D\u5BF9\u5E94id\u4E3A2\uFF0C\u201C\u4EE3\u8868\u201D\u5BF9\u5E94id\u4E3A2\uFF0C\u201C\u5927\u4F1A\u201D\u5BF9\u5E94id\u4E3A2</p></li><li><p>\u6B64\u65F6\u5C31\u4F1A\u51FA\u73B0\u5982\u4E0B\u5BF9\u5E94\u7ED3\u679C\uFF0C\u6309\u7167\u4E0A\u8FF0\u5F62\u5F0F\u53EF\u4EE5\u5BF9\u6240\u6709\u6587\u6863\u8FDB\u884C\u5206\u8BCD\u3002\u9700\u8981\u6CE8\u610F\u5206\u8BCD\u7684\u8FC7\u7A0B\u4E0D\u662F\u4EC5\u5BF9\u4E00\u4E2A\u5B57\u6BB5\u8FDB\u884C\uFF0C\u800C\u662F\u5BF9\u6BCF\u4E00\u4E2A\u53C2\u4E0E\u67E5\u8BE2\u7684\u5B57\u6BB5\u90FD\u6267\u884C\uFF0C\u6700\u7EC8\u7ED3\u679C\u6C47\u603B\u5230\u4E00\u4E2A\u8868\u683C\u4E2D</p><table><thead><tr><th>\u5206\u8BCD\u7ED3\u679C\u5173\u952E\u5B57</th><th>\u5BF9\u5E94id</th></tr></thead><tbody><tr><td>\u4E2D\u534E</td><td>1</td></tr><tr><td>\u4EBA\u6C11</td><td>1,2</td></tr><tr><td>\u5171\u548C\u56FD</td><td>1</td></tr><tr><td>\u4EE3\u8868</td><td>2</td></tr><tr><td>\u5927\u4F1A</td><td>2</td></tr></tbody></table></li></ul></li><li><p>\u5F53\u8FDB\u884C\u67E5\u8BE2\u65F6\uFF0C\u5982\u679C\u8F93\u5165\u201C\u4EBA\u6C11\u201D\u4F5C\u4E3A\u67E5\u8BE2\u6761\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4E0A\u8FF0\u8868\u683C\u6570\u636E\u8FDB\u884C\u6BD4\u5BF9\uFF0C\u5F97\u5230id\u503C1,2\uFF0C\u7136\u540E\u6839\u636Eid\u503C\u5C31\u53EF\u4EE5\u5F97\u5230\u67E5\u8BE2\u7684\u7ED3\u679C\u6570\u636E\u4E86\u3002</p></li></ol><p>\u200B \u4E0A\u8FF0\u8FC7\u7A0B\u4E2D\u5206\u8BCD\u7ED3\u679C\u5173\u952E\u5B57\u5185\u5BB9\u6BCF\u4E00\u4E2A\u90FD\u4E0D\u76F8\u540C\uFF0C\u4F5C\u7528\u6709\u70B9\u7C7B\u4F3C\u4E8E\u6570\u636E\u5E93\u4E2D\u7684\u7D22\u5F15\uFF0C\u662F\u7528\u6765\u52A0\u901F\u6570\u636E\u67E5\u8BE2\u7684\u3002\u4F46\u662F\u6570\u636E\u5E93\u4E2D\u7684\u7D22\u5F15\u662F\u5BF9\u67D0\u4E00\u4E2A\u5B57\u6BB5\u8FDB\u884C\u6DFB\u52A0\u7D22\u5F15\uFF0C\u800C\u8FD9\u91CC\u7684\u5206\u8BCD\u7ED3\u679C\u5173\u952E\u5B57\u4E0D\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u5B57\u6BB5\u503C\uFF0C\u53EA\u662F\u4E00\u4E2A\u5B57\u6BB5\u4E2D\u7684\u5176\u4E2D\u7684\u4E00\u90E8\u5206\u5185\u5BB9\u3002\u5E76\u4E14\u7D22\u5F15\u4F7F\u7528\u65F6\u662F\u6839\u636E\u7D22\u5F15\u5185\u5BB9\u67E5\u627E\u6574\u6761\u6570\u636E\uFF0C\u5168\u6587\u641C\u7D22\u4E2D\u7684\u5206\u8BCD\u7ED3\u679C\u5173\u952E\u5B57\u67E5\u8BE2\u540E\u5F97\u5230\u7684\u5E76\u4E0D\u662F\u6574\u6761\u7684\u6570\u636E\uFF0C\u800C\u662F\u6570\u636E\u7684id\uFF0C\u8981\u60F3\u83B7\u5F97\u5177\u4F53\u6570\u636E\u8FD8\u8981\u518D\u6B21\u67E5\u8BE2\uFF0C\u56E0\u6B64\u8FD9\u91CC\u4E3A\u8FD9\u79CD\u5206\u8BCD\u7ED3\u679C\u5173\u952E\u5B57\u8D77\u4E86\u4E00\u4E2A\u5168\u65B0\u7684\u540D\u79F0\uFF0C\u53EB\u505A<strong>\u5012\u6392\u7D22\u5F15</strong>\u3002</p><p>\u200B \u901A\u8FC7\u4E0A\u8FF0\u5185\u5BB9\u7684\u5B66\u4E60\uFF0C\u53D1\u73B0\u4F7F\u7528ES\u5176\u5B9E\u51C6\u5907\u5DE5\u4F5C\u8FD8\u662F\u633A\u591A\u7684\uFF0C\u5FC5\u987B\u5148\u5EFA\u7ACB\u6587\u6863\u7684\u5012\u6392\u7D22\u5F15\uFF0C\u7136\u540E\u624D\u80FD\u7EE7\u7EED\u4F7F\u7528\u3002\u5FEB\u901F\u4E86\u89E3\u4E00\u4E0BES\u7684\u5DE5\u4F5C\u539F\u7406\uFF0C\u4E0B\u9762\u76F4\u63A5\u5F00\u59CB\u6211\u4EEC\u7684\u5B66\u4E60\uFF0C\u8001\u89C4\u77E9\uFF0C\u5148\u5B89\u88C5\uFF0C\u518D\u64CD\u4F5C\uFF0C\u6700\u540E\u8BF4\u6574\u5408\u3002</p><h5 id="\u5B89\u88C5-2" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-2" aria-hidden="true">#</a> \u5B89\u88C5</h5>`,460),xn=s("\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1A"),Mn={href:"https://www.elastic.co/cn/downloads/elasticsearch",target:"_blank",rel:"noopener noreferrer"},Cn=s("https://"),An={href:"https://www.elastic.co/cn/downloads/elasticsearch",target:"_blank",rel:"noopener noreferrer"},Tn=s("www.elastic.co/cn/downloads/elasticsearch"),_n=e('<p>\u200B \u4E0B\u8F7D\u7684\u5B89\u88C5\u5305\u662F\u89E3\u538B\u7F29\u5C31\u80FD\u4F7F\u7528\u7684zip\u6587\u4EF6\uFF0C\u89E3\u538B\u7F29\u5B8C\u6BD5\u540E\u4F1A\u5F97\u5230\u5982\u4E0B\u6587\u4EF6</p><p><img src="'+B+`" alt="image-20220225132756400"></p><ul><li>bin\u76EE\u5F55\uFF1A\u5305\u542B\u6240\u6709\u7684\u53EF\u6267\u884C\u547D\u4EE4</li><li>config\u76EE\u5F55\uFF1A\u5305\u542BES\u670D\u52A1\u5668\u4F7F\u7528\u7684\u914D\u7F6E\u6587\u4EF6</li><li>jdk\u76EE\u5F55\uFF1A\u6B64\u76EE\u5F55\u4E2D\u5305\u542B\u4E86\u4E00\u4E2A\u5B8C\u6574\u7684jdk\u5DE5\u5177\u5305\uFF0C\u7248\u672C17\uFF0C\u5F53ES\u5347\u7EA7\u65F6\uFF0C\u4F7F\u7528\u6700\u65B0\u7248\u672C\u7684jdk\u786E\u4FDD\u4E0D\u4F1A\u51FA\u73B0\u7248\u672C\u652F\u6301\u6027\u4E0D\u8DB3\u7684\u95EE\u9898</li><li>lib\u76EE\u5F55\uFF1A\u5305\u542BES\u8FD0\u884C\u7684\u4F9D\u8D56jar\u6587\u4EF6</li><li>logs\u76EE\u5F55\uFF1A\u5305\u542BES\u8FD0\u884C\u540E\u4EA7\u751F\u7684\u6240\u6709\u65E5\u5FD7\u6587\u4EF6</li><li>modules\u76EE\u5F55\uFF1A\u5305\u542BES\u8F6F\u4EF6\u4E2D\u6240\u6709\u7684\u529F\u80FD\u6A21\u5757\uFF0C\u4E5F\u662F\u4E00\u4E2A\u4E00\u4E2A\u7684jar\u5305\u3002\u548Cjar\u76EE\u5F55\u4E0D\u540C\uFF0Cjar\u76EE\u5F55\u662FES\u8FD0\u884C\u671F\u95F4\u4F9D\u8D56\u7684jar\u5305\uFF0Cmodules\u662FES\u8F6F\u4EF6\u81EA\u5DF1\u7684\u529F\u80FDjar\u5305</li><li>plugins\u76EE\u5F55\uFF1A\u5305\u542BES\u8F6F\u4EF6\u5B89\u88C5\u7684\u63D2\u4EF6\uFF0C\u9ED8\u8BA4\u4E3A\u7A7A</li></ul><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>elasticsearch.bat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u53CC\u51FBelasticsearch.bat\u6587\u4EF6\u5373\u53EF\u542F\u52A8ES\u670D\u52A1\u5668\uFF0C\u9ED8\u8BA4\u670D\u52A1\u7AEF\u53E39200\u3002\u901A\u8FC7\u6D4F\u89C8\u5668\u8BBF\u95EEhttp://localhost:9200\u770B\u5230\u5982\u4E0B\u4FE1\u606F\u89C6\u4E3AES\u670D\u52A1\u5668\u6B63\u5E38\u542F\u52A8</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>{
  &quot;name&quot; : &quot;CZBK-**********&quot;,
  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,
  &quot;cluster_uuid&quot; : &quot;j137DSswTPG8U4Yb-0T1Mg&quot;,
  &quot;version&quot; : {
    &quot;number&quot; : &quot;7.16.2&quot;,
    &quot;build_flavor&quot; : &quot;default&quot;,
    &quot;build_type&quot; : &quot;zip&quot;,
    &quot;build_hash&quot; : &quot;2b937c44140b6559905130a8650c64dbd0879cfb&quot;,
    &quot;build_date&quot; : &quot;2021-12-18T19:42:46.604893745Z&quot;,
    &quot;build_snapshot&quot; : false,
    &quot;lucene_version&quot; : &quot;8.10.1&quot;,
    &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,
    &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;
  },
  &quot;tagline&quot; : &quot;You Know, for Search&quot;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u57FA\u672C\u64CD\u4F5C-2" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u64CD\u4F5C-2" aria-hidden="true">#</a> \u57FA\u672C\u64CD\u4F5C</h5><p>\u200B ES\u4E2D\u4FDD\u5B58\u6709\u6211\u4EEC\u8981\u67E5\u8BE2\u7684\u6570\u636E\uFF0C\u53EA\u4E0D\u8FC7\u683C\u5F0F\u548C\u6570\u636E\u5E93\u5B58\u50A8\u6570\u636E\u683C\u5F0F\u4E0D\u540C\u800C\u5DF2\u3002\u5728ES\u4E2D\u6211\u4EEC\u8981\u5148\u521B\u5EFA\u5012\u6392\u7D22\u5F15\uFF0C\u8FD9\u4E2A\u7D22\u5F15\u7684\u529F\u80FD\u53C8\u70B9\u7C7B\u4F3C\u4E8E\u6570\u636E\u5E93\u7684\u8868\uFF0C\u7136\u540E\u5C06\u6570\u636E\u6DFB\u52A0\u5230\u5012\u6392\u7D22\u5F15\u4E2D\uFF0C\u6DFB\u52A0\u7684\u6570\u636E\u79F0\u4E3A\u6587\u6863\u3002\u6240\u4EE5\u8981\u8FDB\u884CES\u7684\u64CD\u4F5C\u8981\u5148\u521B\u5EFA\u7D22\u5F15\uFF0C\u518D\u6DFB\u52A0\u6587\u6863\uFF0C\u8FD9\u6837\u624D\u80FD\u8FDB\u884C\u540E\u7EED\u7684\u67E5\u8BE2\u64CD\u4F5C\u3002</p><p>\u200B \u8981\u64CD\u4F5CES\u53EF\u4EE5\u901A\u8FC7Rest\u98CE\u683C\u7684\u8BF7\u6C42\u6765\u8FDB\u884C\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53D1\u9001\u4E00\u4E2A\u8BF7\u6C42\u5C31\u53EF\u4EE5\u6267\u884C\u4E00\u4E2A\u64CD\u4F5C\u3002\u6BD4\u5982\u65B0\u5EFA\u7D22\u5F15\uFF0C\u5220\u9664\u7D22\u5F15\u8FD9\u4E9B\u64CD\u4F5C\u90FD\u53EF\u4EE5\u4F7F\u7528\u53D1\u9001\u8BF7\u6C42\u7684\u5F62\u5F0F\u6765\u8FDB\u884C\u3002</p><ul><li><p>\u521B\u5EFA\u7D22\u5F15\uFF0Cbooks\u662F\u7D22\u5F15\u540D\u79F0\uFF0C\u4E0B\u540C</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>PUT\u8BF7\u6C42		http://localhost:9200/books
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53D1\u9001\u8BF7\u6C42\u540E\uFF0C\u770B\u5230\u5982\u4E0B\u4FE1\u606F\u5373\u7D22\u5F15\u521B\u5EFA\u6210\u529F</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;acknowledged&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;shards_acknowledged&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;books&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91CD\u590D\u521B\u5EFA\u5DF2\u7ECF\u5B58\u5728\u7684\u7D22\u5F15\u4F1A\u51FA\u73B0\u9519\u8BEF\u4FE1\u606F\uFF0Creason\u5C5E\u6027\u4E2D\u63CF\u8FF0\u9519\u8BEF\u539F\u56E0</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;root_cause&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;resource_already_exists_exception&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index [books/VgC_XMVAQmedaiBNSgO2-w] already exists&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;index_uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VgC_XMVAQmedaiBNSgO2-w&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;books&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;resource_already_exists_exception&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index [books/VgC_XMVAQmedaiBNSgO2-w] already exists&quot;</span><span class="token punctuation">,</span>	# books\u7D22\u5F15\u5DF2\u7ECF\u5B58\u5728
        <span class="token property">&quot;index_uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VgC_XMVAQmedaiBNSgO2-w&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;book&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">400</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u67E5\u8BE2\u7D22\u5F15</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>GET\u8BF7\u6C42		http://localhost:9200/books
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u8BE2\u7D22\u5F15\u5F97\u5230\u7D22\u5F15\u76F8\u5173\u4FE1\u606F\uFF0C\u5982\u4E0B</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;book&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;aliases&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;routing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;allocation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token property">&quot;_tier_preference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data_content&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;number_of_shards&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;provided_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;books&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;creation_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1645768584849&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;number_of_replicas&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VgC_XMVAQmedaiBNSgO2-w&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7160299&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u67E5\u8BE2\u4E86\u4E0D\u5B58\u5728\u7684\u7D22\u5F15\uFF0C\u4F1A\u8FD4\u56DE\u9519\u8BEF\u4FE1\u606F\uFF0C\u4F8B\u5982\u67E5\u8BE2\u540D\u79F0\u4E3Abook\u7684\u7D22\u5F15\u540E\u4FE1\u606F\u5982\u4E0B</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;root_cause&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index_not_found_exception&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;no such index [book]&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;resource.type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index_or_alias&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;resource.id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;book&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;index_uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;_na_&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;book&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index_not_found_exception&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;no such index [book]&quot;</span><span class="token punctuation">,</span>		# \u6CA1\u6709book\u7D22\u5F15
        <span class="token property">&quot;resource.type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index_or_alias&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;resource.id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;book&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;_na_&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;book&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">404</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5220\u9664\u7D22\u5F15</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>DELETE\u8BF7\u6C42	http://localhost:9200/books
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5220\u9664\u6240\u6709\u540E\uFF0C\u7ED9\u51FA\u5220\u9664\u7ED3\u679C</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;acknowledged&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u91CD\u590D\u5220\u9664\uFF0C\u4F1A\u7ED9\u51FA\u9519\u8BEF\u4FE1\u606F\uFF0C\u540C\u6837\u5728reason\u5C5E\u6027\u4E2D\u63CF\u8FF0\u5177\u4F53\u7684\u9519\u8BEF\u539F\u56E0</p><div class="language-JSON ext-JSON line-numbers-mode"><pre class="language-JSON"><code>{
    &quot;error&quot;: {
        &quot;root_cause&quot;: [
            {
                &quot;type&quot;: &quot;index_not_found_exception&quot;,
                &quot;reason&quot;: &quot;no such index [books]&quot;,
                &quot;resource.type&quot;: &quot;index_or_alias&quot;,
                &quot;resource.id&quot;: &quot;book&quot;,
                &quot;index_uuid&quot;: &quot;_na_&quot;,
                &quot;index&quot;: &quot;book&quot;
            }
        ],
        &quot;type&quot;: &quot;index_not_found_exception&quot;,
        &quot;reason&quot;: &quot;no such index [books]&quot;,		# \u6CA1\u6709books\u7D22\u5F15
        &quot;resource.type&quot;: &quot;index_or_alias&quot;,
        &quot;resource.id&quot;: &quot;book&quot;,
        &quot;index_uuid&quot;: &quot;_na_&quot;,
        &quot;index&quot;: &quot;book&quot;
    },
    &quot;status&quot;: 404
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u521B\u5EFA\u7D22\u5F15\u5E76\u6307\u5B9A\u5206\u8BCD\u5668</p><p>\u200B \u524D\u9762\u521B\u5EFA\u7684\u7D22\u5F15\u662F\u672A\u6307\u5B9A\u5206\u8BCD\u5668\u7684\uFF0C\u53EF\u4EE5\u5728\u521B\u5EFA\u7D22\u5F15\u65F6\u6DFB\u52A0\u8BF7\u6C42\u53C2\u6570\uFF0C\u8BBE\u7F6E\u5206\u8BCD\u5668\u3002\u76EE\u524D\u56FD\u5185\u8F83\u4E3A\u6D41\u884C\u7684\u5206\u8BCD\u5668\u662FIK\u5206\u8BCD\u5668\uFF0C\u4F7F\u7528\u524D\u5148\u5728\u4E0B\u5BF9\u5E94\u7684\u5206\u8BCD\u5668\uFF0C\u7136\u540E\u4F7F\u7528\u3002IK\u5206\u8BCD\u5668\u4E0B\u8F7D\u5730\u5740\uFF1Ahttps://github.com/medcl/elasticsearch-analysis-ik/releases</p><p>\u200B \u5206\u8BCD\u5668\u4E0B\u8F7D\u540E\u89E3\u538B\u5230ES\u5B89\u88C5\u76EE\u5F55\u7684plugins\u76EE\u5F55\u4E2D\u5373\u53EF\uFF0C\u5B89\u88C5\u5206\u8BCD\u5668\u540E\u9700\u8981\u91CD\u65B0\u542F\u52A8ES\u670D\u52A1\u5668\u3002\u4F7F\u7528IK\u5206\u8BCD\u5668\u521B\u5EFA\u7D22\u5F15\u683C\u5F0F\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>PUT\u8BF7\u6C42		http<span class="token operator">:</span><span class="token comment">//localhost:9200/books</span>

\u8BF7\u6C42\u53C2\u6570\u5982\u4E0B\uFF08\u6CE8\u610F\u662Fjson\u683C\u5F0F\u7684\u53C2\u6570\uFF09
<span class="token punctuation">{</span>
    <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>							#\u5B9A\u4E49mappings\u5C5E\u6027\uFF0C\u66FF\u6362\u521B\u5EFA\u7D22\u5F15\u65F6\u5BF9\u5E94\u7684mappings\u5C5E\u6027		
        <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>						#\u5B9A\u4E49\u7D22\u5F15\u4E2D\u5305\u542B\u7684\u5C5E\u6027\u8BBE\u7F6E
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>							#\u8BBE\u7F6E\u7D22\u5F15\u4E2D\u5305\u542Bid\u5C5E\u6027
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;keyword&quot;</span>			#\u5F53\u524D\u5C5E\u6027\u53EF\u4EE5\u88AB\u76F4\u63A5\u641C\u7D22
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>						#\u8BBE\u7F6E\u7D22\u5F15\u4E2D\u5305\u542Bname\u5C5E\u6027
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>              #\u5F53\u524D\u5C5E\u6027\u662F\u6587\u672C\u4FE1\u606F\uFF0C\u53C2\u4E0E\u5206\u8BCD  
                <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span><span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>   #\u4F7F\u7528IK\u5206\u8BCD\u5668\u8FDB\u884C\u5206\u8BCD             
                <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span><span class="token string">&quot;all&quot;</span>				#\u5206\u8BCD\u7ED3\u679C\u62F7\u8D1D\u5230all\u5C5E\u6027\u4E2D
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;keyword&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>	                
                <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span><span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>                
                <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span><span class="token string">&quot;all&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;all&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>							#\u5B9A\u4E49\u5C5E\u6027\uFF0C\u7528\u6765\u63CF\u8FF0\u591A\u4E2A\u5B57\u6BB5\u7684\u5206\u8BCD\u7ED3\u679C\u96C6\u5408\uFF0C\u5F53\u524D\u5C5E\u6027\u53EF\u4EE5\u53C2\u4E0E\u67E5\u8BE2
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>	                
                <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span><span class="token string">&quot;ik_max_word&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u521B\u5EFA\u5B8C\u6BD5\u540E\u8FD4\u56DE\u7ED3\u679C\u548C\u4E0D\u4F7F\u7528\u5206\u8BCD\u5668\u521B\u5EFA\u7D22\u5F15\u7684\u7ED3\u679C\u662F\u4E00\u6837\u7684\uFF0C\u6B64\u65F6\u53EF\u4EE5\u901A\u8FC7\u67E5\u770B\u7D22\u5F15\u4FE1\u606F\u89C2\u5BDF\u5230\u6DFB\u52A0\u7684\u8BF7\u6C42\u53C2\u6570mappings\u5DF2\u7ECF\u8FDB\u5165\u5230\u4E86\u7D22\u5F15\u5C5E\u6027\u4E2D</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;books&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;aliases&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>						#mappings\u5C5E\u6027\u5DF2\u7ECF\u88AB\u66FF\u6362
            <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;all&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token string">&quot;all&quot;</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;copy_to&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                        <span class="token string">&quot;all&quot;</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;routing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;allocation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token property">&quot;_tier_preference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data_content&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;number_of_shards&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;provided_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;books&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;creation_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1645769809521&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;number_of_replicas&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DohYKvr_SZO4KRGmbZYmTQ&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7160299&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>\u76EE\u524D\u6211\u4EEC\u5DF2\u7ECF\u6709\u4E86\u7D22\u5F15\u4E86\uFF0C\u4F46\u662F\u7D22\u5F15\u4E2D\u8FD8\u6CA1\u6709\u6570\u636E\uFF0C\u6240\u4EE5\u8981\u5148\u6DFB\u52A0\u6570\u636E\uFF0CES\u4E2D\u79F0\u6570\u636E\u4E3A\u6587\u6863\uFF0C\u4E0B\u9762\u8FDB\u884C\u6587\u6863\u64CD\u4F5C\u3002</p><ul><li><p>\u6DFB\u52A0\u6587\u6863\uFF0C\u6709\u4E09\u79CD\u65B9\u5F0F</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>POST\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_doc		#\u4F7F\u7528\u7CFB\u7EDF\u751F\u6210id</span>
POST\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_create/1	#\u4F7F\u7528\u6307\u5B9Aid</span>
POST\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_doc/1		#\u4F7F\u7528\u6307\u5B9Aid\uFF0C\u4E0D\u5B58\u5728\u521B\u5EFA\uFF0C\u5B58\u5728\u66F4\u65B0\uFF08\u7248\u672C\u9012\u589E\uFF09</span>

\u6587\u6863\u901A\u8FC7\u8BF7\u6C42\u53C2\u6570\u4F20\u9012\uFF0C\u6570\u636E\u683C\u5F0Fjson
<span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span>
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u67E5\u8BE2\u6587\u6863</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>GET\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_doc/1		 #\u67E5\u8BE2\u5355\u4E2A\u6587\u6863 		</span>
GET\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_search		 #\u67E5\u8BE2\u5168\u90E8\u6587\u6863</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u6761\u4EF6\u67E5\u8BE2</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>GET\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_search?q=name:springboot	# q=\u67E5\u8BE2\u5C5E\u6027\u540D:\u67E5\u8BE2\u5C5E\u6027\u503C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u5220\u9664\u6587\u6863</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>DELETE\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_doc/1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u4FEE\u6539\u6587\u6863\uFF08\u5168\u91CF\u66F4\u65B0\uFF09</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>PUT\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_doc/1</span>

\u6587\u6863\u901A\u8FC7\u8BF7\u6C42\u53C2\u6570\u4F20\u9012\uFF0C\u6570\u636E\u683C\u5F0Fjson
<span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u4FEE\u6539\u6587\u6863\uFF08\u90E8\u5206\u66F4\u65B0\uFF09</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>POST\u8BF7\u6C42	http<span class="token operator">:</span><span class="token comment">//localhost:9200/books/_update/1</span>

\u6587\u6863\u901A\u8FC7\u8BF7\u6C42\u53C2\u6570\u4F20\u9012\uFF0C\u6570\u636E\u683C\u5F0Fjson
<span class="token punctuation">{</span>			
    <span class="token property">&quot;doc&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>						#\u90E8\u5206\u66F4\u65B0\u5E76\u4E0D\u662F\u5BF9\u539F\u59CB\u6587\u6863\u8FDB\u884C\u66F4\u65B0\uFF0C\u800C\u662F\u5BF9\u539F\u59CB\u6587\u6863\u5BF9\u8C61\u4E2D\u7684doc\u5C5E\u6027\u4E2D\u7684\u6307\u5B9A\u5C5E\u6027\u66F4\u65B0
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;springboot&quot;</span>		#\u4EC5\u66F4\u65B0\u63D0\u4F9B\u7684\u5C5E\u6027\u503C\uFF0C\u672A\u63D0\u4F9B\u7684\u5C5E\u6027\u503C\u4E0D\u53C2\u4E0E\u66F4\u65B0\u64CD\u4F5C
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h5 id="\u6574\u5408-2" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-2" aria-hidden="true">#</a> \u6574\u5408</h5><p>\u200B \u4F7F\u7528springboot\u6574\u5408ES\u8BE5\u5982\u4F55\u8FDB\u884C\u5462\uFF1F\u8001\u89C4\u77E9\uFF0C\u5BFC\u5165\u5750\u6807\uFF0C\u505A\u914D\u7F6E\uFF0C\u4F7F\u7528API\u63A5\u53E3\u64CD\u4F5C\u3002\u6574\u5408Redis\u5982\u6B64\uFF0C\u6574\u5408MongoDB\u5982\u6B64\uFF0C\u6574\u5408ES\u4F9D\u7136\u5982\u6B64\u3002\u592A\u6CA1\u6709\u65B0\u610F\u4E86\uFF0C\u5176\u5B9E\u4E0D\u662F\u6CA1\u6709\u65B0\u610F\uFF0C\u8FD9\u5C31\u662Fspringboot\u7684\u5F3A\u5927\u4E4B\u5904\uFF0C\u6240\u6709\u4E1C\u897F\u90FD\u505A\u6210\u76F8\u540C\u89C4\u5219\uFF0C\u5BF9\u5F00\u53D1\u8005\u6765\u8BF4\u975E\u5E38\u53CB\u597D\u3002</p><p>\u200B \u4E0B\u9762\u5C31\u5F00\u59CBspringboot\u6574\u5408ES\uFF0C\u64CD\u4F5C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408ES\u7684starter\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-elasticsearch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u8FDB\u884C\u57FA\u7840\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span>
    <span class="token key atrule">rest</span><span class="token punctuation">:</span>
      <span class="token key atrule">uris</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9200</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u914D\u7F6EES\u670D\u52A1\u5668\u5730\u5740\uFF0C\u7AEF\u53E39200</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528springboot\u6574\u5408ES\u7684\u4E13\u7528\u5BA2\u6237\u7AEF\u63A5\u53E3ElasticsearchRestTemplate\u6765\u8FDB\u884C\u64CD\u4F5C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot18EsApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ElasticsearchRestTemplate</span> template<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u64CD\u4F5C\u5F62\u5F0F\u662FES\u65E9\u671F\u7684\u64CD\u4F5C\u65B9\u5F0F\uFF0C\u4F7F\u7528\u7684\u5BA2\u6237\u7AEF\u88AB\u79F0\u4E3ALow Level Client\uFF0C\u8FD9\u79CD\u5BA2\u6237\u7AEF\u64CD\u4F5C\u65B9\u5F0F\u6027\u80FD\u65B9\u9762\u7565\u663E\u4E0D\u8DB3\uFF0C\u4E8E\u662FES\u5F00\u53D1\u4E86\u5168\u65B0\u7684\u5BA2\u6237\u7AEF\u64CD\u4F5C\u65B9\u5F0F\uFF0C\u79F0\u4E3AHigh Level Client\u3002\u9AD8\u7EA7\u522B\u5BA2\u6237\u7AEF\u4E0EES\u7248\u672C\u540C\u6B65\u66F4\u65B0\uFF0C\u4F46\u662Fspringboot\u6700\u521D\u6574\u5408ES\u7684\u65F6\u5019\u4F7F\u7528\u7684\u662F\u4F4E\u7EA7\u522B\u5BA2\u6237\u7AEF\uFF0C\u6240\u4EE5\u4F01\u4E1A\u5F00\u53D1\u9700\u8981\u66F4\u6362\u6210\u9AD8\u7EA7\u522B\u7684\u5BA2\u6237\u7AEF\u6A21\u5F0F\u3002</p><p>\u200B \u4E0B\u9762\u4F7F\u7528\u9AD8\u7EA7\u522B\u5BA2\u6237\u7AEF\u65B9\u5F0F\u8FDB\u884Cspringboot\u6574\u5408ES\uFF0C\u64CD\u4F5C\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408ES\u9AD8\u7EA7\u522B\u5BA2\u6237\u7AEF\u7684\u5750\u6807\uFF0C\u6B64\u79CD\u5F62\u5F0F\u76EE\u524D\u6CA1\u6709\u5BF9\u5E94\u7684starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.elasticsearch.client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>elasticsearch-rest-high-level-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u4F7F\u7528\u7F16\u7A0B\u7684\u5F62\u5F0F\u8BBE\u7F6E\u8FDE\u63A5\u7684ES\u670D\u52A1\u5668\uFF0C\u5E76\u83B7\u53D6\u5BA2\u6237\u7AEF\u5BF9\u8C61</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot18EsApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">RestHighLevelClient</span> client<span class="token punctuation">;</span>
      <span class="token annotation punctuation">@Test</span>
      <span class="token keyword">void</span> <span class="token function">testCreateClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
          <span class="token class-name">HttpHost</span> host <span class="token operator">=</span> <span class="token class-name">HttpHost</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">RestClientBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>
          client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
          client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u914D\u7F6EES\u670D\u52A1\u5668\u5730\u5740\u4E0E\u7AEF\u53E39200\uFF0C\u8BB0\u5F97\u5BA2\u6237\u7AEF\u4F7F\u7528\u5B8C\u6BD5\u9700\u8981\u624B\u5DE5\u5173\u95ED\u3002\u7531\u4E8E\u5F53\u524D\u5BA2\u6237\u7AEF\u662F\u624B\u5DE5\u7EF4\u62A4\u7684\uFF0C\u56E0\u6B64\u4E0D\u80FD\u901A\u8FC7\u81EA\u52A8\u88C5\u914D\u7684\u5F62\u5F0F\u52A0\u8F7D\u5BF9\u8C61\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528\u5BA2\u6237\u7AEF\u5BF9\u8C61\u64CD\u4F5CES\uFF0C\u4F8B\u5982\u521B\u5EFA\u7D22\u5F15</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot18EsApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">RestHighLevelClient</span> client<span class="token punctuation">;</span>
      <span class="token annotation punctuation">@Test</span>
      <span class="token keyword">void</span> <span class="token function">testCreateIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
          <span class="token class-name">HttpHost</span> host <span class="token operator">=</span> <span class="token class-name">HttpHost</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">RestClientBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>
          client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
          
          <span class="token class-name">CreateIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
          
          client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u9AD8\u7EA7\u522B\u5BA2\u6237\u7AEF\u64CD\u4F5C\u662F\u901A\u8FC7\u53D1\u9001\u8BF7\u6C42\u7684\u65B9\u5F0F\u5B8C\u6210\u6240\u6709\u64CD\u4F5C\u7684\uFF0CES\u9488\u5BF9\u5404\u79CD\u4E0D\u540C\u7684\u64CD\u4F5C\uFF0C\u8BBE\u5B9A\u4E86\u5404\u5F0F\u5404\u6837\u7684\u8BF7\u6C42\u5BF9\u8C61\uFF0C\u4E0A\u4F8B\u4E2D\u521B\u5EFA\u7D22\u5F15\u7684\u5BF9\u8C61\u662FCreateIndexRequest\uFF0C\u5176\u4ED6\u64CD\u4F5C\u4E5F\u4F1A\u6709\u81EA\u5DF1\u4E13\u7528\u7684Request\u5BF9\u8C61\u3002</p><p>\u200B \u5F53\u524D\u64CD\u4F5C\u6211\u4EEC\u53D1\u73B0\uFF0C\u65E0\u8BBA\u8FDB\u884CES\u4F55\u79CD\u64CD\u4F5C\uFF0C\u7B2C\u4E00\u6B65\u6C38\u8FDC\u662F\u83B7\u53D6RestHighLevelClient\u5BF9\u8C61\uFF0C\u6700\u540E\u4E00\u6B65\u6C38\u8FDC\u662F\u5173\u95ED\u8BE5\u5BF9\u8C61\u7684\u8FDE\u63A5\u3002\u5728\u6D4B\u8BD5\u4E2D\u53EF\u4EE5\u4F7F\u7528\u6D4B\u8BD5\u7C7B\u7684\u7279\u6027\u53BB\u5E2E\u52A9\u5F00\u53D1\u8005\u4E00\u6B21\u6027\u7684\u5B8C\u6210\u4E0A\u8FF0\u64CD\u4F5C\uFF0C\u4F46\u662F\u5728\u4E1A\u52A1\u4E66\u5199\u65F6\uFF0C\u8FD8\u9700\u8981\u81EA\u884C\u7BA1\u7406\u3002\u5C06\u4E0A\u8FF0\u4EE3\u7801\u683C\u5F0F\u8F6C\u6362\u6210\u4F7F\u7528\u6D4B\u8BD5\u7C7B\u7684\u521D\u59CB\u5316\u65B9\u6CD5\u548C\u9500\u6BC1\u65B9\u6CD5\u8FDB\u884C\u5BA2\u6237\u7AEF\u5BF9\u8C61\u7684\u7EF4\u62A4\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot18EsApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@BeforeEach</span>		<span class="token comment">//\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u6BCF\u4E2A\u64CD\u4F5C\u8FD0\u884C\u524D\u8FD0\u884C\u7684\u65B9\u6CD5</span>
    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpHost</span> host <span class="token operator">=</span> <span class="token class-name">HttpHost</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:9200&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RestClientBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@AfterEach</span>		<span class="token comment">//\u5728\u6D4B\u8BD5\u7C7B\u4E2D\u6BCF\u4E2A\u64CD\u4F5C\u8FD0\u884C\u540E\u8FD0\u884C\u7684\u65B9\u6CD5</span>
    <span class="token keyword">void</span> <span class="token function">tearDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">RestHighLevelClient</span> client<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testCreateIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">CreateIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u73B0\u5728\u7684\u4E66\u5199\u7B80\u5316\u4E86\u5F88\u591A\uFF0C\u4E5F\u66F4\u5408\u7406\u3002\u4E0B\u9762\u4F7F\u7528\u4E0A\u8FF0\u6A21\u5F0F\u5C06\u6240\u6709\u7684ES\u64CD\u4F5C\u6267\u884C\u4E00\u904D\uFF0C\u6D4B\u8BD5\u7ED3\u679C</p><p><strong>\u521B\u5EFA\u7D22\u5F15\uFF08IK\u5206\u8BCD\u5668\uFF09</strong>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testCreateIndexByIK</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">CreateIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token string">&quot;{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;    \\&quot;mappings\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;        \\&quot;properties\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            \\&quot;id\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;type\\&quot;:\\&quot;keyword\\&quot;\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            },\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            \\&quot;name\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;type\\&quot;:\\&quot;text\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;analyzer\\&quot;:\\&quot;ik_max_word\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;copy_to\\&quot;:\\&quot;all\\&quot;\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            },\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            \\&quot;type\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;type\\&quot;:\\&quot;keyword\\&quot;\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            },\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            \\&quot;description\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;type\\&quot;:\\&quot;text\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;analyzer\\&quot;:\\&quot;ik_max_word\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;copy_to\\&quot;:\\&quot;all\\&quot;\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            },\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            \\&quot;all\\&quot;:{\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;type\\&quot;:\\&quot;text\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;                \\&quot;analyzer\\&quot;:\\&quot;ik_max_word\\&quot;\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;            }\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;        }\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;    }\\n&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;}&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BBE\u7F6E\u8BF7\u6C42\u4E2D\u7684\u53C2\u6570</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B IK\u5206\u8BCD\u5668\u662F\u901A\u8FC7\u8BF7\u6C42\u53C2\u6570\u7684\u5F62\u5F0F\u8FDB\u884C\u8BBE\u7F6E\u7684\uFF0C\u8BBE\u7F6E\u8BF7\u6C42\u53C2\u6570\u4F7F\u7528request\u5BF9\u8C61\u4E2D\u7684source\u65B9\u6CD5\u8FDB\u884C\u8BBE\u7F6E\uFF0C\u81F3\u4E8E\u53C2\u6570\u662F\u4EC0\u4E48\uFF0C\u53D6\u51B3\u4E8E\u4F60\u7684\u64CD\u4F5C\u79CD\u7C7B\u3002\u5F53\u8BF7\u6C42\u4E2D\u9700\u8981\u53C2\u6570\u65F6\uFF0C\u5747\u53EF\u4F7F\u7528\u5F53\u524D\u5F62\u5F0F\u8FDB\u884C\u53C2\u6570\u8BBE\u7F6E\u3002</p><p><strong>\u6DFB\u52A0\u6587\u6863</strong>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token comment">//\u6DFB\u52A0\u6587\u6863</span>
<span class="token keyword">void</span> <span class="token function">testCreateDoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Book</span> book <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">IndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span><span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span><span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6DFB\u52A0\u6587\u6863\u4F7F\u7528\u7684\u8BF7\u6C42\u5BF9\u8C61\u662FIndexRequest\uFF0C\u4E0E\u521B\u5EFA\u7D22\u5F15\u4F7F\u7528\u7684\u8BF7\u6C42\u5BF9\u8C61\u4E0D\u540C\u3002</p><p><strong>\u6279\u91CF\u6DFB\u52A0\u6587\u6863</strong>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token comment">//\u6279\u91CF\u6DFB\u52A0\u6587\u6863</span>
<span class="token keyword">void</span> <span class="token function">testCreateDocAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> bookList <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BulkRequest</span> bulk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BulkRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Book</span> book <span class="token operator">:</span> bookList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">IndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span><span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bulk<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    client<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span>bulk<span class="token punctuation">,</span><span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6279\u91CF\u505A\u65F6\uFF0C\u5148\u521B\u5EFA\u4E00\u4E2ABulkRequest\u7684\u5BF9\u8C61\uFF0C\u53EF\u4EE5\u5C06\u8BE5\u5BF9\u8C61\u7406\u89E3\u4E3A\u662F\u4E00\u4E2A\u4FDD\u5B58request\u5BF9\u8C61\u7684\u5BB9\u5668\uFF0C\u5C06\u6240\u6709\u7684\u8BF7\u6C42\u90FD\u521D\u59CB\u5316\u597D\u540E\uFF0C\u6DFB\u52A0\u5230BulkRequest\u5BF9\u8C61\u4E2D\uFF0C\u518D\u4F7F\u7528BulkRequest\u5BF9\u8C61\u7684bulk\u65B9\u6CD5\uFF0C\u4E00\u6B21\u6027\u6267\u884C\u5B8C\u6BD5\u3002</p><p><strong>\u6309id\u67E5\u8BE2\u6587\u6863</strong>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token comment">//\u6309id\u67E5\u8BE2</span>
<span class="token keyword">void</span> <span class="token function">testGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">GetRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">GetResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> json <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6839\u636Eid\u67E5\u8BE2\u6587\u6863\u4F7F\u7528\u7684\u8BF7\u6C42\u5BF9\u8C61\u662FGetRequest\u3002</p><p><strong>\u6309\u6761\u4EF6\u67E5\u8BE2\u6587\u6863</strong>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token comment">//\u6309\u6761\u4EF6\u67E5\u8BE2</span>
<span class="token keyword">void</span> <span class="token function">testSearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token string">&quot;books&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">SearchSourceBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    builder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">termQuery</span><span class="token punctuation">(</span><span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;spring&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> source <span class="token operator">=</span> hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//System.out.println(source);</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6309\u6761\u4EF6\u67E5\u8BE2\u6587\u6863\u4F7F\u7528\u7684\u8BF7\u6C42\u5BF9\u8C61\u662FSearchRequest\uFF0C\u67E5\u8BE2\u65F6\u8C03\u7528SearchRequest\u5BF9\u8C61\u7684termQuery\u65B9\u6CD5\uFF0C\u9700\u8981\u7ED9\u51FA\u67E5\u8BE2\u5C5E\u6027\u540D\uFF0C\u6B64\u5904\u652F\u6301\u4F7F\u7528\u5408\u5E76\u5B57\u6BB5\uFF0C\u4E5F\u5C31\u662F\u524D\u9762\u5B9A\u4E49\u7D22\u5F15\u5C5E\u6027\u65F6\u6DFB\u52A0\u7684all\u5C5E\u6027\u3002</p><p>\u200B springboot\u6574\u5408ES\u7684\u64CD\u4F5C\u5230\u8FD9\u91CC\u5C31\u8BF4\u5B8C\u4E86\uFF0C\u4E0E\u524D\u671F\u8FDB\u884Cspringboot\u6574\u5408redis\u548Cmongodb\u7684\u5DEE\u522B\u8FD8\u662F\u86EE\u5927\u7684\uFF0C\u4E3B\u8981\u539F\u59CB\u5C31\u662F\u6211\u4EEC\u6CA1\u6709\u4F7F\u7528springboot\u6574\u5408ES\u7684\u5BA2\u6237\u7AEF\u5BF9\u8C61\u3002\u81F3\u4E8E\u64CD\u4F5C\uFF0C\u7531\u4E8EES\u64CD\u4F5C\u79CD\u7C7B\u8FC7\u591A\uFF0C\u6240\u4EE5\u663E\u5F97\u64CD\u4F5C\u7565\u5FAE\u6709\u70B9\u590D\u6742\u3002\u6709\u5173springboot\u6574\u5408ES\u5C31\u5148\u5B66\u4E60\u5230\u8FD9\u91CC\u5427\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408ES\u6B65\u9AA4 <ol><li>\u5BFC\u5165springboot\u6574\u5408ES\u7684High Level Client\u5750\u6807</li><li>\u624B\u5DE5\u7BA1\u7406\u5BA2\u6237\u7AEF\u5BF9\u8C61\uFF0C\u5305\u62EC\u521D\u59CB\u5316\u548C\u5173\u95ED\u64CD\u4F5C</li><li>\u4F7F\u7528High Level Client\u6839\u636E\u64CD\u4F5C\u7684\u79CD\u7C7B\u4E0D\u540C\uFF0C\u9009\u62E9\u4E0D\u540C\u7684Request\u5BF9\u8C61\u5B8C\u6210\u5BF9\u5E94\u64CD\u4F5C</li></ol></li></ol><h2 id="_5-\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#_5-\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F" aria-hidden="true">#</a> 5.\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F</h2><p>\u200B \u901A\u8FC7\u7B2C\u56DB\u7AE0\u7684\u5B66\u4E60\uFF0C\u6211\u4EEC\u9886\u7565\u5230\u4E86springboot\u5728\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u65F6\u5F3A\u5927\u7684\u4E00\u81F4\u6027\uFF0C\u5728\u7B2C\u4E94\u7AE0\u4E2D\u6211\u4EEC\u8981\u4F7F\u7528springboot\u7EE7\u7EED\u6574\u5408\u5404\u79CD\u5404\u6837\u7684\u7B2C\u4E09\u65B9\u6280\u672F\uFF0C\u901A\u8FC7\u672C\u7AE0\u7684\u5B66\u4E60\uFF0C\u53EF\u4EE5\u5C06\u4E4B\u524D\u5B66\u4E60\u7684springboot\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u7684\u601D\u60F3\u8D2F\u5F7B\u5230\u5E95\uFF0C\u8FD8\u662F\u90A3\u4E09\u677F\u65A7\u3002\u5BFC\u5750\u6807\u3001\u505A\u914D\u7F6E\u3001\u8C03API\u3002</p><p>\u200B springboot\u80FD\u591F\u6574\u5408\u7684\u6280\u672F\u5B9E\u5728\u662F\u592A\u591A\u4E86\uFF0C\u53EF\u4EE5\u8BF4\u662F\u4E07\u7269\u7686\u53EF\u6574\u3002\u672C\u7AE0\u5C06\u4ECE\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\u5E38\u7528\u7684\u4E00\u4E9B\u6280\u672F\u4F5C\u4E3A\u51FA\u53D1\u70B9\uFF0C\u5BF9\u5404\u79CD\u5404\u6837\u7684\u6280\u672F\u8FDB\u884C\u6574\u5408\u3002</p><h3 id="_5-1-\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#_5-1-\u7F13\u5B58" aria-hidden="true">#</a> 5-1.\u7F13\u5B58</h3><p>\u200B \u4F01\u4E1A\u7EA7\u5E94\u7528\u4E3B\u8981\u4F5C\u7528\u662F\u4FE1\u606F\u5904\u7406\uFF0C\u5F53\u9700\u8981\u8BFB\u53D6\u6570\u636E\u65F6\uFF0C\u7531\u4E8E\u53D7\u9650\u4E8E\u6570\u636E\u5E93\u7684\u8BBF\u95EE\u6548\u7387\uFF0C\u5BFC\u81F4\u6574\u4F53\u7CFB\u7EDF\u6027\u80FD\u504F\u4F4E\u3002</p><img src="`+I+'" alt="image-20220226154148303" style="zoom:67%;"><p>\u200B \u5E94\u7528\u7A0B\u5E8F\u76F4\u63A5\u4E0E\u6570\u636E\u5E93\u6253\u4EA4\u9053\uFF0C\u8BBF\u95EE\u6548\u7387\u4F4E</p><p>\u200B \u4E3A\u4E86\u6539\u5584\u4E0A\u8FF0\u73B0\u8C61\uFF0C\u5F00\u53D1\u8005\u901A\u5E38\u4F1A\u5728\u5E94\u7528\u7A0B\u5E8F\u4E0E\u6570\u636E\u5E93\u4E4B\u95F4\u5EFA\u7ACB\u4E00\u79CD\u4E34\u65F6\u7684\u6570\u636E\u5B58\u50A8\u673A\u5236\uFF0C\u8BE5\u533A\u57DF\u4E2D\u7684\u6570\u636E\u5728\u5185\u5B58\u4E2D\u4FDD\u5B58\uFF0C\u8BFB\u5199\u901F\u5EA6\u8F83\u5FEB\uFF0C\u53EF\u4EE5\u6709\u6548\u89E3\u51B3\u6570\u636E\u5E93\u8BBF\u95EE\u6548\u7387\u4F4E\u4E0B\u7684\u95EE\u9898\u3002\u8FD9\u4E00\u5757\u4E34\u65F6\u5B58\u50A8\u6570\u636E\u7684\u533A\u57DF\u5C31\u662F\u7F13\u5B58\u3002</p><img src="'+D+`" alt="image-20220226154233010" style="zoom:67%;"><p><strong>\u4F7F\u7528\u7F13\u5B58\u540E\uFF0C\u5E94\u7528\u7A0B\u5E8F\u4E0E\u7F13\u5B58\u6253\u4EA4\u9053\uFF0C\u7F13\u5B58\u4E0E\u6570\u636E\u5E93\u6253\u4EA4\u9053\uFF0C\u6570\u636E\u8BBF\u95EE\u6548\u7387\u63D0\u9AD8</strong></p><p>\u200B \u7F13\u5B58\u662F\u4EC0\u4E48\uFF1F\u7F13\u5B58\u662F\u4E00\u79CD\u4ECB\u4E8E\u6570\u636E\u6C38\u4E45\u5B58\u50A8\u4ECB\u8D28\u4E0E\u5E94\u7528\u7A0B\u5E8F\u4E4B\u95F4\u7684\u6570\u636E\u4E34\u65F6\u5B58\u50A8\u4ECB\u8D28\uFF0C\u4F7F\u7528\u7F13\u5B58\u53EF\u4EE5\u6709\u6548\u7684\u51CF\u5C11\u4F4E\u901F\u6570\u636E\u8BFB\u53D6\u8FC7\u7A0B\u7684\u6B21\u6570\uFF08\u4F8B\u5982\u78C1\u76D8IO\uFF09\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u6027\u80FD\u3002\u6B64\u5916\u7F13\u5B58\u4E0D\u4EC5\u53EF\u4EE5\u7528\u4E8E\u63D0\u9AD8\u6C38\u4E45\u6027\u5B58\u50A8\u4ECB\u8D28\u7684\u6570\u636E\u8BFB\u53D6\u6548\u7387\uFF0C\u8FD8\u53EF\u4EE5\u63D0\u4F9B\u4E34\u65F6\u7684\u6570\u636E\u5B58\u50A8\u7A7A\u95F4\u3002\u800Cspringboot\u63D0\u4F9B\u4E86\u5BF9\u5E02\u9762\u4E0A\u51E0\u4E4E\u6240\u6709\u7684\u7F13\u5B58\u6280\u672F\u8FDB\u884C\u6574\u5408\u7684\u65B9\u6848\uFF0C\u4E0B\u9762\u5C31\u4E00\u8D77\u5F00\u542Fspringboot\u6574\u5408\u7F13\u5B58\u4E4B\u65C5\u3002</p><h4 id="springboot\u5185\u7F6E\u7F13\u5B58\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#springboot\u5185\u7F6E\u7F13\u5B58\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> SpringBoot\u5185\u7F6E\u7F13\u5B58\u89E3\u51B3\u65B9\u6848</h4><p>\u200B springboot\u6280\u672F\u63D0\u4F9B\u6709\u5185\u7F6E\u7684\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u5F00\u53D1\u8005\u5FEB\u901F\u5F00\u542F\u7F13\u5B58\u6280\u672F\uFF0C\u5E76\u4F7F\u7528\u7F13\u5B58\u6280\u672F\u8FDB\u884C\u6570\u636E\u7684\u5FEB\u901F\u64CD\u4F5C\uFF0C\u4F8B\u5982\u8BFB\u53D6\u7F13\u5B58\u6570\u636E\u548C\u5199\u5165\u6570\u636E\u5230\u7F13\u5B58\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u63D0\u4F9B\u7684\u7F13\u5B58\u6280\u672F\u5BF9\u5E94\u7684starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u542F\u7528\u7F13\u5B58\uFF0C\u5728\u5F15\u5BFC\u7C7B\u4E0A\u65B9\u6807\u6CE8\u6CE8\u89E3@EnableCaching\u914D\u7F6Espringboot\u7A0B\u5E8F\u4E2D\u53EF\u4EE5\u4F7F\u7528\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//\u5F00\u542F\u7F13\u5B58\u529F\u80FD</span>
<span class="token annotation punctuation">@EnableCaching</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot19CacheApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot19CacheApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u8BBE\u7F6E\u64CD\u4F5C\u7684\u6570\u636E\u662F\u5426\u4F7F\u7528\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;cacheSpace&quot;</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token string">&quot;#id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bookDao<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5728\u4E1A\u52A1\u65B9\u6CD5\u4E0A\u9762\u4F7F\u7528\u6CE8\u89E3@Cacheable\u58F0\u660E\u5F53\u524D\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u653E\u5165\u7F13\u5B58\u4E2D\uFF0C\u5176\u4E2D\u8981\u6307\u5B9A\u7F13\u5B58\u7684\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u4EE5\u53CA\u7F13\u5B58\u4E2D\u4FDD\u5B58\u5F53\u524D\u65B9\u6CD5\u8FD4\u56DE\u503C\u5BF9\u5E94\u7684\u540D\u79F0\u3002\u4E0A\u4F8B\u4E2Dvalue\u5C5E\u6027\u63CF\u8FF0\u7F13\u5B58\u7684\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A\u662F\u4E00\u4E2A\u5B58\u50A8\u7A7A\u95F4\u540D\uFF0Ckey\u5C5E\u6027\u63CF\u8FF0\u4E86\u7F13\u5B58\u4E2D\u4FDD\u5B58\u6570\u636E\u7684\u540D\u79F0\uFF0C\u4F7F\u7528#id\u8BFB\u53D6\u5F62\u53C2\u4E2D\u7684id\u503C\u4F5C\u4E3A\u7F13\u5B58\u540D\u79F0\u3002</p><p>\u200B \u4F7F\u7528@Cacheable\u6CE8\u89E3\u540E\uFF0C\u6267\u884C\u5F53\u524D\u64CD\u4F5C\uFF0C\u5982\u679C\u53D1\u73B0\u5BF9\u5E94\u540D\u79F0\u5728\u7F13\u5B58\u4E2D\u6CA1\u6709\u6570\u636E\uFF0C\u5C31\u6B63\u5E38\u8BFB\u53D6\u6570\u636E\uFF0C\u7136\u540E\u653E\u5165\u7F13\u5B58\uFF1B\u5982\u679C\u5BF9\u5E94\u540D\u79F0\u5728\u7F13\u5B58\u4E2D\u6709\u6570\u636E\uFF0C\u5C31\u7EC8\u6B62\u5F53\u524D\u4E1A\u52A1\u65B9\u6CD5\u6267\u884C\uFF0C\u76F4\u63A5\u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684\u6570\u636E\u3002</p><h4 id="\u624B\u673A\u9A8C\u8BC1\u7801\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u624B\u673A\u9A8C\u8BC1\u7801\u6848\u4F8B" aria-hidden="true">#</a> \u624B\u673A\u9A8C\u8BC1\u7801\u6848\u4F8B</h4><p>\u200B \u4E3A\u4E86\u4FBF\u4E8E\u4E0B\u9762\u6F14\u793A\u5404\u79CD\u5404\u6837\u7684\u7F13\u5B58\u6280\u672F\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A\u624B\u673A\u9A8C\u8BC1\u7801\u7684\u6848\u4F8B\u73AF\u5883\uFF0C\u6A21\u62DF\u4F7F\u7528\u7F13\u5B58\u4FDD\u5B58\u624B\u673A\u9A8C\u8BC1\u7801\u7684\u8FC7\u7A0B\u3002</p><p>\u200B \u624B\u673A\u9A8C\u8BC1\u7801\u6848\u4F8B\u9700\u6C42\u5982\u4E0B\uFF1A</p><ul><li>\u8F93\u5165\u624B\u673A\u53F7\u83B7\u53D6\u9A8C\u8BC1\u7801\uFF0C\u7EC4\u7EC7\u6587\u6863\u4EE5\u77ED\u4FE1\u5F62\u5F0F\u53D1\u9001\u7ED9\u7528\u6237\uFF08\u9875\u9762\u6A21\u62DF\uFF09</li><li>\u8F93\u5165\u624B\u673A\u53F7\u548C\u9A8C\u8BC1\u7801\u9A8C\u8BC1\u7ED3\u679C</li></ul><p>\u200B \u4E3A\u4E86\u63CF\u8FF0\u4E0A\u8FF0\u64CD\u4F5C\uFF0C\u6211\u4EEC\u5236\u4F5C\u4E24\u4E2A\u8868\u73B0\u5C42\u63A5\u53E3\uFF0C\u4E00\u4E2A\u7528\u6765\u6A21\u62DF\u53D1\u9001\u77ED\u4FE1\u7684\u8FC7\u7A0B\uFF0C\u5176\u5B9E\u5C31\u662F\u6839\u636E\u7528\u6237\u63D0\u4F9B\u7684\u624B\u673A\u53F7\u751F\u6210\u4E00\u4E2A\u9A8C\u8BC1\u7801\uFF0C\u7136\u540E\u653E\u5165\u7F13\u5B58\uFF0C\u53E6\u4E00\u4E2A\u7528\u6765\u6A21\u62DF\u9A8C\u8BC1\u7801\u6821\u9A8C\u7684\u8FC7\u7A0B\uFF0C\u5176\u5B9E\u5C31\u662F\u4F7F\u7528\u4F20\u5165\u7684\u624B\u673A\u53F7\u548C\u9A8C\u8BC1\u7801\u8FDB\u884C\u5339\u914D\uFF0C\u5E76\u8FD4\u56DE\u6700\u7EC8\u5339\u914D\u7ED3\u679C\u3002\u4E0B\u9762\u76F4\u63A5\u5236\u4F5C\u672C\u6848\u4F8B\u7684\u6A21\u62DF\u4EE3\u7801\uFF0C\u5148\u4EE5\u4E0A\u4F8B\u4E2Dspringboot\u63D0\u4F9B\u7684\u5185\u7F6E\u7F13\u5B58\u6280\u672F\u6765\u5B8C\u6210\u5F53\u524D\u6848\u4F8B\u7684\u5236\u4F5C\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u63D0\u4F9B\u7684\u7F13\u5B58\u6280\u672F\u5BF9\u5E94\u7684starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u542F\u7528\u7F13\u5B58\uFF0C\u5728\u5F15\u5BFC\u7C7B\u4E0A\u65B9\u6807\u6CE8\u6CE8\u89E3@EnableCaching\u914D\u7F6Espringboot\u7A0B\u5E8F\u4E2D\u53EF\u4EE5\u4F7F\u7528\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//\u5F00\u542F\u7F13\u5B58\u529F\u80FD</span>
<span class="token annotation punctuation">@EnableCaching</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot19CacheApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot19CacheApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u5B9A\u4E49\u9A8C\u8BC1\u7801\u5BF9\u5E94\u7684\u5B9E\u4F53\u7C7B\uFF0C\u5C01\u88C5\u624B\u673A\u53F7\u4E0E\u9A8C\u8BC1\u7801\u4E24\u4E2A\u5C5E\u6027</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCode</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> tele<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> code<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u5B9A\u4E49\u9A8C\u8BC1\u7801\u529F\u80FD\u7684\u4E1A\u52A1\u5C42\u63A5\u53E3\u4E0E\u5B9E\u73B0\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CodeUtils</span> codeUtils<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@CachePut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;smsCode&quot;</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">&quot;#tele&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u53D6\u51FA\u5185\u5B58\u4E2D\u7684\u9A8C\u8BC1\u7801\u4E0E\u4F20\u9012\u8FC7\u6765\u7684\u9A8C\u8BC1\u7801\u6BD4\u5BF9\uFF0C\u5982\u679C\u76F8\u540C\uFF0C\u8FD4\u56DEtrue</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> smsCode<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> cacheCode <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>smsCode<span class="token punctuation">.</span><span class="token function">getTele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cacheCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u83B7\u53D6\u9A8C\u8BC1\u7801\u540E\uFF0C\u5F53\u9A8C\u8BC1\u7801\u5931\u6548\u65F6\u5FC5\u987B\u91CD\u65B0\u83B7\u53D6\u9A8C\u8BC1\u7801\uFF0C\u56E0\u6B64\u5728\u83B7\u53D6\u9A8C\u8BC1\u7801\u7684\u529F\u80FD\u4E0A\u4E0D\u80FD\u4F7F\u7528@Cacheable\u6CE8\u89E3\uFF0C@Cacheable\u6CE8\u89E3\u662F\u7F13\u5B58\u4E2D\u6CA1\u6709\u503C\u5219\u653E\u5165\u503C\uFF0C\u7F13\u5B58\u4E2D\u6709\u503C\u5219\u53D6\u503C\u3002\u6B64\u5904\u7684\u529F\u80FD\u4EC5\u4EC5\u662F\u751F\u6210\u9A8C\u8BC1\u7801\u5E76\u653E\u5165\u7F13\u5B58\uFF0C\u5E76\u4E0D\u5177\u6709\u4ECE\u7F13\u5B58\u4E2D\u53D6\u503C\u7684\u529F\u80FD\uFF0C\u56E0\u6B64\u4E0D\u80FD\u4F7F\u7528@Cacheable\u6CE8\u89E3\uFF0C\u5E94\u8BE5\u4F7F\u7528\u4EC5\u5177\u6709\u5411\u7F13\u5B58\u4E2D\u4FDD\u5B58\u6570\u636E\u7684\u529F\u80FD\uFF0C\u4F7F\u7528@CachePut\u6CE8\u89E3\u5373\u53EF\u3002</p><p>\u200B \u5BF9\u4E8E\u6821\u9A8C\u9A8C\u8BC1\u7801\u7684\u529F\u80FD\u5EFA\u8BAE\u653E\u5165\u5DE5\u5177\u7C7B\u4E2D\u8FDB\u884C\u3002</p><p><strong>\u6B65\u9AA4\u2464</strong>\uFF1A\u5B9A\u4E49\u9A8C\u8BC1\u7801\u7684\u751F\u6210\u7B56\u7565\u4E0E\u6839\u636E\u624B\u673A\u53F7\u8BFB\u53D6\u9A8C\u8BC1\u7801\u7684\u529F\u80FD</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CodeUtils</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> patch <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;000000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;00000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;00&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> hash <span class="token operator">=</span> tele<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> encryption <span class="token operator">=</span> <span class="token number">20206666</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> result <span class="token operator">=</span> hash <span class="token operator">^</span> encryption<span class="token punctuation">;</span>
        <span class="token keyword">long</span> nowTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result <span class="token operator">=</span> result <span class="token operator">^</span> nowTime<span class="token punctuation">;</span>
        <span class="token keyword">long</span> code <span class="token operator">=</span> result <span class="token operator">%</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
        code <span class="token operator">=</span> code <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token operator">-</span>code <span class="token operator">:</span> code<span class="token punctuation">;</span>
        <span class="token class-name">String</span> codeStr <span class="token operator">=</span> code <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> len <span class="token operator">=</span> codeStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> patch<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">+</span> codeStr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Cacheable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;smsCode&quot;</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token string">&quot;#tele&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2465</strong>\uFF1A\u5B9A\u4E49\u9A8C\u8BC1\u7801\u529F\u80FD\u7684web\u5C42\u63A5\u53E3\uFF0C\u4E00\u4E2A\u65B9\u6CD5\u7528\u4E8E\u63D0\u4F9B\u624B\u673A\u53F7\u83B7\u53D6\u9A8C\u8BC1\u7801\uFF0C\u4E00\u4E2A\u65B9\u6CD5\u7528\u4E8E\u63D0\u4F9B\u624B\u673A\u53F7\u548C\u9A8C\u8BC1\u7801\u8FDB\u884C\u6821\u9A8C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/sms&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">SMSCodeService</span> smsCodeService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCode</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> smsCodeService<span class="token punctuation">.</span><span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@PostMapping</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> smsCodeService<span class="token punctuation">.</span><span class="token function">checkCode</span><span class="token punctuation">(</span>smsCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="springboot\u6574\u5408ehcache\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408ehcache\u7F13\u5B58" aria-hidden="true">#</a> SpringBoot\u6574\u5408Ehcache\u7F13\u5B58</h4><p>\u200B \u624B\u673A\u9A8C\u8BC1\u7801\u7684\u6848\u4F8B\u5DF2\u7ECF\u5B8C\u6210\u4E86\uFF0C\u4E0B\u9762\u5C31\u5F00\u59CBspringboot\u6574\u5408\u5404\u79CD\u5404\u6837\u7684\u7F13\u5B58\u6280\u672F\uFF0C\u7B2C\u4E00\u4E2A\u6574\u5408Ehcache\u6280\u672F\u3002Ehcache\u662F\u4E00\u79CD\u7F13\u5B58\u6280\u672F\uFF0C\u4F7F\u7528springboot\u6574\u5408Ehcache\u5176\u5B9E\u5C31\u662F\u53D8\u66F4\u4E00\u4E0B\u7F13\u5B58\u6280\u672F\u7684\u5B9E\u73B0\u65B9\u5F0F\uFF0C\u8BDD\u4E0D\u591A\u8BF4\uFF0C\u76F4\u63A5\u5F00\u6574</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165Ehcache\u7684\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.sf.ehcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ehcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6B64\u5904\u4E3A\u4EC0\u4E48\u4E0D\u662F\u5BFC\u5165Ehcache\u7684starter\uFF0C\u800C\u662F\u5BFC\u5165\u6280\u672F\u5750\u6807\u5462\uFF1F\u5176\u5B9Espringboot\u6574\u5408\u7F13\u5B58\u6280\u672F\u505A\u7684\u662F\u901A\u7528\u683C\u5F0F\uFF0C\u4E0D\u7BA1\u4F60\u6574\u5408\u54EA\u79CD\u7F13\u5B58\u6280\u672F\uFF0C\u53EA\u662F\u5B9E\u73B0\u53D8\u5316\u4E86\uFF0C\u64CD\u4F5C\u65B9\u5F0F\u4E00\u6837\u3002\u8FD9\u4E5F\u4F53\u73B0\u51FAspringboot\u6280\u672F\u7684\u4F18\u70B9\uFF0C\u7EDF\u4E00\u540C\u7C7B\u6280\u672F\u7684\u6574\u5408\u65B9\u5F0F\u3002</p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6E\u7F13\u5B58\u6280\u672F\u5B9E\u73B0\u4F7F\u7528Ehcache</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> ehcache
    <span class="token key atrule">ehcache</span><span class="token punctuation">:</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>ehcache.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u914D\u7F6E\u7F13\u5B58\u7684\u7C7B\u578Btype\u4E3Aehcache\uFF0C\u6B64\u5904\u9700\u8981\u8BF4\u660E\u4E00\u4E0B\uFF0C\u5F53\u524Dspringboot\u53EF\u4EE5\u6574\u5408\u7684\u7F13\u5B58\u6280\u672F\u4E2D\u5305\u542B\u6709ehcach\uFF0C\u6240\u4EE5\u53EF\u4EE5\u8FD9\u6837\u4E66\u5199\u3002\u5176\u5B9E\u8FD9\u4E2Atype\u4E0D\u53EF\u4EE5\u968F\u4FBF\u5199\u7684\uFF0C\u4E0D\u662F\u968F\u4FBF\u5199\u4E00\u4E2A\u540D\u79F0\u5C31\u53EF\u4EE5\u6574\u5408\u7684\u3002</p><p>\u200B <strong>\u7531\u4E8Eehcache\u7684\u914D\u7F6E\u6709\u72EC\u7ACB\u7684\u914D\u7F6E\u6587\u4EF6\u683C\u5F0F\uFF0C\u56E0\u6B64\u8FD8\u9700\u8981\u6307\u5B9Aehcache\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u4EE5\u4FBF\u4E8E\u8BFB\u53D6\u76F8\u5E94\u914D\u7F6E</strong></p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ehcache</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>noNamespaceSchemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://ehcache.org/ehcache.xsd<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">updateCheck</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>diskStore</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>D:\\ehcache<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--\u9ED8\u8BA4\u7F13\u5B58\u7B56\u7565 --&gt;</span>
    <span class="token comment">&lt;!-- external\uFF1A\u662F\u5426\u6C38\u4E45\u5B58\u5728\uFF0C\u8BBE\u7F6E\u4E3Atrue\u5219\u4E0D\u4F1A\u88AB\u6E05\u9664\uFF0C\u6B64\u65F6\u4E0Etimeout\u51B2\u7A81\uFF0C\u901A\u5E38\u8BBE\u7F6E\u4E3Afalse--&gt;</span>
    <span class="token comment">&lt;!-- diskPersistent\uFF1A\u662F\u5426\u542F\u7528\u78C1\u76D8\u6301\u4E45\u5316--&gt;</span>
    <span class="token comment">&lt;!-- maxElementsInMemory\uFF1A\u6700\u5927\u7F13\u5B58\u6570\u91CF--&gt;</span>
    <span class="token comment">&lt;!-- overflowToDisk\uFF1A\u8D85\u8FC7\u6700\u5927\u7F13\u5B58\u6570\u91CF\u662F\u5426\u6301\u4E45\u5316\u5230\u78C1\u76D8--&gt;</span>
    <span class="token comment">&lt;!-- timeToIdleSeconds\uFF1A\u6700\u5927\u4E0D\u6D3B\u52A8\u95F4\u9694\uFF0C\u8BBE\u7F6E\u8FC7\u957F\u7F13\u5B58\u5BB9\u6613\u6EA2\u51FA\uFF0C\u8BBE\u7F6E\u8FC7\u77ED\u65E0\u6548\u679C\uFF0C\u53EF\u7528\u4E8E\u8BB0\u5F55\u65F6\u6548\u6027\u6570\u636E\uFF0C\u4F8B\u5982\u9A8C\u8BC1\u7801--&gt;</span>
    <span class="token comment">&lt;!-- timeToLiveSeconds\uFF1A\u6700\u5927\u5B58\u6D3B\u65F6\u95F4--&gt;</span>
    <span class="token comment">&lt;!-- memoryStoreEvictionPolicy\uFF1A\u7F13\u5B58\u6E05\u9664\u7B56\u7565--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defaultCache</span>
        <span class="token attr-name">eternal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">diskPersistent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">maxElementsInMemory</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">overflowToDisk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">timeToIdleSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">timeToLiveSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">memoryStoreEvictionPolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LRU<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span>
        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>smsCode<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">eternal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">diskPersistent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">maxElementsInMemory</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">overflowToDisk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">timeToIdleSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">timeToLiveSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">memoryStoreEvictionPolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LRU<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ehcache</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6CE8\u610F\u524D\u9762\u7684\u6848\u4F8B\u4E2D\uFF0C\u8BBE\u7F6E\u4E86\u6570\u636E\u4FDD\u5B58\u7684\u4F4D\u7F6E\u662FsmsCode</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@CachePut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;smsCode&quot;</span><span class="token punctuation">,</span> key <span class="token operator">=</span> <span class="token string">&quot;#tele&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> code<span class="token punctuation">;</span>
<span class="token punctuation">}</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD9\u4E2A\u8BBE\u5B9A\u9700\u8981\u4FDD\u969Cehcache\u4E2D\u6709\u4E00\u4E2A\u7F13\u5B58\u7A7A\u95F4\u540D\u79F0\u53EB\u505AsmsCode\u7684\u914D\u7F6E\uFF0C\u524D\u540E\u8981\u7EDF\u4E00\u3002\u5728\u4F01\u4E1A\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u901A\u8FC7\u8BBE\u7F6E\u4E0D\u540C\u540D\u79F0\u7684cache\u6765\u8BBE\u5B9A\u4E0D\u540C\u7684\u7F13\u5B58\u7B56\u7565\uFF0C\u5E94\u7528\u4E8E\u4E0D\u540C\u7684\u7F13\u5B58\u6570\u636E\u3002</p><p>\u200B \u5230\u8FD9\u91CCspringboot\u6574\u5408Ehcache\u5C31\u505A\u5B8C\u4E86\uFF0C\u53EF\u4EE5\u53D1\u73B0\u4E00\u70B9\uFF0C\u539F\u59CB\u4EE3\u7801\u6CA1\u6709\u4EFB\u4F55\u4FEE\u6539\uFF0C\u4EC5\u4EC5\u662F\u52A0\u4E86\u4E00\u7EC4\u914D\u7F6E\u5C31\u53EF\u4EE5\u53D8\u66F4\u7F13\u5B58\u4F9B\u5E94\u5546\u4E86\uFF0C\u8FD9\u4E5F\u662Fspringboot\u63D0\u4F9B\u4E86\u7EDF\u4E00\u7684\u7F13\u5B58\u64CD\u4F5C\u63A5\u53E3\u7684\u4F18\u52BF\uFF0C\u53D8\u66F4\u5B9E\u73B0\u5E76\u4E0D\u5F71\u54CD\u539F\u59CB\u4EE3\u7801\u7684\u4E66\u5199\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u4F7F\u7528Ehcache\u4F5C\u4E3A\u7F13\u5B58\u5B9E\u73B0\u9700\u8981\u5BFC\u5165Ehcache\u7684\u5750\u6807</li><li>\u4FEE\u6539\u8BBE\u7F6E\uFF0C\u914D\u7F6E\u7F13\u5B58\u4F9B\u5E94\u5546\u4E3Aehcache\uFF0C\u5E76\u63D0\u4F9B\u5BF9\u5E94\u7684\u7F13\u5B58\u914D\u7F6E\u6587\u4EF6</li></ol><p>\u200B</p><h4 id="springboot\u6574\u5408redis\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408redis\u7F13\u5B58" aria-hidden="true">#</a> SpringBoot\u6574\u5408Redis\u7F13\u5B58</h4><p>\u200B \u4E0A\u8282\u4F7F\u7528Ehcache\u66FF\u6362\u4E86springboot\u5185\u7F6E\u7684\u7F13\u5B58\u6280\u672F\uFF0C\u5176\u5B9Espringboot\u652F\u6301\u7684\u7F13\u5B58\u6280\u672F\u8FD8\u5F88\u591A\uFF0C\u4E0B\u9762\u4F7F\u7528redis\u6280\u672F\u4F5C\u4E3A\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\u6765\u5B9E\u73B0\u624B\u673A\u9A8C\u8BC1\u7801\u6848\u4F8B\u3002</p><p>\u200B \u6BD4\u5BF9\u4F7F\u7528Ehcache\u7684\u8FC7\u7A0B\uFF0C\u52A0\u5750\u6807\uFF0C\u6539\u7F13\u5B58\u5B9E\u73B0\u7C7B\u578B\u4E3Aehcache\uFF0C\u505AEhcache\u7684\u914D\u7F6E\u3002\u5982\u679C\u8FD8\u6210redis\u505A\u7F13\u5B58\u5462\uFF1F\u4E00\u6A21\u4E00\u6837\uFF0C\u52A0\u5750\u6807\uFF0C\u6539\u7F13\u5B58\u5B9E\u73B0\u7C7B\u578B\u4E3Aredis\uFF0C\u505Aredis\u7684\u914D\u7F6E\u3002\u5DEE\u522B\u4E4B\u5904\u53EA\u6709\u4E00\u70B9\uFF0Credis\u7684\u914D\u7F6E\u53EF\u4EE5\u5728yml\u6587\u4EF6\u4E2D\u76F4\u63A5\u8FDB\u884C\u914D\u7F6E\uFF0C\u65E0\u9700\u5236\u4F5C\u72EC\u7ACB\u7684\u914D\u7F6E\u6587\u4EF6\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165redis\u7684\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6E\u7F13\u5B58\u6280\u672F\u5B9E\u73B0\u4F7F\u7528redis</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u9700\u8981\u5BF9redis\u4F5C\u4E3A\u7F13\u5B58\u8FDB\u884C\u914D\u7F6E\uFF0C\u6CE8\u610F\u4E0D\u662F\u5BF9\u539F\u59CB\u7684redis\u8FDB\u884C\u914D\u7F6E\uFF0C\u800C\u662F\u914D\u7F6Eredis\u4F5C\u4E3A\u7F13\u5B58\u4F7F\u7528\u76F8\u5173\u7684\u914D\u7F6E\uFF0C\u96B6\u5C5E\u4E8Espring.cache.redis\u8282\u70B9\u4E0B\uFF0C\u6CE8\u610F\u4E0D\u8981\u5199\u9519\u4F4D\u7F6E\u4E86\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
  <span class="token key atrule">cache</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">redis</span><span class="token punctuation">:</span>
      <span class="token key atrule">use-key-prefix</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">key-prefix</span><span class="token punctuation">:</span> sms_
      <span class="token key atrule">cache-null-values</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">time-to-live</span><span class="token punctuation">:</span> 10s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u4F7F\u7528redis\u4F5C\u4E3A\u7F13\u5B58\u5B9E\u73B0\u9700\u8981\u5BFC\u5165redis\u7684\u5750\u6807</li><li>\u4FEE\u6539\u8BBE\u7F6E\uFF0C\u914D\u7F6E\u7F13\u5B58\u4F9B\u5E94\u5546\u4E3Aredis\uFF0C\u5E76\u63D0\u4F9B\u5BF9\u5E94\u7684\u7F13\u5B58\u914D\u7F6E</li></ol><h4 id="springboot\u6574\u5408memcached\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408memcached\u7F13\u5B58" aria-hidden="true">#</a> SpringBoot\u6574\u5408Memcached\u7F13\u5B58</h4><p>\u200B \u76EE\u524D\u6211\u4EEC\u5DF2\u7ECF\u638C\u63E1\u4E863\u79CD\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\u7684\u914D\u7F6E\u5F62\u5F0F\uFF0C\u5206\u522B\u662Fspringboot\u5185\u7F6E\u7F13\u5B58\uFF0Cehcache\u548Credis\uFF0C\u672C\u8282\u7814\u7A76\u4E00\u4E0B\u56FD\u5185\u6BD4\u8F83\u6D41\u884C\u7684\u4E00\u6B3E\u7F13\u5B58memcached\u3002</p><p>\u200B \u6309\u7167\u4E4B\u524D\u7684\u5957\u8DEF\uFF0C\u5176\u5B9E\u53D8\u66F4\u7F13\u5B58\u5E76\u4E0D\u7E41\u7410\uFF0C\u4F46\u662Fspringboot\u5E76\u6CA1\u6709\u652F\u6301\u4F7F\u7528memcached\u4F5C\u4E3A\u5176\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5728type\u5C5E\u6027\u4E2D\u6CA1\u6709memcached\u7684\u914D\u7F6E\u9009\u9879\uFF0C\u8FD9\u91CC\u5C31\u9700\u8981\u66F4\u53D8\u4E00\u4E0B\u5904\u7406\u65B9\u5F0F\u4E86\u3002\u5728\u6574\u5408\u4E4B\u524D\u5148\u5B89\u88C5memcached\u3002</p><p><strong>\u5B89\u88C5</strong></p><p>\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1Ahttps://www.runoob.com/memcached/window-install-memcached.html</p><p>\u200B \u4E0B\u8F7D\u7684\u5B89\u88C5\u5305\u662F\u89E3\u538B\u7F29\u5C31\u80FD\u4F7F\u7528\u7684zip\u6587\u4EF6\uFF0C\u89E3\u538B\u7F29\u5B8C\u6BD5\u540E\u4F1A\u5F97\u5230\u5982\u4E0B\u6587\u4EF6</p><p><img src="`+R+'" alt="image-20220226174957040"></p><p>\u200B \u53EF\u6267\u884C\u6587\u4EF6\u53EA\u6709\u4E00\u4E2Amemcached.exe\uFF0C\u4F7F\u7528\u8BE5\u6587\u4EF6\u53EF\u4EE5\u5C06memcached\u4F5C\u4E3A\u7CFB\u7EDF\u670D\u52A1\u542F\u52A8\uFF0C\u6267\u884C\u6B64\u6587\u4EF6\u65F6\u4F1A\u51FA\u73B0\u62A5\u9519\u4FE1\u606F\uFF0C\u5982\u4E0B\uFF1A</p><img src="'+E+'" alt="image-20220226175141986" style="zoom:80%;"><p>\u200B \u6B64\u5904\u51FA\u73B0\u95EE\u9898\u7684\u539F\u56E0\u662F\u6CE8\u518C\u7CFB\u7EDF\u670D\u52A1\u65F6\u9700\u8981\u4F7F\u7528\u7BA1\u7406\u5458\u6743\u9650\uFF0C\u5F53\u524D\u8D26\u53F7\u6743\u9650\u4E0D\u8DB3\u5BFC\u81F4\u5B89\u88C5\u670D\u52A1\u5931\u8D25\uFF0C\u5207\u6362\u7BA1\u7406\u5458\u8D26\u53F7\u6743\u9650\u542F\u52A8\u547D\u4EE4\u884C</p><img src="'+L+`" alt="image-20220226175302903" style="zoom:80%;"><p>\u200B \u7136\u540E\u518D\u6B21\u6267\u884C\u5B89\u88C5\u670D\u52A1\u7684\u547D\u4EE4\u5373\u53EF\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>memcached.exe -d install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u670D\u52A1\u5B89\u88C5\u5B8C\u6BD5\u540E\u53EF\u4EE5\u4F7F\u7528\u547D\u4EE4\u542F\u52A8\u548C\u505C\u6B62\u670D\u52A1\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-cmd ext-cmd line-numbers-mode"><pre class="language-cmd"><code>memcached.exe -d start		# \u542F\u52A8\u670D\u52A1
memcached.exe -d stop		# \u505C\u6B62\u670D\u52A1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E5F\u53EF\u4EE5\u5728\u4EFB\u52A1\u7BA1\u7406\u5668\u4E2D\u8FDB\u884C\u670D\u52A1\u72B6\u6001\u7684\u5207\u6362</p><img src="`+P+`" alt="image-20220226175441675" style="zoom:67%;"><p><strong>\u53D8\u66F4\u7F13\u5B58\u4E3AMemcached</strong></p><p>\u200B \u7531\u4E8Ememcached\u672A\u88ABspringboot\u6536\u5F55\u4E3A\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\uFF0C\u56E0\u6B64\u4F7F\u7528memcached\u9700\u8981\u901A\u8FC7\u624B\u5DE5\u786C\u7F16\u7801\u7684\u65B9\u5F0F\u6765\u4F7F\u7528\uFF0C\u4E8E\u662F\u524D\u9762\u7684\u5957\u8DEF\u90FD\u4E0D\u9002\u7528\u4E86\uFF0C\u9700\u8981\u81EA\u5DF1\u5199\u4E86\u3002</p><p>\u200B memcached\u76EE\u524D\u63D0\u4F9B\u6709\u4E09\u79CD\u5BA2\u6237\u7AEF\u6280\u672F\uFF0C\u5206\u522B\u662FMemcached Client for Java\u3001SpyMemcached\u548CXmemcached\uFF0C\u5176\u4E2D\u6027\u80FD\u6307\u6807\u5404\u65B9\u9762\u6700\u597D\u7684\u5BA2\u6237\u7AEF\u662FXmemcached\uFF0C\u672C\u6B21\u6574\u5408\u5C31\u4F7F\u7528\u8FD9\u4E2A\u4F5C\u4E3A\u5BA2\u6237\u7AEF\u5B9E\u73B0\u6280\u672F\u4E86\u3002\u4E0B\u9762\u5F00\u59CB\u4F7F\u7528Xmemcached</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165xmemcached\u7684\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.googlecode.xmemcached<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>xmemcached<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6Ememcached\uFF0C\u5236\u4F5Cmemcached\u7684\u914D\u7F6E\u7C7B</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XMemcachedConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MemcachedClient</span> <span class="token function">getMemcachedClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">MemcachedClientBuilder</span> memcachedClientBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMemcachedClientBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:11211&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MemcachedClient</span> memcachedClient <span class="token operator">=</span> memcachedClientBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> memcachedClient<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B memcached\u9ED8\u8BA4\u5BF9\u5916\u670D\u52A1\u7AEF\u53E311211\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528xmemcached\u5BA2\u6237\u7AEF\u64CD\u4F5C\u7F13\u5B58\uFF0C\u6CE8\u5165MemcachedClient\u5BF9\u8C61</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CodeUtils</span> codeUtils<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MemcachedClient</span> memcachedClient<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            memcachedClient<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>tele<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            code <span class="token operator">=</span> memcachedClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>smsCode<span class="token punctuation">.</span><span class="token function">getTele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> smsCode<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8BBE\u7F6E\u503C\u5230\u7F13\u5B58\u4E2D\u4F7F\u7528set\u64CD\u4F5C\uFF0C\u53D6\u503C\u4F7F\u7528get\u64CD\u4F5C\uFF0C\u5176\u5B9E\u66F4\u7B26\u5408\u6211\u4EEC\u5F00\u53D1\u8005\u7684\u4E60\u60EF\u3002</p><p>\u200B \u4E0A\u8FF0\u4EE3\u7801\u4E2D\u5BF9\u4E8E\u670D\u52A1\u5668\u7684\u914D\u7F6E\u4F7F\u7528\u786C\u7F16\u7801\u5199\u6B7B\u5230\u4E86\u4EE3\u7801\u4E2D\uFF0C\u5C06\u6B64\u6570\u636E\u63D0\u53D6\u51FA\u6765\uFF0C\u505A\u6210\u72EC\u7ACB\u7684\u914D\u7F6E\u5C5E\u6027\u3002</p><p><strong>\u5B9A\u4E49\u914D\u7F6E\u5C5E\u6027</strong></p><p>\u200B \u4EE5\u4E0B\u8FC7\u7A0B\u91C7\u7528\u524D\u671F\u5B66\u4E60\u7684\u5C5E\u6027\u914D\u7F6E\u65B9\u5F0F\u8FDB\u884C\uFF0C\u5F53\u524D\u64CD\u4F5C\u6709\u52A9\u4E8E\u7406\u89E3\u539F\u7406\u7BC7\u4E2D\u7684\u5F88\u591A\u77E5\u8BC6\u3002</p><ul><li><p>\u5B9A\u4E49\u914D\u7F6E\u7C7B\uFF0C\u52A0\u8F7D\u5FC5\u8981\u7684\u914D\u7F6E\u5C5E\u6027\uFF0C\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\u4E2Dmemcached\u8282\u70B9\u4FE1\u606F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;memcached&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XMemcachedProperties</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> servers<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> poolSize<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> opTimeout<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5B9A\u4E49memcached\u8282\u70B9\u4FE1\u606F</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">memcached</span><span class="token punctuation">:</span>
  <span class="token key atrule">servers</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">11211</span>
  <span class="token key atrule">poolSize</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token key atrule">opTimeout</span><span class="token punctuation">:</span> <span class="token number">3000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5728memcached\u914D\u7F6E\u7C7B\u4E2D\u52A0\u8F7D\u4FE1\u606F</p></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XMemcachedConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">XMemcachedProperties</span> props<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MemcachedClient</span> <span class="token function">getMemcachedClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">MemcachedClientBuilder</span> memcachedClientBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMemcachedClientBuilder</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token function">getServers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memcachedClientBuilder<span class="token punctuation">.</span><span class="token function">setConnectionPoolSize</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token function">getPoolSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        memcachedClientBuilder<span class="token punctuation">.</span><span class="token function">setOpTimeout</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token function">getOpTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MemcachedClient</span> memcachedClient <span class="token operator">=</span> memcachedClientBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> memcachedClient<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>memcached\u5B89\u88C5\u540E\u9700\u8981\u542F\u52A8\u5BF9\u5E94\u670D\u52A1\u624D\u53EF\u4EE5\u5BF9\u5916\u63D0\u4F9B\u7F13\u5B58\u529F\u80FD\uFF0C\u5B89\u88C5memcached\u670D\u52A1\u9700\u8981\u57FA\u4E8Ewindows\u7CFB\u7EDF\u7BA1\u7406\u5458\u6743\u9650</li><li>\u7531\u4E8Espringboot\u6CA1\u6709\u63D0\u4F9B\u5BF9memcached\u7684\u7F13\u5B58\u6574\u5408\u65B9\u6848\uFF0C\u9700\u8981\u91C7\u7528\u624B\u5DE5\u7F16\u7801\u7684\u5F62\u5F0F\u521B\u5EFAxmemcached\u5BA2\u6237\u7AEF\u64CD\u4F5C\u7F13\u5B58</li><li>\u5BFC\u5165xmemcached\u5750\u6807\u540E\uFF0C\u521B\u5EFAmemcached\u914D\u7F6E\u7C7B\uFF0C\u6CE8\u518CMemcachedClient\u5BF9\u5E94\u7684bean\uFF0C\u7528\u4E8E\u64CD\u4F5C\u7F13\u5B58</li><li>\u521D\u59CB\u5316MemcachedClient\u5BF9\u8C61\u6240\u9700\u8981\u4F7F\u7528\u7684\u5C5E\u6027\u53EF\u4EE5\u901A\u8FC7\u81EA\u5B9A\u4E49\u914D\u7F6E\u5C5E\u6027\u7C7B\u7684\u5F62\u5F0F\u52A0\u8F7D</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u5230\u8FD9\u91CC\u5DF2\u7ECF\u5B8C\u6210\u4E86\u4E09\u79CD\u7F13\u5B58\u7684\u6574\u5408\uFF0C\u5176\u4E2Dredis\u548Cmongodb\u9700\u8981\u5B89\u88C5\u72EC\u7ACB\u7684\u670D\u52A1\u5668\uFF0C\u8FDE\u63A5\u65F6\u9700\u8981\u8F93\u5165\u5BF9\u5E94\u7684\u670D\u52A1\u5668\u5730\u5740\uFF0C\u8FD9\u79CD\u662F\u8FDC\u7A0B\u7F13\u5B58\uFF0CEhcache\u662F\u4E00\u4E2A\u5178\u578B\u7684\u5185\u5B58\u7EA7\u7F13\u5B58\uFF0C\u56E0\u4E3A\u5B83\u4EC0\u4E48\u4E5F\u4E0D\u7528\u5B89\u88C5\uFF0C\u542F\u52A8\u540E\u5BFC\u5165jar\u5305\u5C31\u6709\u7F13\u5B58\u529F\u80FD\u4E86\u3002\u8FD9\u4E2A\u65F6\u5019\u5C31\u8981\u95EE\u4E86\uFF0C\u80FD\u4E0D\u80FD\u8FD9\u4E24\u79CD\u7F13\u5B58\u4E00\u8D77\u7528\u5462\uFF1F\u54B1\u4EEC\u4E0B\u8282\u518D\u8BF4\u3002</p><h4 id="springboot\u6574\u5408jetcache\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408jetcache\u7F13\u5B58" aria-hidden="true">#</a> SpringBoot\u6574\u5408jetcache\u7F13\u5B58</h4><p>\u200B \u76EE\u524D\u6211\u4EEC\u4F7F\u7528\u7684\u7F13\u5B58\u90FD\u662F\u8981\u4E48A\u8981\u4E48B\uFF0C\u80FD\u4E0D\u80FDAB\u4E00\u8D77\u7528\u5462\uFF1F\u8FD9\u4E00\u8282\u5C31\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002springboot\u9488\u5BF9\u7F13\u5B58\u7684\u6574\u5408\u4EC5\u4EC5\u505C\u7559\u5728\u7528\u7F13\u5B58\u4E0A\u9762\uFF0C\u5982\u679C\u7F13\u5B58\u81EA\u8EAB\u4E0D\u652F\u6301\u540C\u65F6\u652F\u6301AB\u4E00\u8D77\u7528\uFF0Cspringboot\u4E5F\u6CA1\u529E\u6CD5\uFF0C\u6240\u4EE5\u8981\u60F3\u89E3\u51B3AB\u7F13\u5B58\u4E00\u8D77\u7528\u7684\u95EE\u9898\uFF0C\u5C31\u5FC5\u987B\u627E\u4E00\u6B3E\u7F13\u5B58\u80FD\u591F\u652F\u6301AB\u4E24\u79CD\u7F13\u5B58\u4E00\u8D77\u7528\uFF0C\u6709\u8FD9\u79CD\u7F13\u5B58\u5417\uFF1F\u8FD8\u771F\u6709\uFF0C\u963F\u91CC\u51FA\u54C1\uFF0Cjetcache\u3002</p><p>\u200B jetcache\u4E25\u683C\u610F\u4E49\u4E0A\u6765\u8BF4\uFF0C\u5E76\u4E0D\u662F\u4E00\u4E2A\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\uFF0C\u53EA\u80FD\u8BF4\u4ED6\u7B97\u662F\u4E00\u4E2A\u7F13\u5B58\u6846\u67B6\uFF0C\u7136\u540E\u628A\u522B\u7684\u7F13\u5B58\u653E\u5230jetcache\u4E2D\u7BA1\u7406\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u652F\u6301AB\u7F13\u5B58\u4E00\u8D77\u7528\u4E86\u3002\u5E76\u4E14jetcache\u53C2\u8003\u4E86springboot\u6574\u5408\u7F13\u5B58\u7684\u601D\u60F3\uFF0C\u6574\u4F53\u6280\u672F\u4F7F\u7528\u65B9\u5F0F\u548Cspringboot\u7684\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\u601D\u60F3\u975E\u5E38\u7C7B\u4F3C\u3002\u4E0B\u9762\u54B1\u4EEC\u5C31\u5148\u628Ajetcache\u7528\u8D77\u6765\uFF0C\u7136\u540E\u518D\u8BF4\u5B83\u91CC\u9762\u7684\u4E00\u4E9B\u5C0F\u7684\u529F\u80FD\u3002</p><p>\u200B \u505A\u4E4B\u524D\u8981\u5148\u660E\u786E\u4E00\u4E0B\uFF0Cjetcache\u5E76\u4E0D\u662F\u968F\u4FBF\u62FF\u4E24\u4E2A\u7F13\u5B58\u90FD\u80FD\u62FC\u5230\u4E00\u8D77\u53BB\u7684\u3002\u76EE\u524Djetcache\u652F\u6301\u7684\u7F13\u5B58\u65B9\u6848\u672C\u5730\u7F13\u5B58\u652F\u6301\u4E24\u79CD\uFF0C\u8FDC\u7A0B\u7F13\u5B58\u652F\u6301\u4E24\u79CD\uFF0C\u5206\u522B\u5982\u4E0B\uFF1A</p><ul><li>\u672C\u5730\u7F13\u5B58\uFF08Local\uFF09 <ul><li>LinkedHashMap</li><li>Caffeine</li></ul></li><li>\u8FDC\u7A0B\u7F13\u5B58\uFF08Remote\uFF09 <ul><li>Redis</li><li>Tair</li></ul></li></ul><p>\u200B \u5176\u5B9E\u4E5F\u6709\u4EBA\u95EE\u6211\uFF0C\u4E3A\u4EC0\u4E48jetcache\u53EA\u652F\u63012+2\u8FD9\u4E484\u6B3E\u7F13\u5B58\u5462\uFF1F\u963F\u91CC\u7814\u53D1\u8FD9\u4E2A\u6280\u672F\u5176\u5B9E\u4E3B\u8981\u662F\u4E3A\u4E86\u6EE1\u8DB3\u81EA\u8EAB\u7684\u4F7F\u7528\u9700\u8981\u3002\u6700\u521D\u80AF\u5B9A\u53EA\u67091+1\u79CD\uFF0C\u9010\u6B65\u53D8\u5316\u62102+2\u79CD\u3002\u4E0B\u9762\u5C31\u4EE5LinkedHashMap+Redis\u7684\u65B9\u6848\u5B9E\u73B0\u672C\u5730\u4E0E\u8FDC\u7A0B\u7F13\u5B58\u65B9\u6848\u540C\u65F6\u4F7F\u7528\u3002</p><h5 id="\u7EAF\u8FDC\u7A0B\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u7EAF\u8FDC\u7A0B\u65B9\u6848" aria-hidden="true">#</a> \u7EAF\u8FDC\u7A0B\u65B9\u6848</h5><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408jetcache\u5BF9\u5E94\u7684\u5750\u6807starter\uFF0C\u5F53\u524D\u5750\u6807\u9ED8\u8BA4\u4F7F\u7528\u7684\u8FDC\u7A0B\u65B9\u6848\u662Fredis</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alicp.jetcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jetcache-starter-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u8FDC\u7A0B\u65B9\u6848\u57FA\u672C\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jetcache</span><span class="token punctuation">:</span>
  <span class="token key atrule">remote</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5176\u4E2DpoolConfig\u662F\u5FC5\u914D\u9879\uFF0C\u5426\u5219\u4F1A\u62A5\u9519</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u542F\u7528\u7F13\u5B58\uFF0C\u5728\u5F15\u5BFC\u7C7B\u4E0A\u65B9\u6807\u6CE8\u6CE8\u89E3@EnableCreateCacheAnnotation\u914D\u7F6Espringboot\u7A0B\u5E8F\u4E2D\u53EF\u4EE5\u4F7F\u7528\u6CE8\u89E3\u7684\u5F62\u5F0F\u521B\u5EFA\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//jetcache\u542F\u7528\u7F13\u5B58\u7684\u4E3B\u5F00\u5173</span>
<span class="token annotation punctuation">@EnableCreateCacheAnnotation</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot20JetCacheApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot20JetCacheApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u521B\u5EFA\u7F13\u5B58\u5BF9\u8C61Cache\uFF0C\u5E76\u4F7F\u7528\u6CE8\u89E3@CreateCache\u6807\u8BB0\u5F53\u524D\u7F13\u5B58\u7684\u4FE1\u606F\uFF0C\u7136\u540E\u4F7F\u7528Cache\u5BF9\u8C61\u7684API\u64CD\u4F5C\u7F13\u5B58\uFF0Cput\u5199\u7F13\u5B58\uFF0Cget\u8BFB\u7F13\u5B58\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CodeUtils</span> codeUtils<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@CreateCache</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;jetCache_&quot;</span><span class="token punctuation">,</span>expire <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>timeUnit <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Cache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span> <span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> jetCache<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jetCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>tele<span class="token punctuation">,</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> jetCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>smsCode<span class="token punctuation">.</span><span class="token function">getTele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> smsCode<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u901A\u8FC7\u4E0A\u8FF0jetcache\u4F7F\u7528\u8FDC\u7A0B\u65B9\u6848\u8FDE\u63A5redis\u53EF\u4EE5\u770B\u51FA\uFF0Cjetcache\u64CD\u4F5C\u7F13\u5B58\u65F6\u7684\u63A5\u53E3\u64CD\u4F5C\u66F4\u7B26\u5408\u5F00\u53D1\u8005\u4E60\u60EF\uFF0C\u4F7F\u7528\u7F13\u5B58\u5C31\u5148\u83B7\u53D6\u7F13\u5B58\u5BF9\u8C61Cache\uFF0C\u653E\u6570\u636E\u8FDB\u53BB\u5C31\u662Fput\uFF0C\u53D6\u6570\u636E\u51FA\u6765\u5C31\u662Fget\uFF0C\u66F4\u52A0\u7B80\u5355\u6613\u61C2\u3002\u5E76\u4E14jetcache\u64CD\u4F5C\u7F13\u5B58\u65F6\uFF0C\u53EF\u4EE5\u4E3A\u67D0\u4E2A\u7F13\u5B58\u5BF9\u8C61\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4\uFF0C\u5C06\u540C\u7C7B\u578B\u7684\u6570\u636E\u653E\u5165\u7F13\u5B58\u4E2D\uFF0C\u65B9\u4FBF\u6709\u6548\u5468\u671F\u7684\u7BA1\u7406\u3002</p><p>\u200B \u4E0A\u8FF0\u65B9\u6848\u4E2D\u4F7F\u7528\u7684\u662F\u914D\u7F6E\u4E2D\u5B9A\u4E49\u7684default\u7F13\u5B58\uFF0C\u5176\u5B9E\u8FD9\u4E2Adefault\u662F\u4E2A\u540D\u5B57\uFF0C\u53EF\u4EE5\u968F\u4FBF\u5199\uFF0C\u4E5F\u53EF\u4EE5\u968F\u4FBF\u52A0\u3002\u4F8B\u5982\u518D\u6DFB\u52A0\u4E00\u79CD\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\uFF0C\u53C2\u7167\u5982\u4E0B\u914D\u7F6E\u8FDB\u884C\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jetcache</span><span class="token punctuation">:</span>
  <span class="token key atrule">remote</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
    <span class="token key atrule">sms</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5982\u679C\u60F3\u4F7F\u7528\u540D\u79F0\u662Fsms\u7684\u7F13\u5B58\uFF0C\u9700\u8981\u518D\u521B\u5EFA\u7F13\u5B58\u65F6\u6307\u5B9A\u53C2\u6570area\uFF0C\u58F0\u660E\u4F7F\u7528\u5BF9\u5E94\u7F13\u5B58\u5373\u53EF</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CodeUtils</span> codeUtils<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@CreateCache</span><span class="token punctuation">(</span>area<span class="token operator">=</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">&quot;jetCache_&quot;</span><span class="token punctuation">,</span>expire <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>timeUnit <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Cache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span> <span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> jetCache<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jetCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>tele<span class="token punctuation">,</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> jetCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>smsCode<span class="token punctuation">.</span><span class="token function">getTele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> smsCode<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u7EAF\u672C\u5730\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u7EAF\u672C\u5730\u65B9\u6848" aria-hidden="true">#</a> \u7EAF\u672C\u5730\u65B9\u6848</h5><p>\u200B \u8FDC\u7A0B\u65B9\u6848\u4E2D\uFF0C\u914D\u7F6E\u4E2D\u4F7F\u7528remote\u8868\u793A\u8FDC\u7A0B\uFF0C\u6362\u6210local\u5C31\u662F\u672C\u5730\uFF0C\u53EA\u4E0D\u8FC7\u7C7B\u578B\u4E0D\u4E00\u6837\u800C\u5DF2\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408jetcache\u5BF9\u5E94\u7684\u5750\u6807starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alicp.jetcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jetcache-starter-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u672C\u5730\u7F13\u5B58\u57FA\u672C\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jetcache</span><span class="token punctuation">:</span>
  <span class="token key atrule">local</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> linkedhashmap
      <span class="token key atrule">keyConvertor</span><span class="token punctuation">:</span> fastjson
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E3A\u4E86\u52A0\u901F\u6570\u636E\u83B7\u53D6\u65F6key\u7684\u5339\u914D\u901F\u5EA6\uFF0Cjetcache\u8981\u6C42\u6307\u5B9Akey\u7684\u7C7B\u578B\u8F6C\u6362\u5668\u3002\u7B80\u5355\u8BF4\u5C31\u662F\uFF0C\u5982\u679C\u4F60\u7ED9\u4E86\u4E00\u4E2AObject\u4F5C\u4E3Akey\u7684\u8BDD\uFF0C\u6211\u5148\u7528key\u7684\u7C7B\u578B\u8F6C\u6362\u5668\u7ED9\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u518D\u4FDD\u5B58\u3002\u7B49\u5230\u83B7\u53D6\u6570\u636E\u65F6\uFF0C\u4ECD\u7136\u662F\u5148\u4F7F\u7528\u7ED9\u5B9A\u7684Object\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u6839\u636E\u5B57\u7B26\u4E32\u5339\u914D\u3002\u7531\u4E8Ejetcache\u662F\u963F\u91CC\u7684\u6280\u672F\uFF0C\u8FD9\u91CC\u63A8\u8350key\u7684\u7C7B\u578B\u8F6C\u6362\u5668\u4F7F\u7528\u963F\u91CC\u7684fastjson\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u542F\u7528\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//jetcache\u542F\u7528\u7F13\u5B58\u7684\u4E3B\u5F00\u5173</span>
<span class="token annotation punctuation">@EnableCreateCacheAnnotation</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot20JetCacheApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot20JetCacheApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u521B\u5EFA\u7F13\u5B58\u5BF9\u8C61Cache\u65F6\uFF0C\u6807\u6CE8\u5F53\u524D\u4F7F\u7528\u672C\u5730\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@CreateCache</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;jetCache_&quot;</span><span class="token punctuation">,</span>expire <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span>timeUnit <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span>cacheType <span class="token operator">=</span> <span class="token class-name">CacheType</span><span class="token punctuation">.</span><span class="token constant">LOCAL</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Cache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span> <span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> jetCache<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jetCache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>tele<span class="token punctuation">,</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> jetCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>smsCode<span class="token punctuation">.</span><span class="token function">getTele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> smsCode<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B cacheType\u63A7\u5236\u5F53\u524D\u7F13\u5B58\u4F7F\u7528\u672C\u5730\u7F13\u5B58\u8FD8\u662F\u8FDC\u7A0B\u7F13\u5B58\uFF0C\u914D\u7F6EcacheType=CacheType.LOCAL\u5373\u4F7F\u7528\u672C\u5730\u7F13\u5B58\u3002</p><h5 id="\u672C\u5730-\u8FDC\u7A0B\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u672C\u5730-\u8FDC\u7A0B\u65B9\u6848" aria-hidden="true">#</a> \u672C\u5730+\u8FDC\u7A0B\u65B9\u6848</h5><p>\u200B \u672C\u5730\u548C\u8FDC\u7A0B\u65B9\u6CD5\u90FD\u6709\u4E86\uFF0C\u4E24\u79CD\u65B9\u6848\u4E00\u8D77\u4F7F\u7528\u5982\u4F55\u914D\u7F6E\u5462\uFF1F\u5176\u5B9E\u5C31\u662F\u5C06\u4E24\u79CD\u914D\u7F6E\u5408\u5E76\u5230\u4E00\u8D77\u5C31\u53EF\u4EE5\u4E86\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jetcache</span><span class="token punctuation">:</span>
  <span class="token key atrule">local</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> linkedhashmap
      <span class="token key atrule">keyConvertor</span><span class="token punctuation">:</span> fastjson
  <span class="token key atrule">remote</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
    <span class="token key atrule">sms</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5728\u521B\u5EFA\u7F13\u5B58\u7684\u65F6\u5019\uFF0C\u914D\u7F6EcacheType\u4E3ABOTH\u5373\u5219\u672C\u5730\u7F13\u5B58\u4E0E\u8FDC\u7A0B\u7F13\u5B58\u540C\u65F6\u4F7F\u7528\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@CreateCache</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;jetCache_&quot;</span><span class="token punctuation">,</span>expire <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span>timeUnit <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span>cacheType <span class="token operator">=</span> <span class="token class-name">CacheType</span><span class="token punctuation">.</span><span class="token constant">BOTH</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Cache</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span> <span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> jetCache<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B cacheType\u5982\u679C\u4E0D\u8FDB\u884C\u914D\u7F6E\uFF0C\u9ED8\u8BA4\u503C\u662FREMOTE\uFF0C\u5373\u4EC5\u4F7F\u7528\u8FDC\u7A0B\u7F13\u5B58\u65B9\u6848\u3002\u5173\u4E8Ejetcache\u7684\u914D\u7F6E\uFF0C\u53C2\u8003\u4EE5\u4E0B\u4FE1\u606F</p><table><thead><tr><th>\u5C5E\u6027</th><th>\u9ED8\u8BA4\u503C</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>jetcache.statIntervalMinutes</td><td>0</td><td>\u7EDF\u8BA1\u95F4\u9694\uFF0C0\u8868\u793A\u4E0D\u7EDF\u8BA1</td></tr><tr><td>jetcache.hiddenPackages</td><td>\u65E0</td><td>\u81EA\u52A8\u751F\u6210name\u65F6\uFF0C\u9690\u85CF\u6307\u5B9A\u7684\u5305\u540D\u524D\u7F00</td></tr><tr><td>jetcache.[local|remote].\${area}.type</td><td>\u65E0</td><td>\u7F13\u5B58\u7C7B\u578B\uFF0C\u672C\u5730\u652F\u6301linkedhashmap\u3001caffeine\uFF0C\u8FDC\u7A0B\u652F\u6301redis\u3001tair</td></tr><tr><td>jetcache.[local|remote].\${area}.keyConvertor</td><td>\u65E0</td><td>key\u8F6C\u6362\u5668\uFF0C\u5F53\u524D\u4EC5\u652F\u6301fastjson</td></tr><tr><td>jetcache.[local|remote].\${area}.valueEncoder</td><td>java</td><td>\u4EC5remote\u7C7B\u578B\u7684\u7F13\u5B58\u9700\u8981\u6307\u5B9A\uFF0C\u53EF\u9009java\u548Ckryo</td></tr><tr><td>jetcache.[local|remote].\${area}.valueDecoder</td><td>java</td><td>\u4EC5remote\u7C7B\u578B\u7684\u7F13\u5B58\u9700\u8981\u6307\u5B9A\uFF0C\u53EF\u9009java\u548Ckryo</td></tr><tr><td>jetcache.[local|remote].\${area}.limit</td><td>100</td><td>\u4EC5local\u7C7B\u578B\u7684\u7F13\u5B58\u9700\u8981\u6307\u5B9A\uFF0C\u7F13\u5B58\u5B9E\u4F8B\u6700\u5927\u5143\u7D20\u6570</td></tr><tr><td>jetcache.[local|remote].\${area}.expireAfterWriteInMillis</td><td>\u65E0\u7A77\u5927</td><td>\u9ED8\u8BA4\u8FC7\u671F\u65F6\u95F4\uFF0C\u6BEB\u79D2\u5355\u4F4D</td></tr><tr><td>jetcache.local.\${area}.expireAfterAccessInMillis</td><td>0</td><td>\u4EC5local\u7C7B\u578B\u7684\u7F13\u5B58\u6709\u6548\uFF0C\u6BEB\u79D2\u5355\u4F4D\uFF0C\u6700\u5927\u4E0D\u6D3B\u52A8\u95F4\u9694</td></tr></tbody></table><p>\u200B \u4EE5\u4E0A\u65B9\u6848\u4EC5\u652F\u6301\u624B\u5DE5\u63A7\u5236\u7F13\u5B58\uFF0C\u4F46\u662Fspringcache\u65B9\u6848\u4E2D\u7684\u65B9\u6CD5\u7F13\u5B58\u7279\u522B\u597D\u7528\uFF0C\u7ED9\u4E00\u4E2A\u65B9\u6CD5\u6DFB\u52A0\u4E00\u4E2A\u6CE8\u89E3\uFF0C\u65B9\u6CD5\u5C31\u4F1A\u81EA\u52A8\u4F7F\u7528\u7F13\u5B58\u3002jetcache\u4E5F\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684\u529F\u80FD\uFF0C\u5373\u65B9\u6CD5\u7F13\u5B58\u3002</p><p><strong>\u65B9\u6CD5\u7F13\u5B58</strong></p><p>\u200B jetcache\u63D0\u4F9B\u4E86\u65B9\u6CD5\u7F13\u5B58\u65B9\u6848\uFF0C\u53EA\u4E0D\u8FC7\u540D\u79F0\u53D8\u66F4\u4E86\u800C\u5DF2\u3002\u5728\u5BF9\u5E94\u7684\u64CD\u4F5C\u63A5\u53E3\u4E0A\u65B9\u4F7F\u7528\u6CE8\u89E3@Cached\u5373\u53EF</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408jetcache\u5BF9\u5E94\u7684\u5750\u6807starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alicp.jetcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jetcache-starter-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6E\u7F13\u5B58</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jetcache</span><span class="token punctuation">:</span>
  <span class="token key atrule">local</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> linkedhashmap
      <span class="token key atrule">keyConvertor</span><span class="token punctuation">:</span> fastjson
  <span class="token key atrule">remote</span><span class="token punctuation">:</span>
    <span class="token key atrule">default</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">keyConvertor</span><span class="token punctuation">:</span> fastjson
      <span class="token key atrule">valueEncode</span><span class="token punctuation">:</span> java
      <span class="token key atrule">valueDecode</span><span class="token punctuation">:</span> java
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
    <span class="token key atrule">sms</span><span class="token punctuation">:</span>
      <span class="token key atrule">type</span><span class="token punctuation">:</span> redis
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
      <span class="token key atrule">poolConfig</span><span class="token punctuation">:</span>
        <span class="token key atrule">maxTotal</span><span class="token punctuation">:</span> <span class="token number">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u7531\u4E8Eredis\u7F13\u5B58\u4E2D\u4E0D\u652F\u6301\u4FDD\u5B58\u5BF9\u8C61\uFF0C\u56E0\u6B64\u9700\u8981\u5BF9redis\u8BBE\u7F6E\u5F53Object\u7C7B\u578B\u6570\u636E\u8FDB\u5165\u5230redis\u4E2D\u65F6\u5982\u4F55\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\u3002\u9700\u8981\u914D\u7F6EkeyConvertor\u8868\u793Akey\u7684\u7C7B\u578B\u8F6C\u6362\u65B9\u5F0F\uFF0C\u540C\u65F6\u6807\u6CE8value\u7684\u8F6C\u6362\u7C7B\u578B\u65B9\u5F0F\uFF0C\u503C\u8FDB\u5165redis\u65F6\u662Fjava\u7C7B\u578B\uFF0C\u6807\u6CE8valueEncode\u4E3Ajava\uFF0C\u503C\u4ECEredis\u4E2D\u8BFB\u53D6\u65F6\u8F6C\u6362\u6210java\uFF0C\u6807\u6CE8valueDecode\u4E3Ajava\u3002</p><p>\u200B \u6CE8\u610F\uFF0C\u4E3A\u4E86\u5B9E\u73B0Object\u7C7B\u578B\u7684\u503C\u8FDB\u51FAredis\uFF0C\u9700\u8981\u4FDD\u969C\u8FDB\u51FAredis\u7684Object\u7C7B\u578B\u7684\u6570\u636E\u5FC5\u987B\u5B9E\u73B0\u5E8F\u5217\u5316\u63A5\u53E3\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u542F\u7528\u7F13\u5B58\u65F6\u5F00\u542F\u65B9\u6CD5\u7F13\u5B58\u529F\u80FD\uFF0C\u5E76\u914D\u7F6EbasePackages\uFF0C\u8BF4\u660E\u5728\u54EA\u4E9B\u5305\u4E2D\u5F00\u542F\u65B9\u6CD5\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//jetcache\u542F\u7528\u7F13\u5B58\u7684\u4E3B\u5F00\u5173</span>
<span class="token annotation punctuation">@EnableCreateCacheAnnotation</span>
<span class="token comment">//\u5F00\u542F\u65B9\u6CD5\u6CE8\u89E3\u7F13\u5B58</span>
<span class="token annotation punctuation">@EnableMethodCache</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;com.itheima&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot20JetCacheApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot20JetCacheApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528\u6CE8\u89E3@Cached\u6807\u6CE8\u5F53\u524D\u65B9\u6CD5\u4F7F\u7528\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token annotation punctuation">@Cached</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;book_&quot;</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token string">&quot;#id&quot;</span><span class="token punctuation">,</span>expire <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">,</span>cacheType <span class="token operator">=</span> <span class="token class-name">CacheType</span><span class="token punctuation">.</span><span class="token constant">REMOTE</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bookDao<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u8FDC\u7A0B\u65B9\u6848\u7684\u6570\u636E\u540C\u6B65" tabindex="-1"><a class="header-anchor" href="#\u8FDC\u7A0B\u65B9\u6848\u7684\u6570\u636E\u540C\u6B65" aria-hidden="true">#</a> \u8FDC\u7A0B\u65B9\u6848\u7684\u6570\u636E\u540C\u6B65</h5><p>\u200B \u7531\u4E8E\u8FDC\u7A0B\u65B9\u6848\u4E2Dredis\u4FDD\u5B58\u7684\u6570\u636E\u53EF\u4EE5\u88AB\u591A\u4E2A\u5BA2\u6237\u7AEF\u5171\u4EAB\uFF0C\u8FD9\u5C31\u5B58\u5728\u4E86\u6570\u636E\u540C\u6B65\u95EE\u9898\u3002jetcache\u63D0\u4F9B\u4E863\u4E2A\u6CE8\u89E3\u89E3\u51B3\u6B64\u95EE\u9898\uFF0C\u5206\u522B\u5728\u66F4\u65B0\u3001\u5220\u9664\u64CD\u4F5C\u65F6\u540C\u6B65\u7F13\u5B58\u6570\u636E\uFF0C\u548C\u8BFB\u53D6\u7F13\u5B58\u65F6\u5B9A\u65F6\u5237\u65B0\u6570\u636E</p><p><strong>\u66F4\u65B0\u7F13\u5B58</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@CacheUpdate</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;book_&quot;</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token string">&quot;#book.id&quot;</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token string">&quot;#book&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> bookDao<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5220\u9664\u7F13\u5B58</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@CacheInvalidate</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;book_&quot;</span><span class="token punctuation">,</span>key <span class="token operator">=</span> <span class="token string">&quot;#id&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> bookDao<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5B9A\u65F6\u5237\u65B0\u7F13\u5B58</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Cached</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;book_&quot;</span><span class="token punctuation">,</span>key<span class="token operator">=</span><span class="token string">&quot;#id&quot;</span><span class="token punctuation">,</span>expire <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">,</span>cacheType <span class="token operator">=</span> <span class="token class-name">CacheType</span><span class="token punctuation">.</span><span class="token constant">REMOTE</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CacheRefresh</span><span class="token punctuation">(</span>refresh <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> bookDao<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u6570\u636E\u62A5\u8868" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u62A5\u8868" aria-hidden="true">#</a> \u6570\u636E\u62A5\u8868</h5><p>\u200B jetcache\u8FD8\u63D0\u4F9B\u6709\u7B80\u5355\u7684\u6570\u636E\u62A5\u8868\u529F\u80FD\uFF0C\u5E2E\u52A9\u5F00\u53D1\u8005\u5FEB\u901F\u67E5\u770B\u7F13\u5B58\u547D\u4E2D\u4FE1\u606F\uFF0C\u53EA\u9700\u8981\u6DFB\u52A0\u4E00\u4E2A\u914D\u7F6E\u5373\u53EF</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">jetcache</span><span class="token punctuation">:</span>
  <span class="token key atrule">statIntervalMinutes</span><span class="token punctuation">:</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8BBE\u7F6E\u540E\uFF0C\u6BCF1\u5206\u949F\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u7F13\u5B58\u6570\u636E\u547D\u4E2D\u4FE1\u606F</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>[DefaultExecutor] c.alicp.jetcache.support.StatInfoLogger  : jetcache stat from 2022-02-28 09:32:15,892 to 2022-02-28 09:33:00,003
cache    |    qps|   rate|   get|    hit|   fail|   expire|   avgLoadTime|   maxLoadTime
---------+-------+-------+------+-------+-------+---------+--------------+--------------
book_    |   0.66| 75.86%|    29|     22|      0|        0|          28.0|           188
---------+-------+-------+------+-------+-------+---------+--------------+--------------
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>jetcache\u662F\u4E00\u4E2A\u7C7B\u4F3C\u4E8Espringcache\u7684\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\uFF0C\u81EA\u8EAB\u4E0D\u5177\u6709\u7F13\u5B58\u529F\u80FD\uFF0C\u5B83\u63D0\u4F9B\u6709\u672C\u5730\u7F13\u5B58\u4E0E\u8FDC\u7A0B\u7F13\u5B58\u591A\u7EA7\u5171\u540C\u4F7F\u7528\u7684\u7F13\u5B58\u89E3\u51B3\u65B9\u6848</li><li>jetcache\u63D0\u4F9B\u7684\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\u53D7\u9650\u4E8E\u76EE\u524D\u652F\u6301\u7684\u65B9\u6848\uFF0C\u672C\u5730\u7F13\u5B58\u652F\u6301\u4E24\u79CD\uFF0C\u8FDC\u7A0B\u7F13\u5B58\u652F\u6301\u4E24\u79CD</li><li>\u6CE8\u610F\u6570\u636E\u8FDB\u5165\u8FDC\u7A0B\u7F13\u5B58\u65F6\u7684\u7C7B\u578B\u8F6C\u6362\u95EE\u9898</li><li>jetcache\u63D0\u4F9B\u65B9\u6CD5\u7F13\u5B58\uFF0C\u5E76\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684\u7F13\u5B58\u66F4\u65B0\u4E0E\u5237\u65B0\u529F\u80FD</li><li>jetcache\u63D0\u4F9B\u6709\u7B80\u5355\u7684\u7F13\u5B58\u4FE1\u606F\u547D\u4E2D\u62A5\u8868\u65B9\u4FBF\u5F00\u53D1\u8005\u5373\u65F6\u76D1\u63A7\u7F13\u5B58\u6570\u636E\u547D\u4E2D\u60C5\u51B5</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B jetcache\u89E3\u51B3\u4E86\u524D\u671F\u4F7F\u7528\u7F13\u5B58\u65B9\u6848\u5355\u4E00\u7684\u95EE\u9898\uFF0C\u4F46\u662F\u4ECD\u7136\u4E0D\u80FD\u7075\u6D3B\u7684\u9009\u62E9\u7F13\u5B58\u8FDB\u884C\u642D\u914D\u4F7F\u7528\uFF0C\u662F\u5426\u5B58\u5728\u4E00\u79CD\u6280\u672F\u53EF\u4EE5\u7075\u6D3B\u7684\u642D\u914D\u5404\u79CD\u5404\u6837\u7684\u7F13\u5B58\u4F7F\u7528\u5462\uFF1F\u6709\uFF0C\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BB2\u3002</p><h4 id="springboot\u6574\u5408j2cache\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408j2cache\u7F13\u5B58" aria-hidden="true">#</a> SpringBoot\u6574\u5408j2cache\u7F13\u5B58</h4><p>\u200B jetcache\u53EF\u4EE5\u5728\u9650\u5B9A\u8303\u56F4\u5185\u6784\u5EFA\u591A\u7EA7\u7F13\u5B58\uFF0C\u4F46\u662F\u7075\u6D3B\u6027\u4E0D\u8DB3\uFF0C\u4E0D\u80FD\u968F\u610F\u642D\u914D\u7F13\u5B58\uFF0C\u672C\u8282\u4ECB\u7ECD\u4E00\u79CD\u53EF\u4EE5\u968F\u610F\u642D\u914D\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\u7684\u7F13\u5B58\u6574\u5408\u6846\u67B6\uFF0Cj2cache\u3002\u4E0B\u9762\u5C31\u6765\u8BB2\u89E3\u5982\u4F55\u4F7F\u7528\u8FD9\u79CD\u7F13\u5B58\u6846\u67B6\uFF0C\u4EE5Ehcache\u4E0Eredis\u6574\u5408\u4E3A\u4F8B\uFF1A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165j2cache\u3001redis\u3001ehcache\u5750\u6807</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.oschina.j2cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>j2cache-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.8.4-release<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.oschina.j2cache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>j2cache-spring-boot2-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.8.0-release<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.sf.ehcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ehcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B <strong>j2cache\u7684starter\u4E2D\u9ED8\u8BA4\u5305\u542B\u4E86redis\u5750\u6807\uFF0C\u5B98\u65B9\u63A8\u8350\u4F7F\u7528redis\u4F5C\u4E3A\u4E8C\u7EA7\u7F13\u5B58\uFF0C\u56E0\u6B64\u6B64\u5904\u65E0\u9700\u5BFC\u5165redis\u5750\u6807</strong></p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6E\u4E00\u7EA7\u4E0E\u4E8C\u7EA7\u7F13\u5B58\uFF0C\u5E76\u914D\u7F6E\u4E00\u4E8C\u7EA7\u7F13\u5B58\u95F4\u6570\u636E\u4F20\u9012\u65B9\u5F0F\uFF0C\u914D\u7F6E\u4E66\u5199\u5728\u540D\u79F0\u4E3Aj2cache.properties\u7684\u6587\u4EF6\u4E2D\u3002\u5982\u679C\u4F7F\u7528ehcache\u8FD8\u9700\u8981\u5355\u72EC\u6DFB\u52A0ehcache\u7684\u914D\u7F6E\u6587\u4EF6</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># 1\u7EA7\u7F13\u5B58</span>
j2cache.L1.provider_class = ehcache
ehcache.configXml = ehcache.xml

<span class="token comment"># 2\u7EA7\u7F13\u5B58</span>
j2cache.L2.provider_class = net.oschina.j2cache.cache.support.redis.SpringRedisProvider
j2cache.L2.config_section = redis
redis.hosts = localhost<span class="token punctuation">:</span><span class="token number">6379</span>

<span class="token comment"># 1\u7EA7\u7F13\u5B58\u4E2D\u7684\u6570\u636E\u5982\u4F55\u5230\u8FBE\u4E8C\u7EA7\u7F13\u5B58</span>
j2cache.broadcast = net.oschina.j2cache.cache.support.redis.SpringRedisPubSubPolicy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6B64\u5904\u914D\u7F6E\u4E0D\u80FD\u4E71\u914D\u7F6E\uFF0C\u9700\u8981\u53C2\u7167\u5B98\u65B9\u7ED9\u51FA\u7684\u914D\u7F6E\u8BF4\u660E\u8FDB\u884C\u3002\u4F8B\u59821\u7EA7\u4F9B\u5E94\u5546\u9009\u62E9ehcache\uFF0C\u4F9B\u5E94\u5546\u540D\u79F0\u4EC5\u4EC5\u662F\u4E00\u4E2Aehcache\uFF0C\u4F46\u662F2\u7EA7\u4F9B\u5E94\u5546\u9009\u62E9redis\u65F6\u8981\u5199\u4E13\u7528\u7684Spring\u6574\u5408Redis\u7684\u4F9B\u5E94\u5546\u7C7B\u540DSpringRedisProvider\uFF0C\u800C\u4E14\u8FD9\u4E2A\u540D\u79F0\u5E76\u4E0D\u662F\u6240\u6709\u7684redis\u5305\u4E2D\u80FD\u63D0\u4F9B\u7684\uFF0C\u4E5F\u4E0D\u662Fspring\u5305\u4E2D\u63D0\u4F9B\u7684\u3002\u56E0\u6B64\u914D\u7F6Ej2cache\u5FC5\u987B\u53C2\u7167\u5B98\u65B9\u6587\u6863\u914D\u7F6E\uFF0C\u800C\u4E14\u8FD8\u8981\u53BB\u627E\u4E13\u7528\u7684\u6574\u5408\u5305\uFF0C\u5BFC\u5165\u5BF9\u5E94\u5750\u6807\u624D\u53EF\u4EE5\u4F7F\u7528\u3002</p><p>\u200B \u4E00\u7EA7\u4E0E\u4E8C\u7EA7\u7F13\u5B58\u6700\u91CD\u8981\u7684\u4E00\u4E2A\u914D\u7F6E\u5C31\u662F\u4E24\u8005\u4E4B\u95F4\u7684\u6570\u636E\u6C9F\u901A\u65B9\u5F0F\uFF0C\u6B64\u7C7B\u914D\u7F6E\u4E5F\u4E0D\u662F\u968F\u610F\u914D\u7F6E\u7684\uFF0C\u5E76\u4E14\u4E0D\u540C\u7684\u7F13\u5B58\u89E3\u51B3\u65B9\u6848\u63D0\u4F9B\u7684\u6570\u636E\u6C9F\u901A\u65B9\u5F0F\u5DEE\u5F02\u5316\u5F88\u5927\uFF0C\u9700\u8981\u67E5\u8BE2\u5B98\u65B9\u6587\u6863\u8FDB\u884C\u8BBE\u7F6E\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528\u7F13\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSCodeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SMSCodeService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CodeUtils</span> codeUtils<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CacheChannel</span> cacheChannel<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendCodeToSMS</span><span class="token punctuation">(</span><span class="token class-name">String</span> tele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> codeUtils<span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span>tele<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cacheChannel<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>tele<span class="token punctuation">,</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkCode</span><span class="token punctuation">(</span><span class="token class-name">SMSCode</span> smsCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> code <span class="token operator">=</span> cacheChannel<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;sms&quot;</span><span class="token punctuation">,</span>smsCode<span class="token punctuation">.</span><span class="token function">getTele</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> smsCode<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B j2cache\u7684\u4F7F\u7528\u548Cjetcache\u6BD4\u8F83\u7C7B\u4F3C\uFF0C\u4F46\u662F\u65E0\u9700\u5F00\u542F\u4F7F\u7528\u7684\u5F00\u5173\uFF0C\u76F4\u63A5\u5B9A\u4E49\u7F13\u5B58\u5BF9\u8C61\u5373\u53EF\u4F7F\u7528\uFF0C\u7F13\u5B58\u5BF9\u8C61\u540DCacheChannel\u3002</p><p>\u200B j2cache\u7684\u4F7F\u7528\u4E0D\u590D\u6742\uFF0C\u914D\u7F6E\u662Fj2cache\u7684\u6838\u5FC3\uFF0C\u6BD5\u7ADF\u662F\u4E00\u4E2A\u6574\u5408\u578B\u7684\u7F13\u5B58\u6846\u67B6\u3002\u7F13\u5B58\u76F8\u5173\u7684\u914D\u7F6E\u8FC7\u591A\uFF0C\u53EF\u4EE5\u67E5\u9605j2cache-core\u6838\u5FC3\u5305\u4E2D\u7684j2cache.properties\u6587\u4EF6\u4E2D\u7684\u8BF4\u660E\u3002\u5982\u4E0B\uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment">#J2Cache configuration</span>
<span class="token comment">#########################################</span>
<span class="token comment"># Cache Broadcast Method</span>
<span class="token comment"># values:</span>
<span class="token comment"># jgroups -&gt; use jgroups&#39;s multicast</span>
<span class="token comment"># redis -&gt; use redis publish/subscribe mechanism (using jedis)</span>
<span class="token comment"># lettuce -&gt; use redis publish/subscribe mechanism (using lettuce, Recommend)</span>
<span class="token comment"># rabbitmq -&gt; use RabbitMQ publisher/consumer mechanism</span>
<span class="token comment"># rocketmq -&gt; use RocketMQ publisher/consumer mechanism</span>
<span class="token comment"># none -&gt; don&#39;t notify the other nodes in cluster</span>
<span class="token comment"># xx.xxxx.xxxx.Xxxxx your own cache broadcast policy classname that implement net.oschina.j2cache.cluster.ClusterPolicy</span>
<span class="token comment">#########################################</span>
<span class="token key attr-name">j2cache.broadcast</span> <span class="token punctuation">=</span> <span class="token value attr-value">redis</span>

<span class="token comment"># jgroups properties</span>
<span class="token key attr-name">jgroups.channel.name</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>
<span class="token key attr-name">jgroups.configXml</span> <span class="token punctuation">=</span> <span class="token value attr-value">/network.xml</span>

<span class="token comment"># RabbitMQ properties</span>
<span class="token key attr-name">rabbitmq.exchange</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>
<span class="token key attr-name">rabbitmq.host</span> <span class="token punctuation">=</span> <span class="token value attr-value">localhost</span>
<span class="token key attr-name">rabbitmq.port</span> <span class="token punctuation">=</span> <span class="token value attr-value">5672</span>
<span class="token key attr-name">rabbitmq.username</span> <span class="token punctuation">=</span> <span class="token value attr-value">guest</span>
<span class="token key attr-name">rabbitmq.password</span> <span class="token punctuation">=</span> <span class="token value attr-value">guest</span>

<span class="token comment"># RocketMQ properties</span>
<span class="token key attr-name">rocketmq.name</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>
<span class="token key attr-name">rocketmq.topic</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>
<span class="token comment"># use ; to split multi hosts</span>
<span class="token key attr-name">rocketmq.hosts</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1:9876</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Level 1&amp;2 provider</span>
<span class="token comment"># values:</span>
<span class="token comment"># none -&gt; disable this level cache</span>
<span class="token comment"># ehcache -&gt; use ehcache2 as level 1 cache</span>
<span class="token comment"># ehcache3 -&gt; use ehcache3 as level 1 cache</span>
<span class="token comment"># caffeine -&gt; use caffeine as level 1 cache(only in memory)</span>
<span class="token comment"># redis -&gt; use redis as level 2 cache (using jedis)</span>
<span class="token comment"># lettuce -&gt; use redis as level 2 cache (using lettuce)</span>
<span class="token comment"># readonly-redis -&gt; use redis as level 2 cache ,but never write data to it. if use this provider, you must uncomment \`j2cache.L2.config_section\` to make the redis configurations available.</span>
<span class="token comment"># memcached -&gt; use memcached as level 2 cache (xmemcached),</span>
<span class="token comment"># [classname] -&gt; use custom provider</span>
<span class="token comment">#########################################</span>

<span class="token key attr-name">j2cache.L1.provider_class</span> <span class="token punctuation">=</span> <span class="token value attr-value">caffeine</span>
<span class="token key attr-name">j2cache.L2.provider_class</span> <span class="token punctuation">=</span> <span class="token value attr-value">redis</span>

<span class="token comment"># When L2 provider isn&#39;t \`redis\`, using \`L2.config_section = redis\` to read redis configurations</span>
<span class="token comment"># j2cache.L2.config_section = redis</span>

<span class="token comment"># Enable/Disable ttl in redis cache data (if disabled, the object in redis will never expire, default:true)</span>
<span class="token comment"># NOTICE: redis hash mode (redis.storage = hash) do not support this feature)</span>
<span class="token key attr-name">j2cache.sync_ttl_to_redis</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>

<span class="token comment"># Whether to cache null objects by default (default false)</span>
<span class="token key attr-name">j2cache.default_cache_null_object</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Cache Serialization Provider</span>
<span class="token comment"># values:</span>
<span class="token comment"># fst -&gt; using fast-serialization (recommend)</span>
<span class="token comment"># kryo -&gt; using kryo serialization</span>
<span class="token comment"># json -&gt; using fst&#39;s json serialization (testing)</span>
<span class="token comment"># fastjson -&gt; using fastjson serialization (embed non-static class not support)</span>
<span class="token comment"># java -&gt; java standard</span>
<span class="token comment"># fse -&gt; using fse serialization</span>
<span class="token comment"># [classname implements Serializer]</span>
<span class="token comment">#########################################</span>

<span class="token key attr-name">j2cache.serialization</span> <span class="token punctuation">=</span> <span class="token value attr-value">json</span>
<span class="token comment">#json.map.person = net.oschina.j2cache.demo.Person</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Ehcache configuration</span>
<span class="token comment">#########################################</span>

<span class="token comment"># ehcache.configXml = /ehcache.xml</span>

<span class="token comment"># ehcache3.configXml = /ehcache3.xml</span>
<span class="token comment"># ehcache3.defaultHeapSize = 1000</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Caffeine configuration</span>
<span class="token comment"># caffeine.region.[name] = size, xxxx[s|m|h|d]</span>
<span class="token comment">#</span>
<span class="token comment">#########################################</span>
<span class="token key attr-name">caffeine.properties</span> <span class="token punctuation">=</span> <span class="token value attr-value">/caffeine.properties</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Redis connection configuration</span>
<span class="token comment">#########################################</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Redis Cluster Mode</span>
<span class="token comment">#</span>
<span class="token comment"># single -&gt; single redis server</span>
<span class="token comment"># sentinel -&gt; master-slaves servers</span>
<span class="token comment"># cluster -&gt; cluster servers (\u6570\u636E\u5E93\u914D\u7F6E\u65E0\u6548\uFF0C\u4F7F\u7528 database = 0\uFF09</span>
<span class="token comment"># sharded -&gt; sharded servers  (\u5BC6\u7801\u3001\u6570\u636E\u5E93\u5FC5\u987B\u5728 hosts \u4E2D\u6307\u5B9A\uFF0C\u4E14\u8FDE\u63A5\u6C60\u914D\u7F6E\u65E0\u6548 ; redis://user:password@127.0.0.1:6379/0\uFF09</span>
<span class="token comment">#</span>
<span class="token comment">#########################################</span>

<span class="token key attr-name">redis.mode</span> <span class="token punctuation">=</span> <span class="token value attr-value">single</span>

<span class="token comment">#redis storage mode (generic|hash)</span>
<span class="token key attr-name">redis.storage</span> <span class="token punctuation">=</span> <span class="token value attr-value">generic</span>

<span class="token comment">## redis pub/sub channel name</span>
<span class="token key attr-name">redis.channel</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>
<span class="token comment">## redis pub/sub server (using redis.hosts when empty)</span>
<span class="token key attr-name">redis.channel.host</span> <span class="token value attr-value">=</span>

<span class="token comment">#cluster name just for sharded</span>
<span class="token key attr-name">redis.cluster_name</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>

<span class="token comment">## redis cache namespace optional, default[empty]</span>
<span class="token key attr-name">redis.namespace</span> <span class="token value attr-value">=</span>

<span class="token comment">## redis command scan parameter count, default[1000]</span>
<span class="token comment">#redis.scanCount = 1000</span>

<span class="token comment">## connection</span>
<span class="token comment"># Separate multiple redis nodes with commas, such as 192.168.0.10:6379,192.168.0.11:6379,192.168.0.12:6379</span>

<span class="token key attr-name">redis.hosts</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1:6379</span>
<span class="token key attr-name">redis.timeout</span> <span class="token punctuation">=</span> <span class="token value attr-value">2000</span>
<span class="token key attr-name">redis.password</span> <span class="token value attr-value">=</span>
<span class="token key attr-name">redis.database</span> <span class="token punctuation">=</span> <span class="token value attr-value">0</span>
<span class="token key attr-name">redis.ssl</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>

<span class="token comment">## redis pool properties</span>
<span class="token key attr-name">redis.maxTotal</span> <span class="token punctuation">=</span> <span class="token value attr-value">100</span>
<span class="token key attr-name">redis.maxIdle</span> <span class="token punctuation">=</span> <span class="token value attr-value">10</span>
<span class="token key attr-name">redis.maxWaitMillis</span> <span class="token punctuation">=</span> <span class="token value attr-value">5000</span>
<span class="token key attr-name">redis.minEvictableIdleTimeMillis</span> <span class="token punctuation">=</span> <span class="token value attr-value">60000</span>
<span class="token key attr-name">redis.minIdle</span> <span class="token punctuation">=</span> <span class="token value attr-value">1</span>
<span class="token key attr-name">redis.numTestsPerEvictionRun</span> <span class="token punctuation">=</span> <span class="token value attr-value">10</span>
<span class="token key attr-name">redis.lifo</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
<span class="token key attr-name">redis.softMinEvictableIdleTimeMillis</span> <span class="token punctuation">=</span> <span class="token value attr-value">10</span>
<span class="token key attr-name">redis.testOnBorrow</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>
<span class="token key attr-name">redis.testOnReturn</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
<span class="token key attr-name">redis.testWhileIdle</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>
<span class="token key attr-name">redis.timeBetweenEvictionRunsMillis</span> <span class="token punctuation">=</span> <span class="token value attr-value">300000</span>
<span class="token key attr-name">redis.blockWhenExhausted</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
<span class="token key attr-name">redis.jmxEnabled</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Lettuce scheme</span>
<span class="token comment">#</span>
<span class="token comment"># redis -&gt; single redis server</span>
<span class="token comment"># rediss -&gt; single redis server with ssl</span>
<span class="token comment"># redis-sentinel -&gt; redis sentinel</span>
<span class="token comment"># redis-cluster -&gt; cluster servers</span>
<span class="token comment">#</span>
<span class="token comment">#########################################</span>

<span class="token comment">#########################################</span>
<span class="token comment"># Lettuce Mode</span>
<span class="token comment">#</span>
<span class="token comment"># single -&gt; single redis server</span>
<span class="token comment"># sentinel -&gt; master-slaves servers</span>
<span class="token comment"># cluster -&gt; cluster servers (\u6570\u636E\u5E93\u914D\u7F6E\u65E0\u6548\uFF0C\u4F7F\u7528 database = 0\uFF09</span>
<span class="token comment"># sharded -&gt; sharded servers  (\u5BC6\u7801\u3001\u6570\u636E\u5E93\u5FC5\u987B\u5728 hosts \u4E2D\u6307\u5B9A\uFF0C\u4E14\u8FDE\u63A5\u6C60\u914D\u7F6E\u65E0\u6548 ; redis://user:password@127.0.0.1:6379/0\uFF09</span>
<span class="token comment">#</span>
<span class="token comment">#########################################</span>

<span class="token comment">## redis command scan parameter count, default[1000]</span>
<span class="token comment">#lettuce.scanCount = 1000</span>
<span class="token key attr-name">lettuce.mode</span> <span class="token punctuation">=</span> <span class="token value attr-value">single</span>
<span class="token key attr-name">lettuce.namespace</span> <span class="token value attr-value">=</span>
<span class="token key attr-name">lettuce.storage</span> <span class="token punctuation">=</span> <span class="token value attr-value">hash</span>
<span class="token key attr-name">lettuce.channel</span> <span class="token punctuation">=</span> <span class="token value attr-value">j2cache</span>
<span class="token key attr-name">lettuce.scheme</span> <span class="token punctuation">=</span> <span class="token value attr-value">redis</span>
<span class="token key attr-name">lettuce.hosts</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1:6379</span>
<span class="token key attr-name">lettuce.password</span> <span class="token value attr-value">=</span>
<span class="token key attr-name">lettuce.database</span> <span class="token punctuation">=</span> <span class="token value attr-value">0</span>
<span class="token key attr-name">lettuce.sentinelMasterId</span> <span class="token value attr-value">=</span>
<span class="token key attr-name">lettuce.maxTotal</span> <span class="token punctuation">=</span> <span class="token value attr-value">100</span>
<span class="token key attr-name">lettuce.maxIdle</span> <span class="token punctuation">=</span> <span class="token value attr-value">10</span>
<span class="token key attr-name">lettuce.minIdle</span> <span class="token punctuation">=</span> <span class="token value attr-value">10</span>
<span class="token comment"># timeout in milliseconds</span>
<span class="token key attr-name">lettuce.timeout</span> <span class="token punctuation">=</span> <span class="token value attr-value">10000</span>
<span class="token comment"># redis cluster topology refresh interval in milliseconds</span>
<span class="token key attr-name">lettuce.clusterTopologyRefresh</span> <span class="token punctuation">=</span> <span class="token value attr-value">3000</span>

<span class="token comment">#########################################</span>
<span class="token comment"># memcached server configurations</span>
<span class="token comment"># refer to https://gitee.com/mirrors/XMemcached</span>
<span class="token comment">#########################################</span>

<span class="token key attr-name">memcached.servers</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1:11211</span>
<span class="token key attr-name">memcached.username</span> <span class="token value attr-value">=</span>
<span class="token key attr-name">memcached.password</span> <span class="token value attr-value">=</span>
<span class="token key attr-name">memcached.connectionPoolSize</span> <span class="token punctuation">=</span> <span class="token value attr-value">10</span>
<span class="token key attr-name">memcached.connectTimeout</span> <span class="token punctuation">=</span> <span class="token value attr-value">1000</span>
<span class="token key attr-name">memcached.failureMode</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
<span class="token key attr-name">memcached.healSessionInterval</span> <span class="token punctuation">=</span> <span class="token value attr-value">1000</span>
<span class="token key attr-name">memcached.maxQueuedNoReplyOperations</span> <span class="token punctuation">=</span> <span class="token value attr-value">100</span>
<span class="token key attr-name">memcached.opTimeout</span> <span class="token punctuation">=</span> <span class="token value attr-value">100</span>
<span class="token key attr-name">memcached.sanitizeKeys</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>j2cache\u662F\u4E00\u4E2A\u7F13\u5B58\u6846\u67B6\uFF0C\u81EA\u8EAB\u4E0D\u5177\u6709\u7F13\u5B58\u529F\u80FD\uFF0C\u5B83\u63D0\u4F9B\u591A\u79CD\u7F13\u5B58\u6574\u5408\u5728\u4E00\u8D77\u4F7F\u7528\u7684\u65B9\u6848</li><li>j2cache\u9700\u8981\u901A\u8FC7\u590D\u6742\u7684\u914D\u7F6E\u8BBE\u7F6E\u5404\u7EA7\u7F13\u5B58\uFF0C\u4EE5\u53CA\u7F13\u5B58\u4E4B\u95F4\u6570\u636E\u4EA4\u6362\u7684\u65B9\u5F0F</li><li>j2cache\u64CD\u4F5C\u63A5\u53E3\u901A\u8FC7CacheChannel\u5B9E\u73B0</li></ol><h3 id="_5-2-\u4EFB\u52A1" tabindex="-1"><a class="header-anchor" href="#_5-2-\u4EFB\u52A1" aria-hidden="true">#</a> 5-2.\u4EFB\u52A1</h3><p>\u200B springboot\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u7B2C\u4E8C\u90E8\u5206\u6211\u4EEC\u6765\u8BF4\u8BF4\u4EFB\u52A1\u7CFB\u7EDF\uFF0C\u5176\u5B9E\u8FD9\u91CC\u8BF4\u7684\u4EFB\u52A1\u7CFB\u7EDF\u6307\u7684\u662F\u5B9A\u65F6\u4EFB\u52A1\u3002\u5B9A\u65F6\u4EFB\u52A1\u662F\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\u5FC5\u4E0D\u53EF\u5C11\u7684\u7EC4\u6210\u90E8\u5206\uFF0C\u8BF8\u5982\u957F\u5468\u671F\u4E1A\u52A1\u6570\u636E\u7684\u8BA1\u7B97\uFF0C\u4F8B\u5982\u5E74\u5EA6\u62A5\u8868\uFF0C\u8BF8\u5982\u7CFB\u7EDF\u810F\u6570\u636E\u7684\u5904\u7406\uFF0C\u518D\u6BD4\u5982\u7CFB\u7EDF\u6027\u80FD\u76D1\u63A7\u62A5\u544A\uFF0C\u8FD8\u6709\u62A2\u8D2D\u7C7B\u6D3B\u52A8\u7684\u5546\u54C1\u4E0A\u67B6\uFF0C\u8FD9\u4E9B\u90FD\u79BB\u4E0D\u5F00\u5B9A\u65F6\u4EFB\u52A1\u3002\u672C\u8282\u5C06\u4ECB\u7ECD\u4E24\u79CD\u4E0D\u540C\u7684\u5B9A\u65F6\u4EFB\u52A1\u6280\u672F\u3002</p><h4 id="quartz" tabindex="-1"><a class="header-anchor" href="#quartz" aria-hidden="true">#</a> Quartz</h4><p>\u200B Quartz\u6280\u672F\u662F\u4E00\u4E2A\u6BD4\u8F83\u6210\u719F\u7684\u5B9A\u65F6\u4EFB\u52A1\u6846\u67B6\uFF0C\u600E\u4E48\u8BF4\u5462\uFF1F\u6709\u70B9\u7E41\u7410\uFF0C\u7528\u8FC7\u7684\u90FD\u77E5\u9053\uFF0C\u914D\u7F6E\u7565\u5FAE\u590D\u6742\u3002springboot\u5BF9\u5176\u8FDB\u884C\u6574\u5408\u540E\uFF0C\u7B80\u5316\u4E86\u4E00\u7CFB\u5217\u7684\u914D\u7F6E\uFF0C\u5C06\u5F88\u591A\u914D\u7F6E\u91C7\u7528\u9ED8\u8BA4\u8BBE\u7F6E\uFF0C\u8FD9\u6837\u5F00\u53D1\u9636\u6BB5\u5C31\u7B80\u5316\u4E86\u5F88\u591A\u3002\u5728\u5B66\u4E60springboot\u6574\u5408Quartz\u524D\u5148\u666E\u53CA\u51E0\u4E2AQuartz\u7684\u6982\u5FF5\u3002</p><ul><li>\u5DE5\u4F5C\uFF08Job\uFF09\uFF1A\u7528\u4E8E\u5B9A\u4E49\u5177\u4F53\u6267\u884C\u7684\u5DE5\u4F5C</li><li>\u5DE5\u4F5C\u660E\u7EC6\uFF08JobDetail\uFF09\uFF1A\u7528\u4E8E\u63CF\u8FF0\u5B9A\u65F6\u5DE5\u4F5C\u76F8\u5173\u7684\u4FE1\u606F</li><li>\u89E6\u53D1\u5668\uFF08Trigger\uFF09\uFF1A\u63CF\u8FF0\u4E86\u5DE5\u4F5C\u660E\u7EC6\u4E0E\u8C03\u5EA6\u5668\u7684\u5BF9\u5E94\u5173\u7CFB</li><li>\u8C03\u5EA6\u5668\uFF08Scheduler\uFF09\uFF1A\u7528\u4E8E\u63CF\u8FF0\u89E6\u53D1\u5DE5\u4F5C\u7684\u6267\u884C\u89C4\u5219\uFF0C\u901A\u5E38\u4F7F\u7528cron\u8868\u8FBE\u5F0F\u5B9A\u4E49\u89C4\u5219</li></ul><p>\u200B \u7B80\u5355\u8BF4\u5C31\u662F\u4F60\u5B9A\u65F6\u5E72\u4EC0\u4E48\u4E8B\u60C5\uFF0C\u8FD9\u5C31\u662F\u5DE5\u4F5C\uFF0C\u5DE5\u4F5C\u4E0D\u53EF\u80FD\u5C31\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u65B9\u6CD5\uFF0C\u8FD8\u8981\u8BBE\u7F6E\u4E00\u4E9B\u660E\u7EC6\u4FE1\u606F\u3002\u5DE5\u4F5C\u5565\u65F6\u5019\u6267\u884C\uFF0C\u8BBE\u7F6E\u4E00\u4E2A\u8C03\u5EA6\u5668\uFF0C\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u6210\u8BBE\u7F6E\u4E00\u4E2A\u5DE5\u4F5C\u6267\u884C\u7684\u65F6\u95F4\u3002\u5DE5\u4F5C\u548C\u8C03\u5EA6\u90FD\u662F\u72EC\u7ACB\u5B9A\u4E49\u7684\uFF0C\u5B83\u4EEC\u4E24\u4E2A\u600E\u4E48\u914D\u5408\u5230\u4E00\u8D77\u5462\uFF1F\u7528\u89E6\u53D1\u5668\u3002\u5B8C\u4E86\uFF0C\u5C31\u8FD9\u4E48\u591A\u3002\u4E0B\u9762\u5F00\u59CBspringboot\u6574\u5408Quartz\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408Quartz\u7684starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-quartz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5B9A\u4E49\u4EFB\u52A1Bean\uFF0C\u6309\u7167Quartz\u7684\u5F00\u53D1\u89C4\u8303\u5236\u4F5C\uFF0C\u7EE7\u627FQuartzJobBean</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyQuartz</span> <span class="token keyword">extends</span> <span class="token class-name">QuartzJobBean</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">executeInternal</span><span class="token punctuation">(</span><span class="token class-name">JobExecutionContext</span> context<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JobExecutionException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;quartz task run...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u521B\u5EFAQuartz\u914D\u7F6E\u7C7B\uFF0C\u5B9A\u4E49\u5DE5\u4F5C\u660E\u7EC6\uFF08JobDetail\uFF09\u4E0E\u89E6\u53D1\u5668\u7684\uFF08Trigger\uFF09bean</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QuartzConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">JobDetail</span> <span class="token function">printJobDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//\u7ED1\u5B9A\u5177\u4F53\u7684\u5DE5\u4F5C</span>
        <span class="token keyword">return</span> <span class="token class-name">JobBuilder</span><span class="token punctuation">.</span><span class="token function">newJob</span><span class="token punctuation">(</span><span class="token class-name">MyQuartz</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">storeDurably</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Trigger</span> <span class="token function">printJobTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ScheduleBuilder</span> schedBuilder <span class="token operator">=</span> <span class="token class-name">CronScheduleBuilder</span><span class="token punctuation">.</span><span class="token function">cronSchedule</span><span class="token punctuation">(</span><span class="token string">&quot;0/5 * * * * ?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u7ED1\u5B9A\u5BF9\u5E94\u7684\u5DE5\u4F5C\u660E\u7EC6</span>
        <span class="token keyword">return</span> <span class="token class-name">TriggerBuilder</span><span class="token punctuation">.</span><span class="token function">newTrigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forJob</span><span class="token punctuation">(</span><span class="token function">printJobDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withSchedule</span><span class="token punctuation">(</span>schedBuilder<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5DE5\u4F5C\u660E\u7EC6\u4E2D\u8981\u8BBE\u7F6E\u5BF9\u5E94\u7684\u5177\u4F53\u5DE5\u4F5C\uFF0C\u4F7F\u7528newJob()\u64CD\u4F5C\u4F20\u5165\u5BF9\u5E94\u7684\u5DE5\u4F5C\u4EFB\u52A1\u7C7B\u578B\u5373\u53EF\u3002</p><p>\u200B \u89E6\u53D1\u5668\u9700\u8981\u7ED1\u5B9A\u4EFB\u52A1\uFF0C\u4F7F\u7528forJob()\u64CD\u4F5C\u4F20\u5165\u7ED1\u5B9A\u7684\u5DE5\u4F5C\u660E\u7EC6\u5BF9\u8C61\u3002\u6B64\u5904\u53EF\u4EE5\u4E3A\u5DE5\u4F5C\u660E\u7EC6\u8BBE\u7F6E\u540D\u79F0\u7136\u540E\u4F7F\u7528\u540D\u79F0\u7ED1\u5B9A\uFF0C\u4E5F\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528\u5BF9\u5E94\u65B9\u6CD5\u7ED1\u5B9A\u3002\u89E6\u53D1\u5668\u4E2D\u6700\u6838\u5FC3\u7684\u89C4\u5219\u662F\u6267\u884C\u65F6\u95F4\uFF0C\u6B64\u5904\u4F7F\u7528\u8C03\u5EA6\u5668\u5B9A\u4E49\u6267\u884C\u65F6\u95F4\uFF0C\u6267\u884C\u65F6\u95F4\u63CF\u8FF0\u65B9\u5F0F\u4F7F\u7528\u7684\u662Fcron\u8868\u8FBE\u5F0F\u3002\u6709\u5173cron\u8868\u8FBE\u5F0F\u7684\u89C4\u5219\uFF0C\u6211\u4EEC\u53EF\u4EE5\u501F\u52A9\u4E00\u4E9Bcron\u8868\u8FBE\u5F0F\u5728\u7EBF\u751F\u6210\u5668\u6765\u6839\u636E\u6211\u4EEC\u7684\u9700\u6C42\u751F\u6210\u8868\u8FBE\u5F0F\u5373\u53EF\u3002</p>`,260),Bn={href:"http://cron.qqe2.com/",target:"_blank",rel:"noopener noreferrer"},In=s("cron\u8868\u8FBE\u5F0F\u5728\u7EBF\u751F\u6210\u5668"),Dn=e(`<p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408Quartz\u5C31\u662F\u5C06Quartz\u5BF9\u5E94\u7684\u6838\u5FC3\u5BF9\u8C61\u4EA4\u7ED9spring\u5BB9\u5668\u7BA1\u7406\uFF0C\u5305\u542B\u4E24\u4E2A\u5BF9\u8C61\uFF0CJobDetail\u548CTrigger\u5BF9\u8C61</li><li>JobDetail\u5BF9\u8C61\u63CF\u8FF0\u7684\u662F\u5DE5\u4F5C\u7684\u6267\u884C\u4FE1\u606F\uFF0C\u9700\u8981\u7ED1\u5B9A\u4E00\u4E2AQuartzJobBean\u7C7B\u578B\u7684\u5BF9\u8C61</li><li>Trigger\u5BF9\u8C61\u5B9A\u4E49\u4E86\u4E00\u4E2A\u89E6\u53D1\u5668\uFF0C\u9700\u8981\u4E3A\u5176\u6307\u5B9A\u7ED1\u5B9A\u7684JobDetail\u662F\u54EA\u4E2A\uFF0C\u540C\u65F6\u8981\u8BBE\u7F6E\u6267\u884C\u5468\u671F\u8C03\u5EA6\u5668</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u4E0A\u9762\u7684\u64CD\u4F5C\u770B\u4E0A\u53BB\u4E0D\u591A\uFF0C\u4F46\u662FQuartz\u5C06\u5176\u4E2D\u7684\u5BF9\u8C61\u5212\u5206\u7C92\u5EA6\u8FC7\u7EC6\uFF0C\u5BFC\u81F4\u5F00\u53D1\u7684\u65F6\u5019\u6709\u70B9\u7E41\u7410\uFF0Cspring\u9488\u5BF9\u4E0A\u8FF0\u89C4\u5219\u8FDB\u884C\u4E86\u7B80\u5316\uFF0C\u5F00\u53D1\u4E86\u81EA\u5DF1\u7684\u4EFB\u52A1\u7BA1\u7406\u7EC4\u4EF6\u2014\u2014Task\uFF0C\u5982\u4F55\u7528\u5462\uFF1F\u54B1\u4EEC\u4E0B\u8282\u518D\u8BF4\u3002</p><h4 id="task" tabindex="-1"><a class="header-anchor" href="#task" aria-hidden="true">#</a> Task</h4><p>\u200B spring\u6839\u636E\u5B9A\u65F6\u4EFB\u52A1\u7684\u7279\u5F81\uFF0C\u5C06\u5B9A\u65F6\u4EFB\u52A1\u7684\u5F00\u53D1\u7B80\u5316\u5230\u4E86\u6781\u81F4\u3002\u600E\u4E48\u8BF4\u5462\uFF1F\u8981\u505A\u5B9A\u65F6\u4EFB\u52A1\u603B\u8981\u544A\u8BC9\u5BB9\u5668\u6709\u8FD9\u529F\u80FD\u5427\uFF0C\u7136\u540E\u5B9A\u65F6\u6267\u884C\u4EC0\u4E48\u4EFB\u52A1\u76F4\u63A5\u544A\u8BC9\u5BF9\u5E94\u7684bean\u4EC0\u4E48\u65F6\u95F4\u6267\u884C\u5C31\u884C\u4E86\uFF0C\u5C31\u8FD9\u4E48\u7B80\u5355\uFF0C\u4E00\u8D77\u6765\u770B\u600E\u4E48\u505A</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5F00\u542F\u5B9A\u65F6\u4EFB\u52A1\u529F\u80FD\uFF0C\u5728\u5F15\u5BFC\u7C7B\u4E0A\u5F00\u542F\u5B9A\u65F6\u4EFB\u52A1\u529F\u80FD\u7684\u5F00\u5173\uFF0C\u4F7F\u7528\u6CE8\u89E3@EnableScheduling</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//\u5F00\u542F\u5B9A\u65F6\u4EFB\u52A1\u529F\u80FD</span>
<span class="token annotation punctuation">@EnableScheduling</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot22TaskApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot22TaskApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5B9A\u4E49Bean\uFF0C\u5728\u5BF9\u5E94\u8981\u5B9A\u65F6\u6267\u884C\u7684\u64CD\u4F5C\u4E0A\u65B9\uFF0C\u4F7F\u7528\u6CE8\u89E3@Scheduled\u5B9A\u4E49\u6267\u884C\u7684\u65F6\u95F4\uFF0C\u6267\u884C\u65F6\u95F4\u7684\u63CF\u8FF0\u65B9\u5F0F\u8FD8\u662Fcron\u8868\u8FBE\u5F0F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBean</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;0/1 * * * * ?&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot; :spring task run...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5B8C\u4E8B\uFF0C\u8FD9\u5C31\u5B8C\u6210\u4E86\u5B9A\u65F6\u4EFB\u52A1\u7684\u914D\u7F6E\u3002\u603B\u4F53\u611F\u89C9\u5176\u5B9E\u4EC0\u4E48\u4E1C\u897F\u90FD\u6CA1\u5C11\uFF0C\u53EA\u4E0D\u8FC7\u6CA1\u6709\u5C06\u6240\u6709\u7684\u4FE1\u606F\u90FD\u62BD\u53D6\u6210bean\uFF0C\u800C\u662F\u76F4\u63A5\u4F7F\u7528\u6CE8\u89E3\u7ED1\u5B9A\u5B9A\u65F6\u6267\u884C\u4EFB\u52A1\u7684\u4E8B\u60C5\u800C\u5DF2\u3002</p><p>\u200B \u5982\u4F55\u60F3\u5BF9\u5B9A\u65F6\u4EFB\u52A1\u8FDB\u884C\u76F8\u5173\u914D\u7F6E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u8FDB\u884C</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">task</span><span class="token punctuation">:</span>
    <span class="token key atrule">scheduling</span><span class="token punctuation">:</span>
      <span class="token key atrule">pool</span><span class="token punctuation">:</span>
        <span class="token key atrule">size</span><span class="token punctuation">:</span> <span class="token number">1</span>							<span class="token comment"># \u4EFB\u52A1\u8C03\u5EA6\u7EBF\u7A0B\u6C60\u5927\u5C0F \u9ED8\u8BA4 1</span>
      <span class="token key atrule">thread-name-prefix</span><span class="token punctuation">:</span> ssm_          <span class="token comment"># \u8C03\u5EA6\u7EBF\u7A0B\u540D\u79F0\u524D\u7F00 \u9ED8\u8BA4 scheduling-</span>
      <span class="token key atrule">shutdown</span><span class="token punctuation">:</span>
        <span class="token key atrule">await-termination</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>        <span class="token comment"># \u7EBF\u7A0B\u6C60\u5173\u95ED\u65F6\u7B49\u5F85\u6240\u6709\u4EFB\u52A1\u5B8C\u6210</span>
        <span class="token key atrule">await-termination-period</span><span class="token punctuation">:</span> 10s    <span class="token comment"># \u8C03\u5EA6\u7EBF\u7A0B\u5173\u95ED\u524D\u6700\u5927\u7B49\u5F85\u65F6\u95F4\uFF0C\u786E\u4FDD\u6700\u540E\u4E00\u5B9A\u5173\u95ED</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li><p>spring task\u9700\u8981\u4F7F\u7528\u6CE8\u89E3@EnableScheduling\u5F00\u542F\u5B9A\u65F6\u4EFB\u52A1\u529F\u80FD</p></li><li><p>\u4E3A\u5B9A\u65F6\u6267\u884C\u7684\u7684\u4EFB\u52A1\u8BBE\u7F6E\u6267\u884C\u5468\u671F\uFF0C\u63CF\u8FF0\u65B9\u5F0Fcron\u8868\u8FBE\u5F0F</p></li></ol><h3 id="_5-3-\u90AE\u4EF6" tabindex="-1"><a class="header-anchor" href="#_5-3-\u90AE\u4EF6" aria-hidden="true">#</a> 5-3.\u90AE\u4EF6</h3><p>\u200B springboot\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u7B2C\u4E09\u90E8\u5206\u6211\u4EEC\u6765\u8BF4\u8BF4\u90AE\u4EF6\u7CFB\u7EDF\uFF0C\u53D1\u90AE\u4EF6\u662Fjava\u7A0B\u5E8F\u7684\u57FA\u672C\u64CD\u4F5C\uFF0Cspringboot\u6574\u5408javamail\u5176\u5B9E\u5C31\u662F\u7B80\u5316\u5F00\u53D1\u3002\u4E0D\u719F\u6089\u90AE\u4EF6\u7684\u5C0F\u4F19\u4F34\u53EF\u4EE5\u5148\u5B66\u4E60\u5B8Cjavamail\u7684\u57FA\u7840\u64CD\u4F5C\uFF0C\u518D\u6765\u770B\u8FD9\u4E00\u90E8\u5206\u5185\u5BB9\u624D\u80FD\u611F\u89E6\u5230springboot\u6574\u5408javamail\u7A76\u7ADF\u7B80\u5316\u4E86\u54EA\u4E9B\u64CD\u4F5C\u3002\u7B80\u5316\u7684\u591A\u5417\uFF1F\u5176\u5B9E\u4E0D\u591A\uFF0C\u5DEE\u522B\u4E0D\u5927\uFF0C\u53EA\u662F\u6362\u4E2A\u683C\u5F0F\u800C\u5DF2\u3002</p><p>\u200B \u5B66\u4E60\u90AE\u4EF6\u53D1\u9001\u4E4B\u524D\u5148\u4E86\u89E33\u4E2A\u6982\u5FF5\uFF0C\u8FD9\u4E9B\u6982\u5FF5\u89C4\u8303\u4E86\u90AE\u4EF6\u64CD\u4F5C\u8FC7\u7A0B\u4E2D\u7684\u6807\u51C6\u3002</p><ul><li>SMTP\uFF08Simple Mail Transfer Protocol\uFF09\uFF1A\u7B80\u5355\u90AE\u4EF6\u4F20\u8F93\u534F\u8BAE\uFF0C\u7528\u4E8E<strong>\u53D1\u9001</strong>\u7535\u5B50\u90AE\u4EF6\u7684\u4F20\u8F93\u534F\u8BAE</li><li>POP3\uFF08Post Office Protocol - Version 3\uFF09\uFF1A\u7528\u4E8E<strong>\u63A5\u6536</strong>\u7535\u5B50\u90AE\u4EF6\u7684\u6807\u51C6\u534F\u8BAE</li><li>IMAP\uFF08Internet Mail Access Protocol\uFF09\uFF1A\u4E92\u8054\u7F51\u6D88\u606F\u534F\u8BAE\uFF0C\u662FPOP3\u7684\u66FF\u4EE3\u534F\u8BAE</li></ul><p>\u200B \u7B80\u5355\u8BF4\u5C31\u662FSMPT\u662F\u53D1\u90AE\u4EF6\u7684\u6807\u51C6\uFF0CPOP3\u662F\u6536\u90AE\u4EF6\u7684\u6807\u51C6\uFF0CIMAP\u662F\u5BF9POP3\u7684\u5347\u7EA7\u3002\u6211\u4EEC\u5236\u4F5C\u7A0B\u5E8F\u4E2D\u64CD\u4F5C\u90AE\u4EF6\uFF0C\u901A\u5E38\u662F\u53D1\u90AE\u4EF6\uFF0C\u6240\u4EE5SMTP\u662F\u4F7F\u7528\u7684\u91CD\u70B9\uFF0C\u6536\u90AE\u4EF6\u5927\u90E8\u5206\u90FD\u662F\u901A\u8FC7\u90AE\u4EF6\u5BA2\u6237\u7AEF\u5B8C\u6210\uFF0C\u6240\u4EE5\u5F00\u53D1\u6536\u90AE\u4EF6\u7684\u4EE3\u7801\u6781\u5C11\u3002\u9664\u975E\u4F60\u8981\u8BFB\u53D6\u90AE\u4EF6\u5185\u5BB9\uFF0C\u7136\u540E\u89E3\u6790\uFF0C\u505A\u90AE\u4EF6\u529F\u80FD\u7684\u7EDF\u4E00\u5904\u7406\u3002\u4F8B\u5982HR\u7684\u90AE\u7BB1\u6536\u5230\u6C42\u804C\u8005\u7684\u7B80\u5386\uFF0C\u53EF\u4EE5\u8BFB\u53D6\u540E\u7EDF\u4E00\u5904\u7406\u3002\u4F46\u662F\u4E3A\u4EC0\u4E48\u4E0D\u5236\u4F5C\u72EC\u7ACB\u7684\u6295\u9012\u7B80\u5386\u7684\u7CFB\u7EDF\u5462\uFF1F\u6240\u4EE5\u8BF4\uFF0C\u597D\u5947\u602A\u7684\u9700\u6C42\uFF0C\u56E0\u4E3A\u8981\u60F3\u6536\u90AE\u4EF6\u5C31\u8981\u89C4\u8303\u53D1\u90AE\u4EF6\u7684\u4EBA\u7684\u4E66\u5199\u683C\u5F0F\uFF0C\u8FD9\u4E2A\u672A\u514D\u6709\u70B9\u5F3A\u4EBA\u6240\u96BE\uFF0C\u5E76\u4E14\u6781\u6613\u6536\u5230\u5916\u90E8\u653B\u51FB\uFF0C\u4F60\u4E0D\u53EF\u80FD\u4F7F\u7528\u767D\u540D\u5355\u6765\u6536\u90AE\u4EF6\u3002\u5982\u679C\u80FD\u4F7F\u7528\u767D\u540D\u5355\u6765\u6536\u90AE\u4EF6\u7136\u540E\u89E3\u6790\u90AE\u4EF6\uFF0C\u8FD8\u4E0D\u5982\u5F00\u53D1\u4E2A\u7CFB\u7EDF\u7ED9\u767D\u540D\u5355\u4E2D\u7684\u4EBA\u4E13\u7528\u5462\uFF0C\u66F4\u5B89\u5168\uFF0C\u603B\u4E4B\u5C31\u662F\u9E21\u808B\u4E86\u3002\u4E0B\u9762\u5C31\u5F00\u59CB\u5B66\u4E60springboot\u5982\u4F55\u6574\u5408javamail\u53D1\u9001\u90AE\u4EF6\u3002</p><h4 id="\u53D1\u9001\u7B80\u5355\u90AE\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u53D1\u9001\u7B80\u5355\u90AE\u4EF6" aria-hidden="true">#</a> \u53D1\u9001\u7B80\u5355\u90AE\u4EF6</h4><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408javamail\u7684starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-mail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6E\u90AE\u7BB1\u7684\u767B\u5F55\u4FE1\u606F</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mail</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> smtp.126.com
    <span class="token key atrule">username</span><span class="token punctuation">:</span> test@126.com
    <span class="token key atrule">password</span><span class="token punctuation">:</span> test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B java\u7A0B\u5E8F\u4EC5\u7528\u4E8E\u53D1\u9001\u90AE\u4EF6\uFF0C\u90AE\u4EF6\u7684\u529F\u80FD\u8FD8\u662F\u90AE\u4EF6\u4F9B\u5E94\u5546\u63D0\u4F9B\u7684\uFF0C\u6240\u4EE5\u8FD9\u91CC\u662F\u7528\u522B\u4EBA\u7684\u90AE\u4EF6\u670D\u52A1\uFF0C\u8981\u914D\u7F6E\u5BF9\u5E94\u4FE1\u606F\u3002</p><p>\u200B host\u914D\u7F6E\u7684\u662F\u63D0\u4F9B\u90AE\u4EF6\u670D\u52A1\u7684\u4E3B\u673A\u534F\u8BAE\uFF0C\u5F53\u524D\u7A0B\u5E8F\u4EC5\u7528\u4E8E\u53D1\u9001\u90AE\u4EF6\uFF0C\u56E0\u6B64\u914D\u7F6E\u7684\u662Fsmtp\u7684\u534F\u8BAE\u3002</p><p>\u200B password\u5E76\u4E0D\u662F\u90AE\u7BB1\u8D26\u53F7\u7684\u767B\u5F55\u5BC6\u7801\uFF0C\u662F\u90AE\u4EF6\u4F9B\u5E94\u5546\u63D0\u4F9B\u7684\u4E00\u4E2A\u52A0\u5BC6\u540E\u7684\u5BC6\u7801\uFF0C\u4E5F\u662F\u4E3A\u4E86\u4FDD\u969C\u7CFB\u7EDF\u5B89\u5168\u6027\u3002\u4E0D\u7136\u5916\u90E8\u4EBA\u5458\u901A\u8FC7\u5730\u5740\u8BBF\u95EE\u4E0B\u8F7D\u4E86\u914D\u7F6E\u6587\u4EF6\uFF0C\u76F4\u63A5\u83B7\u53D6\u5230\u4E86\u90AE\u4EF6\u5BC6\u7801\u5C31\u4F1A\u6709\u6781\u5927\u7684\u5B89\u5168\u9690\u60A3\u3002\u6709\u5173\u8BE5\u5BC6\u7801\u7684\u83B7\u53D6\u6BCF\u4E2A\u90AE\u4EF6\u4F9B\u5E94\u5546\u63D0\u4F9B\u7684\u65B9\u5F0F\u90FD\u4E0D\u4E00\u6837\uFF0C\u6B64\u5904\u7565\u8FC7\u3002\u53EF\u4EE5\u5230\u90AE\u4EF6\u4F9B\u5E94\u5546\u7684\u8BBE\u7F6E\u9875\u9762\u627EPOP3\u6216IMAP\u8FD9\u4E9B\u5173\u952E\u8BCD\u627E\u5230\u5BF9\u5E94\u7684\u83B7\u53D6\u4F4D\u7F6E\u3002\u4E0B\u4F8B\u4EC5\u4F9B\u53C2\u8003\uFF1A</p><p><img src="`+O+`" alt="image-20220228111251036"></p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528JavaMailSender\u63A5\u53E3\u53D1\u9001\u90AE\u4EF6</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMailServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SendMailService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">JavaMailSender</span> javaMailSender<span class="token punctuation">;</span>

    <span class="token comment">//\u53D1\u9001\u4EBA</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> from <span class="token operator">=</span> <span class="token string">&quot;test@qq.com&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u63A5\u6536\u4EBA</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token string">&quot;test@126.com&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6807\u9898</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> subject <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5\u90AE\u4EF6&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6B63\u6587</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5\u90AE\u4EF6\u6B63\u6587\u5185\u5BB9&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleMailMessage</span> message <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleMailMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span>from<span class="token operator">+</span><span class="token string">&quot;(\u5C0F\u751C\u751C)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span><span class="token keyword">to</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
        message<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        javaMailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5C06\u53D1\u9001\u90AE\u4EF6\u7684\u5FC5\u8981\u4FE1\u606F\uFF08\u53D1\u4EF6\u4EBA\u3001\u6536\u4EF6\u4EBA\u3001\u6807\u9898\u3001\u6B63\u6587\uFF09\u5C01\u88C5\u5230SimpleMailMessage\u5BF9\u8C61\u4E2D\uFF0C\u53EF\u4EE5\u6839\u636E\u89C4\u5219\u8BBE\u7F6E\u53D1\u9001\u4EBA\u6635\u79F0\u7B49\u3002</p><h4 id="\u53D1\u9001\u591A\u7EC4\u4EF6\u90AE\u4EF6-\u9644\u4EF6\u3001\u590D\u6742\u6B63\u6587" tabindex="-1"><a class="header-anchor" href="#\u53D1\u9001\u591A\u7EC4\u4EF6\u90AE\u4EF6-\u9644\u4EF6\u3001\u590D\u6742\u6B63\u6587" aria-hidden="true">#</a> \u53D1\u9001\u591A\u7EC4\u4EF6\u90AE\u4EF6\uFF08\u9644\u4EF6\u3001\u590D\u6742\u6B63\u6587\uFF09</h4><p>\u200B \u53D1\u9001\u7B80\u5355\u90AE\u4EF6\u4EC5\u9700\u8981\u63D0\u4F9B\u5BF9\u5E94\u76844\u4E2A\u57FA\u672C\u4FE1\u606F\u5C31\u53EF\u4EE5\u4E86\uFF0C\u5982\u679C\u60F3\u53D1\u9001\u590D\u6742\u7684\u90AE\u4EF6\uFF0C\u9700\u8981\u66F4\u6362\u90AE\u4EF6\u5BF9\u8C61\u3002\u4F7F\u7528MimeMessage\u53EF\u4EE5\u53D1\u9001\u7279\u6B8A\u7684\u90AE\u4EF6\u3002</p><p><strong>\u53D1\u9001\u7F51\u9875\u6B63\u6587\u90AE\u4EF6</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMailServiceImpl2</span> <span class="token keyword">implements</span> <span class="token class-name">SendMailService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">JavaMailSender</span> javaMailSender<span class="token punctuation">;</span>

    <span class="token comment">//\u53D1\u9001\u4EBA</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> from <span class="token operator">=</span> <span class="token string">&quot;test@qq.com&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u63A5\u6536\u4EBA</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token string">&quot;test@126.com&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6807\u9898</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> subject <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5\u90AE\u4EF6&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6B63\u6587</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;&lt;img src=&#39;ABC.JPG&#39;/&gt;&lt;a href=&#39;https://www.itcast.cn&#39;&gt;\u70B9\u5F00\u6709\u60CA\u559C&lt;/a&gt;&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">MimeMessage</span> message <span class="token operator">=</span> javaMailSender<span class="token punctuation">.</span><span class="token function">createMimeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">MimeMessageHelper</span> helper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MimeMessageHelper</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token keyword">to</span><span class="token operator">+</span><span class="token string">&quot;(\u5C0F\u751C\u751C)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//\u6B64\u5904\u8BBE\u7F6E\u6B63\u6587\u652F\u6301html\u89E3\u6790</span>

            javaMailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u53D1\u9001\u5E26\u6709\u9644\u4EF6\u7684\u90AE\u4EF6</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMailServiceImpl2</span> <span class="token keyword">implements</span> <span class="token class-name">SendMailService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">JavaMailSender</span> javaMailSender<span class="token punctuation">;</span>

    <span class="token comment">//\u53D1\u9001\u4EBA</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> from <span class="token operator">=</span> <span class="token string">&quot;test@qq.com&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u63A5\u6536\u4EBA</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token string">&quot;test@126.com&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6807\u9898</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> subject <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5\u90AE\u4EF6&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6B63\u6587</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> context <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5\u90AE\u4EF6\u6B63\u6587&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">MimeMessage</span> message <span class="token operator">=</span> javaMailSender<span class="token punctuation">.</span><span class="token function">createMimeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">MimeMessageHelper</span> helper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MimeMessageHelper</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//\u6B64\u5904\u8BBE\u7F6E\u652F\u6301\u9644\u4EF6</span>
            helper<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token keyword">to</span><span class="token operator">+</span><span class="token string">&quot;(\u5C0F\u751C\u751C)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span>subject<span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//\u6DFB\u52A0\u9644\u4EF6</span>
            <span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;springboot_23_mail-0.0.1-SNAPSHOT.jar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">File</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;resources\\\\logo.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            helper<span class="token punctuation">.</span><span class="token function">addAttachment</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            helper<span class="token punctuation">.</span><span class="token function">addAttachment</span><span class="token punctuation">(</span><span class="token string">&quot;\u6700\u9760\u8C31\u7684\u57F9\u8BAD\u7ED3\u6784.png&quot;</span><span class="token punctuation">,</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span>

            javaMailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408javamail\u5176\u5B9E\u5C31\u662F\u7B80\u5316\u4E86\u53D1\u9001\u90AE\u4EF6\u7684\u5BA2\u6237\u7AEF\u5BF9\u8C61JavaMailSender\u7684\u521D\u59CB\u5316\u8FC7\u7A0B\uFF0C\u901A\u8FC7\u914D\u7F6E\u7684\u5F62\u5F0F\u52A0\u8F7D\u4FE1\u606F\u7B80\u5316\u5F00\u53D1\u8FC7\u7A0B</li></ol><h3 id="_5-4-\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#_5-4-\u6D88\u606F" aria-hidden="true">#</a> 5-4.\u6D88\u606F</h3><p>\u200B springboot\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\u6700\u540E\u4E00\u90E8\u5206\u6211\u4EEC\u6765\u8BF4\u8BF4\u6D88\u606F\u4E2D\u95F4\u4EF6\uFF0C\u9996\u5148\u5148\u4ECB\u7ECD\u4E00\u4E0B\u6D88\u606F\u7684\u5E94\u7528\u3002</p><h4 id="\u6D88\u606F\u7684\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u6D88\u606F\u7684\u6982\u5FF5" aria-hidden="true">#</a> \u6D88\u606F\u7684\u6982\u5FF5</h4><p>\u200B \u4ECE\u5E7F\u4E49\u89D2\u5EA6\u6765\u8BF4\uFF0C\u6D88\u606F\u5176\u5B9E\u5C31\u662F\u4FE1\u606F\uFF0C\u4F46\u662F\u548C\u4FE1\u606F\u53C8\u6709\u6240\u4E0D\u540C\u3002\u4FE1\u606F\u901A\u5E38\u88AB\u5B9A\u4E49\u4E3A\u4E00\u7EC4\u6570\u636E\uFF0C\u800C\u6D88\u606F\u9664\u4E86\u5177\u6709\u6570\u636E\u7684\u7279\u5F81\u4E4B\u5916\uFF0C\u8FD8\u6709\u6D88\u606F\u7684\u6765\u6E90\u4E0E\u63A5\u6536\u7684\u6982\u5FF5\u3002\u901A\u5E38\u53D1\u9001\u6D88\u606F\u7684\u4E00\u65B9\u79F0\u4E3A\u6D88\u606F\u7684\u751F\u4EA7\u8005\uFF0C\u63A5\u6536\u6D88\u606F\u7684\u4E00\u65B9\u79F0\u4E3A\u6D88\u606F\u7684\u6D88\u8D39\u8005\u3002\u8FD9\u6837\u6BD4\u8F83\u540E\uFF0C\u53D1\u73B0\u5176\u5B9E\u6D88\u606F\u548C\u4FE1\u606F\u5DEE\u522B\u8FD8\u662F\u5F88\u5927\u7684\u3002</p><p>\u200B \u4E3A\u4EC0\u4E48\u8981\u8BBE\u7F6E\u751F\u4EA7\u8005\u548C\u6D88\u8D39\u8005\u5462\uFF1F\u8FD9\u5C31\u662F\u8981\u8BF4\u5230\u6D88\u606F\u7684\u610F\u4E49\u4E86\u3002\u4FE1\u606F\u901A\u5E38\u5C31\u662F\u4E00\u7EC4\u6570\u636E\uFF0C\u4F46\u662F\u6D88\u606F\u7531\u4E8E\u6709\u4E86\u751F\u4EA7\u8005\u548C\u6D88\u8D39\u8005\uFF0C\u5C31\u51FA\u73B0\u4E86\u6D88\u606F\u4E2D\u6240\u5305\u542B\u7684\u4FE1\u606F\u53EF\u4EE5\u88AB\u4E8C\u6B21\u89E3\u8BFB\uFF0C\u751F\u4EA7\u8005\u53D1\u9001\u6D88\u606F\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A\u751F\u4EA7\u8005\u53D1\u9001\u4E86\u4E00\u4E2A\u4FE1\u606F\uFF0C\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u751F\u4EA7\u8005\u53D1\u9001\u4E86\u4E00\u4E2A\u547D\u4EE4\uFF1B\u6D88\u8D39\u8005\u63A5\u6536\u6D88\u606F\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A\u6D88\u8D39\u8005\u5F97\u5230\u4E86\u4E00\u4E2A\u4FE1\u606F\uFF0C\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u6D88\u8D39\u8005\u5F97\u5230\u4E86\u4E00\u4E2A\u547D\u4EE4\u3002\u5BF9\u6BD4\u4E00\u4E0B\u6211\u4EEC\u4F1A\u53D1\u73B0\u4FE1\u606F\u662F\u4E00\u4E2A\u57FA\u672C\u6570\u636E\uFF0C\u800C\u547D\u4EE4\u5219\u53EF\u4EE5\u5173\u8054\u4E0B\u4E00\u4E2A\u884C\u4E3A\u52A8\u4F5C\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u7406\u89E3\u4E3A\u57FA\u4E8E\u63A5\u6536\u7684\u6D88\u606F\u76F8\u5F53\u4E8E\u5F97\u5230\u4E86\u4E00\u4E2A\u884C\u4E3A\u52A8\u4F5C\uFF0C\u4F7F\u7528\u8FD9\u4E9B\u884C\u4E3A\u52A8\u4F5C\u5C31\u53EF\u4EE5\u7EC4\u7EC7\u6210\u4E00\u4E2A\u4E1A\u52A1\u903B\u8F91\uFF0C\u8FDB\u884C\u8FDB\u4E00\u6B65\u7684\u64CD\u4F5C\u3002\u603B\u7684\u6765\u8BF4\uFF0C\u6D88\u606F\u5176\u5B9E\u4E5F\u662F\u4E00\u7EC4\u4FE1\u606F\uFF0C\u53EA\u662F\u4E3A\u5176\u8D4B\u4E88\u4E86\u5168\u65B0\u7684\u542B\u4E49\uFF0C\u56E0\u4E3A\u6709\u4E86\u6D88\u606F\u7684\u6D41\u52A8\uFF0C\u5E76\u4E14\u662F\u6709\u65B9\u5411\u6027\u7684\u6D41\u52A8\uFF0C\u5E26\u6765\u4E86\u57FA\u4E8E\u6D41\u52A8\u7684\u884C\u4E3A\u4EA7\u751F\u7684\u5168\u65B0\u89E3\u8BFB\u3002\u5F00\u53D1\u8005\u5C31\u53EF\u4EE5\u57FA\u4E8E\u6D88\u606F\u7684\u8FD9\u79CD\u7279\u6B8A\u7406\u89E3\uFF0C\u5C06\u5176\u6362\u6210\u4EE3\u7801\u4E2D\u7684\u6307\u4EE4\u3002</p><p>\u200B \u5BF9\u4E8E\u6D88\u606F\u7684\u7406\u89E3\uFF0C\u521D\u5B66\u8005\u603B\u8BA4\u4E3A\u6D88\u606F\u5185\u90E8\u7684\u6570\u636E\u975E\u5E38\u590D\u6742\uFF0C\u8FD9\u662F\u4E00\u4E2A\u8BEF\u533A\u3002\u6BD4\u5982\u6211\u53D1\u9001\u4E86\u4E00\u4E2A\u6D88\u606F\uFF0C\u8981\u6C42\u63A5\u53D7\u8005\u7FFB\u8BD1\u53D1\u9001\u8FC7\u53BB\u7684\u5185\u5BB9\u3002\u521D\u5B66\u8005\u4F1A\u8BA4\u4E3A\u6D88\u606F\u4E2D\u4F1A\u5305\u542B\u88AB\u7FFB\u8BD1\u7684\u6587\u5B57\uFF0C\u4EE5\u53CA\u672C\u6B21\u64CD\u4F5C\u8981\u6267\u884C\u7FFB\u8BD1\u64CD\u4F5C\u800C\u4E0D\u662F\u6253\u5370\u64CD\u4F5C\u3002\u5176\u5B9E\u8FD9\u79CD\u73B0\u8C61\u6709\u70B9\u8FC7\u5EA6\u89E3\u8BFB\u4E86\uFF0C\u53D1\u9001\u7684\u6D88\u606F\u4E2D\u4EC5\u4EC5\u5305\u542B\u88AB\u7FFB\u8BD1\u7684\u6587\u5B57\uFF0C\u4F46\u662F\u53EF\u4EE5\u901A\u8FC7\u63A7\u5236\u4E0D\u540C\u7684\u4EBA\u63A5\u6536\u6B64\u6D88\u606F\u6765\u786E\u8BA4\u8981\u505A\u7684\u4E8B\u60C5\u3002\u4F8B\u5982\u53D1\u9001\u88AB\u7FFB\u8BD1\u7684\u6587\u5B57\u4EC5\u5230A\u7A0B\u5E8F\uFF0C\u800CA\u7A0B\u5E8F\u53EA\u80FD\u8FDB\u884C\u7FFB\u8BD1\u64CD\u4F5C\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u53D1\u9001\u7B80\u5355\u7684\u4FE1\u606F\u5B8C\u6210\u590D\u6742\u7684\u4E1A\u52A1\u4E86\uFF0C\u662F\u901A\u8FC7\u63A5\u6536\u6D88\u606F\u7684\u4E3B\u4F53\u4E0D\u540C\uFF0C\u8FDB\u800C\u6267\u884C\u4E0D\u540C\u7684\u64CD\u4F5C\uFF0C<strong>\u800C\u4E0D\u4F1A\u5728\u6D88\u606F\u5185\u90E8\u5B9A\u4E49\u6570\u636E\u7684\u64CD\u4F5C\u884C\u4E3A</strong>\uFF0C\u5F53\u7136\u5982\u679C\u5F00\u53D1\u8005\u5E0C\u671B\u6D88\u606F\u4E2D\u5305\u542B\u64CD\u4F5C\u79CD\u7C7B\u4FE1\u606F\u4E5F\u662F\u53EF\u4EE5\u7684\uFF0C\u53EA\u662F\u63D0\u51FA\u6D88\u606F\u7684\u5185\u5BB9\u53EF\u4EE5\u66F4\u7B80\u5355\uFF0C\u66F4\u5355\u4E00\u3002</p><p>\u200B \u5BF9\u4E8E\u6D88\u606F\u7684\u751F\u4EA7\u8005\u4E0E\u6D88\u8D39\u8005\u7684\u5DE5\u4F5C\u6A21\u5F0F\uFF0C\u8FD8\u53EF\u4EE5\u5C06\u6D88\u606F\u5212\u5206\u6210\u4E24\u79CD\u6A21\u5F0F\uFF0C\u540C\u6B65\u6D88\u8D39\u4E0E\u5F02\u6B65\u6D88\u606F\u3002</p><p>\u200B \u6240\u8C13\u540C\u6B65\u6D88\u606F\u5C31\u662F\u751F\u4EA7\u8005\u53D1\u9001\u5B8C\u6D88\u606F\uFF0C\u7B49\u5F85\u6D88\u8D39\u8005\u5904\u7406\uFF0C\u6D88\u8D39\u8005\u5904\u7406\u5B8C\u5C06\u7ED3\u679C\u544A\u77E5\u751F\u4EA7\u8005\uFF0C\u7136\u540E\u751F\u4EA7\u8005\u7EE7\u7EED\u5411\u4E0B\u6267\u884C\u4E1A\u52A1\u3002\u8FD9\u79CD\u6A21\u5F0F\u8FC7\u4E8E\u5361\u751F\u4EA7\u8005\u7684\u4E1A\u52A1\u6267\u884C\u8FDE\u7EED\u6027\uFF0C\u5728\u73B0\u5728\u7684\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\uFF0C\u4E0A\u8FF0\u8FD9\u79CD\u4E1A\u52A1\u573A\u666F\u901A\u5E38\u4E0D\u4F1A\u91C7\u7528\u6D88\u606F\u7684\u5F62\u5F0F\u8FDB\u884C\u5904\u7406\u3002</p><p>\u200B \u6240\u8C13\u5F02\u6B65\u6D88\u606F\u5C31\u662F\u751F\u4EA7\u8005\u53D1\u9001\u5B8C\u6D88\u606F\uFF0C\u65E0\u9700\u7B49\u5F85\u6D88\u8D39\u8005\u5904\u7406\u5B8C\u6BD5\uFF0C\u751F\u4EA7\u8005\u7EE7\u7EED\u5411\u4E0B\u6267\u884C\u5176\u4ED6\u52A8\u4F5C\u3002\u6BD4\u5982\u751F\u4EA7\u8005\u53D1\u9001\u4E86\u4E00\u4E2A\u65E5\u5FD7\u4FE1\u606F\u7ED9\u65E5\u5FD7\u7CFB\u7EDF\uFF0C\u53D1\u9001\u8FC7\u53BB\u4EE5\u540E\u751F\u4EA7\u8005\u5C31\u5411\u4E0B\u505A\u5176\u4ED6\u4E8B\u60C5\u4E86\uFF0C\u65E0\u9700\u5173\u6CE8\u65E5\u5FD7\u7CFB\u7EDF\u7684\u6267\u884C\u7ED3\u679C\u3002\u65E5\u5FD7\u7CFB\u7EDF\u6839\u636E\u63A5\u6536\u5230\u7684\u65E5\u5FD7\u4FE1\u606F\u7EE7\u7EED\u8FDB\u884C\u4E1A\u52A1\u6267\u884C\uFF0C\u662F\u5355\u7EAF\u7684\u8BB0\u5F55\u65E5\u5FD7\uFF0C\u8FD8\u662F\u8BB0\u5F55\u65E5\u5FD7\u5E76\u62A5\u8B66\uFF0C\u8FD9\u4E9B\u548C\u751F\u4EA7\u8005\u65E0\u5173\uFF0C\u8FD9\u6837\u751F\u4EA7\u8005\u7684\u4E1A\u52A1\u6267\u884C\u6548\u7387\u5C31\u4F1A\u5927\u5E45\u5EA6\u63D0\u5347\u3002\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u591A\u4E2A\u6D88\u8D39\u8005\u6765\u5904\u7406\u540C\u4E00\u4E2A\u751F\u4EA7\u8005\u53D1\u9001\u7684\u6D88\u606F\u6765\u63D0\u9AD8\u7CFB\u7EDF\u7684\u9AD8\u5E76\u53D1\u6027\uFF0C\u6539\u5584\u7CFB\u7EDF\u5DE5\u4F5C\u6548\u7387\uFF0C\u63D0\u9AD8\u7528\u6237\u4F53\u9A8C\u3002\u4E00\u65E6\u67D0\u4E00\u4E2A\u6D88\u8D39\u8005\u7531\u4E8E\u5404\u79CD\u95EE\u9898\u5B95\u673A\u4E86\uFF0C\u4E5F\u4E0D\u4F1A\u5BF9\u4E1A\u52A1\u4EA7\u751F\u5F71\u54CD\uFF0C\u63D0\u9AD8\u4E86\u7CFB\u7EDF\u7684\u9AD8\u53EF\u7528\u6027\u3002</p><p>\u200B \u4EE5\u4E0A\u7B80\u5355\u7684\u4ECB\u7ECD\u4E86\u4E00\u4E0B\u6D88\u606F\u8FD9\u79CD\u5DE5\u4F5C\u6A21\u5F0F\u5B58\u5728\u7684\u610F\u4E49\uFF0C\u5E0C\u671B\u5BF9\u5404\u4F4D\u5B66\u4E60\u8005\u6709\u6240\u5E2E\u52A9\u3002</p><h4 id="java\u5904\u7406\u6D88\u606F\u7684\u6807\u51C6\u89C4\u8303" tabindex="-1"><a class="header-anchor" href="#java\u5904\u7406\u6D88\u606F\u7684\u6807\u51C6\u89C4\u8303" aria-hidden="true">#</a> Java\u5904\u7406\u6D88\u606F\u7684\u6807\u51C6\u89C4\u8303</h4><p>\u200B \u76EE\u524D\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\u5E7F\u6CDB\u4F7F\u7528\u7684\u6D88\u606F\u5904\u7406\u6280\u672F\u5171\u4E09\u5927\u7C7B\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><ul><li>JMS</li><li>AMQP</li><li>MQTT</li></ul><p>\u200B \u4E3A\u4EC0\u4E48\u662F\u4E09\u5927\u7C7B\uFF0C\u800C\u4E0D\u662F\u4E09\u4E2A\u6280\u672F\u5462\uFF1F\u56E0\u4E3A\u8FD9\u4E9B\u90FD\u662F\u89C4\u8303\uFF0C\u5C31\u60F3JDBC\u6280\u672F\uFF0C\u662F\u4E2A\u89C4\u8303\uFF0C\u5F00\u53D1\u9488\u5BF9\u89C4\u8303\u5F00\u53D1\uFF0C\u8FD0\u884C\u8FD8\u8981\u9760\u5B9E\u73B0\u7C7B\uFF0C\u4F8B\u5982MySQL\u63D0\u4F9B\u4E86JDBC\u7684\u5B9E\u73B0\uFF0C\u6700\u7EC8\u8FD0\u884C\u9760\u7684\u8FD8\u662F\u5B9E\u73B0\u3002\u5E76\u4E14\u8FD9\u4E09\u7C7B\u89C4\u8303\u90FD\u662F\u9488\u5BF9\u5F02\u6B65\u6D88\u606F\u8FDB\u884C\u5904\u7406\u7684\uFF0C\u4E5F\u7B26\u5408\u6D88\u606F\u7684\u8BBE\u8BA1\u672C\u8D28\uFF0C\u5904\u7406\u5F02\u6B65\u7684\u4E1A\u52A1\u3002\u5BF9\u4EE5\u4E0A\u4E09\u79CD\u6D88\u606F\u89C4\u8303\u505A\u4E00\u4E0B\u666E\u53CA</p><h5 id="jms" tabindex="-1"><a class="header-anchor" href="#jms" aria-hidden="true">#</a> JMS</h5><p>\u200B JMS\uFF08Java Message Service\uFF09,\u8FD9\u662F\u4E00\u4E2A\u89C4\u8303\uFF0C\u4F5C\u7528\u7B49\u540C\u4E8EJDBC\u89C4\u8303\uFF0C\u63D0\u4F9B\u4E86\u4E0E\u6D88\u606F\u670D\u52A1\u76F8\u5173\u7684API\u63A5\u53E3\u3002</p><p><strong>JMS\u6D88\u606F\u6A21\u578B</strong></p><p>\u200B JMS\u89C4\u8303\u4E2D\u89C4\u8303\u4E86\u6D88\u606F\u6709\u4E24\u79CD\u6A21\u578B\u3002\u5206\u522B\u662F<strong>\u70B9\u5BF9\u70B9\u6A21\u578B</strong>\u548C<strong>\u53D1\u5E03\u8BA2\u9605\u6A21\u578B</strong>\u3002</p><p>\u200B <strong>\u70B9\u5BF9\u70B9\u6A21\u578B</strong>\uFF1Apeer-2-peer\uFF0C\u751F\u4EA7\u8005\u4F1A\u5C06\u6D88\u606F\u53D1\u9001\u5230\u4E00\u4E2A\u4FDD\u5B58\u6D88\u606F\u7684\u5BB9\u5668\u4E2D\uFF0C\u901A\u5E38\u4F7F\u7528\u961F\u5217\u6A21\u578B\uFF0C\u4F7F\u7528\u961F\u5217\u4FDD\u5B58\u6D88\u606F\u3002\u4E00\u4E2A\u961F\u5217\u7684\u6D88\u606F\u53EA\u80FD\u88AB\u4E00\u4E2A\u6D88\u8D39\u8005\u6D88\u8D39\uFF0C\u6216\u672A\u88AB\u53CA\u65F6\u6D88\u8D39\u5BFC\u81F4\u8D85\u65F6\u3002\u8FD9\u79CD\u6A21\u578B\u4E0B\uFF0C\u751F\u4EA7\u8005\u548C\u6D88\u8D39\u8005\u662F\u4E00\u5BF9\u4E00\u7ED1\u5B9A\u7684\u3002</p><p>\u200B <strong>\u53D1\u5E03\u8BA2\u9605\u6A21\u578B</strong>\uFF1Apublish-subscribe\uFF0C\u751F\u4EA7\u8005\u5C06\u6D88\u606F\u53D1\u9001\u5230\u4E00\u4E2A\u4FDD\u5B58\u6D88\u606F\u7684\u5BB9\u5668\u4E2D\uFF0C\u4E5F\u662F\u4F7F\u7528\u961F\u5217\u6A21\u578B\u6765\u4FDD\u5B58\u3002\u4F46\u662F\u6D88\u606F\u53EF\u4EE5\u88AB\u591A\u4E2A\u6D88\u8D39\u8005\u6D88\u8D39\uFF0C\u751F\u4EA7\u8005\u548C\u6D88\u8D39\u8005\u5B8C\u5168\u72EC\u7ACB\uFF0C\u76F8\u4E92\u4E0D\u9700\u8981\u611F\u77E5\u5BF9\u65B9\u7684\u5B58\u5728\u3002</p><p>\u200B \u4EE5\u4E0A\u8FD9\u79CD\u5206\u7C7B\u662F\u4ECE\u6D88\u606F\u7684\u751F\u4EA7\u548C\u6D88\u8D39\u8FC7\u7A0B\u6765\u8FDB\u884C\u533A\u5206\uFF0C\u9488\u5BF9\u6D88\u606F\u6240\u5305\u542B\u7684\u4FE1\u606F\u4E0D\u540C\uFF0C\u8FD8\u53EF\u4EE5\u8FDB\u884C\u4E0D\u540C\u7C7B\u522B\u7684\u5212\u5206\u3002</p><p><strong>JMS\u6D88\u606F\u79CD\u7C7B</strong></p><p>\u200B \u6839\u636E\u6D88\u606F\u4E2D\u5305\u542B\u7684\u6570\u636E\u79CD\u7C7B\u5212\u5206\uFF0C\u53EF\u4EE5\u5C06\u6D88\u606F\u5212\u5206\u62106\u79CD\u6D88\u606F\u3002</p><ul><li>TextMessage</li><li>MapMessage</li><li>BytesMessage</li><li>StreamMessage</li><li>ObjectMessage</li><li>Message \uFF08\u53EA\u6709\u6D88\u606F\u5934\u548C\u5C5E\u6027\uFF09</li></ul><p>\u200B JMS\u4E3B\u5F20\u4E0D\u540C\u79CD\u7C7B\u7684\u6D88\u606F\uFF0C\u6D88\u8D39\u65B9\u5F0F\u4E0D\u540C\uFF0C\u53EF\u4EE5\u6839\u636E\u4F7F\u7528\u9700\u8981\u9009\u62E9\u4E0D\u540C\u79CD\u7C7B\u7684\u6D88\u606F\u3002\u4F46\u662F\u8FD9\u4E00\u70B9\u4E5F\u6210\u4E3A\u5176\u8BDF\u75C5\u4E4B\u5904\uFF0C\u540E\u9762\u518D\u8BF4\u3002\u6574\u4F53\u4E0A\u6765\u8BF4\uFF0CJMS\u5C31\u662F\u5178\u578B\u7684\u4FDD\u5B88\u6D3E\uFF0C\u4EC0\u4E48\u90FD\u6309\u7167J2EE\u7684\u89C4\u8303\u6765\uFF0C\u505A\u4E00\u5957\u89C4\u8303\uFF0C\u5B9A\u4E49\u82E5\u5E72\u4E2A\u6807\u51C6\uFF0C\u6BCF\u4E2A\u6807\u51C6\u4E0B\u53C8\u63D0\u4F9B\u4E00\u5927\u6279API\u3002\u76EE\u524D\u5BF9JMS\u89C4\u8303\u5B9E\u73B0\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6\u6280\u672F\u8FD8\u662F\u633A\u591A\u7684\uFF0C\u6BD5\u7ADF\u662F\u7687\u5BB6\u5FA1\u7528\uFF0C\u80AF\u5B9A\u6709\u4EBA\u8214\uFF0C\u4F8B\u5982ActiveMQ\u3001Redis\u3001HornetMQ\u3002\u4F46\u662F\u4E5F\u6709\u4E00\u4E9B\u4E0D\u592A\u89C4\u8303\u7684\u5B9E\u73B0\uFF0C\u53C2\u8003JMS\u7684\u6807\u51C6\u8BBE\u8BA1\uFF0C\u4F46\u662F\u53C8\u4E0D\u5B8C\u5168\u6EE1\u8DB3\u5176\u89C4\u8303\uFF0C\u4F8B\u5982\uFF1ARabbitMQ\u3001RocketMQ\u3002</p><h5 id="amqp" tabindex="-1"><a class="header-anchor" href="#amqp" aria-hidden="true">#</a> AMQP</h5><p>\u200B JMS\u7684\u95EE\u4E16\u4E3A\u6D88\u606F\u4E2D\u95F4\u4EF6\u63D0\u4F9B\u4E86\u5F88\u5F3A\u5927\u7684\u89C4\u8303\u6027\u652F\u6491\uFF0C\u4F46\u662F\u4F7F\u7528\u7684\u8FC7\u7A0B\u4E2D\u5C31\u5F00\u59CB\u88AB\u4EBA\u8BDF\u75C5\uFF0C\u6BD4\u5982JMS\u8BBE\u7F6E\u7684\u6781\u5176\u590D\u6742\u7684\u591A\u79CD\u7C7B\u6D88\u606F\u5904\u7406\u673A\u5236\u3002\u672C\u6765\u5206\u95E8\u522B\u7C7B\u5904\u7406\u633A\u597D\u7684\uFF0C\u4E3A\u4EC0\u4E48\u4F1A\u88AB\u8BDF\u75C5\u5462\uFF1F\u539F\u56E0\u5C31\u5728\u4E8EJMS\u7684\u8BBE\u8BA1\u662FJ2EE\u89C4\u8303\uFF0C\u7AD9\u5728Java\u5F00\u53D1\u7684\u89D2\u5EA6\u601D\u8003\u95EE\u9898\u3002\u4F46\u662F\u73B0\u5B9E\u5F80\u5F80\u662F\u590D\u6742\u5EA6\u5F88\u9AD8\u7684\u3002\u6BD4\u5982\u6211\u6709\u4E00\u4E2A.NET\u5F00\u53D1\u7684\u7CFB\u7EDFA\uFF0C\u6709\u4E00\u4E2AJava\u5F00\u53D1\u7684\u7CFB\u7EDFB\uFF0C\u73B0\u5728\u8981\u4ECEA\u7CFB\u7EDF\u7ED9B\u7CFB\u7EDF\u53D1\u4E1A\u52A1\u6D88\u606F\uFF0C\u7ED3\u679C\u4E24\u8FB9\u6570\u636E\u683C\u5F0F\u4E0D\u7EDF\u4E00\uFF0C\u6CA1\u6CD5\u64CD\u4F5C\u3002JMS\u4E0D\u662F\u53EF\u4EE5\u7EDF\u4E00\u6570\u636E\u683C\u5F0F\u5417\uFF1F\u63D0\u4F9B\u4E866\u79CD\u6570\u636E\u79CD\u7C7B\uFF0C\u603B\u6709\u4E00\u6B3E\u9002\u5408\u4F60\u554A\u3002NO\uFF0C\u4E00\u4E2A\u90FD\u4E0D\u80FD\u7528\u3002\u56E0\u4E3AA\u7CFB\u7EDF\u7684\u5E95\u5C42\u8BED\u8A00\u4E0D\u662FJava\u8BED\u8A00\u5F00\u53D1\u7684\uFF0C\u6839\u672C\u4E0D\u652F\u6301\u90A3\u4E9B\u5BF9\u8C61\u3002\u8FD9\u5C31\u610F\u5473\u7740\u5982\u679C\u60F3\u4F7F\u7528\u73B0\u6709\u7684\u4E1A\u52A1\u7CFB\u7EDFA\u7EE7\u7EED\u5F00\u53D1\u5DF2\u7ECF\u4E0D\u53EF\u80FD\u4E86\uFF0C\u5FC5\u987B\u63A8\u7FFB\u91CD\u65B0\u505A\u4F7F\u7528Java\u8BED\u8A00\u5F00\u53D1\u7684A\u7CFB\u7EDF\u3002</p><p>\u200B \u8FD9\u65F6\u5019\u6709\u4EBA\u5C31\u63D0\u51FA\u8BF4\uFF0C\u4F60\u641E\u90A3\u4E48\u590D\u6742\uFF0C\u6574\u90A3\u4E48\u591A\u79CD\u7C7B\u5E72\u4EC0\u4E48\uFF1F\u627E\u4E00\u79CD\u5927\u5BB6\u90FD\u652F\u6301\u7684\u6D88\u606F\u6570\u636E\u7C7B\u578B\u4E0D\u5C31\u89E3\u51B3\u8FD9\u4E2A\u8DE8\u5E73\u53F0\u7684\u95EE\u9898\u4E86\u5417\uFF1F\u5927\u5BB6\u4E00\u60F3\uFF0C\u5BF9\u554A\uFF0C\u4E8E\u662FAMQP\u5B55\u80B2\u800C\u751F\u3002</p><p>\u200B \u5355\u4ECE\u4E0A\u9762\u7684\u8BF4\u660E\u4E2D\u5176\u5B9E\u53EF\u4EE5\u660E\u786E\u611F\u77E5\u5230\uFF0CAMQP\u7684\u51FA\u73B0\u89E3\u51B3\u7684\u662F\u6D88\u606F\u4F20\u9012\u65F6\u4F7F\u7528\u7684\u6D88\u606F\u79CD\u7C7B\u7684\u95EE\u9898\uFF0C\u5316\u7E41\u4E3A\u7B80\uFF0C\u4F46\u662F\u5176\u5E76\u6CA1\u6709\u5B8C\u5168\u63A8\u7FFBJMS\u7684\u64CD\u4F5CAPI\uFF0C\u6240\u4EE5\u8BF4AMQP\u4EC5\u4EC5\u662F\u4E00\u79CD\u534F\u8BAE\uFF0C\u89C4\u8303\u4E86\u6570\u636E\u4F20\u8F93\u7684\u683C\u5F0F\u800C\u5DF2\u3002</p><p>\u200B AMQP\uFF08advanced message queuing protocol\uFF09\uFF1A\u4E00\u79CD\u534F\u8BAE\uFF08\u9AD8\u7EA7\u6D88\u606F\u961F\u5217\u534F\u8BAE\uFF0C\u4E5F\u662F\u6D88\u606F\u4EE3\u7406\u89C4\u8303\uFF09\uFF0C\u89C4\u8303\u4E86\u7F51\u7EDC\u4EA4\u6362\u7684\u6570\u636E\u683C\u5F0F\uFF0C\u517C\u5BB9JMS\u64CD\u4F5C\u3002</p><p>**\u4F18\u70B9\uFF1A**\u5177\u6709\u8DE8\u5E73\u53F0\u6027\uFF0C\u670D\u52A1\u5668\u4F9B\u5E94\u5546\uFF0C\u751F\u4EA7\u8005\uFF0C\u6D88\u8D39\u8005\u53EF\u4EE5\u4F7F\u7528\u4E0D\u540C\u7684\u8BED\u8A00\u6765\u5B9E\u73B0</p><p>**AMQP\u6D88\u606F\u79CD\u7C7B\uFF1A**byte[]</p><p>\u200B AMQP\u5728JMS\u7684\u6D88\u606F\u6A21\u578B\u57FA\u7840\u4E0A\u53C8\u8FDB\u884C\u4E86\u8FDB\u4E00\u6B65\u7684\u6269\u5C55\uFF0C\u9664\u4E86\u70B9\u5BF9\u70B9\u548C\u53D1\u5E03\u8BA2\u9605\u7684\u6A21\u578B\uFF0C\u5F00\u53D1\u4E86\u51E0\u79CD\u5168\u65B0\u7684\u6D88\u606F\u6A21\u578B\uFF0C\u9002\u5E94\u5404\u79CD\u5404\u6837\u7684\u6D88\u606F\u53D1\u9001\u3002</p><p><strong>AMQP\u6D88\u606F\u6A21\u578B</strong></p><ul><li>direct exchange</li><li>fanout exchange</li><li>topic exchange</li><li>headers exchange</li><li>system exchange</li></ul><p>\u200B \u76EE\u524D\u5B9E\u73B0\u4E86AMQP\u534F\u8BAE\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6\u6280\u672F\u4E5F\u5F88\u591A\uFF0C\u800C\u4E14\u90FD\u662F\u8F83\u4E3A\u6D41\u884C\u7684\u6280\u672F\uFF0C\u4F8B\u5982\uFF1ARabbitMQ\u3001StormMQ\u3001RocketMQ</p><h5 id="mqtt" tabindex="-1"><a class="header-anchor" href="#mqtt" aria-hidden="true">#</a> MQTT</h5><p>\u200B MQTT\uFF08Message Queueing Telemetry Transport\uFF09\u6D88\u606F\u961F\u5217\u9065\u6D4B\u4F20\u8F93\uFF0C\u4E13\u4E3A\u5C0F\u8BBE\u5907\u8BBE\u8BA1\uFF0C\u662F\u7269\u8054\u7F51\uFF08IOT\uFF09\u751F\u6001\u7CFB\u7EDF\u4E2D\u4E3B\u8981\u6210\u5206\u4E4B\u4E00\u3002\u7531\u4E8E\u4E0EJavaEE\u4F01\u4E1A\u7EA7\u5F00\u53D1\u6CA1\u6709\u4EA4\u96C6\uFF0C\u6B64\u5904\u4E0D\u4F5C\u8FC7\u591A\u7684\u8BF4\u660E\u3002</p><p>\u200B \u9664\u4E86\u4E0A\u8FF03\u79CDJ2EE\u4F01\u4E1A\u7EA7\u5E94\u7528\u4E2D\u5E7F\u6CDB\u4F7F\u7528\u7684\u4E09\u79CD\u5F02\u6B65\u6D88\u606F\u4F20\u9012\u6280\u672F\uFF0C\u8FD8\u6709\u4E00\u79CD\u6280\u672F\u4E5F\u4E0D\u80FD\u5FFD\u7565\uFF0CKafka\u3002</p><h5 id="kafka" tabindex="-1"><a class="header-anchor" href="#kafka" aria-hidden="true">#</a> KafKa</h5><p>\u200B Kafka\uFF0C\u4E00\u79CD\u9AD8\u541E\u5410\u91CF\u7684\u5206\u5E03\u5F0F\u53D1\u5E03\u8BA2\u9605\u6D88\u606F\u7CFB\u7EDF\uFF0C\u63D0\u4F9B\u5B9E\u65F6\u6D88\u606F\u529F\u80FD\u3002Kafka\u6280\u672F\u5E76\u4E0D\u662F\u4F5C\u4E3A\u6D88\u606F\u4E2D\u95F4\u4EF6\u4E3A\u4E3B\u8981\u529F\u80FD\u7684\u4EA7\u54C1\uFF0C\u4F46\u662F\u5176\u62E5\u6709\u53D1\u5E03\u8BA2\u9605\u7684\u5DE5\u4F5C\u6A21\u5F0F\uFF0C\u4E5F\u53EF\u4EE5\u5145\u5F53\u6D88\u606F\u4E2D\u95F4\u4EF6\u6765\u4F7F\u7528\uFF0C\u800C\u4E14\u76EE\u524D\u4F01\u4E1A\u7EA7\u5F00\u53D1\u4E2D\u5176\u8EAB\u5F71\u4E5F\u4E0D\u5C11\u89C1\u3002</p><p>\u200B \u672C\u8282\u5185\u5BB9\u5C06\u56F4\u7ED5\u7740\u4E0A\u8FF0\u5185\u5BB9\u4E2D\u7684\u51E0\u79CD\u5B9E\u73B0\u65B9\u6848\u8BB2\u89E3springboot\u6574\u5408\u5404\u79CD\u5404\u6837\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6\u3002\u7531\u4E8E\u5404\u79CD\u6D88\u606F\u4E2D\u95F4\u4EF6\u5FC5\u987B\u5148\u5B89\u88C5\u518D\u4F7F\u7528\uFF0C\u4E0B\u9762\u7684\u5185\u5BB9\u91C7\u7528Windows\u7CFB\u7EDF\u5B89\u88C5\uFF0C\u964D\u4F4E\u5404\u4F4D\u5B66\u4E60\u8005\u7684\u5B66\u4E60\u96BE\u5EA6\uFF0C\u57FA\u672C\u5957\u8DEF\u548C\u4E4B\u524D\u5B66\u4E60NoSQL\u89E3\u51B3\u65B9\u6848\u4E00\u6837\uFF0C\u5148\u5B89\u88C5\u518D\u6574\u5408\u3002</p><h4 id="\u8D2D\u7269\u8BA2\u5355\u53D1\u9001\u624B\u673A\u77ED\u4FE1\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u8D2D\u7269\u8BA2\u5355\u53D1\u9001\u624B\u673A\u77ED\u4FE1\u6848\u4F8B" aria-hidden="true">#</a> \u8D2D\u7269\u8BA2\u5355\u53D1\u9001\u624B\u673A\u77ED\u4FE1\u6848\u4F8B</h4><p>\u200B \u4E3A\u4E86\u4FBF\u4E8E\u4E0B\u9762\u6F14\u793A\u5404\u79CD\u5404\u6837\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6\u6280\u672F\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A\u8D2D\u7269\u8FC7\u7A0B\u751F\u6210\u8BA2\u5355\u65F6\u4E3A\u7528\u6237\u53D1\u9001\u77ED\u4FE1\u7684\u6848\u4F8B\u73AF\u5883\uFF0C\u6A21\u62DF\u4F7F\u7528\u6D88\u606F\u4E2D\u95F4\u4EF6\u5B9E\u73B0\u53D1\u9001\u624B\u673A\u77ED\u4FE1\u7684\u8FC7\u7A0B\u3002</p><p>\u200B \u624B\u673A\u9A8C\u8BC1\u7801\u6848\u4F8B\u9700\u6C42\u5982\u4E0B\uFF1A</p><ul><li><p>\u6267\u884C\u4E0B\u5355\u4E1A\u52A1\u65F6\uFF08\u6A21\u62DF\u6B64\u8FC7\u7A0B\uFF09\uFF0C\u8C03\u7528\u6D88\u606F\u670D\u52A1\uFF0C\u5C06\u8981\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355id\u4F20\u9012\u7ED9\u6D88\u606F\u4E2D\u95F4\u4EF6</p></li><li><p>\u6D88\u606F\u5904\u7406\u670D\u52A1\u63A5\u6536\u5230\u8981\u53D1\u9001\u7684\u8BA2\u5355id\u540E\u8F93\u51FA\u8BA2\u5355id\uFF08\u6A21\u62DF\u53D1\u77ED\u4FE1\uFF09</p><p>\u7531\u4E8E\u4E0D\u6D89\u53CA\u6570\u636E\u8BFB\u5199\uFF0C\u4EC5\u5F00\u53D1\u4E1A\u52A1\u5C42\u4E0E\u8868\u73B0\u5C42\uFF0C\u5176\u4E2D\u77ED\u4FE1\u5904\u7406\u7684\u4E1A\u52A1\u4EE3\u7801\u72EC\u7ACB\u5F00\u53D1\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A</p></li></ul><p><strong>\u8BA2\u5355\u4E1A\u52A1</strong></p><p>\u200B <strong>\u4E1A\u52A1\u5C42\u63A5\u53E3</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderService</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">order</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6A21\u62DF\u4F20\u5165\u8BA2\u5355id\uFF0C\u6267\u884C\u4E0B\u8BA2\u5355\u4E1A\u52A1\uFF0C\u53C2\u6570\u4E3A\u865A\u62DF\u8BBE\u5B9A\uFF0C\u5B9E\u9645\u5E94\u4E3A\u8BA2\u5355\u5BF9\u5E94\u7684\u5B9E\u4F53\u7C7B</p><p>\u200B <strong>\u4E1A\u52A1\u5C42\u5B9E\u73B0</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">OrderService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MessageService</span> messageService<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">order</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u4E00\u7CFB\u5217\u64CD\u4F5C\uFF0C\u5305\u542B\u5404\u79CD\u670D\u52A1\u8C03\u7528\uFF0C\u5904\u7406\u5404\u79CD\u4E1A\u52A1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BA2\u5355\u5904\u7406\u5F00\u59CB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u77ED\u4FE1\u6D88\u606F\u5904\u7406</span>
        messageService<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BA2\u5355\u5904\u7406\u7ED3\u675F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E1A\u52A1\u5C42\u8F6C\u8C03\u77ED\u4FE1\u5904\u7406\u7684\u670D\u52A1MessageService</p><p>\u200B <strong>\u8868\u73B0\u5C42\u670D\u52A1</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/orders&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">OrderService</span> orderService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">order</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        orderService<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8868\u73B0\u5C42\u5BF9\u5916\u5F00\u53D1\u63A5\u53E3\uFF0C\u4F20\u5165\u8BA2\u5355id\u5373\u53EF\uFF08\u6A21\u62DF\uFF09</p><p><strong>\u77ED\u4FE1\u5904\u7406\u4E1A\u52A1</strong></p><p>\u200B <strong>\u4E1A\u52A1\u5C42\u63A5\u53E3</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">doMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u77ED\u4FE1\u5904\u7406\u4E1A\u52A1\u5C42\u63A5\u53E3\u63D0\u4F9B\u4E24\u4E2A\u64CD\u4F5C\uFF0C\u53D1\u9001\u8981\u5904\u7406\u7684\u8BA2\u5355id\u5230\u6D88\u606F\u4E2D\u95F4\u4EF6\uFF0C\u53E6\u4E00\u4E2A\u64CD\u4F5C\u76EE\u524D\u6682\u4E14\u8BBE\u8BA1\u6210\u5904\u7406\u6D88\u606F\uFF0C\u5B9E\u9645\u6D88\u606F\u7684\u5904\u7406\u8FC7\u7A0B\u4E0D\u5E94\u8BE5\u662F\u624B\u52A8\u6267\u884C\uFF0C\u5E94\u8BE5\u662F\u81EA\u52A8\u6267\u884C\uFF0C\u5230\u5177\u4F53\u5B9E\u73B0\u65F6\u518D\u8FDB\u884C\u8BBE\u8BA1</p><p>\u200B <strong>\u4E1A\u52A1\u5C42\u5B9E\u73B0</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> msgList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F85\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355\u5DF2\u7EB3\u5165\u5904\u7406\u961F\u5217\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        msgList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">doMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> msgList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u77ED\u4FE1\u5904\u7406\u4E1A\u52A1\u5C42\u5B9E\u73B0\u4E2D\u4F7F\u7528\u96C6\u5408\u5148\u6A21\u62DF\u6D88\u606F\u961F\u5217\uFF0C\u89C2\u5BDF\u6548\u679C</p><p>\u200B <strong>\u8868\u73B0\u5C42\u670D\u52A1</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/msgs&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MessageService</span> messageService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">doMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> messageService<span class="token punctuation">.</span><span class="token function">doMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u77ED\u4FE1\u5904\u7406\u8868\u73B0\u5C42\u63A5\u53E3\u6682\u4E14\u5F00\u53D1\u51FA\u4E00\u4E2A\u5904\u7406\u6D88\u606F\u7684\u5165\u53E3\uFF0C\u4F46\u662F\u6B64\u4E1A\u52A1\u662F\u5BF9\u5E94\u4E1A\u52A1\u5C42\u4E2D\u8BBE\u8BA1\u7684\u6A21\u62DF\u63A5\u53E3\uFF0C\u5B9E\u9645\u4E1A\u52A1\u4E0D\u9700\u8981\u8BBE\u8BA1\u6B64\u63A5\u53E3\u3002</p><p>\u200B \u4E0B\u9762\u5F00\u542Fspringboot\u6574\u5408\u5404\u79CD\u5404\u6837\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6\uFF0C\u4ECE\u4E25\u683C\u6EE1\u8DB3JMS\u89C4\u8303\u7684ActiveMQ\u5F00\u59CB</p><h4 id="springboot\u6574\u5408activemq" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408activemq" aria-hidden="true">#</a> SpringBoot\u6574\u5408ActiveMQ</h4><p>\u200B ActiveMQ\u662FMQ\u4EA7\u54C1\u4E2D\u7684\u5143\u8001\u7EA7\u4EA7\u54C1\uFF0C\u65E9\u671F\u6807\u51C6MQ\u4EA7\u54C1\u4E4B\u4E00\uFF0C\u5728AMQP\u534F\u8BAE\u6CA1\u6709\u51FA\u73B0\u4E4B\u524D\uFF0C\u5360\u636E\u4E86\u6D88\u606F\u4E2D\u95F4\u4EF6\u5E02\u573A\u7684\u7EDD\u5927\u90E8\u5206\u4EFD\u989D\uFF0C\u540E\u671F\u56E0\u4E3AAMQP\u7CFB\u5217\u4EA7\u54C1\u7684\u51FA\u73B0\uFF0C\u8FC5\u901F\u8D70\u5F31\uFF0C\u76EE\u524D\u4EC5\u5728\u4E00\u4E9B\u7EBF\u4E0A\u8FD0\u884C\u7684\u4EA7\u54C1\u4E2D\u51FA\u73B0\uFF0C\u65B0\u4EA7\u54C1\u5F00\u53D1\u8F83\u5C11\u91C7\u7528\u3002</p><h5 id="\u5B89\u88C5-3" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-3" aria-hidden="true">#</a> \u5B89\u88C5</h5>`,110),Rn=s("\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1A"),En={href:"https://activemq.apache.org/components/classic/download/",target:"_blank",rel:"noopener noreferrer"},Ln=s("https://activemq.apache.org/components/classic/download"),Pn={href:"https://activemq.apache.org/components/classic/download/",target:"_blank",rel:"noopener noreferrer"},On=s("/"),Fn=e('<p>\u200B \u4E0B\u8F7D\u7684\u5B89\u88C5\u5305\u662F\u89E3\u538B\u7F29\u5C31\u80FD\u4F7F\u7528\u7684zip\u6587\u4EF6\uFF0C\u89E3\u538B\u7F29\u5B8C\u6BD5\u540E\u4F1A\u5F97\u5230\u5982\u4E0B\u6587\u4EF6</p><p><img src="'+F+`" alt="image-20220228160001620"></p><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>activemq.bat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B \u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684win32\u6216win64\u76EE\u5F55\u4E0B\u7684activemq.bat\u547D\u4EE4\u5373\u53EF\uFF0C\u6839\u636E\u81EA\u5DF1\u7684\u64CD\u4F5C\u7CFB\u7EDF\u9009\u62E9\u5373\u53EF\uFF0C\u9ED8\u8BA4\u5BF9\u5916\u670D\u52A1\u7AEF\u53E361616\u3002</p><p><strong>\u8BBF\u95EEweb\u7BA1\u7406\u670D\u52A1</strong></p><p>\u200B ActiveMQ\u542F\u52A8\u540E\u4F1A\u542F\u52A8\u4E00\u4E2AWeb\u63A7\u5236\u53F0\u670D\u52A1\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8BE5\u670D\u52A1\u7BA1\u7406ActiveMQ\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://127.0.0.1:8161/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B web\u7BA1\u7406\u670D\u52A1\u9ED8\u8BA4\u7AEF\u53E38161\uFF0C\u8BBF\u95EE\u540E\u53EF\u4EE5\u6253\u5F00ActiveMQ\u7684\u7BA1\u7406\u754C\u9762\uFF0C\u5982\u4E0B\uFF1A</p><img src="`+Q+'" alt="image-20220228160844972" style="zoom:67%;"><p>\u200B \u9996\u5148\u8F93\u5165\u8BBF\u95EE\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u521D\u59CB\u5316\u7528\u6237\u540D\u548C\u5BC6\u7801\u76F8\u540C\uFF0C\u5747\u4E3A\uFF1Aadmin\uFF0C\u6210\u529F\u767B\u5F55\u540E\u8FDB\u5165\u7BA1\u7406\u540E\u53F0\u754C\u9762\uFF0C\u5982\u4E0B\uFF1A</p><p><img src="'+N+`" alt="image-20220228161010401"></p><p>\u200B \u770B\u5230\u4E0A\u8FF0\u754C\u9762\u89C6\u4E3A\u542F\u52A8ActiveMQ\u670D\u52A1\u6210\u529F\u3002</p><p><strong>\u542F\u52A8\u5931\u8D25</strong></p><p>\u200B \u5728ActiveMQ\u542F\u52A8\u65F6\u8981\u5360\u7528\u591A\u4E2A\u7AEF\u53E3\uFF0C\u4EE5\u4E0B\u4E3A\u6B63\u5E38\u542F\u52A8\u4FE1\u606F\uFF1A</p><div class="language-basic ext-basic line-numbers-mode"><pre class="language-basic"><code>wrapper  | <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> Wrapper Started <span class="token keyword">as</span> Console
wrapper  | Launching a JVM...
jvm <span class="token number">1</span>    | Wrapper <span class="token punctuation">(</span>Version <span class="token number">3.2</span><span class="token number">.3</span><span class="token punctuation">)</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>wrapper.tanukisoftware.org
jvm <span class="token number">1</span>    |   Copyright <span class="token number">1999</span><span class="token operator">-</span><span class="token number">2006</span> Tanuki Software<span class="token punctuation">,</span> Inc.  All Rights Reserved.
jvm <span class="token number">1</span>    |
jvm <span class="token number">1</span>    | Java Runtime<span class="token punctuation">:</span> Oracle Corporation <span class="token number">1.8</span><span class="token number">.0</span>_172 D<span class="token punctuation">:</span>\\soft\\jdk1.<span class="token number">8.0</span>_172\\jre
jvm <span class="token number">1</span>    |   Heap sizes<span class="token punctuation">:</span> current<span class="token operator">=</span><span class="token number">249344</span>k  free<span class="token operator">=</span><span class="token number">235037</span>k  <span class="token function">max</span><span class="token operator">=</span><span class="token number">932352</span>k
jvm <span class="token number">1</span>    |     JVM args<span class="token punctuation">:</span> <span class="token operator">-</span>Dactivemq.home<span class="token operator">=</span>..<span class="token operator">/</span>.. <span class="token operator">-</span>Dactivemq.<span class="token function">base</span><span class="token operator">=</span>..<span class="token operator">/</span>.. <span class="token operator">-</span>Djavax.net.ssl.keyStorePassword<span class="token operator">=</span>password <span class="token operator">-</span>Djavax.net.ssl.trustStorePassword<span class="token operator">=</span>password <span class="token operator">-</span>Djavax.net.ssl.keyStore<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf<span class="token operator">/</span>broker.ks <span class="token operator">-</span>Djavax.net.ssl.trustStore<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf<span class="token operator">/</span>broker.ts <span class="token operator">-</span>Dcom.sun.management.jmxremote <span class="token operator">-</span>Dorg.apache.activemq.UseDedicatedTaskRunner<span class="token operator">=</span>true <span class="token operator">-</span>Djava.util.logging.config.file<span class="token operator">=</span>logging.properties <span class="token operator">-</span>Dactivemq.conf<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf <span class="token operator">-</span>Dactivemq.<span class="token keyword">data</span><span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span><span class="token keyword">data</span> <span class="token operator">-</span>Djava.security.auth.login.config<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf<span class="token operator">/</span>login.config <span class="token operator">-</span>Xmx1024m <span class="token operator">-</span>Djava.library.path<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>bin<span class="token operator">/</span>win64 <span class="token operator">-</span>Dwrapper.<span class="token keyword">key</span><span class="token operator">=</span><span class="token number">7</span>ySrCD75XhLCpLjd <span class="token operator">-</span>Dwrapper.port<span class="token operator">=</span><span class="token number">32000</span> <span class="token operator">-</span>Dwrapper.jvm.port.<span class="token function">min</span><span class="token operator">=</span><span class="token number">31000</span> <span class="token operator">-</span>Dwrapper.jvm.port.<span class="token function">max</span><span class="token operator">=</span><span class="token number">31999</span> <span class="token operator">-</span>Dwrapper.pid<span class="token operator">=</span><span class="token number">9364</span> <span class="token operator">-</span>Dwrapper.version<span class="token operator">=</span><span class="token number">3.2</span><span class="token number">.3</span> <span class="token operator">-</span>Dwrapper.native_library<span class="token operator">=</span>wrapper <span class="token operator">-</span>Dwrapper.cpu.<span class="token function">timeout</span><span class="token operator">=</span><span class="token number">10</span> <span class="token operator">-</span>Dwrapper.jvmid<span class="token operator">=</span><span class="token number">1</span>
jvm <span class="token number">1</span>    | Extensions classpath<span class="token punctuation">:</span>
jvm <span class="token number">1</span>    |   [..\\..\\lib<span class="token punctuation">,</span>..\\..\\lib\\camel<span class="token punctuation">,</span>..\\..\\lib\\optional<span class="token punctuation">,</span>..\\..\\lib\\web<span class="token punctuation">,</span>..\\..\\lib\\extra]
jvm <span class="token number">1</span>    | ACTIVEMQ_HOME<span class="token punctuation">:</span> ..\\..
jvm <span class="token number">1</span>    | ACTIVEMQ_BASE<span class="token punctuation">:</span> ..\\..
jvm <span class="token number">1</span>    | ACTIVEMQ_CONF<span class="token punctuation">:</span> ..\\..\\conf
jvm <span class="token number">1</span>    | ACTIVEMQ_DATA<span class="token punctuation">:</span> ..\\..\\<span class="token keyword">data</span>
jvm <span class="token number">1</span>    | Loading message broker from<span class="token punctuation">:</span> xbean<span class="token punctuation">:</span>activemq.xml
jvm <span class="token number">1</span>    |  INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$<span class="token number">1</span>@<span class="token number">5</span>f3ebfe0<span class="token punctuation">:</span> startup <span class="token function">date</span> [Mon Feb <span class="token number">28</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">07</span><span class="token punctuation">:</span><span class="token number">48</span> CST <span class="token number">2022</span>]<span class="token punctuation">;</span> root <span class="token function">of</span> context hierarchy
jvm <span class="token number">1</span>    |  INFO | <span class="token keyword">Using</span> Persistence Adapter<span class="token punctuation">:</span> KahaDBPersistenceAdapter[D<span class="token punctuation">:</span>\\soft\\activemq\\bin\\win64\\..\\..\\<span class="token keyword">data</span>\\kahadb]
jvm <span class="token number">1</span>    |  INFO | KahaDB <span class="token function">is</span> version <span class="token number">7</span>
jvm <span class="token number">1</span>    |  INFO | PListStore<span class="token punctuation">:</span>[D<span class="token punctuation">:</span>\\soft\\activemq\\bin\\win64\\..\\..\\<span class="token keyword">data</span>\\localhost\\tmp_storage] started
jvm <span class="token number">1</span>    |  INFO | Apache ActiveMQ <span class="token number">5.16</span><span class="token number">.3</span> <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10434</span><span class="token operator">-</span><span class="token number">1646035669595</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">is</span> starting
jvm <span class="token number">1</span>    |  INFO | Listening <span class="token keyword">for</span> connections <span class="token function">at</span><span class="token punctuation">:</span> tcp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token punctuation">:</span><span class="token number">61616</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span>
jvm <span class="token number">1</span>    |  INFO | Connector openwire started
jvm <span class="token number">1</span>    |  INFO | Listening <span class="token keyword">for</span> connections <span class="token function">at</span><span class="token punctuation">:</span> amqp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token punctuation">:</span><span class="token number">5672</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span>
jvm <span class="token number">1</span>    |  INFO | Connector amqp started
jvm <span class="token number">1</span>    |  INFO | Listening <span class="token keyword">for</span> connections <span class="token function">at</span><span class="token punctuation">:</span> stomp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token punctuation">:</span><span class="token number">61613</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span>
jvm <span class="token number">1</span>    |  INFO | Connector stomp started
jvm <span class="token number">1</span>    |  INFO | Listening <span class="token keyword">for</span> connections <span class="token function">at</span><span class="token punctuation">:</span> mqtt<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token punctuation">:</span><span class="token number">1883</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span>
jvm <span class="token number">1</span>    |  INFO | Connector mqtt started
jvm <span class="token number">1</span>    |  INFO | Starting Jetty server
jvm <span class="token number">1</span>    |  INFO | Creating Jetty connector
jvm <span class="token number">1</span>    |  WARN | ServletContext@o.e.j.s.ServletContextHandler@<span class="token number">7350746</span>f{<span class="token operator">/</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span>STARTING} has uncovered http methods <span class="token keyword">for</span> path<span class="token punctuation">:</span> <span class="token operator">/</span>
jvm <span class="token number">1</span>    |  INFO | Listening <span class="token keyword">for</span> connections <span class="token function">at</span> ws<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token punctuation">:</span><span class="token number">61614</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span>
jvm <span class="token number">1</span>    |  INFO | Connector ws started
jvm <span class="token number">1</span>    |  INFO | Apache ActiveMQ <span class="token number">5.16</span><span class="token number">.3</span> <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10434</span><span class="token operator">-</span><span class="token number">1646035669595</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span> started
jvm <span class="token number">1</span>    |  INFO | <span class="token keyword">For</span> help <span class="token operator">or</span> more information please see<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>activemq.apache.org
jvm <span class="token number">1</span>    |  WARN | Store limit <span class="token function">is</span> <span class="token number">102400</span> mb <span class="token punctuation">(</span>current store usage <span class="token function">is</span> <span class="token number">0</span> mb<span class="token punctuation">)</span>. The <span class="token keyword">data</span> directory<span class="token punctuation">:</span> D<span class="token punctuation">:</span>\\soft\\activemq\\bin\\win64\\..\\..\\<span class="token keyword">data</span>\\kahadb only has <span class="token number">68936</span> mb <span class="token function">of</span> usable space. <span class="token operator">-</span> resetting <span class="token keyword">to</span> maximum available disk space<span class="token punctuation">:</span> <span class="token number">68936</span> mb
jvm <span class="token number">1</span>    |  INFO | ActiveMQ WebConsole available <span class="token function">at</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8161</span><span class="token operator">/</span>
jvm <span class="token number">1</span>    |  INFO | ActiveMQ Jolokia <span class="token function">REST</span> API available <span class="token function">at</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8161</span><span class="token operator">/</span>api<span class="token operator">/</span>jolokia<span class="token operator">/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5176\u4E2D\u5360\u7528\u7684\u7AEF\u53E3\u6709\uFF1A61616\u30015672\u300161613\u30011883\u300161614\uFF0C\u5982\u679C\u542F\u52A8\u5931\u8D25\uFF0C\u8BF7\u5148\u7BA1\u7406\u5BF9\u5E94\u7AEF\u53E3\u5373\u53EF\u3002\u4EE5\u4E0B\u5C31\u662F\u67D0\u4E2A\u7AEF\u53E3\u5360\u7528\u7684\u62A5\u9519\u4FE1\u606F\uFF0C\u53EF\u4EE5\u4ECE\u629B\u51FA\u5F02\u5E38\u7684\u4F4D\u7F6E\u770B\u51FA\uFF0C\u542F\u52A85672\u7AEF\u53E3\u65F6\u7AEF\u53E3\u88AB\u5360\u7528\uFF0C\u663E\u793Ajava.net.BindException: Address already in use: JVM_Bind\u3002Windows\u7CFB\u7EDF\u4E2D\u7EC8\u6B62\u7AEF\u53E3\u8FD0\u884C\u7684\u64CD\u4F5C\u53C2\u770B<a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%90%AF%E5%8A%A8%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">\u3010\u547D\u4EE4\u884C\u542F\u52A8\u5E38\u89C1\u95EE\u9898\u53CA\u89E3\u51B3\u65B9\u6848\u3011</a></p><div class="language-basic ext-basic line-numbers-mode"><pre class="language-basic"><code>wrapper  | <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span> Wrapper Started <span class="token keyword">as</span> Console
wrapper  | Launching a JVM...
jvm <span class="token number">1</span>    | Wrapper <span class="token punctuation">(</span>Version <span class="token number">3.2</span><span class="token number">.3</span><span class="token punctuation">)</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>wrapper.tanukisoftware.org
jvm <span class="token number">1</span>    |   Copyright <span class="token number">1999</span><span class="token operator">-</span><span class="token number">2006</span> Tanuki Software<span class="token punctuation">,</span> Inc.  All Rights Reserved.
jvm <span class="token number">1</span>    |
jvm <span class="token number">1</span>    | Java Runtime<span class="token punctuation">:</span> Oracle Corporation <span class="token number">1.8</span><span class="token number">.0</span>_172 D<span class="token punctuation">:</span>\\soft\\jdk1.<span class="token number">8.0</span>_172\\jre
jvm <span class="token number">1</span>    |   Heap sizes<span class="token punctuation">:</span> current<span class="token operator">=</span><span class="token number">249344</span>k  free<span class="token operator">=</span><span class="token number">235038</span>k  <span class="token function">max</span><span class="token operator">=</span><span class="token number">932352</span>k
jvm <span class="token number">1</span>    |     JVM args<span class="token punctuation">:</span> <span class="token operator">-</span>Dactivemq.home<span class="token operator">=</span>..<span class="token operator">/</span>.. <span class="token operator">-</span>Dactivemq.<span class="token function">base</span><span class="token operator">=</span>..<span class="token operator">/</span>.. <span class="token operator">-</span>Djavax.net.ssl.keyStorePassword<span class="token operator">=</span>password <span class="token operator">-</span>Djavax.net.ssl.trustStorePassword<span class="token operator">=</span>password <span class="token operator">-</span>Djavax.net.ssl.keyStore<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf<span class="token operator">/</span>broker.ks <span class="token operator">-</span>Djavax.net.ssl.trustStore<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf<span class="token operator">/</span>broker.ts <span class="token operator">-</span>Dcom.sun.management.jmxremote <span class="token operator">-</span>Dorg.apache.activemq.UseDedicatedTaskRunner<span class="token operator">=</span>true <span class="token operator">-</span>Djava.util.logging.config.file<span class="token operator">=</span>logging.properties <span class="token operator">-</span>Dactivemq.conf<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf <span class="token operator">-</span>Dactivemq.<span class="token keyword">data</span><span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span><span class="token keyword">data</span> <span class="token operator">-</span>Djava.security.auth.login.config<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>conf<span class="token operator">/</span>login.config <span class="token operator">-</span>Xmx1024m <span class="token operator">-</span>Djava.library.path<span class="token operator">=</span>..<span class="token operator">/</span>..<span class="token operator">/</span>bin<span class="token operator">/</span>win64 <span class="token operator">-</span>Dwrapper.<span class="token keyword">key</span><span class="token operator">=</span>QPJoy9ZoXeWmmwTS <span class="token operator">-</span>Dwrapper.port<span class="token operator">=</span><span class="token number">32000</span> <span class="token operator">-</span>Dwrapper.jvm.port.<span class="token function">min</span><span class="token operator">=</span><span class="token number">31000</span> <span class="token operator">-</span>Dwrapper.jvm.port.<span class="token function">max</span><span class="token operator">=</span><span class="token number">31999</span> <span class="token operator">-</span>Dwrapper.pid<span class="token operator">=</span><span class="token number">14836</span> <span class="token operator">-</span>Dwrapper.version<span class="token operator">=</span><span class="token number">3.2</span><span class="token number">.3</span> <span class="token operator">-</span>Dwrapper.native_library<span class="token operator">=</span>wrapper <span class="token operator">-</span>Dwrapper.cpu.<span class="token function">timeout</span><span class="token operator">=</span><span class="token number">10</span> <span class="token operator">-</span>Dwrapper.jvmid<span class="token operator">=</span><span class="token number">1</span>
jvm <span class="token number">1</span>    | Extensions classpath<span class="token punctuation">:</span>
jvm <span class="token number">1</span>    |   [..\\..\\lib<span class="token punctuation">,</span>..\\..\\lib\\camel<span class="token punctuation">,</span>..\\..\\lib\\optional<span class="token punctuation">,</span>..\\..\\lib\\web<span class="token punctuation">,</span>..\\..\\lib\\extra]
jvm <span class="token number">1</span>    | ACTIVEMQ_HOME<span class="token punctuation">:</span> ..\\..
jvm <span class="token number">1</span>    | ACTIVEMQ_BASE<span class="token punctuation">:</span> ..\\..
jvm <span class="token number">1</span>    | ACTIVEMQ_CONF<span class="token punctuation">:</span> ..\\..\\conf
jvm <span class="token number">1</span>    | ACTIVEMQ_DATA<span class="token punctuation">:</span> ..\\..\\<span class="token keyword">data</span>
jvm <span class="token number">1</span>    | Loading message broker from<span class="token punctuation">:</span> xbean<span class="token punctuation">:</span>activemq.xml
jvm <span class="token number">1</span>    |  INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$<span class="token number">1</span>@<span class="token number">2</span>c9392f5<span class="token punctuation">:</span> startup <span class="token function">date</span> [Mon Feb <span class="token number">28</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">06</span><span class="token punctuation">:</span><span class="token number">16</span> CST <span class="token number">2022</span>]<span class="token punctuation">;</span> root <span class="token function">of</span> context hierarchy
jvm <span class="token number">1</span>    |  INFO | <span class="token keyword">Using</span> Persistence Adapter<span class="token punctuation">:</span> KahaDBPersistenceAdapter[D<span class="token punctuation">:</span>\\soft\\activemq\\bin\\win64\\..\\..\\<span class="token keyword">data</span>\\kahadb]
jvm <span class="token number">1</span>    |  INFO | KahaDB <span class="token function">is</span> version <span class="token number">7</span>
jvm <span class="token number">1</span>    |  INFO | PListStore<span class="token punctuation">:</span>[D<span class="token punctuation">:</span>\\soft\\activemq\\bin\\win64\\..\\..\\<span class="token keyword">data</span>\\localhost\\tmp_storage] started
jvm <span class="token number">1</span>    |  INFO | Apache ActiveMQ <span class="token number">5.16</span><span class="token number">.3</span> <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10257</span><span class="token operator">-</span><span class="token number">1646035577620</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">is</span> starting
jvm <span class="token number">1</span>    |  INFO | Listening <span class="token keyword">for</span> connections <span class="token function">at</span><span class="token punctuation">:</span> tcp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token punctuation">:</span><span class="token number">61616</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span>
jvm <span class="token number">1</span>    |  INFO | Connector openwire started
jvm <span class="token number">1</span>    | <span class="token keyword">ERROR</span> | Failed <span class="token keyword">to</span> start Apache ActiveMQ <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10257</span><span class="token operator">-</span><span class="token number">1646035577620</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    | java.io.IOException<span class="token punctuation">:</span> Transport Connector could <span class="token operator">not</span> be registered <span class="token function">in</span> JMX<span class="token punctuation">:</span> java.io.IOException<span class="token punctuation">:</span> Failed <span class="token keyword">to</span> bind <span class="token keyword">to</span> server socket<span class="token punctuation">:</span> amqp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token punctuation">:</span><span class="token number">5672</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span> due <span class="token keyword">to</span><span class="token punctuation">:</span> java.net.BindException<span class="token punctuation">:</span> Address already <span class="token function">in</span> <span class="token function">use</span><span class="token punctuation">:</span> JVM_Bind
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.util.IOExceptionSupport.create<span class="token punctuation">(</span>IOExceptionSupport.java<span class="token punctuation">:</span><span class="token number">28</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.registerConnectorMBean<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">2288</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.startTransportConnector<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">2769</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.startAllConnectors<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">2665</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.doStartBroker<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">780</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.startBroker<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">742</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.start<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">645</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet<span class="token punctuation">(</span>XBeanBrokerService.java<span class="token punctuation">:</span><span class="token number">73</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java<span class="token punctuation">:</span><span class="token number">1748</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java<span class="token punctuation">:</span><span class="token number">1685</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java<span class="token punctuation">:</span><span class="token number">1615</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java<span class="token punctuation">:</span><span class="token number">553</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean<span class="token punctuation">(</span>AbstractAutowireCapableBeanFactory.java<span class="token punctuation">:</span><span class="token number">481</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractBeanFactory$<span class="token number">1.</span>getObject<span class="token punctuation">(</span>AbstractBeanFactory.java<span class="token punctuation">:</span><span class="token number">312</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton<span class="token punctuation">(</span>DefaultSingletonBeanRegistry.java<span class="token punctuation">:</span><span class="token number">230</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean<span class="token punctuation">(</span>AbstractBeanFactory.java<span class="token punctuation">:</span><span class="token number">308</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.AbstractBeanFactory.getBean<span class="token punctuation">(</span>AbstractBeanFactory.java<span class="token punctuation">:</span><span class="token number">197</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons<span class="token punctuation">(</span>DefaultListableBeanFactory.java<span class="token punctuation">:</span><span class="token number">756</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization<span class="token punctuation">(</span>AbstractApplicationContext.java<span class="token punctuation">:</span><span class="token number">867</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractApplicationContext.refresh<span class="token punctuation">(</span>AbstractApplicationContext.java<span class="token punctuation">:</span><span class="token number">542</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.xbean.spring.context.ResourceXmlApplicationContext.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ResourceXmlApplicationContext.java<span class="token punctuation">:</span><span class="token number">64</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.xbean.spring.context.ResourceXmlApplicationContext.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ResourceXmlApplicationContext.java<span class="token punctuation">:</span><span class="token number">52</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory$<span class="token number">1.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext<span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory.createBroker<span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">67</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerFactory.createBroker<span class="token punctuation">(</span>BrokerFactory.java<span class="token punctuation">:</span><span class="token number">71</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerFactory.createBroker<span class="token punctuation">(</span>BrokerFactory.java<span class="token punctuation">:</span><span class="token number">54</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.StartCommand.runTask<span class="token punctuation">(</span>StartCommand.java<span class="token punctuation">:</span><span class="token number">87</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.AbstractCommand.execute<span class="token punctuation">(</span>AbstractCommand.java<span class="token punctuation">:</span><span class="token number">63</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.ShellCommand.runTask<span class="token punctuation">(</span>ShellCommand.java<span class="token punctuation">:</span><span class="token number">154</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.AbstractCommand.execute<span class="token punctuation">(</span>AbstractCommand.java<span class="token punctuation">:</span><span class="token number">63</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.ShellCommand.main<span class="token punctuation">(</span>ShellCommand.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.Main.runTaskClass<span class="token punctuation">(</span>Main.java<span class="token punctuation">:</span><span class="token number">262</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.Main.main<span class="token punctuation">(</span>Main.java<span class="token punctuation">:</span><span class="token number">115</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.tanukisoftware.wrapper.WrapperSimpleApp.<span class="token keyword">run</span><span class="token punctuation">(</span>WrapperSimpleApp.java<span class="token punctuation">:</span><span class="token number">240</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.Thread.<span class="token keyword">run</span><span class="token punctuation">(</span>Thread.java<span class="token punctuation">:</span><span class="token number">748</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    | Caused by<span class="token punctuation">:</span> java.io.IOException<span class="token punctuation">:</span> Failed <span class="token keyword">to</span> bind <span class="token keyword">to</span> server socket<span class="token punctuation">:</span> amqp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token punctuation">:</span><span class="token number">5672</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span> due <span class="token keyword">to</span><span class="token punctuation">:</span> java.net.BindException<span class="token punctuation">:</span> Address already <span class="token function">in</span> <span class="token function">use</span><span class="token punctuation">:</span> JVM_Bind
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.util.IOExceptionSupport.create<span class="token punctuation">(</span>IOExceptionSupport.java<span class="token punctuation">:</span><span class="token number">34</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.transport.tcp.TcpTransportServer.bind<span class="token punctuation">(</span>TcpTransportServer.java<span class="token punctuation">:</span><span class="token number">146</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.transport.tcp.TcpTransportFactory.doBind<span class="token punctuation">(</span>TcpTransportFactory.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.transport.TransportFactorySupport.bind<span class="token punctuation">(</span>TransportFactorySupport.java<span class="token punctuation">:</span><span class="token number">40</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.TransportConnector.createTransportServer<span class="token punctuation">(</span>TransportConnector.java<span class="token punctuation">:</span><span class="token number">335</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.TransportConnector.getServer<span class="token punctuation">(</span>TransportConnector.java<span class="token punctuation">:</span><span class="token number">145</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.TransportConnector.asManagedConnector<span class="token punctuation">(</span>TransportConnector.java<span class="token punctuation">:</span><span class="token number">110</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerService.registerConnectorMBean<span class="token punctuation">(</span>BrokerService.java<span class="token punctuation">:</span><span class="token number">2283</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      ... <span class="token number">46</span> more
jvm <span class="token number">1</span>    | Caused by<span class="token punctuation">:</span> java.net.BindException<span class="token punctuation">:</span> Address already <span class="token function">in</span> <span class="token function">use</span><span class="token punctuation">:</span> JVM_Bind
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.net.DualStackPlainSocketImpl.bind0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.net.DualStackPlainSocketImpl.socketBind<span class="token punctuation">(</span>DualStackPlainSocketImpl.java<span class="token punctuation">:</span><span class="token number">106</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.net.AbstractPlainSocketImpl.bind<span class="token punctuation">(</span>AbstractPlainSocketImpl.java<span class="token punctuation">:</span><span class="token number">387</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.net.PlainSocketImpl.bind<span class="token punctuation">(</span>PlainSocketImpl.java<span class="token punctuation">:</span><span class="token number">190</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.net.ServerSocket.bind<span class="token punctuation">(</span>ServerSocket.java<span class="token punctuation">:</span><span class="token number">375</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.net.ServerSocket.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ServerSocket.java<span class="token punctuation">:</span><span class="token number">237</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> javax.net.DefaultServerSocketFactory.createServerSocket<span class="token punctuation">(</span>ServerSocketFactory.java<span class="token punctuation">:</span><span class="token number">231</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.transport.tcp.TcpTransportServer.bind<span class="token punctuation">(</span>TcpTransportServer.java<span class="token punctuation">:</span><span class="token number">143</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      ... <span class="token number">52</span> more
jvm <span class="token number">1</span>    |  INFO | Apache ActiveMQ <span class="token number">5.16</span><span class="token number">.3</span> <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10257</span><span class="token operator">-</span><span class="token number">1646035577620</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">is</span> shutting down
jvm <span class="token number">1</span>    |  INFO | socketQueue interrupted <span class="token operator">-</span> stopping
jvm <span class="token number">1</span>    |  INFO | Connector openwire stopped
jvm <span class="token number">1</span>    |  INFO | Could <span class="token operator">not</span> accept connection during shutdown  <span class="token punctuation">:</span> null <span class="token punctuation">(</span>null<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |  INFO | Connector amqp stopped
jvm <span class="token number">1</span>    |  INFO | Connector stomp stopped
jvm <span class="token number">1</span>    |  INFO | Connector mqtt stopped
jvm <span class="token number">1</span>    |  INFO | Connector ws stopped
jvm <span class="token number">1</span>    |  INFO | PListStore<span class="token punctuation">:</span>[D<span class="token punctuation">:</span>\\soft\\activemq\\bin\\win64\\..\\..\\<span class="token keyword">data</span>\\localhost\\tmp_storage] stopped
jvm <span class="token number">1</span>    |  INFO | Stopping async queue tasks
jvm <span class="token number">1</span>    |  INFO | Stopping async topic tasks
jvm <span class="token number">1</span>    |  INFO | Stopped KahaDB
jvm <span class="token number">1</span>    |  INFO | Apache ActiveMQ <span class="token number">5.16</span><span class="token number">.3</span> <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10257</span><span class="token operator">-</span><span class="token number">1646035577620</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span> uptime <span class="token number">0.426</span> seconds
jvm <span class="token number">1</span>    |  INFO | Apache ActiveMQ <span class="token number">5.16</span><span class="token number">.3</span> <span class="token punctuation">(</span>localhost<span class="token punctuation">,</span> ID<span class="token punctuation">:</span>CZBK<span class="token operator">-</span><span class="token number">20210302</span>VL<span class="token operator">-</span><span class="token number">10257</span><span class="token operator">-</span><span class="token number">1646035577620</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">is</span> shutdown
jvm <span class="token number">1</span>    |  INFO | Closing org.apache.activemq.xbean.XBeanBrokerFactory$<span class="token number">1</span>@<span class="token number">2</span>c9392f5<span class="token punctuation">:</span> startup <span class="token function">date</span> [Mon Feb <span class="token number">28</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">06</span><span class="token punctuation">:</span><span class="token number">16</span> CST <span class="token number">2022</span>]<span class="token punctuation">;</span> root <span class="token function">of</span> context hierarchy
jvm <span class="token number">1</span>    |  WARN | Exception encountered during context initialization <span class="token operator">-</span> cancelling refresh attempt<span class="token punctuation">:</span> org.springframework.beans.factory.BeanCreationException<span class="token punctuation">:</span> <span class="token keyword">Error</span> creating bean <span class="token function">with</span> <span class="token keyword">name</span> &#39;org.apache.activemq.xbean.XBeanBrokerService#<span class="token number">0</span>&#39; defined <span class="token function">in</span> class path resource [activemq.xml]<span class="token punctuation">:</span> Invocation <span class="token function">of</span> init method failed<span class="token punctuation">;</span> nested exception <span class="token function">is</span> java.io.IOException<span class="token punctuation">:</span> Transport Connector could <span class="token operator">not</span> be registered <span class="token function">in</span> JMX<span class="token punctuation">:</span> java.io.IOException<span class="token punctuation">:</span> Failed <span class="token keyword">to</span> bind <span class="token keyword">to</span> server socket<span class="token punctuation">:</span> amqp<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token punctuation">:</span><span class="token number">5672</span>?maximumConnections<span class="token operator">=</span><span class="token number">1000</span><span class="token operator">&amp;</span>wireFormat.maxFrameSize<span class="token operator">=</span><span class="token number">104857600</span> due <span class="token keyword">to</span><span class="token punctuation">:</span> java.net.BindException<span class="token punctuation">:</span> Address already <span class="token function">in</span> <span class="token function">use</span><span class="token punctuation">:</span> JVM_Bind
jvm <span class="token number">1</span>    | <span class="token keyword">ERROR</span><span class="token punctuation">:</span> java.lang.RuntimeException<span class="token punctuation">:</span> Failed <span class="token keyword">to</span> execute start task. Reason<span class="token punctuation">:</span> java.lang.IllegalStateException<span class="token punctuation">:</span> BeanFactory <span class="token operator">not</span> initialized <span class="token operator">or</span> already closed <span class="token operator">-</span> <span class="token keyword">call</span> &#39;refresh&#39; before accessing beans via the ApplicationContext
jvm <span class="token number">1</span>    | java.lang.RuntimeException<span class="token punctuation">:</span> Failed <span class="token keyword">to</span> execute start task. Reason<span class="token punctuation">:</span> java.lang.IllegalStateException<span class="token punctuation">:</span> BeanFactory <span class="token operator">not</span> initialized <span class="token operator">or</span> already closed <span class="token operator">-</span> <span class="token keyword">call</span> &#39;refresh&#39; before accessing beans via the ApplicationContext
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.StartCommand.runTask<span class="token punctuation">(</span>StartCommand.java<span class="token punctuation">:</span><span class="token number">91</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.AbstractCommand.execute<span class="token punctuation">(</span>AbstractCommand.java<span class="token punctuation">:</span><span class="token number">63</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.ShellCommand.runTask<span class="token punctuation">(</span>ShellCommand.java<span class="token punctuation">:</span><span class="token number">154</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.AbstractCommand.execute<span class="token punctuation">(</span>AbstractCommand.java<span class="token punctuation">:</span><span class="token number">63</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.ShellCommand.main<span class="token punctuation">(</span>ShellCommand.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.Main.runTaskClass<span class="token punctuation">(</span>Main.java<span class="token punctuation">:</span><span class="token number">262</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.Main.main<span class="token punctuation">(</span>Main.java<span class="token punctuation">:</span><span class="token number">115</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.tanukisoftware.wrapper.WrapperSimpleApp.<span class="token keyword">run</span><span class="token punctuation">(</span>WrapperSimpleApp.java<span class="token punctuation">:</span><span class="token number">240</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.Thread.<span class="token keyword">run</span><span class="token punctuation">(</span>Thread.java<span class="token punctuation">:</span><span class="token number">748</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    | Caused by<span class="token punctuation">:</span> java.lang.IllegalStateException<span class="token punctuation">:</span> BeanFactory <span class="token operator">not</span> initialized <span class="token operator">or</span> already closed <span class="token operator">-</span> <span class="token keyword">call</span> &#39;refresh&#39; before accessing beans via the ApplicationContext
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory<span class="token punctuation">(</span>AbstractRefreshableApplicationContext.java<span class="token punctuation">:</span><span class="token number">164</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractApplicationContext.destroyBeans<span class="token punctuation">(</span>AbstractApplicationContext.java<span class="token punctuation">:</span><span class="token number">1034</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractApplicationContext.refresh<span class="token punctuation">(</span>AbstractApplicationContext.java<span class="token punctuation">:</span><span class="token number">555</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.xbean.spring.context.ResourceXmlApplicationContext.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ResourceXmlApplicationContext.java<span class="token punctuation">:</span><span class="token number">64</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.xbean.spring.context.ResourceXmlApplicationContext.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ResourceXmlApplicationContext.java<span class="token punctuation">:</span><span class="token number">52</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory$<span class="token number">1.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext<span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory.createBroker<span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">67</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerFactory.createBroker<span class="token punctuation">(</span>BrokerFactory.java<span class="token punctuation">:</span><span class="token number">71</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerFactory.createBroker<span class="token punctuation">(</span>BrokerFactory.java<span class="token punctuation">:</span><span class="token number">54</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.StartCommand.runTask<span class="token punctuation">(</span>StartCommand.java<span class="token punctuation">:</span><span class="token number">87</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      ... <span class="token number">16</span> more
jvm <span class="token number">1</span>    | <span class="token keyword">ERROR</span><span class="token punctuation">:</span> java.lang.IllegalStateException<span class="token punctuation">:</span> BeanFactory <span class="token operator">not</span> initialized <span class="token operator">or</span> already closed <span class="token operator">-</span> <span class="token keyword">call</span> &#39;refresh&#39; before accessing beans via the ApplicationContext
jvm <span class="token number">1</span>    | java.lang.IllegalStateException<span class="token punctuation">:</span> BeanFactory <span class="token operator">not</span> initialized <span class="token operator">or</span> already closed <span class="token operator">-</span> <span class="token keyword">call</span> &#39;refresh&#39; before accessing beans via the ApplicationContext
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory<span class="token punctuation">(</span>AbstractRefreshableApplicationContext.java<span class="token punctuation">:</span><span class="token number">164</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractApplicationContext.destroyBeans<span class="token punctuation">(</span>AbstractApplicationContext.java<span class="token punctuation">:</span><span class="token number">1034</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.springframework.context.support.AbstractApplicationContext.refresh<span class="token punctuation">(</span>AbstractApplicationContext.java<span class="token punctuation">:</span><span class="token number">555</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.xbean.spring.context.ResourceXmlApplicationContext.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ResourceXmlApplicationContext.java<span class="token punctuation">:</span><span class="token number">64</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.xbean.spring.context.ResourceXmlApplicationContext.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>ResourceXmlApplicationContext.java<span class="token punctuation">:</span><span class="token number">52</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory$<span class="token number">1.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext<span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.xbean.XBeanBrokerFactory.createBroker<span class="token punctuation">(</span>XBeanBrokerFactory.java<span class="token punctuation">:</span><span class="token number">67</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerFactory.createBroker<span class="token punctuation">(</span>BrokerFactory.java<span class="token punctuation">:</span><span class="token number">71</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.broker.BrokerFactory.createBroker<span class="token punctuation">(</span>BrokerFactory.java<span class="token punctuation">:</span><span class="token number">54</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.StartCommand.runTask<span class="token punctuation">(</span>StartCommand.java<span class="token punctuation">:</span><span class="token number">87</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.AbstractCommand.execute<span class="token punctuation">(</span>AbstractCommand.java<span class="token punctuation">:</span><span class="token number">63</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.ShellCommand.runTask<span class="token punctuation">(</span>ShellCommand.java<span class="token punctuation">:</span><span class="token number">154</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.AbstractCommand.execute<span class="token punctuation">(</span>AbstractCommand.java<span class="token punctuation">:</span><span class="token number">63</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.command.ShellCommand.main<span class="token punctuation">(</span>ShellCommand.java<span class="token punctuation">:</span><span class="token number">104</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.Main.runTaskClass<span class="token punctuation">(</span>Main.java<span class="token punctuation">:</span><span class="token number">262</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.apache.activemq.console.Main.main<span class="token punctuation">(</span>Main.java<span class="token punctuation">:</span><span class="token number">115</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span><span class="token function">Native</span> Method<span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.NativeMethodAccessorImpl.invoke<span class="token punctuation">(</span>NativeMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">62</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="token punctuation">(</span>DelegatingMethodAccessorImpl.java<span class="token punctuation">:</span><span class="token number">43</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.reflect.Method.invoke<span class="token punctuation">(</span>Method.java<span class="token punctuation">:</span><span class="token number">498</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> org.tanukisoftware.wrapper.WrapperSimpleApp.<span class="token keyword">run</span><span class="token punctuation">(</span>WrapperSimpleApp.java<span class="token punctuation">:</span><span class="token number">240</span><span class="token punctuation">)</span>
jvm <span class="token number">1</span>    |      <span class="token function">at</span> java.lang.Thread.<span class="token keyword">run</span><span class="token punctuation">(</span>Thread.java<span class="token punctuation">:</span><span class="token number">748</span><span class="token punctuation">)</span>
wrapper  | <span class="token operator">&lt;</span><span class="token operator">-</span><span class="token operator">-</span> Wrapper Stopped
\u8BF7\u6309\u4EFB\u610F\u952E\u7EE7\u7EED. . .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u6574\u5408-3" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-3" aria-hidden="true">#</a> \u6574\u5408</h5><p>\u200B \u505A\u4E86\u8FD9\u4E48\u591Aspringboot\u6574\u5408\u7B2C\u4E09\u65B9\u6280\u672F\uFF0C\u5DF2\u7ECF\u6478\u5230\u95E8\u8DEF\u4E86\uFF0C\u52A0\u5750\u6807\uFF0C\u505A\u914D\u7F6E\uFF0C\u8C03\u63A5\u53E3\uFF0C\u76F4\u63A5\u5F00\u5DE5</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408ActiveMQ\u7684starter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-activemq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6EActiveMQ\u7684\u670D\u52A1\u5668\u5730\u5740</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">activemq</span><span class="token punctuation">:</span>
    <span class="token key atrule">broker-url</span><span class="token punctuation">:</span> tcp<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">61616</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528JmsMessagingTemplate\u64CD\u4F5CActiveMQ</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageServiceActivemqImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">JmsMessagingTemplate</span> messagingTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F85\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355\u5DF2\u7EB3\u5165\u5904\u7406\u961F\u5217\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        messagingTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">&quot;order.queue.id&quot;</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">doMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> messagingTemplate<span class="token punctuation">.</span><span class="token function">receiveAndConvert</span><span class="token punctuation">(</span><span class="token string">&quot;order.queue.id&quot;</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u53D1\u9001\u6D88\u606F\u9700\u8981\u5148\u5C06\u6D88\u606F\u7684\u7C7B\u578B\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u518D\u53D1\u9001\uFF0C\u6240\u4EE5\u662FconvertAndSend\uFF0C\u5B9A\u4E49\u6D88\u606F\u53D1\u9001\u7684\u4F4D\u7F6E\uFF0C\u548C\u5177\u4F53\u7684\u6D88\u606F\u5185\u5BB9\uFF0C\u6B64\u5904\u4F7F\u7528id\u4F5C\u4E3A\u6D88\u606F\u5185\u5BB9\u3002</p><p>\u200B \u63A5\u6536\u6D88\u606F\u9700\u8981\u5148\u5C06\u6D88\u606F\u63A5\u6536\u5230\uFF0C\u7136\u540E\u518D\u8F6C\u6362\u6210\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u6240\u4EE5\u662FreceiveAndConvert\uFF0C\u63A5\u6536\u6D88\u606F\u9664\u4E86\u63D0\u4F9B\u8BFB\u53D6\u7684\u4F4D\u7F6E\uFF0C\u8FD8\u8981\u7ED9\u51FA\u8F6C\u6362\u540E\u7684\u6570\u636E\u7684\u5177\u4F53\u7C7B\u578B\u3002</p><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528\u6D88\u606F\u76D1\u542C\u5668\u5728\u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u76D1\u542C\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u5F53\u6D88\u606F\u51FA\u73B0\u540E\uFF0C\u7ACB\u5373\u6D88\u8D39\u6D88\u606F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@JmsListener</span><span class="token punctuation">(</span>destination <span class="token operator">=</span> <span class="token string">&quot;order.queue.id&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@SendTo</span><span class="token punctuation">(</span><span class="token string">&quot;order.other.queue.id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;new:&quot;</span><span class="token operator">+</span>id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528\u6CE8\u89E3@JmsListener\u5B9A\u4E49\u5F53\u524D\u65B9\u6CD5\u76D1\u542CActiveMQ\u4E2D\u6307\u5B9A\u540D\u79F0\u7684\u6D88\u606F\u961F\u5217\u3002</p><p>\u200B \u5982\u679C\u5F53\u524D\u6D88\u606F\u961F\u5217\u5904\u7406\u5B8C\u8FD8\u9700\u8981\u7EE7\u7EED\u5411\u4E0B\u4F20\u9012\u5F53\u524D\u6D88\u606F\u5230\u53E6\u4E00\u4E2A\u961F\u5217\u4E2D\u4F7F\u7528\u6CE8\u89E3@SendTo\u5373\u53EF\uFF0C\u8FD9\u6837\u5373\u53EF\u6784\u9020\u8FDE\u7EED\u6267\u884C\u7684\u987A\u5E8F\u6D88\u606F\u961F\u5217\u3002</p><p><strong>\u6B65\u9AA4\u2464</strong>\uFF1A\u5207\u6362\u6D88\u606F\u6A21\u578B\u7531\u70B9\u5BF9\u70B9\u6A21\u578B\u5230\u53D1\u5E03\u8BA2\u9605\u6A21\u578B\uFF0C\u4FEE\u6539jms\u914D\u7F6E\u5373\u53EF</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">activemq</span><span class="token punctuation">:</span>
    <span class="token key atrule">broker-url</span><span class="token punctuation">:</span> tcp<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">61616</span>
  <span class="token key atrule">jms</span><span class="token punctuation">:</span>
    <span class="token key atrule">pub-sub-domain</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B pub-sub-domain\u9ED8\u8BA4\u503C\u4E3Afalse\uFF0C\u5373\u70B9\u5BF9\u70B9\u6A21\u578B\uFF0C\u4FEE\u6539\u4E3Atrue\u540E\u5C31\u662F\u53D1\u5E03\u8BA2\u9605\u6A21\u578B\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408ActiveMQ\u63D0\u4F9B\u4E86JmsMessagingTemplate\u5BF9\u8C61\u4F5C\u4E3A\u5BA2\u6237\u7AEF\u64CD\u4F5C\u6D88\u606F\u961F\u5217</li><li>\u64CD\u4F5CActiveMQ\u9700\u8981\u914D\u7F6EActiveMQ\u670D\u52A1\u5668\u5730\u5740\uFF0C\u9ED8\u8BA4\u7AEF\u53E361616</li><li>\u4F01\u4E1A\u5F00\u53D1\u65F6\u901A\u5E38\u4F7F\u7528\u76D1\u542C\u5668\u6765\u5904\u7406\u6D88\u606F\u961F\u5217\u4E2D\u7684\u6D88\u606F\uFF0C\u8BBE\u7F6E\u76D1\u542C\u5668\u4F7F\u7528\u6CE8\u89E3@JmsListener</li><li>\u914D\u7F6Ejms\u7684pub-sub-domain\u5C5E\u6027\u53EF\u4EE5\u5728\u70B9\u5BF9\u70B9\u6A21\u578B\u548C\u53D1\u5E03\u8BA2\u9605\u6A21\u578B\u95F4\u5207\u6362\u6D88\u606F\u6A21\u578B</li></ol><h4 id="springboot\u6574\u5408rabbitmq" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408rabbitmq" aria-hidden="true">#</a> SpringBoot\u6574\u5408RabbitMQ</h4><p>\u200B RabbitMQ\u662FMQ\u4EA7\u54C1\u4E2D\u7684\u76EE\u524D\u8F83\u4E3A\u6D41\u884C\u7684\u4EA7\u54C1\u4E4B\u4E00\uFF0C\u5B83\u9075\u4ECEAMQP\u534F\u8BAE\u3002RabbitMQ\u7684\u5E95\u5C42\u5B9E\u73B0\u8BED\u8A00\u4F7F\u7528\u7684\u662FErlang\uFF0C\u6240\u4EE5\u5B89\u88C5RabbitMQ\u9700\u8981\u5148\u5B89\u88C5Erlang\u3002</p><p><strong>Erlang\u5B89\u88C5</strong></p>`,40),Qn=s("\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1A"),Nn={href:"https://www.erlang.org/downloads",target:"_blank",rel:"noopener noreferrer"},zn=s("https"),Jn={href:"https://www.erlang.org/downloads",target:"_blank",rel:"noopener noreferrer"},Hn=s("\u{1F615}/www.erlang.org/downloads"),Un=n("p",null,"\u200B \u4E0B\u8F7D\u5B8C\u6BD5\u540E\u5F97\u5230exe\u5B89\u88C5\u6587\u4EF6\uFF0C\u4E00\u952E\u50BB\u74DC\u5F0F\u5B89\u88C5\uFF0C\u5B89\u88C5\u5B8C\u6BD5\u9700\u8981\u91CD\u542F\uFF0C\u9700\u8981\u91CD\u542F\uFF0C\u9700\u8981\u91CD\u542F\u3002",-1),Xn=n("p",null,"\u200B \u5B89\u88C5\u7684\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u51FA\u73B0\u4F9D\u8D56Windows\u7EC4\u4EF6\u7684\u63D0\u793A\uFF0C\u6839\u636E\u63D0\u793A\u4E0B\u8F7D\u5B89\u88C5\u5373\u53EF\uFF0C\u90FD\u662F\u81EA\u52A8\u6267\u884C\u7684\uFF0C\u5982\u4E0B\uFF1A",-1),Kn=n("p",null,[n("img",{src:z,alt:"image-20220228164851551"})],-1),Yn=n("p",null,"\u200B Erlang\u5B89\u88C5\u540E\u9700\u8981\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\uFF0C\u5426\u5219RabbitMQ\u5C06\u65E0\u6CD5\u627E\u5230\u5B89\u88C5\u7684Erlang\u3002\u9700\u8981\u914D\u7F6E\u9879\u5982\u4E0B\uFF0C\u4F5C\u7528\u7B49\u540CJDK\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\u7684\u4F5C\u7528\u3002",-1),Vn=n("ul",null,[n("li",null,"ERLANG_HOME"),n("li",null,"PATH")],-1),Wn=n("h5",{id:"\u5B89\u88C5-4",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5B89\u88C5-4","aria-hidden":"true"},"#"),s(" \u5B89\u88C5")],-1),Gn=s("\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1A"),Zn={href:"https://rabbitmq.com/install-windows.html",target:"_blank",rel:"noopener noreferrer"},$n=s("https://"),ns={href:"https://rabbitmq.com/install-windows.html",target:"_blank",rel:"noopener noreferrer"},ss=s("rabbitmq.com/install-windows.html"),as=e('<p>\u200B \u4E0B\u8F7D\u5B8C\u6BD5\u540E\u5F97\u5230exe\u5B89\u88C5\u6587\u4EF6\uFF0C\u4E00\u952E\u50BB\u74DC\u5F0F\u5B89\u88C5\uFF0C\u5B89\u88C5\u5B8C\u6BD5\u540E\u4F1A\u5F97\u5230\u5982\u4E0B\u6587\u4EF6</p><img src="'+J+`" alt="image-20220228165151524" style="zoom:67%;"><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>rabbitmq-service.bat start		# \u542F\u52A8\u670D\u52A1
rabbitmq-service.bat stop		# \u505C\u6B62\u670D\u52A1
rabbitmqctl status				# \u67E5\u770B\u670D\u52A1\u72B6\u6001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD0\u884Csbin\u76EE\u5F55\u4E0B\u7684rabbitmq-service.bat\u547D\u4EE4\u5373\u53EF\uFF0Cstart\u53C2\u6570\u8868\u793A\u542F\u52A8\uFF0Cstop\u53C2\u6570\u8868\u793A\u9000\u51FA\uFF0C\u9ED8\u8BA4\u5BF9\u5916\u670D\u52A1\u7AEF\u53E35672\u3002</p><p>\u200B \u6CE8\u610F\uFF1A\u542F\u52A8rabbitmq\u7684\u8FC7\u7A0B\u5B9E\u9645\u4E0A\u662F\u5F00\u542Frabbitmq\u5BF9\u5E94\u7684\u7CFB\u7EDF\u670D\u52A1\uFF0C\u9700\u8981\u7BA1\u7406\u5458\u6743\u9650\u65B9\u53EF\u6267\u884C\u3002</p><p>\u200B \u8BF4\u660E\uFF1A\u6709\u6CA1\u6709\u611F\u89C95672\u7684\u670D\u52A1\u7AEF\u53E3\u5F88\u719F\u6089\uFF1Factivemq\u4E0Erabbitmq\u6709\u4E00\u4E2A\u7AEF\u53E3\u51B2\u7A81\u95EE\u9898\uFF0C\u5B66\u4E60\u9636\u6BB5\u65E0\u8BBA\u64CD\u4F5C\u54EA\u4E00\u4E2A\uFF1F\u8BF7\u786E\u4FDD\u53E6\u4E00\u4E2A\u5904\u4E8E\u5173\u95ED\u72B6\u6001\u3002</p><p>\u200B \u8BF4\u660E\uFF1A\u4E0D\u559C\u6B22\u547D\u4EE4\u884C\u7684\u5C0F\u4F19\u4F34\u53EF\u4EE5\u4F7F\u7528\u4EFB\u52A1\u7BA1\u7406\u5668\u4E2D\u7684\u670D\u52A1\u9875\uFF0C\u627E\u5230RabbitMQ\u670D\u52A1\uFF0C\u4F7F\u7528\u9F20\u6807\u53F3\u952E\u83DC\u5355\u63A7\u5236\u670D\u52A1\u7684\u542F\u505C\u3002</p><img src="`+H+`" alt="image-20220228170147193" style="zoom:67%;"><p><strong>\u8BBF\u95EEweb\u7BA1\u7406\u670D\u52A1</strong></p><p>\u200B RabbitMQ\u4E5F\u63D0\u4F9B\u6709web\u63A7\u5236\u53F0\u670D\u52A1\uFF0C\u4F46\u662F\u6B64\u529F\u80FD\u662F\u4E00\u4E2A\u63D2\u4EF6\uFF0C\u9700\u8981\u5148\u542F\u7528\u624D\u53EF\u4EE5\u4F7F\u7528\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>rabbitmq-plugins.bat list							# \u67E5\u770B\u5F53\u524D\u6240\u6709\u63D2\u4EF6\u7684\u8FD0\u884C\u72B6\u6001
rabbitmq-plugins.bat enable rabbitmq_management		# \u542F\u52A8rabbitmq_management\u63D2\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u542F\u52A8\u63D2\u4EF6\u540E\u53EF\u4EE5\u5728\u63D2\u4EF6\u8FD0\u884C\u72B6\u6001\u4E2D\u67E5\u770B\u662F\u5426\u8FD0\u884C\uFF0C\u8FD0\u884C\u540E\u901A\u8FC7\u6D4F\u89C8\u5668\u5373\u53EF\u6253\u5F00\u670D\u52A1\u540E\u53F0\u7BA1\u7406\u754C\u9762</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>http://localhost:15672
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u200B web\u7BA1\u7406\u670D\u52A1\u9ED8\u8BA4\u7AEF\u53E315672\uFF0C\u8BBF\u95EE\u540E\u53EF\u4EE5\u6253\u5F00RabbitMQ\u7684\u7BA1\u7406\u754C\u9762\uFF0C\u5982\u4E0B\uFF1A</p><p><img src="`+U+'" alt="image-20220228170504793"></p><p>\u200B \u9996\u5148\u8F93\u5165\u8BBF\u95EE\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u521D\u59CB\u5316\u7528\u6237\u540D\u548C\u5BC6\u7801\u76F8\u540C\uFF0C\u5747\u4E3A\uFF1Aguest\uFF0C\u6210\u529F\u767B\u5F55\u540E\u8FDB\u5165\u7BA1\u7406\u540E\u53F0\u754C\u9762\uFF0C\u5982\u4E0B\uFF1A</p><p><img src="'+X+`" alt="image-20220228170535261"></p><h5 id="\u6574\u5408-direct\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-direct\u6A21\u578B" aria-hidden="true">#</a> \u6574\u5408(direct\u6A21\u578B)</h5><p>\u200B RabbitMQ\u6EE1\u8DB3AMQP\u534F\u8BAE\uFF0C\u56E0\u6B64\u4E0D\u540C\u7684\u6D88\u606F\u6A21\u578B\u5BF9\u5E94\u7684\u5236\u4F5C\u4E0D\u540C\uFF0C\u5148\u4F7F\u7528\u6700\u7B80\u5355\u7684direct\u6A21\u578B\u5F00\u53D1\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408amqp\u7684starter\uFF0Camqp\u534F\u8BAE\u9ED8\u8BA4\u5B9E\u73B0\u4E3Arabbitmq\u65B9\u6848</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6ERabbitMQ\u7684\u670D\u52A1\u5668\u5730\u5740</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u521D\u59CB\u5316\u76F4\u8FDE\u6A21\u5F0F\u7CFB\u7EDF\u8BBE\u7F6E</p><p>\u200B \u7531\u4E8ERabbitMQ\u4E0D\u540C\u6A21\u578B\u8981\u4F7F\u7528\u4E0D\u540C\u7684\u4EA4\u6362\u673A\uFF0C\u56E0\u6B64\u9700\u8981\u5148\u521D\u59CB\u5316RabbitMQ\u76F8\u5173\u7684\u5BF9\u8C61\uFF0C\u4F8B\u5982\u961F\u5217\uFF0C\u4EA4\u6362\u673A\u7B49</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitConfigDirect</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">directQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">&quot;direct_queue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">directQueue2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">&quot;direct_queue2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DirectExchange</span> <span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DirectExchange</span><span class="token punctuation">(</span><span class="token string">&quot;directExchange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">bindingDirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">directQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">&quot;direct&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">bindingDirect2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">directQueue2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">&quot;direct2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u961F\u5217Queue\u4E0E\u76F4\u8FDE\u4EA4\u6362\u673ADirectExchange\u521B\u5EFA\u540E\uFF0C\u8FD8\u9700\u8981\u7ED1\u5B9A\u4ED6\u4EEC\u4E4B\u95F4\u7684\u5173\u7CFBBinding\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u901A\u8FC7\u4EA4\u6362\u673A\u64CD\u4F5C\u5BF9\u5E94\u961F\u5217\u3002</p><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528AmqpTemplate\u64CD\u4F5CRabbitMQ</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageServiceRabbitmqDirectImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AmqpTemplate</span> amqpTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F85\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355\u5DF2\u7EB3\u5165\u5904\u7406\u961F\u5217\uFF08rabbitmq direct\uFF09\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        amqpTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">&quot;directExchange&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B amqp\u534F\u8BAE\u4E2D\u7684\u64CD\u4F5CAPI\u63A5\u53E3\u540D\u79F0\u770B\u4E0A\u53BB\u548Cjms\u89C4\u8303\u7684\u64CD\u4F5CAPI\u63A5\u53E3\u5F88\u76F8\u4F3C\uFF0C\u4F46\u662F\u4F20\u9012\u53C2\u6570\u5DEE\u5F02\u5F88\u5927\u3002</p><p><strong>\u6B65\u9AA4\u2464</strong>\uFF1A\u4F7F\u7528\u6D88\u606F\u76D1\u542C\u5668\u5728\u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u76D1\u542C\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u5F53\u6D88\u606F\u51FA\u73B0\u540E\uFF0C\u7ACB\u5373\u6D88\u8D39\u6D88\u606F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">&quot;direct_queue&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1(rabbitmq direct)\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528\u6CE8\u89E3@RabbitListener\u5B9A\u4E49\u5F53\u524D\u65B9\u6CD5\u76D1\u542CRabbitMQ\u4E2D\u6307\u5B9A\u540D\u79F0\u7684\u6D88\u606F\u961F\u5217\u3002</p><h5 id="\u6574\u5408-topic\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-topic\u6A21\u578B" aria-hidden="true">#</a> \u6574\u5408(topic\u6A21\u578B)</h5><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u540C\u4E0A</p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u540C\u4E0A</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u521D\u59CB\u5316\u4E3B\u9898\u6A21\u5F0F\u7CFB\u7EDF\u8BBE\u7F6E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitConfigTopic</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">topicQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">&quot;topic_queue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">topicQueue2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token string">&quot;topic_queue2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">TopicExchange</span> <span class="token function">topicExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TopicExchange</span><span class="token punctuation">(</span><span class="token string">&quot;topicExchange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">bindingTopic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">topicQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">topicExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">&quot;topic.*.id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">bindingTopic2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">topicQueue2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">topicExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">&quot;topic.orders.*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E3B\u9898\u6A21\u5F0F\u652F\u6301routingKey\u5339\u914D\u6A21\u5F0F\uFF0C*\u8868\u793A\u5339\u914D\u4E00\u4E2A\u5355\u8BCD\uFF0C#\u8868\u793A\u5339\u914D\u4EFB\u610F\u5185\u5BB9\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u901A\u8FC7\u4E3B\u9898\u4EA4\u6362\u673A\u5C06\u6D88\u606F\u5206\u53D1\u5230\u4E0D\u540C\u7684\u961F\u5217\u4E2D\uFF0C\u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u770BRabbitMQ\u7CFB\u5217\u8BFE\u7A0B\u3002</p><table><thead><tr><th><strong>\u5339\u914D\u952E</strong></th><th><strong>topic.*.*</strong></th><th><strong>topic.#</strong></th></tr></thead><tbody><tr><td>topic.order.id</td><td>true</td><td>true</td></tr><tr><td>order.topic.id</td><td>false</td><td>false</td></tr><tr><td>topic.sm.order.id</td><td>false</td><td>true</td></tr><tr><td>topic.sm.id</td><td>false</td><td>true</td></tr><tr><td>topic.id.order</td><td>true</td><td>true</td></tr><tr><td>topic.id</td><td>false</td><td>true</td></tr><tr><td>topic.order</td><td>false</td><td>true</td></tr></tbody></table><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528AmqpTemplate\u64CD\u4F5CRabbitMQ</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageServiceRabbitmqTopicImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AmqpTemplate</span> amqpTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F85\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355\u5DF2\u7EB3\u5165\u5904\u7406\u961F\u5217\uFF08rabbitmq topic\uFF09\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        amqpTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token string">&quot;topicExchange&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;topic.orders.id&quot;</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u53D1\u9001\u6D88\u606F\u540E\uFF0C\u6839\u636E\u5F53\u524D\u63D0\u4F9B\u7684routingKey\u4E0E\u7ED1\u5B9A\u4EA4\u6362\u673A\u65F6\u8BBE\u5B9A\u7684routingKey\u8FDB\u884C\u5339\u914D\uFF0C\u89C4\u5219\u5339\u914D\u6210\u529F\u6D88\u606F\u624D\u4F1A\u8FDB\u5165\u5230\u5BF9\u5E94\u7684\u961F\u5217\u4E2D\u3002</p><p><strong>\u6B65\u9AA4\u2464</strong>\uFF1A\u4F7F\u7528\u6D88\u606F\u76D1\u542C\u5668\u5728\u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u76D1\u542C\u6307\u5B9A\u961F\u5217</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">&quot;topic_queue&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1(rabbitmq topic 1)\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token string">&quot;topic_queue2&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive2</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1(rabbitmq topic 22222222)\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528\u6CE8\u89E3@RabbitListener\u5B9A\u4E49\u5F53\u524D\u65B9\u6CD5\u76D1\u542CRabbitMQ\u4E2D\u6307\u5B9A\u540D\u79F0\u7684\u6D88\u606F\u961F\u5217\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408RabbitMQ\u63D0\u4F9B\u4E86AmqpTemplate\u5BF9\u8C61\u4F5C\u4E3A\u5BA2\u6237\u7AEF\u64CD\u4F5C\u6D88\u606F\u961F\u5217</li><li>\u64CD\u4F5CActiveMQ\u9700\u8981\u914D\u7F6EActiveMQ\u670D\u52A1\u5668\u5730\u5740\uFF0C\u9ED8\u8BA4\u7AEF\u53E35672</li><li>\u4F01\u4E1A\u5F00\u53D1\u65F6\u901A\u5E38\u4F7F\u7528\u76D1\u542C\u5668\u6765\u5904\u7406\u6D88\u606F\u961F\u5217\u4E2D\u7684\u6D88\u606F\uFF0C\u8BBE\u7F6E\u76D1\u542C\u5668\u4F7F\u7528\u6CE8\u89E3@RabbitListener</li><li>RabbitMQ\u67095\u79CD\u6D88\u606F\u6A21\u578B\uFF0C\u4F7F\u7528\u7684\u961F\u5217\u76F8\u540C\uFF0C\u4F46\u662F\u4EA4\u6362\u673A\u4E0D\u540C\u3002\u4EA4\u6362\u673A\u4E0D\u540C\uFF0C\u5BF9\u5E94\u7684\u6D88\u606F\u8FDB\u5165\u7684\u7B56\u7565\u4E5F\u4E0D\u540C</li></ol><h4 id="springboot\u6574\u5408rocketmq" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408rocketmq" aria-hidden="true">#</a> SpringBoot\u6574\u5408RocketMQ</h4><p>\u200B RocketMQ\u7531\u963F\u91CC\u7814\u53D1\uFF0C\u540E\u6350\u8D60\u7ED9apache\u57FA\u91D1\u4F1A\uFF0C\u76EE\u524D\u662Fapache\u57FA\u91D1\u4F1A\u9876\u7EA7\u9879\u76EE\u4E4B\u4E00\uFF0C\u4E5F\u662F\u76EE\u524D\u5E02\u9762\u4E0A\u7684MQ\u4EA7\u54C1\u4E2D\u8F83\u4E3A\u6D41\u884C\u7684\u4EA7\u54C1\u4E4B\u4E00\uFF0C\u5B83\u9075\u4ECEAMQP\u534F\u8BAE\u3002</p><h5 id="\u5B89\u88C5-5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-5" aria-hidden="true">#</a> \u5B89\u88C5</h5>`,52),ts=s("\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1A"),es={href:"https://rocketmq.apache.org/",target:"_blank",rel:"noopener noreferrer"},ps=s("https://rocketmq.apache.org"),os={href:"https://rocketmq.apache.org/",target:"_blank",rel:"noopener noreferrer"},cs=s("/"),ls=e('<p>\u200B \u4E0B\u8F7D\u5B8C\u6BD5\u540E\u5F97\u5230zip\u538B\u7F29\u6587\u4EF6\uFF0C\u89E3\u538B\u7F29\u5373\u53EF\u4F7F\u7528\uFF0C\u89E3\u538B\u540E\u5F97\u5230\u5982\u4E0B\u6587\u4EF6</p><p><img src="'+K+'" alt="image-20220228174453471"></p><p>\u200B RocketMQ\u5B89\u88C5\u540E\u9700\u8981\u914D\u7F6E\u73AF\u5883\u53D8\u91CF\uFF0C\u5177\u4F53\u5982\u4E0B\uFF1A</p><ul><li>ROCKETMQ_HOME</li><li>PATH</li><li>NAMESRV_ADDR \uFF08\u5EFA\u8BAE\uFF09\uFF1A 127.0.0.1:9876</li></ul><p>\u200B \u5173\u4E8ENAMESRV_ADDR\u5BF9\u4E8E\u521D\u5B66\u8005\u6765\u8BF4\u5EFA\u8BAE\u914D\u7F6E\u6B64\u9879\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u547D\u4EE4\u8BBE\u7F6E\u5BF9\u5E94\u503C\uFF0C\u64CD\u4F5C\u7565\u663E\u7E41\u7410\uFF0C\u5EFA\u8BAE\u914D\u7F6E\u3002\u7CFB\u7EDF\u5B66\u4E60RocketMQ\u77E5\u8BC6\u540E\u5373\u53EF\u7075\u6D3B\u63A7\u5236\u8BE5\u9879\u3002</p><p><strong>RocketMQ\u5DE5\u4F5C\u6A21\u5F0F</strong></p><p>\u200B \u5728RocketMQ\u4E2D\uFF0C\u5904\u7406\u4E1A\u52A1\u7684\u670D\u52A1\u5668\u79F0\u4E3Abroker\uFF0C\u751F\u4EA7\u8005\u4E0E\u6D88\u8D39\u8005\u4E0D\u662F\u76F4\u63A5\u4E0Ebroker\u8054\u7CFB\u7684\uFF0C\u800C\u662F\u901A\u8FC7\u547D\u540D\u670D\u52A1\u5668\u8FDB\u884C\u901A\u4FE1\u3002broker\u542F\u52A8\u540E\u4F1A\u901A\u77E5\u547D\u540D\u670D\u52A1\u5668\u81EA\u5DF1\u5DF2\u7ECF\u4E0A\u7EBF\uFF0C\u8FD9\u6837\u547D\u540D\u670D\u52A1\u5668\u4E2D\u5C31\u4FDD\u5B58\u6709\u6240\u6709\u7684broker\u4FE1\u606F\u3002\u5F53\u751F\u4EA7\u8005\u4E0E\u6D88\u8D39\u8005\u9700\u8981\u8FDE\u63A5broker\u65F6\uFF0C\u901A\u8FC7\u547D\u540D\u670D\u52A1\u5668\u627E\u5230\u5BF9\u5E94\u7684\u5904\u7406\u4E1A\u52A1\u7684broker\uFF0C\u56E0\u6B64\u547D\u540D\u670D\u52A1\u5668\u5728\u6574\u5957\u7ED3\u6784\u4E2D\u8D77\u5230\u4E00\u4E2A\u4FE1\u606F\u4E2D\u5FC3\u7684\u4F5C\u7528\u3002\u5E76\u4E14broker\u542F\u52A8\u524D\u5FC5\u987B\u4FDD\u969C\u547D\u540D\u670D\u52A1\u5668\u5148\u542F\u52A8\u3002</p><img src="'+Y+`" alt="image-20220228175123790" style="zoom:80%;"><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>mqnamesrv		# \u542F\u52A8\u547D\u540D\u670D\u52A1\u5668
mqbroker		# \u542F\u52A8broker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684mqnamesrv\u547D\u4EE4\u5373\u53EF\u542F\u52A8\u547D\u540D\u670D\u52A1\u5668\uFF0C\u9ED8\u8BA4\u5BF9\u5916\u670D\u52A1\u7AEF\u53E39876\u3002</p><p>\u200B \u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684mqbroker\u547D\u4EE4\u5373\u53EF\u542F\u52A8broker\u670D\u52A1\u5668\uFF0C\u5982\u679C\u73AF\u5883\u53D8\u91CF\u4E2D\u6CA1\u6709\u8BBE\u7F6ENAMESRV_ADDR\u5219\u9700\u8981\u5728\u8FD0\u884Cmqbroker\u6307\u4EE4\u524D\u901A\u8FC7set\u6307\u4EE4\u8BBE\u7F6ENAMESRV_ADDR\u7684\u503C\uFF0C\u5E76\u4E14\u6BCF\u6B21\u5F00\u542F\u5747\u9700\u8981\u8BBE\u7F6E\u6B64\u9879\u3002</p><p><strong>\u6D4B\u8BD5\u670D\u52A1\u5668\u542F\u52A8\u72B6\u6001</strong></p><p>\u200B RocketMQ\u63D0\u4F9B\u6709\u4E00\u5957\u6D4B\u8BD5\u670D\u52A1\u5668\u529F\u80FD\u7684\u6D4B\u8BD5\u7A0B\u5E8F\uFF0C\u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684tools\u547D\u4EE4\u5373\u53EF\u4F7F\u7528\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>tools org.apache.rocketmq.example.quickstart.Producer		# \u751F\u4EA7\u6D88\u606F
tools org.apache.rocketmq.example.quickstart.Consumer		# \u6D88\u8D39\u6D88\u606F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u6574\u5408-\u5F02\u6B65\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-\u5F02\u6B65\u6D88\u606F" aria-hidden="true">#</a> \u6574\u5408\uFF08\u5F02\u6B65\u6D88\u606F\uFF09</h5><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408RocketMQ\u7684starter\uFF0C\u6B64\u5750\u6807\u4E0D\u7531springboot\u7EF4\u62A4\u7248\u672C</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.rocketmq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>rocketmq-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6ERocketMQ\u7684\u670D\u52A1\u5668\u5730\u5740</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">rocketmq</span><span class="token punctuation">:</span>
  <span class="token key atrule">name-server</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">9876</span>
  <span class="token key atrule">producer</span><span class="token punctuation">:</span>
    <span class="token key atrule">group</span><span class="token punctuation">:</span> group_rocketmq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8BBE\u7F6E\u9ED8\u8BA4\u7684\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u6240\u5C5E\u7EC4group\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528RocketMQTemplate\u64CD\u4F5CRocketMQ</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageServiceRocketmqImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RocketMQTemplate</span> rocketMQTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F85\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355\u5DF2\u7EB3\u5165\u5904\u7406\u961F\u5217\uFF08rocketmq\uFF09\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SendCallback</span> callback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SendCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">SendResult</span> sendResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D88\u606F\u53D1\u9001\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onException</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D88\u606F\u53D1\u9001\u5931\u8D25\uFF01\uFF01\uFF01\uFF01\uFF01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        rocketMQTemplate<span class="token punctuation">.</span><span class="token function">asyncSend</span><span class="token punctuation">(</span><span class="token string">&quot;order_id&quot;</span><span class="token punctuation">,</span>id<span class="token punctuation">,</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528asyncSend\u65B9\u6CD5\u53D1\u9001\u5F02\u6B65\u6D88\u606F\u3002</p><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528\u6D88\u606F\u76D1\u542C\u5668\u5728\u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u76D1\u542C\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u5F53\u6D88\u606F\u51FA\u73B0\u540E\uFF0C\u7ACB\u5373\u6D88\u8D39\u6D88\u606F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@RocketMQMessageListener</span><span class="token punctuation">(</span>topic <span class="token operator">=</span> <span class="token string">&quot;order_id&quot;</span><span class="token punctuation">,</span>consumerGroup <span class="token operator">=</span> <span class="token string">&quot;group_rocketmq&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageListener</span> <span class="token keyword">implements</span> <span class="token class-name">RocketMQListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1(rocketmq)\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B RocketMQ\u7684\u76D1\u542C\u5668\u5FC5\u987B\u6309\u7167\u6807\u51C6\u683C\u5F0F\u5F00\u53D1\uFF0C\u5B9E\u73B0RocketMQListener\u63A5\u53E3\uFF0C\u6CDB\u578B\u4E3A\u6D88\u606F\u7C7B\u578B\u3002</p><p>\u200B \u4F7F\u7528\u6CE8\u89E3@RocketMQMessageListener\u5B9A\u4E49\u5F53\u524D\u7C7B\u76D1\u542CRabbitMQ\u4E2D\u6307\u5B9A\u7EC4\u3001\u6307\u5B9A\u540D\u79F0\u7684\u6D88\u606F\u961F\u5217\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>springboot\u6574\u5408RocketMQ\u4F7F\u7528RocketMQTemplate\u5BF9\u8C61\u4F5C\u4E3A\u5BA2\u6237\u7AEF\u64CD\u4F5C\u6D88\u606F\u961F\u5217</li><li>\u64CD\u4F5CRocketMQ\u9700\u8981\u914D\u7F6ERocketMQ\u670D\u52A1\u5668\u5730\u5740\uFF0C\u9ED8\u8BA4\u7AEF\u53E39876</li><li>\u4F01\u4E1A\u5F00\u53D1\u65F6\u901A\u5E38\u4F7F\u7528\u76D1\u542C\u5668\u6765\u5904\u7406\u6D88\u606F\u961F\u5217\u4E2D\u7684\u6D88\u606F\uFF0C\u8BBE\u7F6E\u76D1\u542C\u5668\u4F7F\u7528\u6CE8\u89E3@RocketMQMessageListener</li></ol><h4 id="springboot\u6574\u5408kafka" tabindex="-1"><a class="header-anchor" href="#springboot\u6574\u5408kafka" aria-hidden="true">#</a> SpringBoot\u6574\u5408Kafka</h4><h5 id="\u5B89\u88C5-6" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-6" aria-hidden="true">#</a> \u5B89\u88C5</h5>`,32),is=s("\u200B windows\u7248\u5B89\u88C5\u5305\u4E0B\u8F7D\u5730\u5740\uFF1A"),us={href:"https://kafka.apache.org/downloads",target:"_blank",rel:"noopener noreferrer"},rs=s("https://"),ds={href:"https://kafka.apache.org/downloads",target:"_blank",rel:"noopener noreferrer"},ks=s("kafka.apache.org/downloads"),vs=e('<p>\u200B \u4E0B\u8F7D\u5B8C\u6BD5\u540E\u5F97\u5230tgz\u538B\u7F29\u6587\u4EF6\uFF0C\u4F7F\u7528\u89E3\u538B\u7F29\u8F6F\u4EF6\u89E3\u538B\u7F29\u5373\u53EF\u4F7F\u7528\uFF0C\u89E3\u538B\u540E\u5F97\u5230\u5982\u4E0B\u6587\u4EF6</p><p><img src="'+V+`" alt="image-20220228181442155"></p><p>\u200B \u5EFA\u8BAE\u4F7F\u7528windows\u72482.8.1\u7248\u672C\u3002</p><p><strong>\u542F\u52A8\u670D\u52A1\u5668</strong></p><p>\u200B kafka\u670D\u52A1\u5668\u7684\u529F\u80FD\u76F8\u5F53\u4E8ERocketMQ\u4E2D\u7684broker\uFF0Ckafka\u8FD0\u884C\u8FD8\u9700\u8981\u4E00\u4E2A\u7C7B\u4F3C\u4E8E\u547D\u540D\u670D\u52A1\u5668\u7684\u670D\u52A1\u3002\u5728kafka\u5B89\u88C5\u76EE\u5F55\u4E2D\u81EA\u5E26\u4E00\u4E2A\u7C7B\u4F3C\u4E8E\u547D\u540D\u670D\u52A1\u5668\u7684\u5DE5\u5177\uFF0C\u53EB\u505Azookeeper\uFF0C\u5B83\u7684\u4F5C\u7528\u662F\u6CE8\u518C\u4E2D\u5FC3\uFF0C\u76F8\u5173\u77E5\u8BC6\u8BF7\u5230\u5BF9\u5E94\u8BFE\u7A0B\u4E2D\u5B66\u4E60\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>zookeeper-server-start.bat ..\\..\\config\\zookeeper.properties		# \u542F\u52A8zookeeper
kafka-server-start.bat ..\\..\\config\\server.properties				# \u542F\u52A8kafka
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684windows\u76EE\u5F55\u4E0B\u7684zookeeper-server-start\u547D\u4EE4\u5373\u53EF\u542F\u52A8\u6CE8\u518C\u4E2D\u5FC3\uFF0C\u9ED8\u8BA4\u5BF9\u5916\u670D\u52A1\u7AEF\u53E32181\u3002</p><p>\u200B \u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684windows\u76EE\u5F55\u4E0B\u7684kafka-server-start\u547D\u4EE4\u5373\u53EF\u542F\u52A8kafka\u670D\u52A1\u5668\uFF0C\u9ED8\u8BA4\u5BF9\u5916\u670D\u52A1\u7AEF\u53E39092\u3002</p><p><strong>\u521B\u5EFA\u4E3B\u9898</strong></p><p>\u200B \u548C\u4E4B\u524D\u64CD\u4F5C\u5176\u4ED6MQ\u4EA7\u54C1\u76F8\u4F3C\uFF0Ckakfa\u4E5F\u662F\u57FA\u4E8E\u4E3B\u9898\u64CD\u4F5C\uFF0C\u64CD\u4F5C\u4E4B\u524D\u9700\u8981\u5148\u521D\u59CB\u5316topic\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code># \u521B\u5EFAtopic
kafka-topics.bat --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic itheima
# \u67E5\u8BE2topic
kafka-topics.bat --zookeeper 127.0.0.1:2181 --list					
# \u5220\u9664topic
kafka-topics.bat --delete --zookeeper localhost:2181 --topic itheima
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6D4B\u8BD5\u670D\u52A1\u5668\u542F\u52A8\u72B6\u6001</strong></p><p>\u200B Kafka\u63D0\u4F9B\u6709\u4E00\u5957\u6D4B\u8BD5\u670D\u52A1\u5668\u529F\u80FD\u7684\u6D4B\u8BD5\u7A0B\u5E8F\uFF0C\u8FD0\u884Cbin\u76EE\u5F55\u4E0B\u7684windows\u76EE\u5F55\u4E0B\u7684\u547D\u4EE4\u5373\u53EF\u4F7F\u7528\u3002</p><div class="language-CMD ext-CMD line-numbers-mode"><pre class="language-CMD"><code>kafka-console-producer.bat --broker-list localhost:9092 --topic itheima							# \u6D4B\u8BD5\u751F\u4EA7\u6D88\u606F
kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic itheima --from-beginning	# \u6D4B\u8BD5\u6D88\u606F\u6D88\u8D39
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u6574\u5408-4" tabindex="-1"><a class="header-anchor" href="#\u6574\u5408-4" aria-hidden="true">#</a> \u6574\u5408</h5><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot\u6574\u5408Kafka\u7684starter\uFF0C\u6B64\u5750\u6807\u7531springboot\u7EF4\u62A4\u7248\u672C</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-kafka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u914D\u7F6EKafka\u7684\u670D\u52A1\u5668\u5730\u5740</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
    <span class="token key atrule">bootstrap-servers</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">9092</span>
    <span class="token key atrule">consumer</span><span class="token punctuation">:</span>
      <span class="token key atrule">group-id</span><span class="token punctuation">:</span> order
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u8BBE\u7F6E\u9ED8\u8BA4\u7684\u751F\u4EA7\u8005\u6D88\u8D39\u8005\u6240\u5C5E\u7EC4id\u3002</p><p><strong>\u6B65\u9AA4\u2462</strong>\uFF1A\u4F7F\u7528KafkaTemplate\u64CD\u4F5CKafka</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageServiceKafkaImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MessageService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">KafkaTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> kafkaTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F85\u53D1\u9001\u77ED\u4FE1\u7684\u8BA2\u5355\u5DF2\u7EB3\u5165\u5904\u7406\u961F\u5217\uFF08kafka\uFF09\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        kafkaTemplate<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;itheima2022&quot;</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528send\u65B9\u6CD5\u53D1\u9001\u6D88\u606F\uFF0C\u9700\u8981\u4F20\u5165topic\u540D\u79F0\u3002</p><p><strong>\u6B65\u9AA4\u2463</strong>\uFF1A\u4F7F\u7528\u6D88\u606F\u76D1\u542C\u5668\u5728\u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u76D1\u542C\u6307\u5B9A\u4F4D\u7F6E\uFF0C\u5F53\u6D88\u606F\u51FA\u73B0\u540E\uFF0C\u7ACB\u5373\u6D88\u8D39\u6D88\u606F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@KafkaListener</span><span class="token punctuation">(</span>topics <span class="token operator">=</span> <span class="token string">&quot;itheima2022&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">ConsumerRecord</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> record<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5DF2\u5B8C\u6210\u77ED\u4FE1\u53D1\u9001\u4E1A\u52A1(kafka)\uFF0Cid\uFF1A&quot;</span><span class="token operator">+</span>record<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4F7F\u7528\u6CE8\u89E3@KafkaListener\u5B9A\u4E49\u5F53\u524D\u65B9\u6CD5\u76D1\u542CKafka\u4E2D\u6307\u5B9Atopic\u7684\u6D88\u606F\uFF0C\u63A5\u6536\u5230\u7684\u6D88\u606F\u5C01\u88C5\u5728\u5BF9\u8C61ConsumerRecord\u4E2D\uFF0C\u83B7\u53D6\u6570\u636E\u4ECEConsumerRecord\u5BF9\u8C61\u4E2D\u83B7\u53D6\u5373\u53EF\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li><p>springboot\u6574\u5408Kafka\u4F7F\u7528KafkaTemplate\u5BF9\u8C61\u4F5C\u4E3A\u5BA2\u6237\u7AEF\u64CD\u4F5C\u6D88\u606F\u961F\u5217</p></li><li><p>\u64CD\u4F5CKafka\u9700\u8981\u914D\u7F6EKafka\u670D\u52A1\u5668\u5730\u5740\uFF0C\u9ED8\u8BA4\u7AEF\u53E39092</p></li><li><p>\u4F01\u4E1A\u5F00\u53D1\u65F6\u901A\u5E38\u4F7F\u7528\u76D1\u542C\u5668\u6765\u5904\u7406\u6D88\u606F\u961F\u5217\u4E2D\u7684\u6D88\u606F\uFF0C\u8BBE\u7F6E\u76D1\u542C\u5668\u4F7F\u7528\u6CE8\u89E3@KafkaListener\u3002\u63A5\u6536\u6D88\u606F\u4FDD\u5B58\u5728\u5F62\u53C2ConsumerRecord\u5BF9\u8C61\u4E2D</p></li></ol><h2 id="_6-\u76D1\u63A7" tabindex="-1"><a class="header-anchor" href="#_6-\u76D1\u63A7" aria-hidden="true">#</a> 6.\u76D1\u63A7</h2><p>\u200B \u5728\u8BF4\u76D1\u63A7\u4E4B\u524D\uFF0C\u9700\u8981\u56DE\u987E\u4E00\u4E0B\u8F6F\u4EF6\u4E1A\u7684\u53D1\u5C55\u53F2\u3002\u6700\u65E9\u7684\u8F6F\u4EF6\u5B8C\u6210\u4E00\u4E9B\u975E\u5E38\u7B80\u5355\u7684\u529F\u80FD\uFF0C\u4EE3\u7801\u4E0D\u591A\uFF0C\u9519\u8BEF\u4E5F\u5C11\u3002\u968F\u7740\u8F6F\u4EF6\u529F\u80FD\u7684\u9010\u6B65\u5B8C\u5584\uFF0C\u8F6F\u4EF6\u7684\u529F\u80FD\u53D8\u5F97\u8D8A\u6765\u8D8A\u590D\u6742\uFF0C\u529F\u80FD\u4E0D\u80FD\u5F97\u5230\u6709\u6548\u7684\u4FDD\u969C\uFF0C\u8FD9\u4E2A\u9636\u6BB5\u51FA\u73B0\u4E86\u9488\u5BF9\u8F6F\u4EF6\u529F\u80FD\u7684\u68C0\u6D4B\uFF0C\u4E5F\u5C31\u662F\u8F6F\u4EF6\u6D4B\u8BD5\u3002\u4F34\u968F\u7740\u8BA1\u7B97\u673A\u64CD\u4F5C\u7CFB\u7EDF\u7684\u9010\u6B65\u5347\u7EA7\uFF0C\u8F6F\u4EF6\u7684\u8FD0\u884C\u72B6\u6001\u4E5F\u53D8\u5F97\u5F00\u59CB\u8BA9\u4EBA\u6349\u6478\u4E0D\u900F\uFF0C\u51FA\u73B0\u4E86\u4E0D\u7A33\u5B9A\u7684\u72B6\u51B5\u3002\u4F34\u968F\u7740\u8BA1\u7B97\u673A\u7F51\u7EDC\u7684\u53D1\u5C55\uFF0C\u7A0B\u5E8F\u4E5F\u4ECE\u5355\u673A\u72B6\u6001\u5207\u6362\u6210\u57FA\u4E8E\u8BA1\u7B97\u673A\u7F51\u7EDC\u7684\u7A0B\u5E8F\uFF0C\u5E94\u7528\u4E8E\u7F51\u7EDC\u7684\u7A0B\u5E8F\u5F00\u59CB\u51FA\u73B0\uFF0C\u7531\u4E8E\u7F51\u7EDC\u7684\u4E0D\u7A33\u5B9A\u6027\uFF0C\u7A0B\u5E8F\u7684\u8FD0\u884C\u72B6\u6001\u8BA9\u4F7F\u7528\u8005\u66F4\u52A0\u582A\u5FE7\u3002\u4E92\u8054\u7F51\u7684\u51FA\u73B0\u5F7B\u5E95\u6253\u7834\u4E86\u8F6F\u4EF6\u7684\u601D\u7EF4\u6A21\u5F0F\uFF0C\u968F\u4E4B\u800C\u6765\u7684\u4E92\u8054\u7F51\u8F6F\u4EF6\u5C31\u66F4\u52A0\u51F8\u663E\u51FA\u5E94\u5BF9\u5404\u79CD\u5404\u6837\u590D\u6742\u7684\u7F51\u7EDC\u60C5\u51B5\u4E4B\u4E0B\u7684\u5F31\u5C0F\u3002\u8BA1\u7B97\u673A\u8F6F\u4EF6\u7684\u8FD0\u884C\u72B6\u51B5\u5DF2\u7ECF\u6210\u4E3A\u4E86\u8F6F\u4EF6\u8FD0\u884C\u7684\u4E00\u4E2A\u5927\u8BDD\u9898\uFF0C\u9488\u5BF9\u8F6F\u4EF6\u7684\u8FD0\u884C\u72B6\u51B5\u5C31\u51FA\u73B0\u4E86\u5168\u65B0\u7684\u601D\u7EF4\uFF0C\u5EFA\u7ACB\u8D77\u4E86\u521D\u4EE3\u7684\u8F6F\u4EF6\u8FD0\u884C\u72B6\u6001\u76D1\u63A7\u3002</p><p>\u200B \u4EC0\u4E48\u662F\u76D1\u63A7\uFF1F\u5C31\u662F\u901A\u8FC7\u8F6F\u4EF6\u7684\u65B9\u5F0F\u5C55\u793A\u53E6\u4E00\u4E2A\u8F6F\u4EF6\u7684\u8FD0\u884C\u60C5\u51B5\uFF0C\u8FD0\u884C\u7684\u60C5\u51B5\u5219\u901A\u8FC7\u5404\u79CD\u5404\u6837\u7684\u6307\u6807\u6570\u636E\u53CD\u9988\u7ED9\u76D1\u63A7\u4EBA\u5458\u3002\u4F8B\u5982\u7F51\u7EDC\u662F\u5426\u987A\u7545\u3001\u670D\u52A1\u5668\u662F\u5426\u5728\u8FD0\u884C\u3001\u7A0B\u5E8F\u7684\u529F\u80FD\u662F\u5426\u80FD\u591F\u6574\u767E\u5206\u767E\u8FD0\u884C\u6210\u529F\uFF0C\u5185\u5B58\u662F\u5426\u591F\u7528\uFF0C\u7B49\u7B49\u7B49\u7B49\u3002</p><p>\u200B \u672C\u7AE0\u8981\u8BB2\u89E3\u7684\u76D1\u63A7\u5C31\u662F\u5BF9\u8F6F\u4EF6\u7684\u8FD0\u884C\u60C5\u51B5\u8FDB\u884C\u76D1\u7763\uFF0C\u4F46\u662Fspringboot\u7A0B\u5E8F\u4E0E\u975Espringboot\u7A0B\u5E8F\u7684\u5DEE\u5F02\u8FD8\u662F\u5F88\u5927\u7684\uFF0C\u4E3A\u4E86\u65B9\u4FBF\u76D1\u63A7\u8F6F\u4EF6\u7684\u5F00\u53D1\uFF0Cspringboot\u63D0\u4F9B\u4E86\u4E00\u5957\u529F\u80FD\u63A5\u53E3\uFF0C\u4E3A\u5F00\u53D1\u8005\u52A0\u901F\u5F00\u53D1\u8FC7\u7A0B\u3002</p><h3 id="_6-1-\u76D1\u63A7\u7684\u610F\u4E49" tabindex="-1"><a class="header-anchor" href="#_6-1-\u76D1\u63A7\u7684\u610F\u4E49" aria-hidden="true">#</a> 6-1.\u76D1\u63A7\u7684\u610F\u4E49</h3><p>\u200B \u5BF9\u4E8E\u73B0\u4EE3\u7684\u4E92\u8054\u7F51\u7A0B\u5E8F\u6765\u8BF4\uFF0C\u89C4\u6A21\u8D8A\u6765\u8D8A\u5927\uFF0C\u529F\u80FD\u8D8A\u6765\u8D8A\u590D\u6742\uFF0C\u8FD8\u8981\u8FFD\u6C42\u66F4\u597D\u7684\u5BA2\u6237\u4F53\u9A8C\uFF0C\u56E0\u6B64\u8981\u76D1\u63A7\u7684\u4FE1\u606F\u91CF\u4E5F\u5C31\u6BD4\u8F83\u5927\u4E86\u3002\u7531\u4E8E\u73B0\u5728\u7684\u4E92\u8054\u7F51\u7A0B\u5E8F\u5927\u90E8\u5206\u90FD\u662F\u57FA\u4E8E\u5FAE\u670D\u52A1\u7684\u7A0B\u5E8F\uFF0C\u4E00\u4E2A\u7A0B\u5E8F\u7684\u8FD0\u884C\u9700\u8981\u82E5\u5E72\u4E2A\u670D\u52A1\u6765\u4FDD\u969C\uFF0C\u56E0\u6B64\u7B2C\u4E00\u4E2A\u8981\u76D1\u63A7\u7684\u6307\u6807\u5C31\u662F\u670D\u52A1\u662F\u5426\u6B63\u5E38\u8FD0\u884C\uFF0C\u4E5F\u5C31\u662F<strong>\u76D1\u63A7\u670D\u52A1\u72B6\u6001\u662F\u5426\u5904\u7406\u5B95\u673A\u72B6\u6001</strong>\u3002\u4E00\u65E6\u53D1\u73B0\u67D0\u4E2A\u670D\u52A1\u5B95\u673A\u4E86\uFF0C\u5FC5\u987B\u9A6C\u4E0A\u7ED9\u51FA\u5BF9\u5E94\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u907F\u514D\u6574\u4F53\u5E94\u7528\u529F\u80FD\u53D7\u5F71\u54CD\u3002\u5176\u6B21\uFF0C\u7531\u4E8E\u4E92\u8054\u7F51\u7A0B\u5E8F\u670D\u52A1\u7684\u5BA2\u6237\u91CF\u662F\u5DE8\u5927\u7684\uFF0C\u5F53\u5BA2\u6237\u7684\u8BF7\u6C42\u5728\u77ED\u65F6\u95F4\u5185\u96C6\u4E2D\u8FBE\u5230\u670D\u52A1\u5668\u540E\uFF0C\u5C31\u4F1A\u51FA\u73B0\u5404\u79CD\u7A0B\u5E8F\u8FD0\u884C\u6307\u6807\u7684\u6CE2\u52A8\u3002\u6BD4\u5982\u5185\u5B58\u5360\u7528\u4E25\u91CD\uFF0C\u8BF7\u6C42\u65E0\u6CD5\u53CA\u65F6\u54CD\u5E94\u5904\u7406\u7B49\uFF0C\u8FD9\u5C31\u662F\u7B2C\u4E8C\u4E2A\u8981\u76D1\u63A7\u7684\u91CD\u8981\u6307\u6807\uFF0C<strong>\u76D1\u63A7\u670D\u52A1\u8FD0\u884C\u6307\u6807</strong>\u3002\u867D\u7136\u8F6F\u4EF6\u662F\u5BF9\u5916\u63D0\u4F9B\u7528\u6237\u7684\u8BBF\u95EE\u9700\u6C42\uFF0C\u5B8C\u6210\u5BF9\u5E94\u529F\u80FD\u7684\uFF0C\u4F46\u662F\u540E\u53F0\u7684\u8FD0\u884C\u662F\u5426\u5E73\u7A33\uFF0C\u662F\u5426\u51FA\u73B0\u4E86\u4E0D\u5F71\u54CD\u5BA2\u6237\u4F7F\u7528\u7684\u529F\u80FD\u9690\u60A3\uFF0C\u8FD9\u4E9B\u4E5F\u662F\u8981\u5BC6\u5207\u76D1\u63A7\u7684\uFF0C\u6B64\u65F6\u5C31\u9700\u8981\u5728\u4E0D\u505C\u673A\u7684\u60C5\u51B5\u4E0B\uFF0C\u76D1\u63A7\u7CFB\u7EDF\u8FD0\u884C\u60C5\u51B5\uFF0C\u65E5\u5FD7\u662F\u4E00\u4E2A\u4E0D\u9519\u7684\u624B\u6BB5\u3002\u5982\u679C\u5728\u4F17\u591A\u65E5\u5FD7\u4E2D\u627E\u5230\u5F00\u53D1\u8005\u6216\u8FD0\u7EF4\u4EBA\u5458\u6240\u5173\u6CE8\u7684\u65E5\u5FD7\u4FE1\u606F\uFF0C\u7B80\u5355\u5FEB\u901F\u6709\u6548\u7684\u8FC7\u6EE4\u51FA\u8981\u770B\u7684\u65E5\u5FD7\u4E5F\u662F\u76D1\u63A7\u7CFB\u7EDF\u9700\u8981\u8003\u8651\u7684\u95EE\u9898\uFF0C\u8FD9\u5C31\u662F\u7B2C\u4E09\u4E2A\u8981\u76D1\u63A7\u7684\u6307\u6807\uFF0C<strong>\u76D1\u63A7\u7A0B\u5E8F\u8FD0\u884C\u65E5\u5FD7</strong>\u3002\u867D\u7136\u6211\u4EEC\u671F\u671B\u7A0B\u5E8F\u4E00\u76F4\u5E73\u7A33\u8FD0\u884C\uFF0C\u4F46\u662F\u7531\u4E8E\u7A81\u53D1\u60C5\u51B5\u7684\u51FA\u73B0\uFF0C\u4F8B\u5982\u670D\u52A1\u5668\u88AB\u653B\u51FB\u3001\u670D\u52A1\u5668\u5185\u5B58\u6EA2\u51FA\u7B49\u60C5\u51B5\u9020\u6210\u4E86\u670D\u52A1\u5668\u5B95\u673A\uFF0C\u6B64\u65F6\u5F53\u524D\u670D\u52A1\u4E0D\u80FD\u6EE1\u8DB3\u4F7F\u7528\u9700\u8981\uFF0C\u5C31\u8981\u5C06\u5176\u91CD\u542F\u751A\u81F3\u5173\u95ED\uFF0C\u5982\u4F55\u5FEB\u901F\u63A7\u5236\u670D\u52A1\u5668\u7684\u542F\u505C\u4E5F\u662F\u7A0B\u5E8F\u8FD0\u884C\u8FC7\u7A0B\u4E2D\u4E0D\u53EF\u56DE\u907F\u7684\u95EE\u9898\uFF0C\u8FD9\u5C31\u662F\u7B2C\u56DB\u4E2A\u76D1\u63A7\u9879\uFF0C<strong>\u7BA1\u7406\u670D\u52A1\u72B6\u6001</strong>\u3002\u4EE5\u4E0A\u8FD9\u4E9B\u4EC5\u4EC5\u662F\u4ECE\u5927\u7684\u65B9\u9762\u6765\u601D\u8003\u76D1\u63A7\u8FD9\u4E2A\u95EE\u9898\uFF0C\u8FD8\u6709\u5F88\u591A\u7684\u7EC6\u8282\u70B9\uFF0C\u4F8B\u5982\u4E0A\u7EBF\u4E86\u4E00\u4E2A\u65B0\u529F\u80FD\uFF0C\u5B9A\u65F6\u63D0\u9192\u7528\u6237\u7EED\u8D39\uFF0C\u8FD9\u79CD\u529F\u80FD\u4E0D\u662F\u4E0A\u7EBF\u540E\u9A6C\u4E0A\u5C31\u8FD0\u884C\u7684\uFF0C\u4F46\u662F\u5F53\u524D\u529F\u80FD\u662F\u5426\u771F\u7684\u542F\u52A8\uFF0C\u5982\u679C\u5FEB\u901F\u7684\u67E5\u8BE2\u5230\u8FD9\u4E2A\u529F\u80FD\u5DF2\u7ECF\u5F00\u542F\uFF0C\u8FD9\u4E5F\u662F\u76D1\u63A7\u4E2D\u8981\u89E3\u51B3\u7684\u95EE\u9898\uFF0C\u7B49\u7B49\u3002\u770B\u6765\u76D1\u63A7\u771F\u7684\u662F\u4E00\u9879\u975E\u5E38\u91CD\u8981\u7684\u5DE5\u4F5C\u3002</p><p>\u200B \u901A\u8FC7\u4E0A\u8FF0\u63CF\u8FF0\uFF0C\u53EF\u4EE5\u770B\u51FA\u76D1\u63A7\u5F88\u91CD\u8981\u3002\u90A3\u5177\u4F53\u7684\u76D1\u63A7\u8981\u5982\u4F55\u5F00\u5C55\u5462\uFF1F\u8FD8\u8981\u4ECE\u5B9E\u9645\u7684\u7A0B\u5E8F\u8FD0\u884C\u89D2\u5EA6\u51FA\u53D1\u3002\u6BD4\u5982\u73B0\u5728\u67093\u4E2A\u670D\u52A1\u652F\u6491\u7740\u4E00\u4E2A\u7A0B\u5E8F\u7684\u8FD0\u884C\uFF0C\u6BCF\u4E2A\u670D\u52A1\u90FD\u6709\u81EA\u5DF1\u7684\u8FD0\u884C\u72B6\u6001\u3002</p><img src="`+W+'" alt="image-20220301093704396" style="zoom:50%;"><p>\u200B \u6B64\u65F6\u88AB\u76D1\u63A7\u7684\u4FE1\u606F\u5C31\u8981\u5728\u4E09\u4E2A\u4E0D\u540C\u7684\u7A0B\u5E8F\u4E2D\u53BB\u67E5\u8BE2\u5E76\u5C55\u793A\uFF0C\u4F46\u662F\u4E09\u4E2A\u670D\u52A1\u662F\u670D\u52A1\u4E8E\u4E00\u4E2A\u7A0B\u5E8F\u7684\u8FD0\u884C\u7684\uFF0C\u5982\u679C\u4E0D\u80FD\u5408\u5E76\u5230\u4E00\u4E2A\u5E73\u53F0\u4E0A\u5C55\u793A\uFF0C\u76D1\u63A7\u5DE5\u4F5C\u91CF\u5DE8\u5927\uFF0C\u800C\u4E14\u4FE1\u606F\u5BF9\u79F0\u6027\u5DEE\uFF0C\u8981\u4E0D\u505C\u7684\u5728\u4E09\u4E2A\u76D1\u63A7\u7AEF\u67E5\u770B\u6570\u636E\u3002\u5982\u679C\u5C06\u4E1A\u52A1\u653E\u5927\u621030\u4E2A\uFF0C300\u4E2A\uFF0C3000\u4E2A\u5462\uFF1F\u770B\u6765\u5FC5\u987B\u6709\u4E00\u4E2A\u5355\u72EC\u7684\u5E73\u53F0\uFF0C\u5C06\u591A\u4E2A\u88AB\u76D1\u63A7\u7684\u670D\u52A1\u5BF9\u5E94\u7684\u76D1\u63A7\u6307\u6807\u4FE1\u606F\u6C47\u603B\u5728\u4E00\u8D77\uFF0C\u8FD9\u6837\u66F4\u5229\u4E8E\u76D1\u63A7\u5DE5\u4F5C\u7684\u5F00\u5C55\u3002</p><img src="'+G+'" alt="image-20220301094001896" style="zoom:50%;"><p>\u200B \u65B0\u7684\u7A0B\u5E8F\u4E13\u95E8\u7528\u6765\u76D1\u63A7\uFF0C\u65B0\u7684\u95EE\u9898\u5C31\u51FA\u73B0\u4E86\uFF0C\u662F\u88AB\u76D1\u63A7\u7A0B\u5E8F\u4E3B\u52A8\u4E0A\u62A5\u4FE1\u606F\u8FD8\u662F\u76D1\u63A7\u7A0B\u5E8F\u4E3B\u52A8\u83B7\u53D6\u4FE1\u606F\uFF1F\u5982\u679C\u76D1\u63A7\u7A0B\u5E8F\u4E0D\u80FD\u4E3B\u52A8\u83B7\u53D6\u4FE1\u606F\uFF0C\u8FD9\u5C31\u610F\u5473\u7740\u76D1\u63A7\u7A0B\u5E8F\u6709\u53EF\u80FD\u770B\u5230\u7684\u662F\u5F88\u4E45\u4E4B\u524D\u88AB\u76D1\u63A7\u7A0B\u5E8F\u4E0A\u62A5\u7684\u4FE1\u606F\uFF0C\u4E07\u4E00\u88AB\u76D1\u63A7\u7A0B\u5E8F\u5B95\u673A\u4E86\uFF0C\u76D1\u63A7\u7A0B\u5E8F\u5C31\u65E0\u6CD5\u533A\u5206\u7A76\u7ADF\u662F\u597D\u4E45\u6CA1\u6CD5\u4FE1\u606F\u4E86\uFF0C\u8FD8\u662F\u5DF2\u7ECF\u4E0B\u7EBF\u4E86\u3002\u6240\u4EE5\u76D1\u63A7\u7A0B\u5E8F\u5FC5\u987B\u5177\u6709\u4E3B\u52A8\u53D1\u8D77\u8BF7\u6C42\u83B7\u53D6\u88AB\u76D1\u63A7\u670D\u52A1\u4FE1\u606F\u7684\u80FD\u529B\u3002</p><img src="'+Z+'" alt="image-20220301094259844" style="zoom:50%;"><p>\u200B \u5982\u679C\u76D1\u63A7\u7A0B\u5E8F\u8981\u76D1\u63A7\u670D\u52A1\u65F6\uFF0C\u4E3B\u52A8\u83B7\u53D6\u5BF9\u65B9\u7684\u4FE1\u606F\u3002\u90A3\u76D1\u63A7\u7A0B\u5E8F\u5982\u4F55\u77E5\u9053\u54EA\u4E9B\u7A0B\u5E8F\u88AB\u81EA\u5DF1\u76D1\u63A7\u5462\uFF1F\u4E0D\u53EF\u80FD\u5728\u76D1\u63A7\u7A0B\u5E8F\u4E2D\u8BBE\u7F6E\u6211\u76D1\u63A7\u8C01\uFF0C\u8FD9\u6837\u4E92\u8054\u7F51\u4E0A\u7684\u6240\u6709\u7A0B\u5E8F\u5C82\u4E0D\u662F\u90FD\u53EF\u4EE5\u88AB\u76D1\u63A7\u5230\uFF0C\u8FD9\u6837\u7684\u8BDD\u4FE1\u606F\u5B89\u5168\u5C06\u65E0\u6CD5\u5F97\u5230\u4FDD\u969C\u3002\u5408\u7406\u7684\u505A\u6CD5\u53EA\u80FD\u662F\u5728\u88AB\u76D1\u63A7\u7A0B\u5E8F\u542F\u52A8\u65F6\u4E0A\u62A5\u76D1\u63A7\u7A0B\u5E8F\uFF0C\u544A\u8BC9\u76D1\u63A7\u7A0B\u5E8F\u4F60\u53EF\u4EE5\u76D1\u63A7\u6211\u4E86\u3002\u770B\u6765\u9700\u8981\u5728\u88AB\u76D1\u63A7\u7A0B\u5E8F\u7AEF\u505A\u4E3B\u52A8\u4E0A\u62A5\u7684\u64CD\u4F5C\uFF0C\u8FD9\u5C31\u8981\u6C42\u88AB\u76D1\u63A7\u7A0B\u5E8F\u4E2D\u914D\u7F6E\u5BF9\u5E94\u7684\u76D1\u63A7\u7A0B\u5E8F\u662F\u8C01\u3002</p><img src="'+$+`" alt="image-20220301094547748" style="zoom:50%;"><p>\u200B \u88AB\u76D1\u63A7\u7A0B\u5E8F\u53EF\u4EE5\u63D0\u4F9B\u5404\u79CD\u5404\u6837\u7684\u6307\u6807\u6570\u636E\u7ED9\u76D1\u63A7\u7A0B\u5E8F\u770B\uFF0C\u4F46\u662F\u6BCF\u4E00\u4E2A\u6307\u6807\u90FD\u4EE3\u8868\u7740\u516C\u53F8\u7684\u673A\u5BC6\u4FE1\u606F\uFF0C\u5E76\u4E0D\u662F\u6240\u6709\u7684\u6307\u6807\u90FD\u53EF\u4EE5\u7ED9\u4EFB\u4F55\u4EBA\u770B\u7684\uFF0C\u4E43\u81F3\u8FD0\u7EF4\u4EBA\u5458\uFF0C\u6240\u4EE5\u5BF9\u88AB\u76D1\u63A7\u6307\u6807\u7684\u662F\u5426\u5F00\u653E\u51FA\u6765\u7ED9\u76D1\u63A7\u7CFB\u7EDF\u770B\uFF0C\u4E5F\u9700\u8981\u505A\u8BE6\u7EC6\u7684\u8BBE\u5B9A\u3002</p><p>\u200B \u4EE5\u4E0A\u63CF\u8FF0\u7684\u6574\u4E2A\u8FC7\u7A0B\u5C31\u662F\u4E00\u4E2A\u76D1\u63A7\u7CFB\u7EDF\u7684\u57FA\u672C\u6D41\u7A0B\u3002</p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u76D1\u63A7\u662F\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u5DE5\u4F5C\uFF0C\u662F\u4FDD\u969C\u7A0B\u5E8F\u6B63\u5E38\u8FD0\u884C\u7684\u57FA\u7840\u624B\u6BB5</li><li>\u76D1\u63A7\u7684\u8FC7\u7A0B\u901A\u8FC7\u4E00\u4E2A\u76D1\u63A7\u7A0B\u5E8F\u8FDB\u884C\uFF0C\u5B83\u6C47\u603B\u6240\u6709\u88AB\u76D1\u63A7\u7684\u7A0B\u5E8F\u7684\u4FE1\u606F\u96C6\u4E2D\u7EDF\u4E00\u5C55\u793A</li><li>\u88AB\u76D1\u63A7\u7A0B\u5E8F\u9700\u8981\u4E3B\u52A8\u4E0A\u62A5\u81EA\u5DF1\u88AB\u76D1\u63A7\uFF0C\u540C\u65F6\u8981\u8BBE\u7F6E\u54EA\u4E9B\u6307\u6807\u88AB\u76D1\u63A7</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u4E0B\u9762\u5C31\u8981\u5F00\u59CB\u505A\u76D1\u63A7\u4E86\uFF0C\u65B0\u7684\u95EE\u9898\u5C31\u6765\u4E86\uFF0C\u76D1\u63A7\u7A0B\u5E8F\u600E\u4E48\u505A\u5462\uFF1F\u96BE\u9053\u8981\u81EA\u5DF1\u5199\u5417\uFF1F\u80AF\u5B9A\u662F\u4E0D\u73B0\u5B9E\u7684\uFF0C\u5982\u4F55\u8FDB\u884C\u76D1\u63A7\uFF0C\u54B1\u4EEC\u4E0B\u8282\u518D\u8BB2\u3002</p><h3 id="_6-2-\u53EF\u89C6\u5316\u76D1\u63A7\u5E73\u53F0" tabindex="-1"><a class="header-anchor" href="#_6-2-\u53EF\u89C6\u5316\u76D1\u63A7\u5E73\u53F0" aria-hidden="true">#</a> 6-2.\u53EF\u89C6\u5316\u76D1\u63A7\u5E73\u53F0</h3><p>\u200B springboot\u62BD\u53D6\u4E86\u5927\u90E8\u5206\u76D1\u63A7\u7CFB\u7EDF\u7684\u5E38\u7528\u6307\u6807\uFF0C\u63D0\u51FA\u4E86\u76D1\u63A7\u7684\u603B\u601D\u60F3\u3002\u7136\u540E\u5C31\u6709\u597D\u5FC3\u7684\u540C\u5FD7\u6839\u636E\u76D1\u63A7\u7684\u603B\u601D\u60F3\uFF0C\u5236\u4F5C\u4E86\u4E00\u4E2A\u901A\u7528\u6027\u5F88\u5F3A\u7684\u76D1\u63A7\u7CFB\u7EDF\uFF0C\u56E0\u4E3A\u662F\u57FA\u4E8Espringboot\u76D1\u63A7\u7684\u6838\u5FC3\u601D\u60F3\u5236\u4F5C\u7684\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u7A0B\u5E8F\u88AB\u547D\u540D\u4E3A<strong>Spring Boot Admin</strong>\u3002</p><p>\u200B Spring Boot Admin\uFF0C\u8FD9\u662F\u4E00\u4E2A\u5F00\u6E90\u793E\u533A\u9879\u76EE\uFF0C\u7528\u4E8E\u7BA1\u7406\u548C\u76D1\u63A7SpringBoot\u5E94\u7528\u7A0B\u5E8F\u3002\u8FD9\u4E2A\u9879\u76EE\u4E2D\u5305\u542B\u6709\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u4E24\u90E8\u5206\uFF0C\u800C\u76D1\u63A7\u5E73\u53F0\u6307\u7684\u5C31\u662F\u670D\u52A1\u7AEF\u3002\u6211\u4EEC\u505A\u7684\u7A0B\u5E8F\u5982\u679C\u9700\u8981\u88AB\u76D1\u63A7\uFF0C\u5C06\u6211\u4EEC\u505A\u7684\u7A0B\u5E8F\u5236\u4F5C\u6210\u5BA2\u6237\u7AEF\uFF0C\u7136\u540E\u914D\u7F6E\u670D\u52A1\u7AEF\u5730\u5740\u540E\uFF0C\u670D\u52A1\u7AEF\u5C31\u53EF\u4EE5\u901A\u8FC7HTTP\u8BF7\u6C42\u7684\u65B9\u5F0F\u4ECE\u5BA2\u6237\u7AEF\u83B7\u53D6\u5BF9\u5E94\u7684\u4FE1\u606F\uFF0C\u5E76\u901A\u8FC7UI\u754C\u9762\u5C55\u793A\u5BF9\u5E94\u4FE1\u606F\u3002</p><p>\u200B \u4E0B\u9762\u5C31\u6765\u5F00\u53D1\u8FD9\u5957\u76D1\u63A7\u7A0B\u5E8F\uFF0C\u5148\u5236\u4F5C\u670D\u52A1\u7AEF\uFF0C\u5176\u5B9E\u670D\u52A1\u7AEF\u53EF\u4EE5\u7406\u89E3\u4E3A\u662F\u4E00\u4E2Aweb\u7A0B\u5E8F\uFF0C\u6536\u5230\u4E00\u4E9B\u4FE1\u606F\u540E\u5C55\u793A\u8FD9\u4E9B\u4FE1\u606F\u3002</p><p><strong>\u670D\u52A1\u7AEF\u5F00\u53D1</strong></p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot admin\u5BF9\u5E94\u7684starter\uFF0C\u7248\u672C\u4E0E\u5F53\u524D\u4F7F\u7528\u7684springboot\u7248\u672C\u4FDD\u6301\u4E00\u81F4\uFF0C\u5E76\u5C06\u5176\u914D\u7F6E\u6210web\u5DE5\u7A0B</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>de.codecentric<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-admin-starter-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u8FC7\u7A0B\u53EF\u4EE5\u901A\u8FC7\u521B\u5EFA\u9879\u76EE\u65F6\u4F7F\u7528\u52FE\u9009\u7684\u5F62\u5F0F\u5B8C\u6210\u3002</p><img src="`+nn+`" alt="image-20220301102432817" style="zoom:50%;"><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u5728\u5F15\u5BFC\u7C7B\u4E0A\u6DFB\u52A0\u6CE8\u89E3@EnableAdminServer\uFF0C\u58F0\u660E\u5F53\u524D\u5E94\u7528\u542F\u52A8\u540E\u4F5C\u4E3ASpringBootAdmin\u7684\u670D\u52A1\u5668\u4F7F\u7528</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableAdminServer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot25AdminServerApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot25AdminServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u505A\u5230\u8FD9\u91CC\uFF0C\u8FD9\u4E2A\u670D\u52A1\u5668\u5C31\u5F00\u53D1\u597D\u4E86\uFF0C\u542F\u52A8\u540E\u5C31\u53EF\u4EE5\u8BBF\u95EE\u5F53\u524D\u7A0B\u5E8F\u4E86\uFF0C\u754C\u9762\u5982\u4E0B\u3002</p><img src="`+sn+`" alt="image-20220301103028468" style="zoom:50%;"><p>\u200B \u7531\u4E8E\u76EE\u524D\u6CA1\u6709\u542F\u52A8\u4EFB\u4F55\u88AB\u76D1\u63A7\u7684\u7A0B\u5E8F\uFF0C\u6240\u4EE5\u91CC\u9762\u4EC0\u4E48\u4FE1\u606F\u90FD\u6CA1\u6709\u3002\u4E0B\u9762\u5236\u4F5C\u4E00\u4E2A\u88AB\u76D1\u63A7\u7684\u5BA2\u6237\u7AEF\u7A0B\u5E8F\u3002</p><p><strong>\u5BA2\u6237\u7AEF\u5F00\u53D1</strong></p><p>\u200B \u5BA2\u6237\u7AEF\u7A0B\u5E8F\u5F00\u53D1\u5176\u5B9E\u548C\u670D\u52A1\u7AEF\u5F00\u53D1\u601D\u8DEF\u57FA\u672C\u76F8\u4F3C\uFF0C\u591A\u4E86\u4E00\u4E9B\u914D\u7F6E\u800C\u5DF2\u3002</p><p><strong>\u6B65\u9AA4\u2460</strong>\uFF1A\u5BFC\u5165springboot admin\u5BF9\u5E94\u7684starter\uFF0C\u7248\u672C\u4E0E\u5F53\u524D\u4F7F\u7528\u7684springboot\u7248\u672C\u4FDD\u6301\u4E00\u81F4\uFF0C\u5E76\u5C06\u5176\u914D\u7F6E\u6210web\u5DE5\u7A0B</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>de.codecentric<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-admin-starter-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u8FC7\u7A0B\u4E5F\u53EF\u4EE5\u901A\u8FC7\u521B\u5EFA\u9879\u76EE\u65F6\u4F7F\u7528\u52FE\u9009\u7684\u5F62\u5F0F\u5B8C\u6210\uFF0C\u4E0D\u8FC7\u4E00\u5B9A\u8981\u5C0F\u5FC3\uFF0C\u7AEF\u53E3\u914D\u7F6E\u6210\u4E0D\u4E00\u6837\u7684\uFF0C\u5426\u5219\u4F1A\u51B2\u7A81\u3002</p><p><strong>\u6B65\u9AA4\u2461</strong>\uFF1A\u8BBE\u7F6E\u5F53\u524D\u5BA2\u6237\u7AEF\u5C06\u4FE1\u606F\u4E0A\u4F20\u5230\u54EA\u4E2A\u670D\u52A1\u5668\u4E0A\uFF0C\u901A\u8FC7yml\u6587\u4EF6\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">boot</span><span class="token punctuation">:</span>
    <span class="token key atrule">admin</span><span class="token punctuation">:</span>
      <span class="token key atrule">client</span><span class="token punctuation">:</span>
        <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8080</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u505A\u5230\u8FD9\u91CC\uFF0C\u8FD9\u4E2A\u5BA2\u6237\u7AEF\u5C31\u53EF\u4EE5\u542F\u52A8\u4E86\u3002\u542F\u52A8\u540E\u518D\u6B21\u8BBF\u95EE\u670D\u52A1\u7AEF\u7A0B\u5E8F\uFF0C\u754C\u9762\u5982\u4E0B\u3002</p><img src="`+an+'" alt="image-20220301103838079" style="zoom:50%;"><p>\u200B \u53EF\u4EE5\u770B\u5230\uFF0C\u5F53\u524D\u76D1\u63A7\u4E861\u4E2A\u7A0B\u5E8F\uFF0C\u70B9\u51FB\u8FDB\u53BB\u67E5\u770B\u8BE6\u7EC6\u4FE1\u606F\u3002</p><img src="'+tn+`" alt="image-20220301103936386" style="zoom:50%;"><p>\u200B \u7531\u4E8E\u5F53\u524D\u6CA1\u6709\u8BBE\u7F6E\u5F00\u653E\u54EA\u4E9B\u4FE1\u606F\u7ED9\u76D1\u63A7\u670D\u52A1\u5668\uFF0C\u6240\u4EE5\u76EE\u524D\u770B\u4E0D\u5230\u4EC0\u4E48\u6709\u6548\u7684\u4FE1\u606F\u3002\u4E0B\u9762\u9700\u8981\u505A\u4E24\u7EC4\u914D\u7F6E\u5C31\u53EF\u4EE5\u770B\u5230\u4FE1\u606F\u4E86\u3002</p><ol><li><p>\u5F00\u653E\u6307\u5B9A\u4FE1\u606F\u7ED9\u670D\u52A1\u5668\u770B</p></li><li><p>\u5141\u8BB8\u670D\u52A1\u5668\u4EE5HTTP\u8BF7\u6C42\u7684\u65B9\u5F0F\u83B7\u53D6\u5BF9\u5E94\u7684\u4FE1\u606F</p><p>\u914D\u7F6E\u5982\u4E0B\uFF1A</p></li></ol><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">boot</span><span class="token punctuation">:</span>
    <span class="token key atrule">admin</span><span class="token punctuation">:</span>
      <span class="token key atrule">client</span><span class="token punctuation">:</span>
        <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8080</span>
<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoint</span><span class="token punctuation">:</span>
    <span class="token key atrule">health</span><span class="token punctuation">:</span>
      <span class="token key atrule">show-details</span><span class="token punctuation">:</span> always
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u914D\u7F6E\u5BF9\u4E8E\u521D\u5B66\u8005\u6765\u8BF4\u6BD4\u8F83\u5BB9\u6613\u6DF7\u6DC6\u3002\u7B80\u5355\u89E3\u91CA\u4E00\u4E0B\uFF0C\u5230\u4E0B\u4E00\u8282\u518D\u505A\u5177\u4F53\u7684\u8BB2\u89E3\u3002springbootadmin\u7684\u5BA2\u6237\u7AEF\u9ED8\u8BA4\u5F00\u653E\u4E8613\u7EC4\u4FE1\u606F\u7ED9\u670D\u52A1\u5668\uFF0C\u4F46\u662F\u8FD9\u4E9B\u4FE1\u606F\u9664\u4E86\u4E00\u4E2A\u4E4B\u5916\uFF0C\u5176\u4ED6\u7684\u4FE1\u606F\u90FD\u4E0D\u8BA9\u901A\u8FC7HTTP\u8BF7\u6C42\u67E5\u770B\u3002\u6240\u4EE5\u4F60\u770B\u5230\u7684\u4FE1\u606F\u57FA\u672C\u4E0A\u5C31\u6CA1\u4EC0\u4E48\u5185\u5BB9\u4E86\uFF0C\u53EA\u80FD\u770B\u5230\u4E00\u4E2A\u5185\u5BB9\uFF0C\u5C31\u662F\u4E0B\u9762\u7684\u5065\u5EB7\u4FE1\u606F\u3002</p><img src="`+en+`" alt="image-20220301104742563" style="zoom:50%;"><p>\u200B \u4F46\u662F\u5373\u4FBF\u5982\u6B64\u6211\u4EEC\u770B\u5230\u5065\u5EB7\u4FE1\u606F\u4E2D\u4E5F\u6CA1\u4EC0\u4E48\u5185\u5BB9\uFF0C\u539F\u56E0\u5728\u4E8E\u5065\u5EB7\u4FE1\u606F\u4E2D\u6709\u4E00\u4E9B\u4FE1\u606F\u63CF\u8FF0\u4E86\u4F60\u5F53\u524D\u5E94\u7528\u4F7F\u7528\u4E86\u4EC0\u4E48\u6280\u672F\u7B49\u4FE1\u606F\uFF0C\u5982\u679C\u65E0\u8111\u7684\u5BF9\u5916\u66B4\u9732\u529F\u80FD\u4F1A\u6709\u5B89\u5168\u9690\u60A3\u3002\u901A\u8FC7\u914D\u7F6E\u5C31\u53EF\u4EE5\u5F00\u653E\u6240\u6709\u7684\u5065\u5EB7\u4FE1\u606F\u660E\u7EC6\u67E5\u770B\u4E86\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoint</span><span class="token punctuation">:</span>
    <span class="token key atrule">health</span><span class="token punctuation">:</span>
      <span class="token key atrule">show-details</span><span class="token punctuation">:</span> always
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5065\u5EB7\u660E\u7EC6\u4FE1\u606F\u5982\u4E0B\uFF1A</p><img src="`+pn+`" alt="image-20220301105116554" style="zoom:50%;"><p>\u200B \u76EE\u524D\u9664\u4E86\u5065\u5EB7\u4FE1\u606F\uFF0C\u5176\u4ED6\u4FE1\u606F\u90FD\u67E5\u9605\u4E0D\u4E86\u3002\u539F\u56E0\u5728\u4E8E\u5176\u4ED612\u79CD\u4FE1\u606F\u662F\u9ED8\u8BA4\u4E0D\u63D0\u4F9B\u7ED9\u670D\u52A1\u5668\u901A\u8FC7HTTP\u8BF7\u6C42\u67E5\u9605\u7684\uFF0C\u6240\u4EE5\u9700\u8981\u5F00\u542F\u67E5\u9605\u7684\u5185\u5BB9\u9879\uFF0C\u4F7F\u7528*\u8868\u793A\u67E5\u9605\u5168\u90E8\u3002\u8BB0\u5F97\u5E26\u5F15\u53F7\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
      <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u914D\u7F6E\u540E\u518D\u5237\u65B0\u670D\u52A1\u5668\u9875\u9762\uFF0C\u5C31\u53EF\u4EE5\u770B\u5230\u6240\u6709\u7684\u4FE1\u606F\u4E86\u3002</p><img src="`+on+'" alt="image-20220301105554494" style="zoom:50%;"><p>\u200B \u4EE5\u4E0A\u754C\u9762\u4E2D\u5C55\u793A\u7684\u4FE1\u606F\u91CF\u5C31\u975E\u5E38\u5927\u4E86\uFF0C\u5305\u542B\u4E8613\u7EC4\u4FE1\u606F\uFF0C\u6709\u6027\u80FD\u6307\u6807\u76D1\u63A7\uFF0C\u52A0\u8F7D\u7684bean\u5217\u8868\uFF0C\u52A0\u8F7D\u7684\u7CFB\u7EDF\u5C5E\u6027\uFF0C\u65E5\u5FD7\u7684\u663E\u793A\u63A7\u5236\u7B49\u7B49\u3002</p><p><strong>\u914D\u7F6E\u591A\u4E2A\u5BA2\u6237\u7AEF</strong></p><p>\u200B \u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u5BA2\u6237\u7AEF\u7684\u65B9\u5F0F\u5728\u5176\u4ED6\u7684springboot\u7A0B\u5E8F\u4E2D\u6DFB\u52A0\u5BA2\u6237\u7AEF\u5750\u6807\uFF0C\u8FD9\u6837\u5F53\u524D\u670D\u52A1\u5668\u5C31\u53EF\u4EE5\u76D1\u63A7\u591A\u4E2A\u5BA2\u6237\u7AEF\u7A0B\u5E8F\u4E86\u3002\u6BCF\u4E2A\u5BA2\u6237\u7AEF\u5C55\u793A\u4E0D\u540C\u7684\u76D1\u63A7\u4FE1\u606F\u3002</p><img src="'+cn+'" alt="image-20220301110352170" style="zoom:50%;"><p>\u200B \u8FDB\u5165\u76D1\u63A7\u9762\u677F\uFF0C\u5982\u679C\u4F60\u52A0\u8F7D\u7684\u5E94\u7528\u5177\u6709\u529F\u80FD\uFF0C\u5728\u76D1\u63A7\u9762\u677F\u4E2D\u53EF\u4EE5\u770B\u52303\u7EC4\u4FE1\u606F\u5C55\u793A\u7684\u4E0E\u4E4B\u524D\u52A0\u8F7D\u7684\u7A7A\u5DE5\u7A0B\u4E0D\u4E00\u6837\u3002</p><ul><li>\u7C7B\u52A0\u8F7D\u9762\u677F\u4E2D\u53EF\u4EE5\u67E5\u9605\u5230\u5F00\u53D1\u8005\u81EA\u5B9A\u4E49\u7684\u7C7B\uFF0C\u5982\u4E0B\u56FE</li></ul><p>\u200B <img src="'+ln+'" alt="image-20220301161246835" style="zoom:33%;"></p><ul><li>\u6620\u5C04\u4E2D\u53EF\u4EE5\u67E5\u9605\u5230\u5F53\u524D\u5E94\u7528\u914D\u7F6E\u7684\u6240\u6709\u8BF7\u6C42</li></ul><p>\u200B <img src="'+un+'" alt="image-20220301161418791" style="zoom:33%;"><img src="'+rn+'" alt="image-20220301162008737" style="zoom:33%;"></p><ul><li>\u6027\u80FD\u6307\u6807\u4E2D\u53EF\u4EE5\u67E5\u9605\u5F53\u524D\u5E94\u7528\u72EC\u6709\u7684\u8BF7\u6C42\u8DEF\u5F84\u7EDF\u8BA1\u6570\u636E</li></ul><p>\u200B <img src="'+dn+'" alt="image-20220301161906949" style="zoom:33%;"><img src="'+kn+'" alt="image-20220301162040670" style="zoom:33%;"></p><p><strong>\u603B\u7ED3</strong></p><ol><li>\u5F00\u53D1\u76D1\u63A7\u670D\u52A1\u7AEF\u9700\u8981\u5BFC\u5165\u5750\u6807\uFF0C\u7136\u540E\u5728\u5F15\u5BFC\u7C7B\u4E0A\u6DFB\u52A0\u6CE8\u89E3@EnableAdminServer\uFF0C\u5E76\u5C06\u5176\u914D\u7F6E\u6210web\u7A0B\u5E8F\u5373\u53EF</li><li>\u5F00\u53D1\u88AB\u76D1\u63A7\u7684\u5BA2\u6237\u7AEF\u9700\u8981\u5BFC\u5165\u5750\u6807\uFF0C\u7136\u540E\u914D\u7F6E\u670D\u52A1\u7AEF\u670D\u52A1\u5668\u5730\u5740\uFF0C\u5E76\u505A\u5F00\u653E\u6307\u6807\u7684\u8BBE\u5B9A\u5373\u53EF</li><li>\u5728\u76D1\u63A7\u5E73\u53F0\u4E2D\u53EF\u4EE5\u67E5\u9605\u5230\u5404\u79CD\u5404\u6837\u88AB\u76D1\u63A7\u7684\u6307\u6807\uFF0C\u524D\u63D0\u662F\u5BA2\u6237\u7AEF\u5F00\u653E\u4E86\u88AB\u76D1\u63A7\u7684\u6307\u6807</li></ol><p><strong>\u601D\u8003</strong></p><p>\u200B \u4E4B\u524D\u8BF4\u8FC7\uFF0C\u670D\u52A1\u7AEF\u8981\u60F3\u76D1\u63A7\u5BA2\u6237\u7AEF\uFF0C\u9700\u8981\u4E3B\u52A8\u7684\u83B7\u53D6\u5230\u5BF9\u5E94\u4FE1\u606F\u5E76\u5C55\u793A\u51FA\u6765\u3002\u4F46\u662F\u76EE\u524D\u6211\u4EEC\u5E76\u6CA1\u6709\u5728\u5BA2\u6237\u7AEF\u5F00\u53D1\u4EFB\u4F55\u65B0\u7684\u529F\u80FD\uFF0C\u4F46\u662F\u670D\u52A1\u7AEF\u786E\u53EF\u4EE5\u83B7\u53D6\u76D1\u63A7\u4FE1\u606F\uFF0C\u8C01\u5E2E\u6211\u4EEC\u505A\u7684\u8FD9\u4E9B\u529F\u80FD\u5462\uFF1F\u54B1\u4EEC\u4E0B\u4E00\u8282\u518D\u8BB2\u3002</p><h3 id="_6-3-\u76D1\u63A7\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_6-3-\u76D1\u63A7\u539F\u7406" aria-hidden="true">#</a> 6-3.\u76D1\u63A7\u539F\u7406</h3><p>\u200B \u901A\u8FC7\u67E5\u9605\u76D1\u63A7\u4E2D\u7684\u6620\u5C04\u6307\u6807\uFF0C\u53EF\u4EE5\u770B\u5230\u5F53\u524D\u7CFB\u7EDF\u4E2D\u53EF\u4EE5\u8FD0\u884C\u7684\u6240\u6709\u8BF7\u6C42\u8DEF\u5F84\uFF0C\u5176\u4E2D\u5927\u90E8\u5206\u8DEF\u5F84\u4EE5/actuator\u5F00\u5934</p><img src="'+vn+'" alt="image-20220301170214076" style="zoom:50%;"><p>\u200B \u9996\u5148\u8FD9\u4E9B\u8BF7\u6C42\u8DEF\u5F84\u4E0D\u662F\u5F00\u53D1\u8005\u81EA\u5DF1\u7F16\u5199\u7684\uFF0C\u5176\u6B21\u8FD9\u4E2A\u8DEF\u5F84\u4EE3\u8868\u4EC0\u4E48\u542B\u4E49\u5462\uFF1F\u65E2\u7136\u8FD9\u4E2A\u8DEF\u5F84\u53EF\u4EE5\u8BBF\u95EE\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7\u6D4F\u89C8\u5668\u53D1\u9001\u8BE5\u8BF7\u6C42\u770B\u770B\u7A76\u7ADF\u53EF\u4EE5\u5F97\u5230\u4EC0\u4E48\u4FE1\u606F\u3002</p><p><img src="'+mn+`" alt="image-20220301170723057"></p><p>\u200B \u901A\u8FC7\u53D1\u9001\u8BF7\u6C42\uFF0C\u53EF\u4EE5\u5F97\u5230\u4E00\u7EC4json\u4FE1\u606F\uFF0C\u5982\u4E0B</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;_links&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;self&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;beans&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/beans&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;caches-cache&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/caches/{cache}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;caches&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/caches&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;health&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/health&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;health-path&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/health/{*path}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/info&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/conditions&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;shutdown&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/shutdown&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;configprops&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/configprops&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;configprops-prefix&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/configprops/{prefix}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/env&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;env-toMatch&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/env/{toMatch}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;loggers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/loggers&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;loggers-name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/loggers/{name}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;heapdump&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/heapdump&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;threaddump&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/threaddump&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;metrics-requiredMetricName&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/metrics/{requiredMetricName}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;metrics&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/metrics&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;scheduledtasks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/scheduledtasks&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:81/actuator/mappings&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;templated&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5176\u4E2D\u6BCF\u4E00\u7EC4\u6570\u636E\u90FD\u6709\u4E00\u4E2A\u8BF7\u6C42\u8DEF\u5F84\uFF0C\u800C\u5728\u8FD9\u91CC\u8BF7\u6C42\u8DEF\u5F84\u4E2D\u6709\u4E4B\u524D\u770B\u5230\u8FC7\u7684health\uFF0C\u53D1\u9001\u6B64\u8BF7\u6C42\u53C8\u5F97\u5230\u4E86\u4E00\u7EC4\u4FE1\u606F</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;components&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;diskSpace&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UP&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">297042808832</span><span class="token punctuation">,</span>
                <span class="token property">&quot;free&quot;</span><span class="token operator">:</span> <span class="token number">72284409856</span><span class="token punctuation">,</span>
                <span class="token property">&quot;threshold&quot;</span><span class="token operator">:</span> <span class="token number">10485760</span><span class="token punctuation">,</span>
                <span class="token property">&quot;exists&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ping&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;UP&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5F53\u524D\u4FE1\u606F\u4E0E\u76D1\u63A7\u9762\u677F\u4E2D\u7684\u6570\u636E\u5B58\u5728\u7740\u5BF9\u5E94\u5173\u7CFB</p><img src="`+bn+'" alt="image-20220301171025615" style="zoom:50%;"><p>\u200B \u539F\u6765\u76D1\u63A7\u4E2D\u663E\u793A\u7684\u4FE1\u606F\u5B9E\u9645\u4E0A\u662F\u901A\u8FC7\u53D1\u9001\u8BF7\u6C42\u540E\u5F97\u5230json\u6570\u636E\uFF0C\u7136\u540E\u5C55\u793A\u51FA\u6765\u3002\u6309\u7167\u4E0A\u8FF0\u64CD\u4F5C\uFF0C\u53EF\u4EE5\u53D1\u9001\u66F4\u591A\u7684\u4EE5/actuator\u5F00\u5934\u7684\u94FE\u63A5\u5730\u5740\uFF0C\u83B7\u53D6\u66F4\u591A\u7684\u6570\u636E\uFF0C\u8FD9\u4E9B\u6570\u636E\u6C47\u603B\u5230\u4E00\u8D77\u7EC4\u6210\u4E86\u76D1\u63A7\u5E73\u53F0\u663E\u793A\u7684\u6240\u6709\u6570\u636E\u3002</p><p>\u200B \u5230\u8FD9\u91CC\u6211\u4EEC\u5F97\u5230\u4E86\u4E00\u4E2A\u6838\u5FC3\u4FE1\u606F\uFF0C\u76D1\u63A7\u5E73\u53F0\u4E2D\u663E\u793A\u7684\u4FE1\u606F\u5B9E\u9645\u4E0A\u662F\u901A\u8FC7\u5BF9\u88AB\u76D1\u63A7\u7684\u5E94\u7528\u53D1\u9001\u8BF7\u6C42\u5F97\u5230\u7684\u3002\u90A3\u8FD9\u4E9B\u8BF7\u6C42\u8C01\u5F00\u53D1\u7684\u5462\uFF1F\u6253\u5F00\u88AB\u76D1\u63A7\u5E94\u7528\u7684pom\u6587\u4EF6\uFF0C\u5176\u4E2D\u5BFC\u5165\u4E86springboot admin\u7684\u5BF9\u5E94\u7684client\uFF0C\u5728\u8FD9\u4E2A\u8D44\u6E90\u4E2D\u5BFC\u5165\u4E86\u4E00\u4E2A\u540D\u79F0\u53EB\u505Aactuator\u7684\u5305\u3002\u88AB\u76D1\u63A7\u7684\u5E94\u7528\u4E4B\u6240\u4EE5\u53EF\u4EE5\u5BF9\u5916\u63D0\u4F9B\u4E0A\u8FF0\u8BF7\u6C42\u8DEF\u5F84\uFF0C\u5C31\u662F\u56E0\u4E3A\u6DFB\u52A0\u4E86\u8FD9\u4E2A\u5305\u3002</p><p><img src="'+gn+`" alt="image-20220301171437817"></p><p>\u200B \u8FD9\u4E2Aactuator\u662F\u4EC0\u4E48\u5462\uFF1F\u8FD9\u5C31\u662F\u672C\u8282\u8981\u8BB2\u7684\u6838\u5FC3\u5185\u5BB9\uFF0C\u76D1\u63A7\u7684\u7AEF\u70B9\u3002</p><p>\u200B Actuator\uFF0C\u53EF\u4EE5\u79F0\u4E3A\u7AEF\u70B9\uFF0C\u63CF\u8FF0\u4E86\u4E00\u7EC4\u76D1\u63A7\u4FE1\u606F\uFF0CSpringBootAdmin\u63D0\u4F9B\u4E86\u591A\u4E2A\u5185\u7F6E\u7AEF\u70B9\uFF0C\u901A\u8FC7\u8BBF\u95EE\u7AEF\u70B9\u5C31\u53EF\u4EE5\u83B7\u53D6\u5BF9\u5E94\u7684\u76D1\u63A7\u4FE1\u606F\uFF0C\u4E5F\u53EF\u4EE5\u6839\u636E\u9700\u8981\u81EA\u5B9A\u4E49\u7AEF\u70B9\u4FE1\u606F\u3002\u901A\u8FC7\u53D1\u9001\u8BF7\u6C42\u8DEF\u5F84**/actuator<strong>\u53EF\u4EE5\u8BBF\u95EE\u5E94\u7528\u6240\u6709\u7AEF\u70B9\u4FE1\u606F\uFF0C\u5982\u679C\u7AEF\u70B9\u4E2D\u8FD8\u6709\u660E\u7EC6\u4FE1\u606F\u53EF\u4EE5\u53D1\u9001\u8BF7\u6C42</strong>/actuator/\u7AEF\u70B9\u540D\u79F0**\u6765\u83B7\u53D6\u8BE6\u7EC6\u4FE1\u606F\u3002\u4EE5\u4E0B\u5217\u51FA\u4E86\u6240\u6709\u7AEF\u70B9\u4FE1\u606F\u8BF4\u660E\uFF1A</p><table><thead><tr><th>ID</th><th>\u63CF\u8FF0</th><th>\u9ED8\u8BA4\u542F\u7528</th></tr></thead><tbody><tr><td>auditevents</td><td>\u66B4\u9732\u5F53\u524D\u5E94\u7528\u7A0B\u5E8F\u7684\u5BA1\u8BA1\u4E8B\u4EF6\u4FE1\u606F\u3002</td><td>\u662F</td></tr><tr><td>beans</td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u4E2D\u6240\u6709 Spring bean \u7684\u5B8C\u6574\u5217\u8868\u3002</td><td>\u662F</td></tr><tr><td>caches</td><td>\u66B4\u9732\u53EF\u7528\u7684\u7F13\u5B58\u3002</td><td>\u662F</td></tr><tr><td>conditions</td><td>\u663E\u793A\u5728\u914D\u7F6E\u548C\u81EA\u52A8\u914D\u7F6E\u7C7B\u4E0A\u8BC4\u4F30\u7684\u6761\u4EF6\u4EE5\u53CA\u5B83\u4EEC\u5339\u914D\u6216\u4E0D\u5339\u914D\u7684\u539F\u56E0\u3002</td><td>\u662F</td></tr><tr><td>configprops</td><td>\u663E\u793A\u6240\u6709 @ConfigurationProperties \u7684\u6821\u5BF9\u6E05\u5355\u3002</td><td>\u662F</td></tr><tr><td>env</td><td>\u66B4\u9732 Spring ConfigurableEnvironment \u4E2D\u7684\u5C5E\u6027\u3002</td><td>\u662F</td></tr><tr><td>flyway</td><td>\u663E\u793A\u5DF2\u5E94\u7528\u7684 Flyway \u6570\u636E\u5E93\u8FC1\u79FB\u3002</td><td>\u662F</td></tr><tr><td>health</td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u5065\u5EB7\u4FE1\u606F</td><td>\u662F</td></tr><tr><td>httptrace</td><td>\u663E\u793A HTTP \u8FFD\u8E2A\u4FE1\u606F\uFF08\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6700\u540E 100 \u4E2A HTTP \u8BF7\u6C42/\u54CD\u5E94\u4EA4\u6362\uFF09\u3002</td><td>\u662F</td></tr><tr><td>info</td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u4FE1\u606F\u3002</td><td>\u662F</td></tr><tr><td>integrationgraph</td><td>\u663E\u793A Spring Integration \u56FE\u3002</td><td>\u662F</td></tr><tr><td>loggers</td><td>\u663E\u793A\u548C\u4FEE\u6539\u5E94\u7528\u7A0B\u5E8F\u4E2D\u65E5\u5FD7\u8BB0\u5F55\u5668\u7684\u914D\u7F6E\u3002</td><td>\u662F</td></tr><tr><td>liquibase</td><td>\u663E\u793A\u5DF2\u5E94\u7528\u7684 Liquibase \u6570\u636E\u5E93\u8FC1\u79FB\u3002</td><td>\u662F</td></tr><tr><td>metrics</td><td>\u663E\u793A\u5F53\u524D\u5E94\u7528\u7A0B\u5E8F\u7684\u6307\u6807\u5EA6\u91CF\u4FE1\u606F\u3002</td><td>\u662F</td></tr><tr><td>mappings</td><td>\u663E\u793A\u6240\u6709 @RequestMapping \u8DEF\u5F84\u7684\u6574\u7406\u6E05\u5355\u3002</td><td>\u662F</td></tr><tr><td>scheduledtasks</td><td>\u663E\u793A\u5E94\u7528\u7A0B\u5E8F\u4E2D\u7684\u8C03\u5EA6\u4EFB\u52A1\u3002</td><td>\u662F</td></tr><tr><td>sessions</td><td>\u5141\u8BB8\u4ECE Spring Session \u652F\u6301\u7684\u4F1A\u8BDD\u5B58\u50A8\u4E2D\u68C0\u7D22\u548C\u5220\u9664\u7528\u6237\u4F1A\u8BDD\u3002\u5F53\u4F7F\u7528 Spring Session \u7684\u54CD\u5E94\u5F0F Web \u5E94\u7528\u7A0B\u5E8F\u652F\u6301\u65F6\u4E0D\u53EF\u7528\u3002</td><td>\u662F</td></tr><tr><td>shutdown</td><td>\u6B63\u5E38\u5173\u95ED\u5E94\u7528\u7A0B\u5E8F\u3002</td><td>\u5426</td></tr><tr><td>threaddump</td><td>\u6267\u884C\u7EBF\u7A0B dump\u3002</td><td>\u662F</td></tr><tr><td>heapdump</td><td>\u8FD4\u56DE\u4E00\u4E2A hprof \u5806 dump \u6587\u4EF6\u3002</td><td>\u662F</td></tr><tr><td>jolokia</td><td>\u901A\u8FC7 HTTP \u66B4\u9732 JMX bean\uFF08\u5F53 Jolokia \u5728 classpath \u4E0A\u65F6\uFF0C\u4E0D\u9002\u7528\u4E8E WebFlux\uFF09\u3002</td><td>\u662F</td></tr><tr><td>logfile</td><td>\u8FD4\u56DE\u65E5\u5FD7\u6587\u4EF6\u7684\u5185\u5BB9\uFF08\u5982\u679C\u5DF2\u8BBE\u7F6E logging.file \u6216 logging.path \u5C5E\u6027\uFF09\u3002\u652F\u6301\u4F7F\u7528 HTTP Range \u5934\u6765\u68C0\u7D22\u90E8\u5206\u65E5\u5FD7\u6587\u4EF6\u7684\u5185\u5BB9\u3002</td><td>\u662F</td></tr><tr><td>prometheus</td><td>\u4EE5\u53EF\u4EE5\u7531 Prometheus \u670D\u52A1\u5668\u6293\u53D6\u7684\u683C\u5F0F\u66B4\u9732\u6307\u6807\u3002</td><td>\u662F</td></tr></tbody></table><p>\u200B \u4E0A\u8FF0\u7AEF\u70B9\u6BCF\u4E00\u9879\u4EE3\u8868\u88AB\u76D1\u63A7\u7684\u6307\u6807\uFF0C\u5982\u679C\u5BF9\u5916\u5F00\u653E\u5219\u76D1\u63A7\u5E73\u53F0\u53EF\u4EE5\u67E5\u8BE2\u5230\u5BF9\u5E94\u7684\u7AEF\u70B9\u4FE1\u606F\uFF0C\u5982\u679C\u672A\u5F00\u653E\u5219\u65E0\u6CD5\u67E5\u8BE2\u5BF9\u5E94\u7684\u7AEF\u70B9\u4FE1\u606F\u3002\u901A\u8FC7\u914D\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u7AEF\u70B9\u662F\u5426\u5BF9\u5916\u5F00\u653E\u529F\u80FD\u3002\u4F7F\u7528enable\u5C5E\u6027\u63A7\u5236\u7AEF\u70B9\u662F\u5426\u5BF9\u5916\u5F00\u653E\u3002\u5176\u4E2Dhealth\u7AEF\u70B9\u4E3A\u9ED8\u8BA4\u7AEF\u70B9\uFF0C\u4E0D\u80FD\u5173\u95ED\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoint</span><span class="token punctuation">:</span>
    <span class="token key atrule">health</span><span class="token punctuation">:</span>						<span class="token comment"># \u7AEF\u70B9\u540D\u79F0</span>
      <span class="token key atrule">show-details</span><span class="token punctuation">:</span> always
    <span class="token key atrule">info</span><span class="token punctuation">:</span>						<span class="token comment"># \u7AEF\u70B9\u540D\u79F0</span>
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>				<span class="token comment"># \u662F\u5426\u5F00\u653E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E3A\u4E86\u65B9\u4FBF\u5F00\u53D1\u8005\u5FEB\u901F\u914D\u7F6E\u7AEF\u70B9\uFF0Cspringboot admin\u8BBE\u7F6E\u4E8613\u4E2A\u8F83\u4E3A\u5E38\u7528\u7684\u7AEF\u70B9\u4F5C\u4E3A\u9ED8\u8BA4\u5F00\u653E\u7684\u7AEF\u70B9\uFF0C\u5982\u679C\u9700\u8981\u63A7\u5236\u9ED8\u8BA4\u5F00\u653E\u7684\u7AEF\u70B9\u7684\u5F00\u653E\u72B6\u6001\uFF0C\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u8BBE\u7F6E\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>management:
  endpoints:
    enabled-by-default: true	# \u662F\u5426\u5F00\u542F\u9ED8\u8BA4\u7AEF\u70B9\uFF0C\u9ED8\u8BA4\u503Ctrue
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u4E0A\u8FF0\u7AEF\u70B9\u5F00\u542F\u540E\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7\u7AEF\u70B9\u5BF9\u5E94\u7684\u8DEF\u5F84\u67E5\u770B\u5BF9\u5E94\u7684\u4FE1\u606F\u4E86\u3002\u4F46\u662F\u6B64\u65F6\u8FD8\u4E0D\u80FD\u901A\u8FC7HTTP\u8BF7\u6C42\u67E5\u8BE2\u6B64\u4FE1\u606F\uFF0C\u8FD8\u9700\u8981\u5F00\u542F\u901A\u8FC7HTTP\u8BF7\u6C42\u67E5\u8BE2\u7684\u7AEF\u70B9\u540D\u79F0\uFF0C\u4F7F\u7528\u201C*\u201D\u53EF\u4EE5\u7B80\u5316\u914D\u7F6E\u6210\u5F00\u653E\u6240\u6709\u7AEF\u70B9\u7684WEB\u7AEFHTTP\u8BF7\u6C42\u6743\u9650\u3002</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>management:
  endpoints:
    web:
      exposure:
        include: &quot;*&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u6574\u4F53\u4E0A\u6765\u8BF4\uFF0C\u5BF9\u4E8E\u7AEF\u70B9\u7684\u914D\u7F6E\u6709\u4E24\u7EC4\u4FE1\u606F\uFF0C\u4E00\u7EC4\u662Fendpoints\u5F00\u5934\u7684\uFF0C\u5BF9\u6240\u6709\u7AEF\u70B9\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E00\u7EC4\u662Fendpoint\u5F00\u5934\u7684\uFF0C\u5BF9\u5177\u4F53\u7AEF\u70B9\u8FDB\u884C\u914D\u7F6E\u3002</p><div class="language-YAML ext-YAML line-numbers-mode"><pre class="language-YAML"><code>management:
  endpoint:		# \u5177\u4F53\u7AEF\u70B9\u7684\u914D\u7F6E
    health:
      show-details: always
    info:
      enabled: true
  endpoints:	# \u5168\u90E8\u7AEF\u70B9\u7684\u914D\u7F6E
    web:
      exposure:
        include: &quot;*&quot;
    enabled-by-default: true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u603B\u7ED3</strong></p><ol><li><p>\u88AB\u76D1\u63A7\u5BA2\u6237\u7AEF\u901A\u8FC7\u6DFB\u52A0actuator\u7684\u5750\u6807\u53EF\u4EE5\u5BF9\u5916\u63D0\u4F9B\u88AB\u8BBF\u95EE\u7684\u7AEF\u70B9\u529F\u80FD</p></li><li><p>\u7AEF\u70B9\u529F\u80FD\u7684\u5F00\u653E\u4E0E\u5173\u95ED\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u8FDB\u884C\u63A7\u5236</p></li><li><p>web\u7AEF\u9ED8\u8BA4\u65E0\u6CD5\u83B7\u53D6\u6240\u6709\u7AEF\u70B9\u4FE1\u606F\uFF0C\u901A\u8FC7\u914D\u7F6E\u5F00\u653E\u7AEF\u70B9\u529F\u80FD</p></li></ol><h3 id="_6-4-\u81EA\u5B9A\u4E49\u76D1\u63A7\u6307\u6807" tabindex="-1"><a class="header-anchor" href="#_6-4-\u81EA\u5B9A\u4E49\u76D1\u63A7\u6307\u6807" aria-hidden="true">#</a> 6-4.\u81EA\u5B9A\u4E49\u76D1\u63A7\u6307\u6807</h3><p>\u200B \u7AEF\u70B9\u63CF\u8FF0\u4E86\u88AB\u76D1\u63A7\u7684\u4FE1\u606F\uFF0C\u9664\u4E86\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u6307\u6807\uFF0C\u8FD8\u53EF\u4EE5\u81EA\u884C\u6DFB\u52A0\u663E\u793A\u7684\u6307\u6807\uFF0C\u4E0B\u9762\u5C31\u901A\u8FC73\u79CD\u4E0D\u540C\u7684\u7AEF\u70B9\u7684\u6307\u6807\u81EA\u5B9A\u4E49\u65B9\u5F0F\u6765\u5B66\u4E60\u7AEF\u70B9\u4FE1\u606F\u7684\u4E8C\u6B21\u5F00\u53D1\u3002</p><p><strong>INFO\u7AEF\u70B9</strong></p><p>\u200B info\u7AEF\u70B9\u63CF\u8FF0\u4E86\u5F53\u524D\u5E94\u7528\u7684\u57FA\u672C\u4FE1\u606F\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u5F62\u5F0F\u5FEB\u901F\u914D\u7F6Einfo\u7AEF\u70B9\u7684\u4FE1\u606F</p><ul><li><p>\u914D\u7F6E\u5F62\u5F0F</p><p>\u5728yml\u6587\u4EF6\u4E2D\u901A\u8FC7\u8BBE\u7F6Einfo\u8282\u70B9\u7684\u4FE1\u606F\u5C31\u53EF\u4EE5\u5FEB\u901F\u914D\u7F6E\u7AEF\u70B9\u4FE1\u606F</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">info</span><span class="token punctuation">:</span>
  <span class="token key atrule">appName</span><span class="token punctuation">:</span> @project.artifactId@
  <span class="token key atrule">version</span><span class="token punctuation">:</span> @project.version@
  <span class="token key atrule">company</span><span class="token punctuation">:</span> \u4F20\u667A\u6559\u80B2
  <span class="token key atrule">author</span><span class="token punctuation">:</span> itheima
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E\u5B8C\u6BD5\u540E\uFF0C\u5BF9\u5E94\u4FE1\u606F\u663E\u793A\u5728\u76D1\u63A7\u5E73\u53F0\u4E0A</p><img src="`+hn+'" alt="image-20220301174133248" style="zoom:50%;"><p>\u4E5F\u53EF\u4EE5\u901A\u8FC7\u8BF7\u6C42\u7AEF\u70B9\u4FE1\u606F\u8DEF\u5F84\u83B7\u53D6\u5BF9\u5E94json\u4FE1\u606F</p><img src="'+yn+`" alt="image-20220301174241310" style="zoom:50%;"></li><li><p>\u7F16\u7A0B\u5F62\u5F0F</p><p>\u901A\u8FC7\u914D\u7F6E\u7684\u5F62\u5F0F\u53EA\u80FD\u6DFB\u52A0\u56FA\u5B9A\u7684\u6570\u636E\uFF0C\u5982\u679C\u9700\u8981\u52A8\u6001\u6570\u636E\u8FD8\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6Ebean\u7684\u65B9\u5F0F\u4E3Ainfo\u7AEF\u70B9\u6DFB\u52A0\u4FE1\u606F\uFF0C\u6B64\u4FE1\u606F\u4E0E\u914D\u7F6E\u4FE1\u606F\u5171\u5B58</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfoConfig</span> <span class="token keyword">implements</span> <span class="token class-name">InfoContributor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contribute</span><span class="token punctuation">(</span><span class="token class-name">Info<span class="token punctuation">.</span>Builder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        builder<span class="token punctuation">.</span><span class="token function">withDetail</span><span class="token punctuation">(</span><span class="token string">&quot;runTime&quot;</span><span class="token punctuation">,</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//\u6DFB\u52A0\u5355\u4E2A\u4FE1\u606F</span>
        <span class="token class-name">Map</span> infoMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
        infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;buildTime&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2006&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder<span class="token punctuation">.</span><span class="token function">withDetails</span><span class="token punctuation">(</span>infoMap<span class="token punctuation">)</span><span class="token punctuation">;</span>									<span class="token comment">//\u6DFB\u52A0\u4E00\u7EC4\u4FE1\u606F</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>Health\u7AEF\u70B9</strong></p><p>\u200B health\u7AEF\u70B9\u63CF\u8FF0\u5F53\u524D\u5E94\u7528\u7684\u8FD0\u884C\u5065\u5EB7\u6307\u6807\uFF0C\u5373\u5E94\u7528\u7684\u8FD0\u884C\u662F\u5426\u6210\u529F\u3002\u901A\u8FC7\u7F16\u7A0B\u7684\u5F62\u5F0F\u53EF\u4EE5\u6269\u5C55\u6307\u6807\u4FE1\u606F\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HealthConfig</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractHealthIndicator</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doHealthCheck</span><span class="token punctuation">(</span><span class="token class-name">Health<span class="token punctuation">.</span>Builder</span> builder<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> condition <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            builder<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">UP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//\u8BBE\u7F6E\u8FD0\u884C\u72B6\u6001\u4E3A\u542F\u52A8\u72B6\u6001</span>
            builder<span class="token punctuation">.</span><span class="token function">withDetail</span><span class="token punctuation">(</span><span class="token string">&quot;runTime&quot;</span><span class="token punctuation">,</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Map</span> infoMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            infoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;buildTime&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2006&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            builder<span class="token punctuation">.</span><span class="token function">withDetails</span><span class="token punctuation">(</span>infoMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            builder<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token class-name">Status</span><span class="token punctuation">.</span><span class="token constant">OUT_OF_SERVICE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//\u8BBE\u7F6E\u8FD0\u884C\u72B6\u6001\u4E3A\u4E0D\u5728\u670D\u52A1\u72B6\u6001</span>
            builder<span class="token punctuation">.</span><span class="token function">withDetail</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E0A\u7EBF\u4E86\u5417\uFF1F&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\u4F60\u505A\u68A6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5F53\u4EFB\u610F\u4E00\u4E2A\u7EC4\u4EF6\u72B6\u6001\u4E0D\u4E3AUP\u65F6\uFF0C\u6574\u4F53\u5E94\u7528\u5BF9\u5916\u670D\u52A1\u72B6\u6001\u4E3A\u975EUP\u72B6\u6001\u3002</p><img src="`+qn+`" alt="image-20220301174751845" style="zoom:50%;"><p><strong>Metrics\u7AEF\u70B9</strong></p><p>\u200B metrics\u7AEF\u70B9\u63CF\u8FF0\u4E86\u6027\u80FD\u6307\u6807\uFF0C\u9664\u4E86\u7CFB\u7EDF\u81EA\u5E26\u7684\u76D1\u63A7\u6027\u80FD\u6307\u6807\uFF0C\u8FD8\u53EF\u4EE5\u81EA\u5B9A\u4E49\u6027\u80FD\u6307\u6807\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BookDao</span><span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">IBookService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Counter</span> counter<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">BookServiceImpl</span><span class="token punctuation">(</span><span class="token class-name">MeterRegistry</span> meterRegistry<span class="token punctuation">)</span><span class="token punctuation">{</span>
        counter <span class="token operator">=</span> meterRegistry<span class="token punctuation">.</span><span class="token function">counter</span><span class="token punctuation">(</span><span class="token string">&quot;\u7528\u6237\u4ED8\u8D39\u64CD\u4F5C\u6B21\u6570\uFF1A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u6BCF\u6B21\u6267\u884C\u5220\u9664\u4E1A\u52A1\u7B49\u540C\u4E8E\u6267\u884C\u4E86\u4ED8\u8D39\u4E1A\u52A1</span>
        counter<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bookDao<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u5728\u6027\u80FD\u6307\u6807\u4E2D\u5C31\u51FA\u73B0\u4E86\u81EA\u5B9A\u4E49\u7684\u6027\u80FD\u6307\u6807\u76D1\u63A7\u9879</p><img src="`+fn+`" alt="image-20220301175101812" style="zoom:50%;"><p><strong>\u81EA\u5B9A\u4E49\u7AEF\u70B9</strong></p><p>\u200B \u53EF\u4EE5\u6839\u636E\u4E1A\u52A1\u9700\u8981\u81EA\u5B9A\u4E49\u7AEF\u70B9\uFF0C\u65B9\u4FBF\u4E1A\u52A1\u76D1\u63A7</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Endpoint</span><span class="token punctuation">(</span>id<span class="token operator">=</span><span class="token string">&quot;pay&quot;</span><span class="token punctuation">,</span>enableByDefault <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PayEndpoint</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ReadOperation</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Map</span> payMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        payMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;level 1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;300&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        payMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;level 2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;291&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        payMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;level 3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;666&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> payMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B \u7531\u4E8E\u6B64\u7AEF\u70B9\u6570\u636Espirng boot admin\u65E0\u6CD5\u9884\u77E5\u8BE5\u5982\u4F55\u5C55\u793A\uFF0C\u6240\u4EE5\u901A\u8FC7\u754C\u9762\u65E0\u6CD5\u770B\u5230\u6B64\u6570\u636E\uFF0C\u901A\u8FC7HTTP\u8BF7\u6C42\u8DEF\u5F84\u53EF\u4EE5\u83B7\u53D6\u5230\u5F53\u524D\u7AEF\u70B9\u7684\u4FE1\u606F\uFF0C\u4F46\u662F\u9700\u8981\u5148\u5F00\u542F\u5F53\u524D\u7AEF\u70B9\u5BF9\u5916\u529F\u80FD\uFF0C\u6216\u8005\u8BBE\u7F6E\u5F53\u524D\u7AEF\u70B9\u4E3A\u9ED8\u8BA4\u5F00\u53D1\u7684\u7AEF\u70B9\u3002</p><img src="`+wn+'" alt="image-20220301175355482" style="zoom:50%;"><p><strong>\u603B\u7ED3</strong></p><ol><li>\u7AEF\u70B9\u7684\u6307\u6807\u53EF\u4EE5\u81EA\u5B9A\u4E49\uFF0C\u4F46\u662F\u6BCF\u79CD\u4E0D\u540C\u7684\u6307\u6807\u6839\u636E\u5176\u529F\u80FD\u4E0D\u540C\uFF0C\u81EA\u5B9A\u4E49\u65B9\u5F0F\u4E0D\u540C</li><li>info\u7AEF\u70B9\u901A\u8FC7\u914D\u7F6E\u548C\u7F16\u7A0B\u7684\u65B9\u5F0F\u90FD\u53EF\u4EE5\u6DFB\u52A0\u7AEF\u70B9\u6307\u6807</li><li>health\u7AEF\u70B9\u901A\u8FC7\u7F16\u7A0B\u7684\u65B9\u5F0F\u6DFB\u52A0\u7AEF\u70B9\u6307\u6807\uFF0C\u9700\u8981\u6CE8\u610F\u8981\u4E3A\u5BF9\u5E94\u6307\u6807\u6DFB\u52A0\u542F\u52A8\u72B6\u6001\u7684\u903B\u8F91\u8BBE\u5B9A</li><li>metrics\u6307\u6807\u901A\u8FC7\u5728\u4E1A\u52A1\u4E2D\u6DFB\u52A0\u76D1\u63A7\u64CD\u4F5C\u8BBE\u7F6E\u6307\u6807</li><li>\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7AEF\u70B9\u6DFB\u52A0\u66F4\u591A\u7684\u6307\u6807</li></ol><h2 id="\u5F00\u53D1\u5B9E\u7528\u7BC7\u5B8C\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5F00\u53D1\u5B9E\u7528\u7BC7\u5B8C\u7ED3" aria-hidden="true">#</a> \u5F00\u53D1\u5B9E\u7528\u7BC7\u5B8C\u7ED3</h2><p>\u200B \u5F00\u53D1\u5B9E\u7528\u7BC7\u5230\u8FD9\u91CC\u5C31\u6682\u65F6\u5B8C\u7ED3\u4E86\uFF0C\u5728\u5F00\u53D1\u5B9E\u7528\u7BC7\u4E2D\u6211\u4EEC\u8BB2\u89E3\u4E86\u5927\u91CF\u7684\u7B2C\u4E09\u65B9\u6280\u672F\u7684\u6574\u5408\u65B9\u6848\uFF0C\u9009\u62E9\u7684\u65B9\u6848\u90FD\u662F\u5E02\u9762\u4E0A\u6BD4\u8F83\u6D41\u884C\u7684\u5E38\u7528\u65B9\u6848\uFF0C\u8FD8\u6709\u4E00\u4E9B\u56FD\u5185\u6D41\u884C\u5EA6\u8F83\u4F4E\u7684\u65B9\u6848\u76EE\u524D\u8FD8\u6CA1\u8BB2\uFF0C\u7559\u5230\u756A\u5916\u7BC7\u4E2D\u6162\u6162\u8BB2\u5427\u3002</p><p>\u200B \u6574\u4F53\u5F00\u53D1\u5B9E\u7528\u7BC7\u4E2D\u8BB2\u89E3\u7684\u5185\u5BB9\u53EF\u4EE5\u5206\u4E3A\u4E24\u5927\u7C7B\u77E5\u8BC6\uFF1A\u5B9E\u7528\u6027\u77E5\u8BC6\u4E0E\u7ECF\u9A8C\u6027\u77E5\u8BC6\u3002</p><p>\u200B \u5B9E\u7528\u6027\u77E5\u8BC6\u5C31\u662F\u65B0\u77E5\u8BC6\u4E86\uFF0Cspringboot\u6574\u5408\u5404\u79CD\u6280\u672F\uFF0C\u6BCF\u79CD\u6280\u672F\u6574\u5408\u4E2D\u90FD\u6709\u4E00\u4E9B\u7279\u6B8A\u64CD\u4F5C\uFF0C\u6574\u4F53\u6765\u8BF4\u5176\u5B9E\u5C31\u662F\u4E09\u53E5\u8BDD\u3002\u52A0\u5750\u6807\u505A\u914D\u7F6E\u8C03\u63A5\u53E3\u3002\u7ECF\u9A8C\u6027\u77E5\u8BC6\u662F\u5BF9\u524D\u9762\u4E24\u7BC7\u4E2D\u51FA\u73B0\u7684\u4E00\u4E9B\u77E5\u8BC6\u7684\u8865\u5145\uFF0C\u5728\u5B66\u4E60\u57FA\u7840\u7BC7\u65F6\u5982\u679C\u5C06\u7CBE\u529B\u653E\u5728\u8FD9\u4E9B\u4E1C\u897F\u4E0A\u5C31\u6709\u70B9\u5B66\u504F\u4E86\uFF0C\u5BB9\u6613\u94BB\u725B\u89D2\u5C16\uFF0C\u653E\u5230\u5B9E\u7528\u5F00\u53D1\u7BC7\u4E2D\u7ED3\u5408\u5B9E\u9645\u5F00\u53D1\u8BF4\u4E00\u4E9B\u4E0D\u5E38\u89C1\u7684\u4F46\u662F\u5BF9\u7CFB\u7EDF\u529F\u80FD\u53C8\u5371\u5BB3\u7684\u64CD\u4F5C\u89E3\u51B3\u65B9\u6848\uFF0C\u63D0\u5347\u7406\u89E3\u3002</p><p>\u200B \u5F00\u53D1\u5B9E\u7528\u7BC7\u505A\u5230\u8FD9\u91CC\u5C31\u544A\u4E00\u6BB5\u843D\uFF0C\u4E0B\u9762\u5C31\u8981\u7740\u624B\u51C6\u5907\u539F\u7406\u7BC7\u4E86\u3002\u5E02\u9762\u4E0A\u5F88\u591A\u8BFE\u7A0B\u539F\u7406\u7BC7\u8BB2\u7684\u8FC7\u4E8E\u9AD8\u6DF1\u83AB\u6D4B\uFF0C\u5728\u65B0\u624B\u8FD8\u6CA1\u660E\u767D123\u7684\u65F6\u5019\u5C31\u5F00\u59CB\u8BB2\u5FAE\u79EF\u5206\u4E86\uFF0C\u7740\u5B9E\u8BA9\u4EBA\u770B\u4E86\u7740\u6025\u3002\u81F3\u4E8E\u539F\u7406\u7BC7\u6211\u8BB2\u6210\u4EC0\u4E48\u6837\u5B50\uFF1F\u4E00\u8D77\u671F\u5F85\u5427\u3002</p>',155);function ms(bs,gs){const a=l("ExternalLinkIcon");return o(),c("div",null,[Sn,n("p",null,[xn,n("a",Mn,[Cn,t(a)]),n("a",An,[Tn,t(a)])]),_n,n("p",null,[n("a",Bn,[In,t(a)])]),Dn,n("p",null,[Rn,n("a",En,[Ln,t(a)]),n("a",Pn,[On,t(a)])]),Fn,n("p",null,[Qn,n("a",Nn,[zn,t(a)]),n("a",Jn,[Hn,t(a)])]),Un,Xn,Kn,Yn,Vn,Wn,n("p",null,[Gn,n("a",Zn,[$n,t(a)]),n("a",ns,[ss,t(a)])]),as,n("p",null,[ts,n("a",es,[ps,t(a)]),n("a",os,[cs,t(a)])]),ls,n("p",null,[is,n("a",us,[rs,t(a)]),n("a",ds,[ks,t(a)])]),vs])}var ys=p(jn,[["render",ms],["__file","SpringBoot\u8BB2\u4E49.html.vue"]]);export{ys as default};
